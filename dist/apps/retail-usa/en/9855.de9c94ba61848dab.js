(self.webpackChunkretail_usa=self.webpackChunkretail_usa||[]).push([[9855],{1935:(Q,h,s)=>{"use strict";s.r(h),s.d(h,{ManageUpcomingAndHistoricalPaymentsJourneyBundleModule:()=>We});var E=s(6791),n=s(5e3),d=s(429),O=s(7605),g=(s(8511),s(9808)),N=s(9633),A=s(9287),m=s(7555),u=s(3533),I=s(5893),l=s(6331),S=s(7287),p=s(5622),M=s(1135),f=s(4707),P=s(7579),v=s(1884),tn=s(9841),R=s(4004),Tn=s(9300),fn=s(6451),On=s(3900),H=s(9646),_n=s(8746),Rn=s(4782),on=s(8505),V=s(262),an=s(2722),bn=s(5698),sn=s(655),cn=s(5556),K=s(4951),j=s(5460),b=s(5357),w=s(3842);function Dn(t,o){if(1&t&&(n.TgZ(0,"h2"),n.SDv(1,8),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.pQV(e.isRecurring),n.QtT(1)}}function Un(t,o){if(1&t&&(n.ynx(0),n.SDv(1,9),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.pQV(e.isRecurring),n.QtT(1)}}function Gn(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"div",10)(1,"button",11),n.NdJ("click",function(){return n.CHM(e),n.oxw().onCancelPaymentClick()}),n.SDv(2,12),n.qZA(),n.TgZ(3,"button",13),n.NdJ("click",function(){return n.CHM(e),n.oxw().onKeepPaymentClick()}),n.SDv(4,14),n.qZA()()}}function hn(t,o){if(1&t&&(n.ynx(0),n._uU(1),n.ALo(2,"slice"),n.ALo(3,"paymentCardNumber"),n.BQk()),2&t){const e=o.ngIf,_=n.oxw(2);n.xp6(1),n.hij(" ",n.xi3(2,1,n.xi3(3,4,e,_.accountNumberFormat),-14)," ")}}function vn(t,o){if(1&t&&(n.TgZ(0,"div",14),n.YNc(1,hn,4,7,"ng-container",10),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.originatorAccount||null==e.originatorAccount.identification?null:e.originatorAccount.identification.identification)}}function Ln(t,o){if(1&t&&n._uU(0),2&t){const e=n.oxw();n.hij(" ",null==e.originatorAccount||null==e.originatorAccount.identification?null:e.originatorAccount.identification.identification," ")}}function xn(t,o){if(1&t&&(n.ynx(0),n._uU(1),n.ALo(2,"slice"),n.ALo(3,"paymentCardNumber"),n.BQk()),2&t){const e=o.ngIf,_=n.oxw(2);n.xp6(1),n.hij(" ",n.xi3(2,1,n.xi3(3,4,e,_.accountNumberFormat),-14)," ")}}function Bn(t,o){if(1&t&&(n.TgZ(0,"div",14),n.YNc(1,xn,4,7,"ng-container",10),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.originatorAccount||null==e.originatorAccount.identification?null:e.originatorAccount.identification.identification)}}function Yn(t,o){if(1&t&&n._uU(0),2&t){const e=n.oxw();n.hij(" ",null==e.counterPartyAccount||null==e.counterPartyAccount.identification?null:e.counterPartyAccount.identification.identification," ")}}function Jn(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div",15),n.SDv(2,16),n.qZA(),n.TgZ(3,"div",17),n._uU(4),n.qZA(),n.BQk()),2&t){const e=n.oxw();n.xp6(4),n.hij(" ",null==e.payment?null:e.payment.paymentSetupId," ")}}function Hn(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div",18),n.SDv(2,19),n.qZA(),n.TgZ(3,"div",20),n._uU(4),n.ALo(5,"date"),n.qZA(),n.BQk()),2&t){const e=n.oxw();n.xp6(4),n.hij(" ",n.xi3(5,1,(null==e.payment||null==e.payment.schedule?null:e.payment.schedule.nextExecutionDate)||(null==e.payment?null:e.payment.requestedExecutionDate),"longDate")," ")}}function Kn(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div",1),n.SDv(2,23),n.qZA(),n.TgZ(3,"div",24),n._uU(4),n.ALo(5,"date"),n.qZA(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(4),n.hij(" ",n.xi3(5,1,null==e.payment||null==e.payment.schedule?null:e.payment.schedule.endDate,"longDate")," ")}}function Fn(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div",1),n.SDv(2,25),n.qZA(),n.TgZ(3,"div",26),n.SDv(4,27),n.qZA(),n.BQk()),2&t){const e=o.ngIf;n.xp6(4),n.pQV(e),n.QtT(4)}}function wn(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div",1),n.SDv(2,28),n.qZA(),n.TgZ(3,"div",29),n._uU(4),n.qZA(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(4),n.hij(" ",null==e.payment||null==e.payment.schedule?null:e.payment.schedule.repeat," ")}}function kn(t,o){if(1&t&&(n.TgZ(0,"div",1),n.SDv(1,21),n.qZA(),n.TgZ(2,"div",22),n._uU(3),n.ALo(4,"date"),n.qZA(),n.YNc(5,Kn,6,4,"ng-container",10),n.YNc(6,Fn,5,1,"ng-container",10),n.YNc(7,wn,5,1,"ng-container",10)),2&t){const e=n.oxw();n.xp6(3),n.hij(" ",n.xi3(4,4,null==e.payment||null==e.payment.schedule?null:e.payment.schedule.startDate,"longDate")," "),n.xp6(2),n.Q6J("ngIf",null==e.payment||null==e.payment.schedule?null:e.payment.schedule.endDate),n.xp6(1),n.Q6J("ngIf",null==e.payment||null==e.payment.schedule?null:e.payment.schedule.transferFrequency),n.xp6(1),n.Q6J("ngIf",null==e.payment||null==e.payment.schedule?null:e.payment.schedule.repeat)}}function Zn(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div",1),n.SDv(2,30),n.qZA(),n.TgZ(3,"div",31),n._uU(4),n.qZA(),n.BQk()),2&t){const e=n.oxw();n.xp6(4),n.hij(" ",null==e.transactionInformation||null==e.transactionInformation.remittanceInformation?null:e.transactionInformation.remittanceInformation.content," ")}}function $n(t,o){if(1&t&&(n.ynx(0),n._UZ(1,"hr",11),n.TgZ(2,"div",1),n.SDv(3,32),n.qZA(),n.TgZ(4,"div",33),n._uU(5),n.qZA(),n.BQk()),2&t){const e=n.oxw();n.xp6(5),n.hij(" ",e.paymentTypeInfo," ")}}function zn(t,o){if(1&t&&(n.TgZ(0,"div",15),n._uU(1),n.qZA()),2&t){const e=o.ngIf,_=n.oxw(2);n.xp6(1),n.hij(" ","DEBTOR"===(null==e?null:e.role)?null==_.payment||null==_.payment.originator?null:_.payment.originator.name:null==e?null:e.name," ")}}function Wn(t,o){if(1&t&&n._UZ(0,"bb-badge-ui",16),2&t){const e=n.oxw(2);n.s9C("color",null==e.statusText?null:e.statusText.color),n.s9C("text",null==e.statusText?null:e.statusText.text)}}function Qn(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div",17)(2,"span",18),n._uU(3),n.qZA(),n.TgZ(4,"span",19),n._UZ(5,"bb-icon-ui",20),n.qZA()(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(3),n.Oqu((null==e.statusText?null:e.statusText.longText)||(null==e.statusText?null:e.statusText.text)),n.xp6(1),n.Q6J("bbTooltip",e.tooltipMessage)}}function Vn(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"div",5)(1,"div",6),n._UZ(2,"bb-icon-ui",7),n.qZA(),n.YNc(3,zn,2,1,"div",8),n.TgZ(4,"div",9),n._UZ(5,"bb-amount-ui",10),n.qZA(),n.YNc(6,Wn,1,2,"bb-badge-ui",11),n.YNc(7,Qn,6,2,"ng-container",12),n.qZA(),n.TgZ(8,"button",13),n.NdJ("click",function(){return n.CHM(e),n.oxw().onClose()}),n._UZ(9,"bb-icon-ui",14),n.qZA()}if(2&t){const e=n.oxw();n.xp6(2),n.s9C("color","RECURRING"===(null==e.payment?null:e.payment.paymentMode)?"secondary":"inactive"),n.Q6J("name","RECURRING"===(null==e.payment?null:e.payment.paymentMode)?"repeat":"call-made")("size","xl"),n.xp6(1),n.Q6J("ngIf",null==e.payment||null==e.payment.transferTransactionInformation?null:e.payment.transferTransactionInformation.counterparty),n.xp6(2),n.Q6J("currency",(null==e.payment||null==e.payment.transferTransactionInformation||null==e.payment.transferTransactionInformation.instructedAmount?null:e.payment.transferTransactionInformation.instructedAmount.currencyCode)||"")("amount",(null==e.payment||null==e.payment.transferTransactionInformation||null==e.payment.transferTransactionInformation.instructedAmount?null:e.payment.transferTransactionInformation.instructedAmount.amount)||"")("mapCurrency",!(null==e.config||null==e.config.uiComponentProps||!e.config.uiComponentProps.mapCurrency)),n.xp6(1),n.Q6J("ngIf",(null==e.statusText?null:e.statusText.text)&&(null==e.statusText?null:e.statusText.color)&&(null==e.statusText?null:e.statusText.shownOnDetailsView)),n.xp6(1),n.Q6J("ngIf",(null==e.statusText?null:e.statusText.text)&&!(null!=e.statusText&&e.statusText.color))}}function jn(t,o){if(1&t&&n._UZ(0,"bb-upcoming-payments-details-list",21),2&t){const e=n.oxw();n.Q6J("payment",e.payment)("config",e.config)}}function qn(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"button",26),n.NdJ("click",function(){return n.CHM(e),n.oxw(3).onCancelPayment()}),n.SDv(1,27),n.qZA()}}function Xn(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"button",28),n.NdJ("click",function(){return n.CHM(e),n.oxw(3).onEditPayment()}),n.SDv(1,29),n.qZA()}}function ne(t,o){if(1&t&&(n.TgZ(0,"div",23),n.YNc(1,qn,2,0,"button",24),n.YNc(2,Xn,2,0,"button",25),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("ngIf",e.showCancelButton),n.xp6(1),n.Q6J("ngIf",e.showEditButton)}}function ee(t,o){if(1&t&&n.YNc(0,ne,3,2,"div",22),2&t){const e=n.oxw();n.Q6J("ngIf","ACCEPTED"===(null==e.payment?null:e.payment.status))}}function te(t,o){if(1&t&&n._UZ(0,"bb-badge-ui",18),2&t){const e=n.oxw(2);n.s9C("color",null==e.statusText?null:e.statusText.color),n.s9C("text",null==e.statusText?null:e.statusText.text)}}function _e(t,o){if(1&t&&(n.TgZ(0,"div",19)(1,"span",5),n.SDv(2,20),n.qZA(),n.TgZ(3,"span"),n._uU(4," \xa0- "),n.SDv(5,21),n.qZA()()),2&t){const e=n.oxw(2);n.xp6(5),n.pQV(e.schedule),n.QtT(5)}}function oe(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"button",24),n.NdJ("click",function(i){return n.CHM(e),n.oxw(3).onEditClick(i)})("keydown.enter",function(i){return n.CHM(e),n.oxw(3).onEditClick(i)})("keydown.space",function(i){return n.CHM(e),n.oxw(3).onEditClick(i)}),n.SDv(1,25),n.qZA()}if(2&t){const e=n.oxw(3);n.uIk("data-role","upcoming-payment-item-edit-button-"+e.paymentTypeSuffix)}}function ie(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"button",26),n.NdJ("click",function(i){return n.CHM(e),n.oxw(3).onCancelClick(i)})("keydown.enter",function(i){return n.CHM(e),n.oxw(3).onCancelClick(i)})("keydown.space",function(i){return n.CHM(e),n.oxw(3).onCancelClick(i)}),n.SDv(1,27),n.qZA()}if(2&t){const e=n.oxw(3);n.uIk("data-role","upcoming-payment-item-cancel-button-"+e.paymentTypeSuffix)}}function ae(t,o){if(1&t&&(n.ynx(0),n.YNc(1,oe,2,1,"button",22),n.YNc(2,ie,2,1,"button",23),n.BQk()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("ngIf",e.showEditButton),n.xp6(1),n.Q6J("ngIf",e.showCancelButton)}}function se(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div",28)(2,"span",29),n._uU(3),n.qZA(),n.TgZ(4,"span",30),n._UZ(5,"bb-icon-ui",31),n.qZA()(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(3),n.Oqu(null==e.statusText?null:e.statusText.text),n.xp6(1),n.Q6J("bbTooltip",e.tooltipMessage)}}function ce(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div",3)(2,"div",4)(3,"span",5),n.SDv(4,6),n.qZA(),n.TgZ(5,"div",7),n._uU(6),n.qZA(),n.YNc(7,te,1,2,"bb-badge-ui",8),n.qZA(),n.TgZ(8,"div",9)(9,"span"),n.SDv(10,10),n.qZA(),n.TgZ(11,"div",11),n._UZ(12,"bb-ellipsis-ui",12),n.qZA(),n.YNc(13,_e,6,1,"div",13),n.qZA()(),n.TgZ(14,"div",14)(15,"div",15)(16,"span",5),n.SDv(17,16),n.qZA(),n._UZ(18,"bb-amount-ui",17),n.qZA(),n.YNc(19,ae,3,2,"ng-container",2),n.YNc(20,se,6,2,"ng-container",2),n.qZA(),n.BQk()),2&t){const e=n.oxw();n.xp6(6),n.hij(" ","DEBTOR"===(null==e.transactionInformation||null==e.transactionInformation.counterparty?null:e.transactionInformation.counterparty.role)?null==e.payment||null==e.payment.originator?null:e.payment.originator.name:null==e.transactionInformation||null==e.transactionInformation.counterparty?null:e.transactionInformation.counterparty.name," "),n.xp6(1),n.Q6J("ngIf",(null==e.statusText?null:e.statusText.text)&&(null==e.statusText?null:e.statusText.color)&&(null==e.statusText?null:e.statusText.showOnListView)),n.xp6(5),n.Q6J("text","DEBTOR"===(null==e.transactionInformation||null==e.transactionInformation.counterparty?null:e.transactionInformation.counterparty.role)?null==e.transactionInformation||null==e.transactionInformation.counterparty?null:e.transactionInformation.counterparty.name:null==e.payment||null==e.payment.originator?null:e.payment.originator.name),n.xp6(1),n.Q6J("ngIf","RECURRING"===(null==e.payment?null:e.payment.paymentMode)),n.xp6(5),n.Q6J("currency",(null==e.transactionInformation||null==e.transactionInformation.instructedAmount?null:e.transactionInformation.instructedAmount.currencyCode)||"")("amount",(null==e.transactionInformation||null==e.transactionInformation.instructedAmount?null:e.transactionInformation.instructedAmount.amount)||"")("mapCurrency",!(null==e.config.uiComponentProps||!e.config.uiComponentProps.mapCurrency)),n.xp6(1),n.Q6J("ngIf","ACCEPTED"===(null==e.payment?null:e.payment.status)),n.xp6(1),n.Q6J("ngIf",!e.showCancelButton&&!e.showEditButton&&"ACCEPTED"===(null==e.payment?null:e.payment.status))}}function le(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"li",6)(1,"div",7),n.NdJ("keydown.enter",function(){const a=n.CHM(e).$implicit;return n.oxw(2).onPaymentItemClick(a)})("click",function(){const a=n.CHM(e).$implicit;return n.oxw(2).onPaymentItemClick(a)}),n.TgZ(2,"bb-upcoming-payments-item",8),n.NdJ("cancelPayment",function(){const a=n.CHM(e).$implicit;return n.oxw(2).onCancelPayment(a)}),n.qZA()()()}if(2&t){const e=o.$implicit;n.xp6(2),n.Q6J("payment",e)}}function re(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div",3)(2,"ul",4),n.YNc(3,le,3,1,"li",5),n.qZA()(),n.BQk()),2&t){const e=n.oxw();n.xp6(3),n.Q6J("ngForOf",null==e.paymentsGroup?null:e.paymentsGroup.items)("ngForTrackBy",e.trackPaymentItem)}}function me(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"div",5)(1,"bb-upcoming-payments-item-group",6),n.NdJ("paymentItemClick",function(i){return n.CHM(e),n.oxw(2).onPaymentItemClick(i)})("cancelPayment",function(i){return n.CHM(e),n.oxw(2).onCancelPayment(i)}),n.qZA()()}if(2&t){const e=o.$implicit;n.xp6(1),n.Q6J("paymentsGroup",e)}}function Ae(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"div",7)(1,"bb-load-button-ui",8),n.NdJ("paramChange",function(i){return n.CHM(e),n.oxw(2).loadMoreParamChange(i)}),n.SDv(2,9),n.qZA()()}if(2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("isLoading",e.loading)("size",e.loadMoreSize)("from",e.loadMoreFrom)("totalCount",e.totalCount)}}function ue(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div",2),n.YNc(2,me,2,1,"div",3),n.qZA(),n.YNc(3,Ae,3,4,"div",4),n.BQk()),2&t){const e=n.oxw();n.xp6(2),n.Q6J("ngForOf",e.upcomingPayments)("ngForTrackBy",e.trackPaymentsGroup),n.xp6(1),n.Q6J("ngIf",e.hasMore||e.loading)}}function Ee(t,o){1&t&&(n.TgZ(0,"div",10),n._UZ(1,"bb-empty-state-ui",11),n.qZA())}function Ie(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"bb-upcoming-payments-list",6),n.NdJ("paymentItemClick",function(i){return n.CHM(e),n.oxw(3).onPaymentItemClick(i)})("loadMoreParam",function(i){return n.CHM(e),n.oxw(3).onLoadMoreParam(i)}),n.ALo(1,"async"),n.qZA()}if(2&t){const e=n.oxw().ngIf,_=n.oxw(2);n.Q6J("upcomingPayments",null==e?null:e.items)("totalCount",(null==e?null:e.totalCount)||0)("loadMoreSize",_.pageSize||0)("loadMoreFrom",_.loadMoreFrom)("loading",!!n.lcZ(1,5,_.loading$))}}function Pe(t,o){1&t&&n._UZ(0,"bb-loading-indicator-ui",7)}function Te(t,o){if(1&t&&(n.ynx(0),n.YNc(1,Ie,2,7,"bb-upcoming-payments-list",4),n.ALo(2,"async"),n.YNc(3,Pe,1,0,"ng-template",null,5,n.W1O),n.BQk()),2&t){const e=n.MAs(4),_=n.oxw(2);n.xp6(1),n.Q6J("ngIf",!n.lcZ(2,2,_.acting$))("ngIfElse",e)}}function fe(t,o){if(1&t&&(n.ynx(0),n.YNc(1,Te,5,4,"ng-container",1),n.ALo(2,"async"),n.BQk()),2&t){const e=n.oxw(),_=n.MAs(3);n.xp6(1),n.Q6J("ngIf",n.lcZ(2,2,e.payments$))("ngIfElse",_)}}function Oe(t,o){1&t&&n._UZ(0,"bb-loading-indicator-ui",8)}function Re(t,o){1&t&&(n.TgZ(0,"div",9),n._UZ(1,"bb-empty-state-ui",10),n.qZA())}function be(t,o){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"bb-upcoming-payments-details",1),n.NdJ("close",function(){return n.CHM(e),n.oxw().onCloseDetails()})("cancelPayment",function(){const a=n.CHM(e).ngIf;return n.oxw().onCancelPayment(a)})("editPayment",function(){const a=n.CHM(e).ngIf;return n.oxw().onEditPayment(a)}),n.qZA(),n.BQk()}if(2&t){const e=o.ngIf,_=n.oxw();n.xp6(1),n.Q6J("isOpen",!!e)("payment",e)("config",_.configService)}}function De(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"bb-upcoming-payments-list",7),n.NdJ("paymentItemClick",function(i){return n.CHM(e),n.oxw(3).onPaymentItemClick(i)})("loadMoreParam",function(i){return n.CHM(e),n.oxw(3).onLoadMoreParam(i)})("cancelPayment",function(i){return n.CHM(e),n.oxw(3).onCancelPayment(i)}),n.ALo(1,"async"),n.qZA()}if(2&t){const e=n.oxw().ngIf,_=n.oxw(2);n.Q6J("upcomingPayments",null==e?null:e.items)("totalCount",(null==e?null:e.totalCount)||0)("loadMoreSize",_.pageSize||0)("loadMoreFrom",_.loadMoreFrom)("loading",!!n.lcZ(1,5,_.loading$))}}function Ue(t,o){1&t&&n._UZ(0,"bb-loading-indicator-ui",8)}function Ge(t,o){if(1&t){const e=n.EpF();n.TgZ(0,"bb-upcoming-payments-cancel-payment-confirmation",9),n.NdJ("cancelPayment",function(){const a=n.CHM(e).ngIf;return n.oxw(3).onConfirmCancelPayment(!0,a)})("keepPayment",function(){return n.CHM(e),n.oxw(3).onConfirmCancelPayment(!1)}),n.qZA()}if(2&t){const e=o.ngIf,_=n.oxw(3);n.Q6J("isOpen",!0)("isRecurring",_.isRecurringPayment(e))}}function he(t,o){if(1&t&&(n.ynx(0),n.YNc(1,De,2,7,"bb-upcoming-payments-list",4),n.ALo(2,"async"),n.YNc(3,Ue,1,0,"ng-template",null,5,n.W1O),n.YNc(5,Ge,1,2,"bb-upcoming-payments-cancel-payment-confirmation",6),n.ALo(6,"async"),n.BQk()),2&t){const e=n.MAs(4),_=n.oxw(2);n.xp6(1),n.Q6J("ngIf",!n.lcZ(2,3,_.acting$))("ngIfElse",e),n.xp6(4),n.Q6J("ngIf",n.lcZ(6,5,_.paymentItemToCancel$))}}function ve(t,o){if(1&t&&(n.ynx(0),n.YNc(1,he,7,7,"ng-container",1),n.ALo(2,"async"),n.BQk()),2&t){const e=n.oxw(),_=n.MAs(3);n.xp6(1),n.Q6J("ngIf",n.lcZ(2,2,e.payments$))("ngIfElse",_)}}function Le(t,o){1&t&&n._UZ(0,"bb-loading-indicator-ui",10)}function xe(t,o){1&t&&(n.TgZ(0,"div",11),n._UZ(1,"bb-empty-state-ui",12),n.qZA())}class k{}let q=(()=>{class t{constructor(){this.modelOptions={backdrop:"static",keyboard:!1},this.isOpen=!1,this.isRecurring=!1,this.keepPayment=new n.vpe,this.cancelPayment=new n.vpe}onKeepPaymentClick(){this.keepPayment.emit()}onCancelPaymentClick(){this.cancelPayment.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-upcoming-payments-cancel-payment-confirmation"]],inputs:{isOpen:"isOpen",isRecurring:"isRecurring"},outputs:{keepPayment:"keepPayment",cancelPayment:"cancelPayment"},decls:8,vars:2,consts:function(){let o,e,_,i,a,c;return o="{VAR_SELECT, select, true {Cancel Recurring Transfer?} other {Cancel Scheduled Transfer?}}",o=n.Zx4(o,{VAR_SELECT:"\ufffd0\ufffd"}),e=" " + o + " ",_="{VAR_SELECT, select, true {This recurring transfer will be permanently cancelled.} other {This scheduled\n        transfer will be permanently cancelled.}}",_=n.Zx4(_,{VAR_SELECT:"\ufffd0\ufffd"}),i=" " + _ + " ",a=" Cancel Transfer ",c=" Not now ",[[3,"isOpen","modalOptions"],["data-role","cancel-payment-confirmation-header"],["bbCustomModalHeader",""],["data-role","cancel-payment-confirmation-body"],["bbCustomModalBody",""],["data-role","cancel-payment-confirmation-footer"],["footerRef",""],["bbCustomModalFooter",""],e,i,[1,"bb-button-bar"],["bbButton","","color","danger","data-role","cancel-payment-confirm-btn",1,"bb-button-bar__button",3,"click"],a,["bbButton","","color","link","data-role","keep-payment-btn",1,"bb-button-bar__button",3,"click"],c]},template:function(e,_){1&e&&(n.TgZ(0,"bb-modal-ui",0)(1,"bb-modal-header-ui",1),n.YNc(2,Dn,2,1,"ng-template",2),n.qZA(),n.TgZ(3,"bb-modal-body-ui",3),n.YNc(4,Un,2,1,"ng-template",4),n.qZA(),n.TgZ(5,"bb-modal-footer-ui",5,6),n.YNc(7,Gn,5,0,"ng-template",7),n.qZA()()),2&e&&n.Q6J("isOpen",_.isOpen)("modalOptions",_.modelOptions)},directives:[d.zS,d.Rb,d.KF,d.YI,d.cA,d.Qd,d.yk,O.Hq],encapsulation:2,changeDetection:0}),t})();const B="P2P_TRANSFER",Y="EXTERNAL_A2A",T={pending:"PP01",inProcess:"PP02",authenticationFailed:"PP11",failed:"PP12",returned:"PP13",expired:"PP14"},ln="details-modal",rn="This payment can\u2019t be cancelled because it has already been accepted by the recipient.",mn="This payment can\u2019t be edited nor cancelled because its being processed.";let An=(()=>{class t{constructor(){this.accountNumberFormat={length:36,maskRange:[0,-4],segments:4}}get transactionInformation(){var e;return null===(e=this.payment)||void 0===e?void 0:e.transferTransactionInformation}get originatorAccount(){var e,_,i,a,c;return"DEBTOR"===(null===(_=null===(e=this.transactionInformation)||void 0===e?void 0:e.counterparty)||void 0===_?void 0:_.role)?null===(a=null===(i=this.payment)||void 0===i?void 0:i.transferTransactionInformation)||void 0===a?void 0:a.counterpartyAccount:null===(c=this.payment)||void 0===c?void 0:c.originatorAccount}get counterPartyAccount(){var e,_,i,a,c;return"DEBTOR"===(null===(_=null===(e=this.transactionInformation)||void 0===e?void 0:e.counterparty)||void 0===_?void 0:_.role)?null===(i=this.payment)||void 0===i?void 0:i.originatorAccount:null===(c=null===(a=this.payment)||void 0===a?void 0:a.transferTransactionInformation)||void 0===c?void 0:c.counterpartyAccount}get paymentTypeInfo(){var e,_,i;return(null===(_=null===(e=this.config)||void 0===e?void 0:e.paymentTypeInfoTexts)||void 0===_?void 0:_[(null===(i=this.payment)||void 0===i?void 0:i.paymentType)||""])||""}get isAccountNumber(){var e,_,i,a;const c=null===(a=null===(i=null===(_=null===(e=this.payment)||void 0===e?void 0:e.transferTransactionInformation)||void 0===_?void 0:_.counterpartyAccount)||void 0===i?void 0:i.identification)||void 0===a?void 0:a.schemeName;return["IBAN","BBAN"].includes(c||"")}get isP2PTransfer(){var e;return(null===(e=this.payment)||void 0===e?void 0:e.paymentType)===B}get isA2ATransfer(){var e;return(null===(e=this.payment)||void 0===e?void 0:e.paymentType)===Y}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-upcoming-payments-details-list"]],inputs:{payment:"payment",config:"config"},decls:24,vars:11,consts:function(){let o,e,_,i,a,c,r,y,J,W,F,U;return o=" From Account ",e=" To Account ",_=" Confirmation Number ",i=" Transfer Date ",a=" Start Date ",c=" End Date ",r=" Frequency ",y="{VAR_SELECT, select, ONCE {Once} DAILY {Daily} WEEKLY {Weekly} BIWEEKLY {Bi-Weekly} MONTHLY {Monthly} QUARTERLY {Quarterly} YEARLY {Annually}}",y=n.Zx4(y,{VAR_SELECT:"\ufffd0\ufffd"}),J=" " + y + " ",W=" Number of Occurrences ",F=" Description ",U=" Payment Type ",[[1,"break-word","bb-block","bb-block--lg"],[1,"bb-text-bold","bb-block","bb-block--xs"],o,["data-role","paying-from-account",1,"bb-block","bb-block--md"],["class","contextual-alternates-off",4,"ngIf","ngIfElse"],["unmaskedAccount",""],e,["data-role","counter-party-name"],["data-role","counter-party-account",1,"bb-block","bb-block--md"],["unmaskedCounterpartyTemp",""],[4,"ngIf"],[1,"bb-block","bb-block--lg"],[4,"ngIf","ngIfElse"],["recurringTemp",""],[1,"contextual-alternates-off"],["data-role","payment-details-confirmation-number-title",1,"bb-text-bold","bb-block","bb-block--xs"],_,["data-role","payment-details-confirmation-number"],["data-role","upcoming-payments-details-page.execution-date-label",1,"bb-text-bold","bb-block","bb-block--xs"],i,["data-role","execution-date",1,"bb-block","bb-block--md"],a,["data-role","start-date",1,"bb-block","bb-block--md"],c,["data-role","end-date",1,"bb-block","bb-block--md"],r,["data-role","recurring-frequency",1,"bb-block","bb-block--md"],J,W,[1,"bb-block","bb-block--md"],F,["data-role","description",1,"bb-block","bb-block--md","break-word"],U,[1,"bb-block","bb-block--md","break-word"]]},template:function(e,_){if(1&e&&(n.TgZ(0,"div",0)(1,"div",1),n.SDv(2,2),n.qZA(),n.TgZ(3,"div"),n._uU(4),n.qZA(),n.TgZ(5,"div",3),n.YNc(6,vn,2,1,"div",4),n.YNc(7,Ln,1,1,"ng-template",null,5,n.W1O),n.qZA(),n.TgZ(9,"div",1),n.SDv(10,6),n.qZA(),n.TgZ(11,"div",7),n._uU(12),n.qZA(),n.TgZ(13,"div",8),n.YNc(14,Bn,2,1,"div",4),n.YNc(15,Yn,1,1,"ng-template",null,9,n.W1O),n.qZA(),n.YNc(17,Jn,5,1,"ng-container",10),n.qZA(),n._UZ(18,"hr",11),n.YNc(19,Hn,6,4,"ng-container",12),n.YNc(20,kn,8,7,"ng-template",null,13,n.W1O),n.YNc(22,Zn,5,1,"ng-container",10),n.YNc(23,$n,6,1,"ng-container",10)),2&e){const i=n.MAs(8),a=n.MAs(16),c=n.MAs(21);n.xp6(4),n.hij(" ","DEBTOR"===(null==_.transactionInformation||null==_.transactionInformation.counterparty?null:_.transactionInformation.counterparty.role)?null==_.transactionInformation||null==_.transactionInformation.counterparty?null:_.transactionInformation.counterparty.name:null==_.payment||null==_.payment.originator?null:_.payment.originator.name," "),n.xp6(2),n.Q6J("ngIf",null==_.config?null:_.config.maskAccounts)("ngIfElse",i),n.xp6(6),n.hij(" ","DEBTOR"===(null==_.transactionInformation||null==_.transactionInformation.counterparty?null:_.transactionInformation.counterparty.role)?null==_.payment||null==_.payment.originator?null:_.payment.originator.name:null==_.transactionInformation||null==_.transactionInformation.counterparty?null:_.transactionInformation.counterparty.name," "),n.xp6(2),n.Q6J("ngIf",(null==_.config?null:_.config.maskAccounts)&&_.isAccountNumber)("ngIfElse",a),n.xp6(3),n.Q6J("ngIf",(null==_.payment?null:_.payment.paymentSetupId)&&(_.isP2PTransfer||_.isA2ATransfer)),n.xp6(2),n.Q6J("ngIf","RECURRING"!==(null==_.payment?null:_.payment.paymentMode))("ngIfElse",c),n.xp6(3),n.Q6J("ngIf",null==_.transactionInformation?null:_.transactionInformation.remittanceInformation),n.xp6(1),n.Q6J("ngIf",_.paymentTypeInfo)}},directives:[g.O5],pipes:[g.OU,N.V9,g.uU],encapsulation:2,changeDetection:0}),t})();const X=(t=new Date)=>{const o=new Date(t),e=String(o.getMonth()+1),_=String(o.getDate());return`${String(o.getFullYear())}-${e.padStart(2,"0")}-${_.padStart(2,"0")}`},un=(t,o)=>{const e=new Date;return t&&e.setDate(e.getDate()+t),o?e.toISOString():X(e)},Be=(t,o)=>t.sort((e,_)=>{var i,a;const c=(null===(i=e.schedule)||void 0===i?void 0:i.nextExecutionDate)||e.requestedExecutionDate,r=(null===(a=_.schedule)||void 0===a?void 0:a.nextExecutionDate)||_.requestedExecutionDate,y=new Date(c||"").getTime()-new Date(r||"").getTime();return"ASC"===o?y:-y}),Ye=t=>t.reduce((o,e)=>o.some(i=>i.id===e.id)?o:o.concat(e),[]),En=t=>!((null==t?void 0:t.paymentType)===B||(null==t?void 0:t.paymentType)===Y&&t.reasonCode===T.inProcess),pn=t=>!((null==t?void 0:t.paymentType)===B&&t.reasonCode===T.inProcess||(null==t?void 0:t.paymentType)===Y&&t.reasonCode===T.inProcess);let nn=(()=>{class t{constructor(){this.p2pReasonCodes=T,this.p2pPaymentType=B,this.isOpen=!1,this.cancelPayment=new n.vpe,this.close=new n.vpe,this.editPayment=new n.vpe}get statusText(){var e;return null===(e=this.config)||void 0===e?void 0:e.paymentStatusTextMapping(this.payment)}onCancelPayment(){this.cancelPayment.emit()}onClose(){this.isOpen=!1,this.close.emit()}onEditPayment(){this.editPayment.emit(this.payment)}get showEditButton(){return En(this.payment)}get showCancelButton(){return pn(this.payment)}get tooltipMessage(){var e;return(null===(e=this.payment)||void 0===e?void 0:e.paymentType)===Y?mn:rn}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-upcoming-payments-details"]],inputs:{isOpen:"isOpen",payment:"payment",config:"config"},outputs:{cancelPayment:"cancelPayment",close:"close",editPayment:"editPayment"},decls:8,vars:1,consts:function(){let o,e,_;return o="Close payment detail dialog",e=" Cancel Transfer ",_=" Edit ",[[3,"isOpen","cancel","confirm"],["bbCustomModalHeader",""],["bbCustomModalBody",""],["footerRef",""],["bbCustomModalFooter",""],[1,"bb-upcoming-payments-details-header__wrapper","bb-block--lg"],[1,"bb-block--sm"],["backgroundType","square",3,"name","size","color"],["data-role","upj-details-modal-header-counter-party","class","bb-text-bold bb-block--sm",4,"ngIf"],[1,"bb-heading-3","bb-block--sm"],[3,"currency","amount","mapCurrency"],["data-role","payment-item-details-status-text",3,"color","text",4,"ngIf"],[4,"ngIf"],["type","button","aria-label",o,"data-role","close-popup-btn",1,"bb-upcoming-payments-details__modal-header-button-close",3,"click"],["name","clear",1,"bb-stack"],["data-role","upj-details-modal-header-counter-party",1,"bb-text-bold","bb-block--sm"],["data-role","payment-item-details-status-text",3,"color","text"],[1,"bb-inline-stack"],[1,"text-muted","bb-stack__item","bb-stack__item--spacing-sm"],["placement","bottom","triggers","hover",3,"bbTooltip"],["name","info","size","sm",1,"text-muted","bb-stack"],[3,"payment","config"],["class","bb-button-bar",4,"ngIf"],[1,"bb-button-bar"],["bbButton","","class","bb-button-bar__button","color","danger","data-role","cancel-payment-btn",3,"click",4,"ngIf"],["bbButton","","class","bb-button-bar__button","type","button",3,"click",4,"ngIf"],["bbButton","","color","danger","data-role","cancel-payment-btn",1,"bb-button-bar__button",3,"click"],e,["bbButton","","type","button",1,"bb-button-bar__button",3,"click"],_]},template:function(e,_){1&e&&(n.TgZ(0,"bb-modal-ui",0),n.NdJ("cancel",function(){return _.onClose()})("confirm",function(){return _.onClose()}),n.TgZ(1,"bb-modal-header-ui"),n.YNc(2,Vn,10,9,"ng-template",1),n.qZA(),n.TgZ(3,"bb-modal-body-ui"),n.YNc(4,jn,1,2,"ng-template",2),n.qZA(),n.TgZ(5,"bb-modal-footer-ui",null,3),n.YNc(7,ee,1,1,"ng-template",4),n.qZA()()),2&e&&n.Q6J("isOpen",_.isOpen)},directives:[d.zS,d.Rb,A.o,m.G4,u.F,d.KF,An,d.YI,d.cA,g.O5,I.i,d.Qd,d.yk,O.Hq],encapsulation:2,changeDetection:0}),t})();const Z=t=>t.reduce((o,e)=>{var _;const i=(null===(_=e.schedule)||void 0===_?void 0:_.nextExecutionDate)||e.requestedExecutionDate||"",a=o.findIndex(c=>c.executionDate===i);return a<=-1?o.push({executionDate:i,items:[e]}):o[a].items.push(e),o},[]),He=new n.OlP("ManageUpcomingAndHistoricalPaymentsJourneyConfigurationToken injection token"),gn={notificationDismissTime:3e3,maskAccounts:!1,upcomingPaymentParams:{orderBy:"requestedExecutionDate",direction:"ASC",status:["ACCEPTED"],executionDateFrom:X(),nextExecutionDateFrom:X(),from:0,size:50},historyPaymentParams:{orderBy:"requestedExecutionDate",direction:"DESC",status:["CANCELLED","REJECTED","PROCESSED"],paymentTypes:"INTRABANK_TRANSFER,INTERNAL_TRANSFER,EXTERNAL_A2A,P2P_TRANSFER",from:0,size:50},paymentTypeInfoTexts:{INTERNAL_TRANSFER:"Internal account transfer",EXTERNAL_A2A:"Connected account transfer",INTRABANK_TRANSFER:"Pay someone using account number",P2P_TRANSFER:"Pay someone using mobile number or email address"},journeyTitle:"Activity",uiComponentProps:{mapCurrency:!0},paymentStatusTextMapping:t=>{var o,e;const _={text:"Failed",color:"danger",showOnListView:!0,shownOnDetailsView:!0},i={[B]:{[T.pending]:{text:"Pending",color:"warning",showOnListView:!0,shownOnDetailsView:!0},[T.inProcess]:{text:"Accepted",longText:"Accepted by recipient",color:""},[T.expired]:{text:"Expired",color:"warning",showOnListView:!0,shownOnDetailsView:!0},[T.authenticationFailed]:_,[T.failed]:_,[T.returned]:_},[Y]:{[T.pending]:{text:"Pending",color:"warning",showOnListView:!0,shownOnDetailsView:!0},[T.inProcess]:{text:"In process",color:""},[T.failed]:_}};switch(null==t?void 0:t.status){case E.qb.ACCEPTED:return(null==t?void 0:t.paymentType)&&(null==t?void 0:t.reasonCode)?null===(o=i[t.paymentType])||void 0===o?void 0:o[t.reasonCode]:void 0;case E.qb.REJECTED:return(null==t?void 0:t.paymentType)&&(null==t?void 0:t.reasonCode)?(null===(e=i[t.paymentType])||void 0===e?void 0:e[t.reasonCode])||_:void 0;case E.qb.CANCELLED:return{text:"Cancelled",color:"secondary",showOnListView:!0,shownOnDetailsView:!0};case E.qb.PROCESSED:return{text:"Sent",color:"success",showOnListView:!0,shownOnDetailsView:!0};default:return}}};let G=(()=>{class t{constructor(e){this.config=e,this._config=Object.assign(Object.assign({},gn),this.config||{})}get defaults(){return gn}get notificationDismissTime(){return this._config.notificationDismissTime}get maskAccounts(){return this._config.maskAccounts}get historyPaymentParams(){return this._config.historyPaymentParams}get upcomingPaymentParams(){return this._config.upcomingPaymentParams}get paymentTypeInfoTexts(){return this._config.paymentTypeInfoTexts}get journeyTitle(){return this._config.journeyTitle}get uiComponentProps(){return this._config.uiComponentProps}get paymentStatusTextMapping(){return this._config.paymentStatusTextMapping}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(He,8))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),dn=(()=>{class t{constructor(e,_){this.communicatonService=e,this.config=_,this.p2pReasonCodes=T,this.p2pPaymentType=B,this.cancelPayment=new n.vpe}get transactionInformation(){var e;return null===(e=this.payment)||void 0===e?void 0:e.transferTransactionInformation}get schedule(){var e,_;return null===(_=null===(e=this.payment)||void 0===e?void 0:e.schedule)||void 0===_?void 0:_.transferFrequency}get isRecurring(){var e;return"RECURRING"===(null===(e=this.payment)||void 0===e?void 0:e.paymentMode)}get statusText(){var e;return null===(e=this.config)||void 0===e?void 0:e.paymentStatusTextMapping(this.payment)}get showEditButton(){return En(this.payment)}get showCancelButton(){return pn(this.payment)}get tooltipMessage(){var e;return(null===(e=this.payment)||void 0===e?void 0:e.paymentType)===Y?mn:rn}get paymentTypeSuffix(){var e,_,i;const a=(null===(e=this.payment)||void 0===e?void 0:e.paymentType)||"";return"DEBTOR"===(null===(i=null===(_=this.transactionInformation)||void 0===_?void 0:_.counterparty)||void 0===i?void 0:i.role)?`${a}-pull-funds`:a}onCancelClick(e){e.stopPropagation(),this.cancelPayment.emit()}onEditClick(e){var _;this.payment&&(e.stopPropagation(),null===(_=this.communicatonService)||void 0===_||_.navigateToEditPayment(this.payment))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(k,8),n.Y36(G))},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-upcoming-payments-item"]],inputs:{payment:"payment"},outputs:{cancelPayment:"cancelPayment"},decls:3,vars:3,consts:function(){let o,e,_,i,a,c,r;return o=" Counter party name: ",e="From\xA0",_=" Amount: ",i=" Payment Mode: ",a="{VAR_SELECT, select, ONCE {Once} DAILY {Daily} WEEKLY {Weekly} BIWEEKLY {Bi-Weekly} MONTHLY {Monthly} QUARTERLY {Quarterly} YEARLY {Annually}}",a=n.Zx4(a,{VAR_SELECT:"\ufffd0\ufffd"}),c=" Edit ",r=" Cancel ",[["data-role","upcoming-payment-item",1,"bb-stack"],["backgroundType","square","size","lg",1,"bb-stack__item","bb-stack__item--spacing-md",3,"name","color"],[4,"ngIf"],[1,"bb-stack__item","bb-stack__item--fill","bb-ellipsis","bb-ellipsis--single-line"],[1,"bb-stack","bb-block","bb-block--xs"],[1,"sr-only"],o,["data-role","upcoming-payment-item-counterparty-name",1,"bb-text-bold","bb-stack__item","bb-stack__item--spacing-md","bb-ellipsis","bb-ellipsis--single-line"],["class","bb-stack__item","data-role","payment-item-status-text",3,"color","text",4,"ngIf"],[1,"bb-inline-stack","text-muted","bb-subtitle"],e,[1,"bb-inline-stack__item","bb-inline-stack__item--spacing-none","bb-block","bb-block--full-width"],["data-role","upcoming-payment-item-originator-name",3,"text"],["class","bb-inline-stack__item",4,"ngIf"],[1,"bb-stack__item","bb-text-align-right"],[1,"bb-block","bb-block--xs","bb-text-align-right","bb-text-bold"],_,["data-role","upcoming-payment-item-amount",3,"currency","amount","mapCurrency"],["data-role","payment-item-status-text",1,"bb-stack__item",3,"color","text"],[1,"bb-inline-stack__item"],i,a,["bbButton","","color","link-text","buttonSize","sm","class","bb-stack__item bb-stack__item--spacing-lg",3,"click","keydown.enter","keydown.space",4,"ngIf"],["bbButton","","color","link-text","buttonSize","sm","class","bb-stack__item bb-text-warning bb-text-danger",3,"click","keydown.enter","keydown.space",4,"ngIf"],["bbButton","","color","link-text","buttonSize","sm",1,"bb-stack__item","bb-stack__item--spacing-lg",3,"click","keydown.enter","keydown.space"],c,["bbButton","","color","link-text","buttonSize","sm",1,"bb-stack__item","bb-text-warning","bb-text-danger",3,"click","keydown.enter","keydown.space"],r,[1,"bb-inline-stack"],["data-role","upcoming-payment-item-tooltip",1,"text-muted","bb-subtitle","bb-stack__item","bb-stack__item--spacing-xs"],["placement","bottom","triggers","hover",3,"bbTooltip"],["name","info","size","sm",1,"text-muted","bb-stack"]]},template:function(e,_){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"bb-icon-ui",1),n.YNc(2,ce,21,9,"ng-container",2),n.qZA()),2&e&&(n.xp6(1),n.s9C("name",_.isRecurring?"repeat":"call-made"),n.s9C("color",_.isRecurring?"secondary":"inactive"),n.xp6(1),n.Q6J("ngIf",_.transactionInformation))},directives:[A.o,u.F,l.SN,m.G4,g.O5,O.Hq,I.i],encapsulation:2,changeDetection:0}),t})(),Sn=(()=>{class t{constructor(){this.paymentItemClick=new n.vpe,this.cancelPayment=new n.vpe}onPaymentItemClick(e){this.paymentItemClick.emit(e)}trackPaymentItem(e,_){return null==_?void 0:_.requestedExecutionDate}formatExecutionDate(){var e;let _=null===(e=this.paymentsGroup)||void 0===e?void 0:e.executionDate;return _===un()?_="today":_===un(1)&&(_="tomorrow"),_}onCancelPayment(e){this.cancelPayment.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-upcoming-payments-item-group"]],inputs:{paymentsGroup:"paymentsGroup"},outputs:{paymentItemClick:"paymentItemClick",cancelPayment:"cancelPayment"},decls:4,vars:6,consts:function(){let o,e;return o="{VAR_SELECT, select, today {Today} tomorrow {Tomorrow} other {{INTERPOLATION}}}",o=n.Zx4(o,{VAR_SELECT:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),e=" " + o + "\n",[["data-role","group-item-label",1,"bb-stack","bb-subheader","bb-text-support","bb-block","bb-block--xl"],e,[4,"ngIf"],[1,"bb-block","bb-block--sm"],[1,"bb-list"],["class","bb-list__item bb-list__item--no-separator",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bb-list__item","bb-list__item--no-separator"],["data-role","group-item-row","role","button","tabindex","0",3,"keydown.enter","click"],[3,"payment","cancelPayment"]]},template:function(e,_){1&e&&(n.TgZ(0,"div",0),n.SDv(1,1),n.ALo(2,"date"),n.qZA(),n.YNc(3,re,4,2,"ng-container",2)),2&e&&(n.xp6(2),n.pQV(_.formatExecutionDate())(n.xi3(2,3,null==_.paymentsGroup?null:_.paymentsGroup.executionDate,"longDate")),n.QtT(1),n.xp6(1),n.Q6J("ngIf",null==_.paymentsGroup||null==_.paymentsGroup.items?null:_.paymentsGroup.items.length))},directives:[dn,g.O5,g.sg],pipes:[g.uU],encapsulation:2,changeDetection:0}),t})(),$=(()=>{class t{constructor(){this.upcomingPayments=[],this.totalCount=0,this.loading=!1,this.loadMoreFrom=0,this.loadMoreSize=0,this.paymentItemClick=new n.vpe,this.loadMoreParam=new n.vpe,this.cancelPayment=new n.vpe}loadMoreParamChange(e){this.loadMoreFrom=e.from,this.loadMoreParam.emit(e)}onPaymentItemClick(e){this.paymentItemClick.emit(e)}trackPaymentsGroup(e,_){return _?_.executionDate:void 0}onCancelPayment(e){this.cancelPayment.emit(e)}get hasMore(){return this.loadMoreFrom*this.loadMoreSize+this.loadMoreSize<this.totalCount}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-upcoming-payments-list"]],inputs:{upcomingPayments:"upcomingPayments",totalCount:"totalCount",loading:"loading",loadMoreFrom:"loadMoreFrom",loadMoreSize:"loadMoreSize"},outputs:{paymentItemClick:"paymentItemClick",loadMoreParam:"loadMoreParam",cancelPayment:"cancelPayment"},decls:3,vars:2,consts:function(){let o,e,_;return o=" Load more ",e="No Payments",_="You do not have any payments to be displayed.",[[4,"ngIf","ngIfElse"],["emptyState",""],[1,"bb-list","bb-block","bb-block--xl"],["class","bb-list__item",4,"ngFor","ngForOf","ngForTrackBy"],["class","bb-text-align-center",4,"ngIf"],[1,"bb-list__item"],["data-role","upcoming-payment-group-item",3,"paymentsGroup","paymentItemClick","cancelPayment"],[1,"bb-text-align-center"],["color","link","data-role","load-more-btn",3,"isLoading","size","from","totalCount","paramChange"],o,[1,"bb-state-container"],["title",e,"subtitle",_,"iconSize","xl","iconModifier","loans"]]},template:function(e,_){if(1&e&&(n.YNc(0,ue,4,3,"ng-container",0),n.YNc(1,Ee,2,0,"ng-template",null,1,n.W1O)),2&e){const i=n.MAs(2);n.Q6J("ngIf",null==_.upcomingPayments?null:_.upcomingPayments.length)("ngIfElse",i)}},directives:[Sn,S.K,p.s,g.O5,g.sg],encapsulation:2,changeDetection:0}),t})();var L=(()=>{return(t=L||(L={})).LoadPayments="LoadPayments",t.LoadMore="LoadMore",t.ReturnCachedData="ReturnCachedPayments",L;var t})();let D=(()=>{class t{constructor(e){this.paymentOrdersService=e,this.loadMore$=new M.X(void 0),this.loadPayments$=new f.t(1),this.returnCachedData$=new P.x,this.loadingSub$=new f.t(1),this.actingSub$=new f.t(1),this.totalCounts={withExecutionDate:0,withNextExecutionDate:0},this.loading$=this.loadingSub$.pipe((0,v.x)()),this.acting$=this.actingSub$.pipe((0,v.x)()),this.paymentActions$=(0,tn.a)([this.loadPayments$.pipe((0,R.U)(_=>Object.assign({type:L.LoadPayments},_))),this.loadMore$.pipe((0,R.U)(_=>({type:L.LoadMore,from:_})))]).pipe((0,R.U)(([_,i])=>Object.assign(Object.assign({},_),i.from?i:null)),(0,Tn.h)(_=>void 0!==_.type)),this.paymentState$=(0,fn.T)(this.paymentActions$,this.returnCachedData$.pipe((0,R.U)(()=>({type:L.ReturnCachedData})))).pipe((0,On.w)(_=>{var{type:i}=_,a=(0,sn._T)(_,["type"]);if(i===L.ReturnCachedData)return(0,H.of)(this.payments);const c=i===L.LoadMore;return this.loadingSub$.next(!0),this.combinePaymentCalls(a).pipe((0,R.U)(r=>this.handlePaymentSuccess(Object.assign(Object.assign({},r),{isLoadMore:c}))),(0,_n.x)(()=>this.loadingSub$.next(!1)))}),(0,Rn.d)())}get payments$(){return this.paymentState$}loadPayments(e){this.loadPayments$.next(e)}loadMore(e){this.loadMore$.next(e)}cancelPayment(e,_){return this.actingSub$.next(!0),this.paymentOrdersService.postCancelByPaymentOrderId({paymentOrderId:e,paymentOrderCancelPostRequest:{version:_}},"response").pipe((0,_n.x)(()=>this.actingSub$.next(!1)),(0,on.b)(()=>{this.handleCancelPaymentSuccess(e)}))}handleCancelPaymentSuccess(e){if(this.payments){const _=this.payments.items.filter(i=>i.id!==e);this.payments={items:_,totalCount:this.payments.totalCount},this.returnCachedData$.next()}}handlePaymentSuccess(e){var _;const i=[];if(e.isLoadMore){const a=(null===(_=this.payments)||void 0===_?void 0:_.items)||[];i.push(...a)}return this.payments={items:[...i,...e.items],totalCount:e.totalCount||e.items.length},this.payments}fetchPayments(e){return this.paymentOrdersService.getPaymentOrders(e,"response").pipe((0,R.U)(_=>{const i=_.headers.get("x-total-count");return{totalCount:Number(i),items:_.body||[]}}))}combinePaymentCalls(e){return e.nextExecutionDateFrom&&e.executionDateFrom?this.handleMultipleCalls(e):this.fetchPayments(e)}handleMultipleCalls(e){const{nextExecutionDateFrom:_,executionDateFrom:i,size:a}=e,c=(0,sn._T)(e,["nextExecutionDateFrom","executionDateFrom","size"]),r=(a||0)/2;let y=this.fetchPayments(Object.assign(Object.assign({},c),{nextExecutionDateFrom:_,size:r})),J=this.fetchPayments(Object.assign(Object.assign({},c),{executionDateFrom:i,size:r}));const F=(U,C)=>(U=>((null==e?void 0:e.from)||0)*r<U)(C)?U:(0,H.of)({items:[],totalCount:C});return e.from&&e.from>0&&(y=F(y,this.totalCounts.withNextExecutionDate),J=F(J,this.totalCounts.withExecutionDate)),(0,tn.a)([J,y]).pipe((0,R.U)(([U,C])=>{const Qe=[...U.items,...C.items];return this.totalCounts={withExecutionDate:U.totalCount,withNextExecutionDate:C.totalCount},{totalCount:2*Math.max(U.totalCount,C.totalCount),items:Ye(Be(Qe,e.direction||"DESC"))}}))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(E.k4))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),Nn=(()=>{class t{constructor(e){this.configService=e}get title(){return "" + this.configService.journeyTitle + ""}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(G))},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-manage-upcoming-and-historical-payments-journey"]],decls:4,vars:1,consts:[["headingType","h2","headingClasses","bb-heading-1 bb-block bb-block--xl",3,"heading"],["name","details-modal"]],template:function(e,_){1&e&&(n.ynx(0),n._UZ(1,"bb-header-ui",0)(2,"router-outlet")(3,"router-outlet",1),n.BQk()),2&e&&(n.xp6(1),n.Q6J("heading",_.title))},directives:[j.G,b.lC],encapsulation:2}),t})(),yn=(()=>{class t{constructor(e,_){this.router=e,this.route=_}navigateToHistory(e){this.router.navigate(["history"],Object.assign({relativeTo:this.route},e||{}))}navigateToUpcoming(e){this.router.navigate(["upcoming"],Object.assign({relativeTo:this.route},e||{}))}mapRouteToTabIndex(){const e=this.router.url.split("/");return"history"===e[e.length-1]?1:0}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(b.F0),n.LFG(b.gz))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),z=(()=>{class t{constructor(e){this.router=e,this.selectedPaymentItemDetails$=new M.X(void 0),this.paymentItemToCancel$=new P.x,this.defaultNavigationExtras={skipLocationChange:!0}}get selectedPaymentItem$(){return this.selectedPaymentItemDetails$.asObservable()}get cancelPaymentItem$(){return this.paymentItemToCancel$.asObservable()}set setCancelPaymentItem(e){this.paymentItemToCancel$.next(e)}togglePaymentDetailsModal(e,_={}){this.selectedPaymentItemDetails$.next(e),this.router.navigate([{outlets:{[ln]:e?["payment-details"]:null}}],Object.assign(Object.assign({},this.defaultNavigationExtras),_))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(b.F0))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),Mn=(()=>{class t{constructor(e,_,i,a,c){this.dataService=e,this.journeyDataService=_,this.configService=i,this.viewService=a,this.route=c,this.acting$=this.journeyDataService.acting$,this.loading$=this.journeyDataService.loading$,this.loadMoreFrom=0,this.pageSize=this.configService.historyPaymentParams.size,this.payments$=this.dataService.payments$.pipe((0,R.U)(r=>r&&{items:Z(r.items),totalCount:r.totalCount}),(0,V.K)(r=>(this.error=r,(0,H.of)(void 0))))}ngOnInit(){this.dataService.loadPayments(this.configService.historyPaymentParams)}onPaymentItemClick(e){this.viewService.togglePaymentDetailsModal(e,{relativeTo:this.route.parent})}onLoadMoreParam(e){this.dataService.loadMore(e.from),this.loadMoreFrom=this.loadMoreFrom+1}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(D),n.Y36(D),n.Y36(G),n.Y36(z),n.Y36(b.gz))},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-history-payments-list-view"]],features:[n._Bn([D])],decls:6,vars:2,consts:function(){let o,e,_;return o="updating data...",e="Page couldn't load",_="Try to reload the page or contact the system administrator.",[[1,"card","card-body"],[4,"ngIf","ngIfElse"],["loadingPayments",""],["errorState",""],[3,"upcomingPayments","totalCount","loadMoreSize","loadMoreFrom","loading","paymentItemClick","loadMoreParam",4,"ngIf","ngIfElse"],["acting",""],[3,"upcomingPayments","totalCount","loadMoreSize","loadMoreFrom","loading","paymentItemClick","loadMoreParam"],["text",o],["text","Loading data...","text-i18n","@@bb-upcoming-and-history-payments-journey.payment-list-container.loading-placeholder"],[1,"bb-state-container"],["title",e,"subtitle",_,"iconSize","xxl","iconModifier","error"]]},template:function(e,_){if(1&e&&(n.TgZ(0,"div",0),n.YNc(1,fe,3,4,"ng-container",1),n.YNc(2,Oe,1,0,"ng-template",null,2,n.W1O),n.YNc(4,Re,2,0,"ng-template",null,3,n.W1O),n.qZA()),2&e){const i=n.MAs(5);n.xp6(1),n.Q6J("ngIf",!_.error)("ngIfElse",i)}},directives:[$,K.Q,p.s,g.O5],pipes:[g.Ov],encapsulation:2,changeDetection:0}),t})(),Cn=(()=>{class t{constructor(e,_,i,a){this.route=e,this.viewService=_,this.configService=i,this.communicatonService=a,this.selectedPaymentItem$=this.viewService.selectedPaymentItem$.pipe((0,bn.q)(1),(0,on.b)(c=>{c||this.onCloseDetails()}))}onCloseDetails(){var e;this.viewService.togglePaymentDetailsModal(void 0,{relativeTo:null===(e=this.route.parent)||void 0===e?void 0:e.parent})}onEditPayment(e){var _;null===(_=this.communicatonService)||void 0===_||_.navigateToEditPayment(e)}onCancelPayment(e){this.viewService.setCancelPaymentItem=e}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(b.gz),n.Y36(z),n.Y36(G),n.Y36(k,8))},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-payment-details-modal-view"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"isOpen","payment","config","close","cancelPayment","editPayment"]],template:function(e,_){1&e&&(n.YNc(0,be,2,3,"ng-container",0),n.ALo(1,"async")),2&e&&n.Q6J("ngIf",n.lcZ(1,1,_.selectedPaymentItem$))},directives:[nn,g.O5],pipes:[g.Ov],encapsulation:2,changeDetection:0}),t})();const we={path:"",component:Nn,children:[{path:"",component:(()=>{class t{constructor(e,_){this.navigationService=e,this.route=_,this.initialTabSelection=0}ngOnInit(){this.initialTabSelection=this.navigationService.mapRouteToTabIndex()}onTabSelect(e){0===e?this.navigationService.navigateToUpcoming({relativeTo:this.route}):this.navigationService.navigateToHistory({relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(yn),n.Y36(b.gz))},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-upcoming-and-history-payments-tab-container-view"]],decls:6,vars:1,consts:function(){let o,e;return o="Scheduled",e="History",[[1,"bb-upcoming-payments-tab-container",3,"initialSelection","select"],o,e]},template:function(e,_){1&e&&(n.TgZ(0,"bb-tab-group-ui",0),n.NdJ("select",function(a){return _.onTabSelect(a)}),n.TgZ(1,"bb-tab-ui"),n.SDv(2,1),n.qZA(),n.TgZ(3,"bb-tab-ui"),n.SDv(4,2),n.qZA()(),n._UZ(5,"router-outlet")),2&e&&n.Q6J("initialSelection",_.initialTabSelection)},directives:[w.QW,w.id,b.lC],encapsulation:2}),t})(),children:[{path:"",pathMatch:"full",redirectTo:"upcoming"},{path:"upcoming",component:(()=>{class t{constructor(e,_,i,a,c){this.dataService=e,this.config=_,this.viewService=i,this.route=a,this.notificationService=c,this.acting$=this.dataService.acting$,this.loading$=this.dataService.loading$,this.paymentItemToCancel$=this.viewService.cancelPaymentItem$,this.loadMoreFrom=0,this.pageSize=this.config.upcomingPaymentParams.size,this.payments$=this.dataService.payments$.pipe((0,R.U)(r=>r&&{items:Z(r.items),totalCount:r.totalCount}),(0,V.K)(r=>(this.error=r,(0,H.of)(void 0)))),this.destroy$=new P.x}ngOnInit(){this.dataService.loadPayments(this.config.upcomingPaymentParams)}ngOnDestroy(){this.destroy$.next(void 0),this.destroy$.complete()}onPaymentItemClick(e){this.viewService.togglePaymentDetailsModal(e,{relativeTo:this.route.parent})}onLoadMoreParam(e){this.dataService.loadMore(e.from),this.loadMoreFrom=this.loadMoreFrom+1}onCancelPayment(e){this.viewService.setCancelPaymentItem=e}isRecurringPayment(e){return"RECURRING"===(null==e?void 0:e.paymentMode)}onConfirmCancelPayment(e,_){var i,a,c;if(this.viewService.setCancelPaymentItem=void 0,e&&(this.viewService.togglePaymentDetailsModal(void 0,{relativeTo:null===(i=this.route.parent)||void 0===i?void 0:i.parent}),_)){const r=null===(c=null===(a=_.transferTransactionInformation)||void 0===a?void 0:a.counterparty)||void 0===c?void 0:c.name,y=this.isRecurringPayment(_);this.dataService.cancelPayment(_.id,_.version).pipe((0,an.R)(this.destroy$)).subscribe(()=>{this.showNotification(!0,{header:"Payment cancelled",message:y?"Recurring payment to \"" + r + "\" has been cancelled successfully.":"Upcoming payment to \"" + r + "\" has been cancelled successfully."})},()=>{this.showNotification(!1,{header:"Failed to Cancel Transfer!",message:"Failed to cancel The payment to \"" + r + "\"."})})}}showNotification(e,_){this.notificationService.showNotification(Object.assign({dismissible:!0,ttl:this.config.notificationDismissTime,modifier:e?"success":"error"},_))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(D),n.Y36(G),n.Y36(z),n.Y36(b.gz),n.Y36(cn.gq))},t.\u0275cmp=n.Xpm({type:t,selectors:[["bb-upcoming-payments-list-view"]],features:[n._Bn([D])],decls:6,vars:2,consts:function(){let o,e,_;return o="updating data...",e="Page couldn't load",_="Try to reload the page or contact the system administrator.",[[1,"card","card-body"],[4,"ngIf","ngIfElse"],["loadingPayments",""],["errorState",""],[3,"upcomingPayments","totalCount","loadMoreSize","loadMoreFrom","loading","paymentItemClick","loadMoreParam","cancelPayment",4,"ngIf","ngIfElse"],["acting",""],[3,"isOpen","isRecurring","cancelPayment","keepPayment",4,"ngIf"],[3,"upcomingPayments","totalCount","loadMoreSize","loadMoreFrom","loading","paymentItemClick","loadMoreParam","cancelPayment"],["text",o],[3,"isOpen","isRecurring","cancelPayment","keepPayment"],["text","Loading data...","text-i18n","@@bb-upcoming-and-history-payments-journey.payment-list-container.loading-placeholder"],[1,"bb-state-container"],["title",e,"subtitle",_,"iconSize","xxl","iconModifier","error"]]},template:function(e,_){if(1&e&&(n.TgZ(0,"div",0),n.YNc(1,ve,3,4,"ng-container",1),n.YNc(2,Le,1,0,"ng-template",null,2,n.W1O),n.YNc(4,xe,2,0,"ng-template",null,3,n.W1O),n.qZA()),2&e){const i=n.MAs(5);n.xp6(1),n.Q6J("ngIf",!_.error)("ngIfElse",i)}},directives:[$,K.Q,q,p.s,g.O5],pipes:[g.Ov],encapsulation:2,changeDetection:0}),t})()},{path:"history",component:Mn}]},{path:"payment-details",component:Cn,outlet:ln}]},ke=[w.IQ,A.Q,m.i7,S.C,p.P,K.p,d.zk,O.hJ,j.O,N.nj,I.z,l.OG,u.T];let Ze=(()=>{class t{static forRoot(e={route:we}){return{ngModule:t,providers:[(0,b.co)([e.route])]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[G,yn,E.k4,z],imports:[[g.ez,b.Bz,...ke],w.IQ,A.Q,m.i7,S.C,p.P,K.p,d.zk,O.hJ,j.O,N.nj,I.z,l.OG,u.T]}),t})();var $e=s(6393),ze=s(570);let We=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[{provide:k,useExisting:$e.m},{provide:E.bL,useExisting:ze.dW}],imports:[[Ze.forRoot()]]}),t})()},8511:()=>{},4747:(Q,h,s)=>{"use strict";s.d(h,{Le:()=>x,cY:()=>N,kU:()=>g});var E=s(5e3),n=s(682);const d={segments:4},O=new E.OlP("ACCOUNTS_DISPLAYING_FORMAT_TOKEN");let x=(()=>{class A{constructor(u){this.accountsDisplayingFormat=u}getDefaultFormat(u,I){var l,S;return"cardNumber"===u?this.getCardNumberFormat(I):null!==(S=null===(l=this.accountsDisplayingFormat)||void 0===l?void 0:l[u])&&void 0!==S?S:d}getCardNumberFormat(u){var I;const l=null===(I=this.accountsDisplayingFormat)||void 0===I?void 0:I.cardNumber,S=Object.entries((null==l?void 0:l.cardProviders)||{}).reduce((p,M)=>Object.assign(Object.assign({},p),{[M[0].toLowerCase()]:M[1]}),{});return u&&S[u.toLowerCase()]?S[u.toLowerCase()]:null!=l?l:d}}return A.\u0275fac=function(u){return new(u||A)(E.LFG(O,8))},A.\u0275prov=E.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),g=(()=>{class A{constructor(u){this.accountsDisplayingFormatService=u}transform(u,I,l){const S=u.toString(),p="object"==typeof I?I:this.accountsDisplayingFormatService.getDefaultFormat(I,l);return(0,n.EX)(S,p.segments)}}return A.\u0275fac=function(u){return new(u||A)(E.Y36(x,16))},A.\u0275pipe=E.Yjl({name:"bbAccountNumber",type:A,pure:!0}),A})(),N=(()=>{class A{}return A.\u0275fac=function(u){return new(u||A)},A.\u0275mod=E.oAB({type:A}),A.\u0275inj=E.cJS({}),A})()},3823:(Q,h,s)=>{"use strict";s.d(h,{Z:()=>x,_:()=>g});var E=s(5e3),n=s(9808);let x=(()=>{class N{constructor(m,u){this.renderer=m,this.elementRef=u,this.negativeClass="bb-amount--negative",this.positiveClass="bb-amount--positive",this.amountValue=0,this.highlightValue=!0}set amount(m){this.amountValue="number"==typeof m?m:parseFloat(m)}set bbHighlight(m){this.highlightValue=""===m||m}get isPositive(){return this.amountValue>=0}ngOnChanges(m){m.negativeClass&&this.renderer.removeClass(this.elementRef.nativeElement,m.negativeClass.previousValue),m.positiveClass&&this.renderer.removeClass(this.elementRef.nativeElement,m.positiveClass.previousValue),(m.amount||m.highlight||m.bbHighlight)&&(this.renderer.removeClass(this.elementRef.nativeElement,this.negativeClass),this.renderer.removeClass(this.elementRef.nativeElement,this.positiveClass)),this.highlightValue&&this.renderer.addClass(this.elementRef.nativeElement,this.isPositive?this.positiveClass:this.negativeClass)}}return N.\u0275fac=function(m){return new(m||N)(E.Y36(E.Qsj),E.Y36(E.SBq))},N.\u0275dir=E.lG2({type:N,selectors:[["","bbHighlight",""]],inputs:{amount:"amount",bbHighlight:"bbHighlight",negativeClass:"negativeClass",positiveClass:"positiveClass"},features:[E.TTD]}),N})(),g=(()=>{class N{}return N.\u0275fac=function(m){return new(m||N)},N.\u0275mod=E.oAB({type:N}),N.\u0275inj=E.cJS({imports:[[n.ez]]}),N})()},9633:(Q,h,s)=>{"use strict";s.d(h,{So:()=>x,V9:()=>u,nj:()=>I});var E=s(9808),n=s(5e3),d=s(682),O=s(4747);const x={length:16,maskRange:[0,12],segments:4},N=new n.OlP("Enables accounts masking synchronization with backend",{providedIn:"root",factory:()=>!1});let u=(()=>{class l{constructor(p,M){this.accountsDisplayingFormatService=p,this.synchronizeNumberMasking=M,this.defaultFormat=this.accountsDisplayingFormatService.getDefaultFormat("cardNumber")}transform(p,M,f="\u2022"){const P=null!=M?M:this.defaultFormat;let v=p.toString();return M&&!this.synchronizeNumberMasking&&(v=function A(l,S,p="0",M=!0){const f=Math.max(S-l.length,0),P=p.repeat(f);return M?P+l:l+P}(v,M.length,f),v=function m(l,[S,p],M="*"){let f="";if(p<0){const P=l.slice(p);f=M.repeat(l.length-P.length)+P}else{const P=M.repeat(p-S);f=l.substring(0,S)+P+l.substring(p)}return f}(v,M.maskRange,f)),(0,d.EX)(v,P.segments)}}return l.\u0275fac=function(p){return new(p||l)(n.Y36(O.Le,16),n.Y36(N,24))},l.\u0275pipe=n.Yjl({name:"paymentCardNumber",type:l,pure:!0}),l})(),I=(()=>{class l{}return l.\u0275fac=function(p){return new(p||l)},l.\u0275mod=n.oAB({type:l}),l.\u0275inj=n.cJS({imports:[[E.ez]]}),l})()}}]);