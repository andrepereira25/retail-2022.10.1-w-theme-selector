"use strict";(self.webpackChunkretail_usa=self.webpackChunkretail_usa||[]).push([[8787],{1803:(V,y,c)=>{c.r(y),c.d(y,{ContactManagerJourneyBundleModule:()=>mo});var E=c(7120),e=c(5e3),p=(()=>{return(n=p||(p={}))[n.Load=0]="Load",n[n.Refresh=1]="Refresh",n[n.LoadMore=2]="LoadMore",n[n.ChangePage=3]="ChangePage",n[n.Search=4]="Search",n[n.Sort=5]="Sort",p;var n})(),T=(()=>{return(n=T||(T={})).LOAD_MORE="load-more",n.PAGINATION="pagination",T;var n})();let h=Object.assign({},{AD:{bban:"08N12C",example:"AD1200012030200359100100",len:24,name:"Andorra"},AE:{bban:"03N16N",example:"AE260211000000230064016",len:23,name:"United Arab Emirates"},AL:{bban:"08N16C",example:"AL47212110090000000235698741",len:28,name:"Albania"},AO:{bban:"21N",example:"AO06000600000100037131174",len:25,name:"Angola"},AT:{bban:"16N",example:"AT611904300234573201",len:20,name:"Austria"},AZ:{bban:"04C20N",example:"AZ21NABZ00000000137010001944",len:28,name:"Azerbaijan"},BA:{bban:"16N",example:"BA391290079401028494",len:20,name:"Bosnia and Herzegovina"},BE:{bban:"12N",example:"BE68539007547034",len:16,name:"Belgium"},BF:{bban:"23N",example:"BF1030134020015400945000643",len:27,name:"Burkina Faso"},BG:{bban:"04A06N08C",example:"BG80BNBG96611020345678",len:22,name:"Bulgaria"},BH:{bban:"04A14C",example:"BH29BMAG1299123456BH00",len:22,name:"Bahrain"},BI:{bban:"12N",example:"BI43201011067444",len:16,name:"Burundi"},BJ:{bban:"01A23N",example:"BJ11B00610100400271101192591",len:28,name:"Benin"},BL:{bban:"10N11C02N",example:"BL6820041010050500013M02606",len:27,name:"Saint Barthelemy"},BR:{bban:"23N01A01C",example:"BR9700360305000010009795493P1",len:29,name:"Brazil"},BY:{bban:"04C20N",example:"BY86AKBB10100000002966000000",len:28,name:"Belarus"},CF:{bban:"23C",example:"CF4220001000010120069700160",len:27,name:"Central African Republic"},CG:{bban:"23C",example:"CG5230011000202151234567890",len:27,name:"Congo"},CH:{bban:"05N12C",example:"CH9300762011623852957",len:21,name:"Switzerland"},CI:{bban:"01A23N",example:"CI05A00060174100178530011852",len:28,name:"Ivory Coast"},CM:{bban:"23N",example:"CM2110003001000500000605306",len:27,name:"Cameroon"},CR:{bban:"17N",example:"CR0515202001026284066",len:21,name:"Costa Rica"},CV:{bban:"21N",example:"CV64000300004547069110176",len:25,name:"Cape Verde"},CY:{bban:"08N16C",example:"CY17002001280000001200527600",len:28,name:"Cyprus"},CZ:{bban:"20N",example:"CZ6508000000192000145399",len:24,name:"Czech Republic"},DE:{bban:"18N",example:"DE89370400440532013000",len:22,name:"Germany"},DJ:{bban:"23C",example:"DJ2110002010010409943020008",len:27,name:"Djibouti"},DK:{bban:"14N",example:"DK5000400440116243",len:18,name:"Denmark"},DO:{bban:"04A20N",example:"DO28BAGR00000001212453611324",len:28,name:"Dominican Republic"},DZ:{bban:"20N",example:"DZ4000400174401001050486",len:24,name:"Algeria"},EE:{bban:"16N",example:"EE382200221020145685",len:20,name:"Estonia"},EG:{bban:"25C",example:"EG380019000500000000263180002",len:29,name:"Egypt"},ES:{bban:"20N",example:"ES9121000418450200051332",len:24,name:"Spain"},FI:{bban:"14N",example:"FI2112345600000785",len:18,name:"Finland"},FO:{bban:"14N",example:"FO1464600009692713",len:18,name:"Faroe Islands"},FR:{bban:"10N11C02N",example:"FR7630007000110009970004942",len:27,name:"France"},GA:{bban:"23C",example:"GA2140002000055602673300064",len:27,name:"Gabon"},GB:{bban:"04A14N",example:"GB29NWBK60161331926819",len:22,name:"United Kingdom"},GE:{bban:"02C16N",example:"GE29NB0000000101904917",len:22,name:"Georgia"},GF:{bban:"10N11C02N",example:"GF4120041010050500013M02606",len:27,name:"French Guiana"},GI:{bban:"04A15C",example:"GI75NWBK000000007099453",len:23,name:"Gibraltar"},GL:{bban:"14N",example:"GL8964710001000206",len:18,name:"Greenland"},GP:{bban:"10N11C02N",example:"GP1120041010050500013M02606",len:27,name:"Guadeloupe"},GQ:{bban:"23C",example:"GQ7050002001003715228190196",len:27,name:"Equatorial Guinea"},GR:{bban:"07N16C",example:"GR1601101250000000012300695",len:27,name:"Greece"},GT:{bban:"04C20C",example:"GT82TRAJ01020000001210029690",len:28,name:"Guatemala"},GW:{bban:"21C",example:"GW04GW1430010181800637601",len:25,name:"Guinea-Bissau"},HN:{bban:"24C",example:"HN54PISA00000000000000123124",len:28,name:"Honduras"},HR:{bban:"17N",example:"HR1210010051863000160",len:21,name:"Croatia"},HU:{bban:"24N",example:"HU42117730161111101800000000",len:28,name:"Hungary"},IE:{bban:"04C14N",example:"IE29AIBK93115212345678",len:22,name:"Ireland"},IL:{bban:"19N",example:"IL620108000000099999999",len:23,name:"Israel"},IQ:{bban:"19C",example:"IQ20CBIQ861800101010500",len:23,name:"Iraq"},IR:{bban:"22N",example:"IR580540105180021273113007",len:26,name:"Iran"},IS:{bban:"22N",example:"IS140159260076545510730339",len:26,name:"Iceland"},IT:{bban:"01A10N12C",example:"IT60X0542811101000000123456",len:27,name:"Italy"},JO:{bban:"04A22N",example:"JO94CBJO0010000000000131000302",len:30,name:"Jordan"},KM:{bban:"23C",example:"KM4600005000010010904400137",len:27,name:"Comoros"},KW:{bban:"04A22C",example:"KW74NBOK0000000000001000372151",len:30,name:"Kuwait"},KZ:{bban:"03N13C",example:"KZ176010251000042993",len:20,name:"Kazakhstan"},LB:{bban:"04N20C",example:"LB30099900000001001925579115",len:28,name:"Lebanon"},LC:{bban:"28C",example:"LC14BOSL123456789012345678901234",len:32,name:"Saint Lucia"},LI:{bban:"05N12C",example:"LI21088100002324013AA",len:21,name:"Liechtenstein"},LT:{bban:"16N",example:"LT121000011101001000",len:20,name:"Lithuania"},LU:{bban:"03N13C",example:"LU280019400644750000",len:20,name:"Luxembourg"},LV:{bban:"04A13C",example:"LV80BANK0000435195001",len:21,name:"Latvia"},MA:{bban:"24C",example:"MA64011519000001205000534921",len:28,name:"Morocco"},MC:{bban:"10N11C02N",example:"MC5813488000010051108001292",len:27,name:"Monaco"},MD:{bban:"02C18C",example:"MD24AG000225100013104168",len:24,name:"Moldova"},ME:{bban:"18N",example:"ME25505000012345678951",len:22,name:"Montenegro"},MG:{bban:"23N",example:"MG4600005030010101914016056",len:27,name:"Madagascar"},MK:{bban:"03N10C02N",example:"MK07300000000042425",len:19,name:"Macedonia"},ML:{bban:"01A23N",example:"ML03D00890170001002120000447",len:28,name:"Mali"},MQ:{bban:"10N11C02N",example:"MQ5120041010050500013M02606",len:27,name:"Martinique"},MR:{bban:"23N",example:"MR1300012000010000002037372",len:27,name:"Mauritania"},MT:{bban:"04A05N18C",example:"MT84MALT011000012345MTLCAST001S",len:31,name:"Malta"},MU:{bban:"04A19N03A",example:"MU17BOMM0101101030300200000MUR",len:30,name:"Mauritius"},MZ:{bban:"21N",example:"MZ59000100000011834194157",len:25,name:"Mozambique"},NC:{bban:"10N11C02N",example:"NC8420041010050500013M02606",len:27,name:"New Caledonia"},NE:{bban:"24C",example:"NE58NE0380100100130305000268",len:28,name:"Niger"},NI:{bban:"28C",example:"NI92BAMC000000000000000003123123",len:32,name:"Nicaragua"},NL:{bban:"04A10N",example:"NL91ABNA0417164300",len:18,name:"Netherlands"},NO:{bban:"11N",example:"NO9386011117947",len:15,name:"Norway"},PF:{bban:"10N11C02N",example:"PF5720041010050500013M02606",len:27,name:"French Polynesia"},PK:{bban:"04C16N",example:"PK24SCBL0000001171495101",len:24,name:"Pakistan"},PL:{bban:"24N",example:"PL27114020040000300201355387",len:28,name:"Poland"},PM:{bban:"10N11C02N",example:"PM3620041010050500013M02606",len:27,name:"Saint Pierre et Miquelon"},PS:{bban:"04C21N",example:"PS92PALS000000000400123456702",len:29,name:"Palestine"},PT:{bban:"21N",example:"PT50000200000163099310355",len:25,name:"Portugal"},QA:{bban:"04A21C",example:"QA58DOHB00001234567890ABCDEFG",len:29,name:"Qatar"},RE:{bban:"10N11C02N",example:"RE4220041010050500013M02606",len:27,name:"Reunion"},RO:{bban:"04A16C",example:"RO49AAAA1B31007593840000",len:24,name:"Romania"},RS:{bban:"18N",example:"RS35260005601001611379",len:22,name:"Serbia"},SA:{bban:"02N18C",example:"SA0380000000608010167519",len:24,name:"Saudi Arabia"},SC:{bban:"27C",example:"SC52BAHL01031234567890123456USD",len:31,name:"Seychelles"},SE:{bban:"20N",example:"SE3550000000054910000003",len:24,name:"Sweden"},SI:{bban:"15N",example:"SI56191000000123438",len:19,name:"Slovenia"},SK:{bban:"20N",example:"SK3112000000198742637541",len:24,name:"Slovakia"},SM:{bban:"01A10N12C",example:"SM86U0322509800000000270100",len:27,name:"San Marino"},SN:{bban:"01A23N",example:"SN12K00100152000025690007542",len:28,name:"Senegal"},ST:{bban:"21C",example:"ST23000200000289355710148",len:25,name:"Sao Tome and Principe"},SV:{bban:"24C",example:"SV43ACAT00000000000000123123",len:28,name:"El Salvador"},TD:{bban:"23C",example:"TD8960002000010271091600153",len:27,name:"Chad"},TF:{bban:"10N11C02N",example:"TF2120041010050500013M02606",len:27,name:"French Southern Territories"},TG:{bban:"24C",example:"TG53TG0090604310346500400070",len:28,name:"Togo"},TL:{bban:"19N",example:"TL380080012345678910157",len:23,name:"East Timor"},TN:{bban:"20N",example:"TN5914207207100707129648",len:24,name:"Tunisia"},TR:{bban:"05N17C",example:"TR330006100519786457841326",len:26,name:"Turkey"},UA:{bban:"06N19C",example:"UA573543470006762462054925026",len:29,name:"Ukraine"},VA:{bban:"03C15N",example:"VA59001123000012345678",len:22,name:"Vatican City State"},VG:{bban:"04C16N",example:"VG96VPVG0000012345678901",len:24,name:"Virgin Islands, British"},WF:{bban:"10N11C02N",example:"WF9120041010050500013M02606",len:27,name:"Wallis and Futuna Islands"},XK:{bban:"04N10N02N",example:"XK051212012345678906",len:20,name:"Kosovo"},YT:{bban:"10N11C02N",example:"YT3120041010050500013M02606",len:27,name:"Mayotte"}});const I=new e.OlP("BB_CONTACT_IBAN_COUNTRIES_LIST"),A=new e.OlP("BB_CONTACT_FORM_ADDITIONS_TOKEN"),u=[{provide:A,useValue:{additions:void 0}},{provide:I,useValue:{}}];var l=(()=>{return(n=l||(l={})).IBAN="IBAN",n.EMAIL="email",n.PHONE="phoneNumber",n.ACCOUNT="accountNumber",l;var n})(),d=(()=>{return(n=d||(d={})).List="LIST",n.Detail="DETAIL",n.Edit="EDIT",n.Select="SELECT",d;var n})();function Q(n){return n&&(Object.entries(null==n?void 0:n.accounts[0]).find(([_,t])=>Object.values(l).includes(_)&&t)||[])[0]||l.IBAN}var L=c(5357),Ze=c(655),Z=c(7579),ee=c(1135),ke=c(4707),He=c(6451),$=c(9841),B=c(9646),b=c(4004),We=c(9718),Ee=c(2940),ue=c(3900),te=c(4782),Ce=c(1884),ne=c(262);let me=(()=>{class n{canDeactivate(t){return!t.canDeactivate||t.canDeactivate()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const de=new e.OlP("ContactManagerJourneyConfig injection token"),Qe={newContact:!0,pageSize:5,maxNavPages:3,paginationType:T.PAGINATION,notificationDismissTime:5e3,createContactEmail:!1,createContactIBAN:!0,createContactAccount:!1,createContactPhone:!1};let q=(()=>{class n{constructor(t){const o=t||{};this.configuration=Object.assign(Object.assign({},Qe),o)}get newContact(){return this.configuration.newContact}get pageSize(){return this.configuration.pageSize}get maxNavPages(){return this.configuration.maxNavPages}get paginationType(){return this.configuration.paginationType}get notificationDismissTime(){return this.configuration.notificationDismissTime}get createContactEmail(){return this.configuration.createContactEmail}get createContactIBAN(){return this.configuration.createContactIBAN}get createContactAccount(){return this.configuration.createContactAccount}get createContactPhone(){return this.configuration.createContactPhone}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(de,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),k=(()=>{class n{constructor(t,o){this.routerService=t,this.route=o,this._currentView=d.List}get currentView(){return this._currentView}set currentView(t){this._currentView=t}list(t,o,a="merge"){const i={};return(t||0===t)&&(i.page=t),(o||""===o)&&(i.query=o),this.routerService.navigate(["./"],{queryParams:Object.assign({},i),queryParamsHandling:a,relativeTo:this.route})}select(t){return this.currentView=d.Detail,this.routerService.navigate(["./",t],{queryParamsHandling:"merge",relativeTo:this.route})}edit(t,o=l.IBAN){return this.currentView=d.Edit,this.routerService.navigate(["./edit",t,o],{queryParamsHandling:"merge",relativeTo:this.route})}newContact(){return this.currentView=d.Select,this.routerService.navigate(["./select"],{queryParamsHandling:"merge",relativeTo:this.route})}newContactForm(t){return this.currentView=d.Edit,this.routerService.navigate(["./edit",0,t],{queryParamsHandling:"merge",relativeTo:this.route})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(L.F0),e.LFG(L.gz))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const $e={pagination:{from:0,size:4,query:""},paginationType:T.PAGINATION};let j=(()=>{class n{constructor(t){this.dataService=t,this.saveComplete=new Z.x,this.listParams=new ee.X($e),this.selectedItemId=new ke.t(1),this.lastSelectedItemId=new ee.X(void 0),this.actions$=(0,He.T)(this.listParams.pipe((0,b.U)(({pagination:o,paginationType:a,method:i})=>({action:p.Load,params:o,paginationType:a,method:i}))),this.saveComplete.pipe((0,We.h)({action:p.Refresh}))),this.items=this.actions$.pipe((0,Ee.R)((o,a)=>Object.assign(Object.assign({},o),a)),(0,b.U)(({action:o,params:a,paginationType:i,method:s})=>{const r=o===p.Refresh&&i===T.LOAD_MORE;return{action:o,paginationType:i,params:Object.assign(Object.assign({},a),r?{from:0,size:(a.from+1)*a.size}:{}),method:s}}),(0,ue.w)(o=>{var{params:a,method:i}=o,s=(0,Ze._T)(o,["params","method"]);return this.dataService.getContacts(this.toHttpParams(a),"response").pipe((0,b.U)(ze),(0,b.U)(r=>Object.assign(Object.assign(Object.assign(Object.assign({},r),{params:a}),s),{method:i})))}),(0,Ee.R)((o,a)=>{const{count:i,action:s,paginationType:r,method:C}=a;let R;return R=a.params.from>0&&o.params.query===a.params.query&&s!==p.Refresh&&r===T.LOAD_MORE&&"search"!==C?[...o.contacts,...a.contacts]:[...a.contacts],{count:i,contacts:R,params:a.params}}),(0,te.d)()),this.currentlySelectedItemId=(0,$.a)([this.selectedItemId,this.lastSelectedItemId,this.items]).pipe((0,b.U)(([o,a,i])=>{var s,r,C;return null!==(C=null!==(s=null!=o?o:a)&&void 0!==s?s:null===(r=i.contacts[0])||void 0===r?void 0:r.id)&&void 0!==C?C:null})),this.item=(0,$.a)([this.currentlySelectedItemId.pipe((0,Ce.x)()),this.items]).pipe((0,ue.w)(([o,a])=>{var i;if("0"===o)return(0,B.of)(void 0);let s=this.getContactsItem(null!==(i=null!=o?o:this.lastSelectedItemId.value)&&void 0!==i?i:void 0,a);const r=this.getContactsItem(this.firstContact(a.contacts),a);return!s&&this.lastSelectedItemId.value?this.dataService.getContact({contactId:this.lastSelectedItemId.value}).pipe((0,ne.K)(()=>(0,B.of)(r))):(s&&this.lastSelectedItemId.next(s.id),(0,B.of)(s||r))}),(0,te.d)()),this.deleteSuccess=new Z.x,this.deleteError=new Z.x}getItemFrom(t){t.subscribe(o=>this.selectedItemId.next(o))}firstContact(t){return t&&t.length>0?t[0].id:void 0}getContactsItem(t,o){if(!(o&&o.contacts&&o.contacts.length))return;let a;return"0"!==t?(a=o.contacts.find(i=>i.id===t),a):void 0}toHttpParams(t){return{from:Math.floor(t.from),size:Math.floor(t.size),query:t.query||void 0}}updateItemList(t,o,a,i,s){this.listParams.next({pagination:{query:t||"",from:o||0,size:a||5},paginationType:i||T.PAGINATION,method:s})}getAccountType(){return this.item.pipe((0,b.U)(t=>t?Q(t):l.IBAN))}save(t){return function qe(n){return void 0===n.id||""===n.id}(t)?this.dataService.postContacts({contactsPostRequestBody:t},"response").pipe((0,b.U)(a=>this.saveSuccess(a))):this.dataService.putContact({contactId:t.id,contactPutRequestBody:t},"response").pipe((0,b.U)(o=>this.editSuccess(o,t.id)))}saveSuccess(t){if(t.body&&t.body.id)return this.saveComplete.next(),t.body.id}editSuccess(t,o){if(t.body)return this.saveComplete.next(),o}delete(t){return this.dataService.deleteContact({contactId:t}).subscribe(()=>{this.deleteSuccess.next(),this.saveComplete.next()},o=>this.deleteError.next(o))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.Eq))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function ze(n){if(null===n.body)throw new Error("Response body not set");const t=n.headers.get("X-Total-Count");return{count:t?+t:null,contacts:n.body}}const Ve=[me,j,k,q];var m=c(9808),H=c(5460),f=c(3075),je=c(727),Xe=c(9300),et=c(8675),ge=c(8505),tt=c(8372),nt=c(5577),oe=c(1365),Se=c(5698),pe=c(5413),Ne=c(7656),z=c(9287),_e=c(6116),P=c(429),Te=c(9136),K=c(7605);function ot(n,_){1&n&&(e.TgZ(0,"h1",4),e.Hsn(1),e.qZA())}function _t(n,_){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"label",7,8),e.SDv(3,9),e.qZA(),e.TgZ(4,"span",10),e._uU(5," ("),e.ynx(6),e.SDv(7,11),e.BQk(),e._uU(8,") "),e.qZA(),e.TgZ(9,"bb-textarea-ui",12),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(2).comment=a}),e.qZA(),e.BQk()}if(2&n){const t=e.MAs(2),o=e.oxw(2);e.xp6(3),e.pQV(o.commentFieldLabel),e.QtT(3),e.xp6(6),e.Q6J("rows",3)("cols",50)("minLength",3)("maxLength",140)("ngModel",o.comment)("aria-labelledby",t.id)("showCharCounter",!0)}}const at=function(n){return{"bb-block bb-block--md":n}};function it(n,_){if(1&n&&(e.TgZ(0,"div",5),e.Hsn(1,1),e.qZA(),e.YNc(2,_t,10,8,"ng-container",6)),2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(2,at,t.attachComment)),e.xp6(2),e.Q6J("ngIf",t.attachComment&&t.isOpen)}}function ct(n,_){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().onClickConfirm()}),e.Hsn(2,2),e.qZA(),e.TgZ(3,"button",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().onClickCancel()}),e.Hsn(4,3),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("color",t.confirmButtonColor),e.xp6(2),e.Q6J("color",t.cancelButtonColor)}}const rt=[[["","title",""]],[["","body",""]],[["","confirmButtonLabel",""]],[["","cancelButtonLabel",""]]],st=["[title]","[body]","[confirmButtonLabel]","[cancelButtonLabel]"];let be=(()=>{class n{constructor(){this.modalOptions={backdrop:"static",keyboard:!1},this.comment="",this.confirmButtonColor="primary",this.cancelButtonColor="secondary",this.isOpen=!1,this.attachComment=!1,this.commentFieldLabel="Add comment",this.confirm=new e.vpe,this.cancel=new e.vpe}ngOnChanges(t){t.isOpen&&(this.comment="")}onClickCancel(){this.cancel.emit()}onClickConfirm(){this.confirm.emit({comment:this.comment})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-confirm-action-dialog"]],inputs:{confirmButtonColor:"confirmButtonColor",cancelButtonColor:"cancelButtonColor",isOpen:"isOpen",attachComment:"attachComment",commentFieldLabel:"commentFieldLabel"},outputs:{confirm:"confirm",cancel:"cancel"},features:[e.TTD],ngContentSelectors:st,decls:7,vars:2,consts:function(){let _,t;return _="" + "\ufffd0\ufffd" + "",t="Optional",[["aria-labelledby","contact-confirm-action-dialog-header","aria-describedby","contact-confirm-action-dialog-body",3,"isOpen","modalOptions"],["bbCustomModalHeader",""],["bbCustomModalBody",""],["bbCustomModalFooter",""],["data-role","confirm-action-header","id","contact-confirm-action-dialog-header",1,"modal-title"],["id","contact-confirm-action-dialog-body",3,"ngClass"],[4,"ngIf"],["id","contact-approval-log-comment-label"],["commentLabel",""],_,["id","comment-optional-info",1,"bb-text-support"],t,["wrap","hard","aria-describedby","comment-optional-info","data-role","confirmation-comment",3,"rows","cols","minLength","maxLength","ngModel","aria-labelledby","showCharCounter","ngModelChange"],[1,"bb-button-bar"],["bbButton","","data-role","confirm-action-confirm-btn",1,"bb-button-bar__button",3,"color","click"],["bbButton","","data-role","confirm-action-cancel-btn",1,"bb-button-bar__button",3,"color","click"]]},template:function(t,o){1&t&&(e.F$t(rt),e.TgZ(0,"bb-modal-ui",0)(1,"bb-modal-header-ui"),e.YNc(2,ot,2,0,"ng-template",1),e.qZA(),e.TgZ(3,"bb-modal-body-ui"),e.YNc(4,it,3,4,"ng-template",2),e.qZA(),e.TgZ(5,"bb-modal-footer-ui"),e.YNc(6,ct,5,2,"ng-template",3),e.qZA()()),2&t&&e.Q6J("isOpen",o.isOpen)("modalOptions",o.modalOptions)},directives:[P.zS,P.Rb,P.KF,Te.R,P.YI,P.cA,P.Qd,m.mk,m.O5,f.JJ,f.On,P.yk,K.Hq],encapsulation:2,changeDetection:0}),n})(),Re=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[P.zk,K.hJ,m.ez,Te.J,f.u5]]}),n})();const Me="A".charCodeAt(0),lt="Z".charCodeAt(0),At={A:"A-Z",N:"0-9",C:"0-9A-Z"},ae={};const Ct=n=>{const _=n.value;if("string"!=typeof _)return{invalidIban:{value:n.value}};let t;const o=(n=>n.replace(/\s+/g,""))(_.toUpperCase());try{t=(n=>{const _=n.slice(0,2);if(!{}.hasOwnProperty.call(h,_))throw new Error(`Country code ${_} is not supported`);return h[_]})(o)}catch(s){return{invalidIban:{value:n.value}}}const a=(n=>ae[n]||(n=>{const _=n.match(/[0-9]{2}[ANC]/g);if(!_)return;const t=_.reduce((o,a)=>{const i=parseInt(a.slice(0,2),10);return`${o}[${At[a[2]]}]{${i}}`},"");return ae[n]=new RegExp(t),ae[n]})(n))(t.bban);return t.len===o.length&&a.test(o.slice(4))&&1===((n,_)=>{if(n.length<10)return parseInt(n,10)%_;let t=n.slice(9),o=n.slice(0,9),a=parseInt(o,10)%_;for(;t.length>7;)o=String(a)+t.slice(0,7),a=parseInt(o,10)%_,t=t.slice(7);return o=String(a)+t,parseInt(o,10)%_})((n=>(n=>`${n.slice(4)}${n.slice(0,4)}`)(n).split("").reduce((_,t)=>{const o=t.charCodeAt(0);let a;return a=o>=Me&&o<=lt?String(o-Me+10):t,`${_}${a}`},""))(o),97)?null:{invalidIban:{value:n.value}}};let mt=(()=>{class n{constructor(t){this.ibanCountryList=t,(n=>{h=Object.assign(Object.assign({},h),n)})(this.ibanCountryList)}validate(t){return t&&t.value?Ct(t):null}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(I))},n.\u0275dir=e.lG2({type:n,selectors:[["","bbIbanValidator",""]],features:[e._Bn([{provide:f.Cf,useExisting:n,multi:!0}])]}),n})(),dt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),gt=(()=>{class n{constructor(){this.topLevelDomainRegex=/@.*\.(([a-zA-Z])|([a-zA-Z0-9][a-zA-Z0-9.\-]*[a-zA-Z0-9]))$/}validate(t){const o=null==t?void 0:t.value;return o?this.topLevelDomainRegex.test(o)?null:{email:{value:o}}:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","bbEmailDomainValidator",""]],features:[e._Bn([{provide:f.Cf,useExisting:n,multi:!0}])]}),n})(),St=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),pt=(()=>{class n{validate(t){return Nt(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","bbNoWhiteSpace",""]],features:[e._Bn([{provide:f.Cf,useExisting:n,multi:!0}])]}),n})();const Nt=n=>0===(n.value||"").trim().length?{required:!0}:null;let Tt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var W=c(4951),Ue=c(3759),Ie=c(8639),he=c(230);function bt(n,_){1&n&&e.GkF(0)}function Rt(n,_){if(1&n&&(e.ynx(0),e.TgZ(1,"span",2)(2,"span",11),e.SDv(3,12),e.qZA(),e._uU(4," :\xa0 "),e.qZA(),e.YNc(5,bt,1,0,"ng-container",13),e.BQk()),2&n){e.oxw(2);const t=e.MAs(11);e.xp6(5),e.Q6J("ngTemplateOutlet",t)}}function Mt(n,_){1&n&&e.GkF(0)}function ft(n,_){if(1&n&&(e.ynx(0),e.TgZ(1,"span",2)(2,"span",14),e.SDv(3,15),e.qZA(),e._uU(4," :\xa0 "),e.qZA(),e.YNc(5,Mt,1,0,"ng-container",13),e.BQk()),2&n){e.oxw(2);const t=e.MAs(13);e.xp6(5),e.Q6J("ngTemplateOutlet",t)}}function Ot(n,_){1&n&&e.GkF(0)}function Ut(n,_){if(1&n&&(e.ynx(0),e.TgZ(1,"span",2)(2,"span",16),e.SDv(3,17),e.qZA(),e._uU(4," :\xa0 "),e.qZA(),e.YNc(5,Ot,1,0,"ng-container",13),e.BQk()),2&n){e.oxw(2);const t=e.MAs(13);e.xp6(5),e.Q6J("ngTemplateOutlet",t)}}function It(n,_){1&n&&e.GkF(0)}function ht(n,_){if(1&n&&(e.ynx(0),e.TgZ(1,"span",2)(2,"span",11),e.SDv(3,18),e.qZA(),e._uU(4," :\xa0 "),e.qZA(),e.YNc(5,It,1,0,"ng-container",13),e.BQk()),2&n){e.oxw(2);const t=e.MAs(11);e.xp6(5),e.Q6J("ngTemplateOutlet",t)}}function Dt(n,_){if(1&n&&(e.TgZ(0,"div",1),e.ynx(1,9),e.YNc(2,Rt,6,1,"ng-container",10),e.YNc(3,ft,6,1,"ng-container",10),e.YNc(4,Ut,6,1,"ng-container",10),e.YNc(5,ht,6,1,"ng-container",10),e.BQk(),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngSwitch",t.selectedAccountType),e.xp6(1),e.Q6J("ngSwitchCase",t.createAccountType.IBAN),e.xp6(1),e.Q6J("ngSwitchCase",t.createAccountType.EMAIL),e.xp6(1),e.Q6J("ngSwitchCase",t.createAccountType.PHONE),e.xp6(1),e.Q6J("ngSwitchCase",t.createAccountType.ACCOUNT)}}function Bt(n,_){if(1&n&&(e.TgZ(0,"div",1)(1,"span",19),e.SDv(2,20),e.qZA(),e.TgZ(3,"span",2),e._uU(4,":\xa0"),e.qZA(),e.TgZ(5,"span",21),e._uU(6),e.qZA()()),2&n){const t=e.oxw();e.xp6(6),e.hij(" ",t.contactItem.alias," ")}}function vt(n,_){if(1&n&&(e.TgZ(0,"span",23),e._uU(1),e.ALo(2,"bbIban"),e.qZA()),2&n){const t=_.ngIf,o=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,t[o.selectedAccountType])," ")}}function xt(n,_){if(1&n&&e.YNc(0,vt,3,3,"span",22),2&n){const t=e.oxw();e.Q6J("ngIf",null==t.contactItem?null:t.contactItem.accounts[0])}}function Ft(n,_){if(1&n&&(e.TgZ(0,"span",23),e._uU(1),e.qZA()),2&n){const t=_.ngIf,o=e.oxw(2);e.xp6(1),e.hij(" ",t[o.selectedAccountType]," ")}}function Lt(n,_){if(1&n&&e.YNc(0,Ft,2,1,"span",22),2&n){const t=e.oxw();e.Q6J("ngIf",null==t.contactItem?null:t.contactItem.accounts[0])}}const yt=["contactItem"];function Jt(n,_){if(1&n&&(e.TgZ(0,"li",7),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.header," ")}}const Gt=function(n){return{"bb-grouped-list__item--is-active":n}};function Pt(n,_){if(1&n){const t=e.EpF();e.ynx(0),e.YNc(1,Jt,2,1,"li",3),e.TgZ(2,"li",4,5),e.NdJ("keydown.Home",function(a){return e.CHM(t),e.oxw(2).onChangeFocusItemTo(a,0)})("keydown.ArrowUp",function(a){const s=e.CHM(t).index;return e.oxw(2).onChangeFocusItemTo(a,s-1)})("keydown.ArrowDown",function(a){const s=e.CHM(t).index;return e.oxw(2).onChangeFocusItemTo(a,s+1)})("keydown.End",function(a){e.CHM(t);const i=e.oxw(2);return i.onChangeFocusItemTo(a,i.itemsWithHeaders.length)})("click",function(){const a=e.CHM(t),i=a.$implicit,s=a.index;return e.oxw(2).onContactSelect(i.contact.id,s)})("keyup.Space",function(){const a=e.CHM(t),i=a.$implicit,s=a.index;return e.oxw(2).onContactSelect(i.contact.id,s)})("keyup.Enter",function(){const a=e.CHM(t),i=a.$implicit,s=a.index;return e.oxw(2).onContactSelect(i.contact.id,s)}),e._UZ(4,"bb-contact-list-item",6),e.qZA(),e.BQk()}if(2&n){const t=_.$implicit,o=_.index,a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.header),e.xp6(1),e.Q6J("tabindex",o===a.focused?"0":"-1")("ngClass",e.VKq(7,Gt,a.selectedItemId===t.contact.id)),e.uIk("aria-pressed",a.selectedItemId===t.contact.id),e.xp6(2),e.Q6J("contactItem",t.contact)("showAccountNumber",!0)("showAlias",a.showAlias)}}function Kt(n,_){if(1&n&&(e.TgZ(0,"ul",1),e.YNc(1,Pt,5,9,"ng-container",2),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.itemsWithHeaders)}}function Yt(n,_){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"span",20)(2,"button",21),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return a.edit(a.item.id)}),e.tHW(3,22),e._UZ(4,"bb-icon-ui",23),e.N_p(),e.qZA()(),e.TgZ(5,"span",24)(6,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().openDeleteModal()}),e.tHW(7,26),e._UZ(8,"bb-icon-ui",27),e.N_p(),e.qZA()()()}}function wt(n,_){if(1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"bbIban"),e.BQk()),2&n){const t=e.oxw().ngIf,o=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,t[o.type])," ")}}function Zt(n,_){if(1&n&&e._uU(0),2&n){const t=e.oxw().ngIf,o=e.oxw(2);e.hij("",t[o.type]," ")}}function kt(n,_){if(1&n&&(e.ynx(0),e.YNc(1,wt,3,3,"ng-container",34),e.YNc(2,Zt,1,1,"ng-template",null,35,e.W1O),e.BQk()),2&n){const t=e.MAs(3),o=e.oxw(2);e.xp6(1),e.Q6J("ngIf","IBAN"===o.type)("ngIfElse",t)}}function Ht(n,_){if(1&n&&(e.TgZ(0,"div",28)(1,"span",29,5),e.SDv(3,30),e.qZA(),e._UZ(4,"bb-header-ui",31),e.TgZ(5,"div",32),e.YNc(6,kt,4,2,"ng-container",33),e.qZA()()),2&n){const t=e.MAs(2),o=e.oxw();e.xp6(3),e.pQV(o.type),e.QtT(3),e.xp6(1),e.Q6J("heading",t.textContent),e.xp6(2),e.Q6J("ngIf",null==o.item?null:o.item.accounts[0])}}function Wt(n,_){1&n&&e._UZ(0,"bb-loading-indicator-ui")}function Qt(n,_){1&n&&e.GkF(0)}function $t(n,_){if(1&n&&(e.ynx(0),e.YNc(1,Qt,1,0,"ng-container",26),e.BQk()),2&n){e.oxw(2);const t=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function qt(n,_){1&n&&e.GkF(0)}function zt(n,_){if(1&n&&(e.ynx(0),e.YNc(1,qt,1,0,"ng-container",26),e.BQk()),2&n){e.oxw(2);const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Vt(n,_){1&n&&e.GkF(0)}function jt(n,_){if(1&n&&(e.ynx(0),e.YNc(1,Vt,1,0,"ng-container",26),e.BQk()),2&n){e.oxw(2);const t=e.MAs(10);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Xt(n,_){1&n&&e.GkF(0)}function en(n,_){if(1&n&&(e.ynx(0),e.YNc(1,Xt,1,0,"ng-container",26),e.BQk()),2&n){e.oxw(2);const t=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function tn(n,_){1&n&&e.GkF(0)}function nn(n,_){if(1&n&&(e.ynx(0),e.YNc(1,tn,1,0,"ng-container",26),e.BQk()),2&n){e.oxw(2);const t=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function on(n,_){if(1&n){const t=e.EpF();e.TgZ(0,"form",8),e.NdJ("submit",function(){return e.CHM(t),e.oxw().saveItem()}),e.TgZ(1,"div",9)(2,"div",10),e._UZ(3,"bb-input-text-ui",11),e.TgZ(4,"bb-input-validation-message-ui",12)(5,"span",13),e.SDv(6,14),e.qZA()()(),e.TgZ(7,"div",15),e.ynx(8,16),e.YNc(9,$t,2,1,"ng-container",17),e.YNc(10,zt,2,1,"ng-container",17),e.YNc(11,jt,2,1,"ng-container",17),e.YNc(12,en,2,1,"ng-container",17),e.YNc(13,nn,2,1,"ng-container",18),e.BQk(),e.qZA()(),e.TgZ(14,"div",19)(15,"button",20),e.SDv(16,21),e.qZA(),e.TgZ(17,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw().back()}),e.SDv(18,23),e.qZA(),e.TgZ(19,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancel()}),e.SDv(20,25),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("hidden",t.disabledSubmit)("formGroup",t.contactsForm),e.xp6(3),e.Q6J("formControl",t.contactsForm.controls.name)("maxLength",140)("required",!0),e.xp6(1),e.Q6J("showErrors",(null==t.contactsForm.controls.name.errors?null:t.contactsForm.controls.name.errors.required)&&t.contactsForm.controls.name.touched),e.xp6(4),e.Q6J("ngSwitch",t.type),e.xp6(1),e.Q6J("ngSwitchCase",t.createAccountTypeRef.IBAN),e.xp6(1),e.Q6J("ngSwitchCase",t.createAccountTypeRef.EMAIL),e.xp6(1),e.Q6J("ngSwitchCase",t.createAccountTypeRef.PHONE),e.xp6(1),e.Q6J("ngSwitchCase",t.createAccountTypeRef.ACCOUNT),e.xp6(3),e.Q6J("disabled",t.submitted&&t.contactsForm.invalid||t.disabledSubmit)}}function _n(n,_){1&n&&e.GkF(0)}const X=function(n,_){return{control:n,errorMessageAcctType:_}};function an(n,_){if(1&n&&(e._UZ(0,"bb-input-text-ui",27),e.YNc(1,_n,1,0,"ng-container",28),e.TgZ(2,"bb-input-validation-message-ui",12),e.ynx(3),e.TgZ(4,"span",29),e.SDv(5,30),e.qZA(),e.BQk(),e.qZA()),2&n){const t=e.oxw(),o=e.MAs(12);e.Q6J("formControl",t.contactsForm.controls.IBAN)("maxLength",t.ibanMask.length)("required",!0)("mask",t.ibanMask)("maskValidator",!1),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.WLB(8,X,t.contactsForm.controls.IBAN,t.type)),e.xp6(1),e.Q6J("showErrors",t.contactsForm.controls.IBAN.touched&&(null==t.contactsForm.controls.IBAN.errors?null:t.contactsForm.controls.IBAN.errors.invalidIban))}}function cn(n,_){1&n&&e.GkF(0)}function rn(n,_){if(1&n&&(e._UZ(0,"bb-input-text-ui",31),e.YNc(1,cn,1,0,"ng-container",28)),2&n){const t=e.oxw(),o=e.MAs(12);e.Q6J("formControl",t.contactsForm.controls.accountNumber)("maxLength",34)("required",!0),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.WLB(5,X,t.contactsForm.controls.accountNumber,t.type))}}function sn(n,_){1&n&&e.GkF(0)}function ln(n,_){if(1&n&&(e.TgZ(0,"label",32,33),e.tHW(2,34),e._UZ(3,"small",35),e.N_p(),e.qZA(),e._UZ(4,"bb-input-email-ui",36),e.YNc(5,sn,1,0,"ng-container",28),e.TgZ(6,"bb-input-validation-message-ui",12),e.ynx(7),e.TgZ(8,"span",37),e.SDv(9,38),e.qZA(),e.BQk(),e.qZA()),2&n){const t=e.MAs(1),o=e.oxw(),a=e.MAs(12);e.xp6(4),e.Q6J("aria-labelledby",t.id)("formControl",o.contactsForm.controls.email)("maxLength",255)("required",!0),e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(7,X,o.contactsForm.controls.email,o.type)),e.xp6(1),e.Q6J("showErrors",o.contactsForm.controls.email.touched&&(null==o.contactsForm.controls.email.errors?null:o.contactsForm.controls.email.errors.email))}}function An(n,_){1&n&&e.GkF(0)}function En(n,_){if(1&n&&(e.TgZ(0,"label",39,40),e.tHW(2,41),e._UZ(3,"small",42),e.N_p(),e.qZA(),e._UZ(4,"bb-input-text-ui",43),e.YNc(5,An,1,0,"ng-container",28)),2&n){const t=e.MAs(1),o=e.oxw(),a=e.MAs(12);e.xp6(4),e.Q6J("formControl",o.contactsForm.controls.phoneNumber)("maxLength",30)("required",!0)("aria-labelledby",t.id),e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(6,X,o.contactsForm.controls.phoneNumber&&o.contactsForm.controls.phoneNumber,o.type))}}function un(n,_){1&n&&(e.TgZ(0,"span",47),e.SDv(1,48),e.qZA())}function Cn(n,_){1&n&&(e.TgZ(0,"span",47),e.SDv(1,49),e.qZA())}function mn(n,_){1&n&&(e.TgZ(0,"span",50),e.SDv(1,51),e.qZA())}function dn(n,_){1&n&&(e.TgZ(0,"span",52),e.SDv(1,53),e.qZA())}function gn(n,_){if(1&n&&(e.TgZ(0,"bb-input-validation-message-ui",12),e.ynx(1,16),e.YNc(2,un,2,0,"span",44),e.YNc(3,Cn,2,0,"span",44),e.YNc(4,mn,2,0,"span",45),e.YNc(5,dn,2,0,"span",46),e.BQk(),e.qZA()),2&n){const t=_.control,o=_.errorMessageAcctType,a=e.oxw();e.Q6J("showErrors",(null==t.errors?null:t.errors.required)&&t.touched),e.xp6(1),e.Q6J("ngSwitch",o),e.xp6(1),e.Q6J("ngSwitchCase",a.createAccountTypeRef.ACCOUNT),e.xp6(1),e.Q6J("ngSwitchCase",a.createAccountTypeRef.IBAN),e.xp6(1),e.Q6J("ngSwitchCase",a.createAccountTypeRef.PHONE),e.xp6(1),e.Q6J("ngSwitchCase",a.createAccountTypeRef.EMAIL)}}let De=(()=>{class n{constructor(){this.showAccountNumber=!1,this.showAlias=!1,this.createAccountType=l}ngOnInit(){if(void 0===this.contactItem)throw new Error("`item` input is required in `bb-todo-list-item` component");this.selectedAccountType=Q(this.contactItem)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-contact-list-item"]],inputs:{contactItem:"contactItem",showAccountNumber:"showAccountNumber",showAlias:"showAlias"},decls:14,vars:3,consts:function(){let _,t,o,a,i,s;return _=" Name ",t=" IBAN ",o=" Email ",a=" Phone number ",i=" Account number ",s="Alias",[[1,"bb-block","bb-block--sm"],[1,"bb-block","bb-block--xs","break-word"],[1,"sr-only"],["data-role","name-header"],_,["data-role","list-name",1,"bb-text-bold","break-word"],["class","bb-block bb-block--xs break-word",4,"ngIf"],["accountdetails",""],["details",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["data-role","account-header"],t,[4,"ngTemplateOutlet"],["data-role","email-header"],o,["data-role","phone-header"],a,i,["data-role","alias-header",1,"sr-only"],s,["data-role","list-alias",1,"bb-text-support","break-word"],["class","bb-text-support","data-role","list-account-number",4,"ngIf"],["data-role","list-account-number",1,"bb-text-support"]]},template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2)(3,"span",3),e.SDv(4,4),e.qZA(),e._uU(5," :\xa0 "),e.qZA(),e.TgZ(6,"span",5),e._uU(7),e.qZA()(),e.YNc(8,Dt,6,5,"div",6),e.YNc(9,Bt,7,1,"div",6),e.YNc(10,xt,1,1,"ng-template",null,7,e.W1O),e.YNc(12,Lt,1,1,"ng-template",null,8,e.W1O),e.qZA()),2&t&&(e.xp6(7),e.hij(" ",o.contactItem.name," "),e.xp6(1),e.Q6J("ngIf",o.showAccountNumber),e.xp6(1),e.Q6J("ngIf",o.showAlias&&o.contactItem.alias))},directives:[m.O5,m.RF,m.n9,m.tP],pipes:[_e.x],encapsulation:2,changeDetection:0}),n})(),Be=(()=>{class n{constructor(){this.selectedItemId="",this.showAlias=!1,this.selectedChange=new e.vpe,this.itemsWithHeaders=[],this.focused=0}set items(t){this.focused=0,this.itemsWithHeaders=[],this.analyseHeaders(t)}analyseHeaders(t){let o;t.forEach((a,i)=>{const s=this.getGroupHeadingChar(a.name);this.itemsWithHeaders.push({header:s!==o?s:void 0,contact:a}),o=s})}clampDesiredFocus(t){return Math.max(0,Math.min(t,this.itemsWithHeaders.length-1))}onChangeFocusItemTo(t,o){var a,i;t.preventDefault();const s=this.clampDesiredFocus(o);this.focused!==s&&(this.focused=s,null===(i=null===(a=this.contactItem.find((r,C)=>C===this.focused))||void 0===a?void 0:a.nativeElement)||void 0===i||i.focus())}onContactSelect(t,o){this.focused=o,this.selectedChange.emit(t)}getGroupHeadingChar(t){const o=t.codePointAt(0);return o?String.fromCodePoint(o).toUpperCase():""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-contacts-list-widget"]],viewQuery:function(t,o){if(1&t&&e.Gf(yt,5),2&t){let a;e.iGM(a=e.CRH())&&(o.contactItem=a)}},inputs:{items:"items",selectedItemId:"selectedItemId",showAlias:"showAlias"},outputs:{selectedChange:"selectedChange"},decls:1,vars:1,consts:[["class","bb-grouped-list","data-role","existing-contact","role","list",4,"ngIf"],["data-role","existing-contact","role","list",1,"bb-grouped-list"],[4,"ngFor","ngForOf"],["class","bb-grouped-list__group bb-text-support bb-text-bold","data-role","header-row",4,"ngIf"],["role","button","data-role","contact-manager-list-item",1,"bb-grouped-list__item",3,"tabindex","ngClass","keydown.Home","keydown.ArrowUp","keydown.ArrowDown","keydown.End","click","keyup.Space","keyup.Enter"],["contactItem",""],[3,"contactItem","showAccountNumber","showAlias"],["data-role","header-row",1,"bb-grouped-list__group","bb-text-support","bb-text-bold"]],template:function(t,o){1&t&&e.YNc(0,Kt,2,1,"ul",0),2&t&&e.Q6J("ngIf",null==o.itemsWithHeaders?null:o.itemsWithHeaders.length)},directives:[De,m.O5,m.sg,m.mk],encapsulation:2,changeDetection:0}),n})(),re=(()=>{class n{constructor(){this.showDetail=!0,this.editContactsItem=new e.vpe,this.deleteContactsItem=new e.vpe,this.isDeleteConfirmOpened=!1}ngOnInit(){if(void 0===this.item)throw new Error("`item` input is required in `bb-contacts-detail` component")}edit(t){this.editContactsItem.emit({id:t,type:this.type})}openDeleteModal(){this.isDeleteConfirmOpened=!0}onConfirmDelete(){this.deleteContactsItem.emit(this.item.id),this.isDeleteConfirmOpened=!1}onCancelDelete(){this.isDeleteConfirmOpened=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-contacts-detail"]],inputs:{type:"type",showDetail:"showDetail",item:"item"},outputs:{editContactsItem:"editContactsItem",deleteContactsItem:"deleteContactsItem"},decls:20,vars:6,consts:function(){let _,t,o,a,i,s,r,C,R,M,Y,J,U;return _=" Create contact ",t="Delete Contact",o=" Are you sure you want to delete " + "\ufffd0\ufffd" + " from your contacts? This action cannot be undone. ",a="Not now",i="Delete",s="Edit",r="Edit Contact",C="" + "\ufffd#4\ufffd" + "" + "\ufffd/#4\ufffd" + "",R="Delete",M="Delete Contact",Y="" + "\ufffd#8\ufffd" + "" + "\ufffd/#8\ufffd" + "",J="{VAR_SELECT, select, IBAN {IBAN} accountNumber {Account number} email {Email} phoneNumber {Phone number} other {IBAN}}",J=e.Zx4(J,{VAR_SELECT:"\ufffd0\ufffd"}),U=" " + J + " ",[[1,"bb-block","bb-block--xl"],[1,"bb-stack","bb-stack--align-bottom"],[1,"bb-stack__item","bb-stack__item--fill"],["data-role","contact-details-info-name",1,"bb-block"],["data-role","create-contact-label","aria-hidden","true",1,"d-none"],["heading",""],_,["data-role","create-new-contact-label","headingType","h3","headingClasses","break-word",3,"heading"],["class","bb-stack__item bb-stack__item--push-right",4,"ngIf"],["class","bb-lock bb-lock bb-block--lg",4,"ngIf"],[3,"isOpen","confirmButtonColor","confirm","cancel"],["title","","data-role","delete-contact-label"],t,["body",""],o,["cancelButtonLabel",""],a,["confirmButtonLabel","","data-role","confirm-delete-button"],i,[1,"bb-stack__item","bb-stack__item--push-right"],["bbTooltip",s,"triggers","hover focus"],["data-role","contact-edit-button","bbButton","","circle","true","color","link","aria-label",r,3,"click"],C,["name","edit","color","dark"],["bbTooltip",R,"triggers","hover focus"],["bbButton","","circle","true","color","link","data-role","delete-button","aria-label",M,3,"click"],Y,["name","delete","color","dark"],[1,"bb-lock","bb-lock","bb-block--lg"],["aria-hidden","true",1,"d-none"],U,["headingType","h5",1,"bb-block","bb-block-md",3,"heading"],["data-role","contact-details-info",1,"bb-bock","bb-block-md"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["notIban",""]]},template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4,5),e.SDv(6,6),e.qZA(),e._UZ(7,"bb-header-ui",7),e.qZA()(),e.YNc(8,Yt,9,0,"div",8),e.qZA(),e._UZ(9,"hr"),e.qZA(),e.YNc(10,Ht,7,3,"div",9),e.TgZ(11,"bb-confirm-action-dialog",10),e.NdJ("confirm",function(){return o.onConfirmDelete()})("cancel",function(){return o.onCancelDelete()}),e.TgZ(12,"span",11),e.SDv(13,12),e.qZA(),e.TgZ(14,"span",13),e.SDv(15,14),e.qZA(),e.TgZ(16,"span",15),e.SDv(17,16),e.qZA(),e.TgZ(18,"span",17),e.SDv(19,18),e.qZA()()),2&t){const a=e.MAs(5);e.xp6(7),e.Q6J("heading",o.item.name||a.textContent),e.xp6(1),e.Q6J("ngIf",o.item.name),e.xp6(2),e.Q6J("ngIf",o.showDetail),e.xp6(1),e.Q6J("isOpen",o.isDeleteConfirmOpened)("confirmButtonColor","danger"),e.xp6(4),e.pQV(o.item.name),e.QtT(15)}},directives:[H.G,z.o,be,m.O5,K.Hq],pipes:[_e.x],encapsulation:2,changeDetection:0}),n})(),se=(()=>{class n{constructor(t,o,a,i){this.fb=t,this.vcRef=o,this.platformId=a,this.formAdditionsConfig=i,this.submitted=!1,this.ibanMask="SS00 AAAA AAAA AAAA AAAA AAAA AAAA AAAA AA",this.disabledSubmit=!1,this.save=new e.vpe,this.cancelEdit=new e.vpe,this.backEvent=new e.vpe,this.deleteContactsItem=new e.vpe,this.createAccountTypeRef=l}ngOnInit(){if(void 0===this.item)throw new Error("`item` input is required in `bb-contact-form` component")}ngAfterViewInit(){var t;(0,m.NF)(this.platformId)&&(null===(t=this.vcRef.element.nativeElement.querySelector("input"))||void 0===t||t.focus())}ngOnChanges(t){t.type&&(this.submitted=!1,this.contactsForm=this.createFormGroupInstance())}createFormGroupInstance(){const{additions:t}=Object.assign({},this.formAdditionsConfig);return this.fb.group(Object.assign({name:[this.item.name],IBAN:[this.item.IBAN],accountNumber:[this.item.accountNumber],email:[this.item.email],phoneNumber:[this.item.phoneNumber]},t?{additions:this.fb.group(t)}:{}))}saveItem(){this.submitted=!0,this.contactsForm.valid?this.save.emit(Object.assign(Object.assign({},this.item),this.contactsForm?this.contactsForm.value:{})):this.contactsForm.markAllAsTouched()}cancel(){this.cancelEdit.emit(this.item.id)}back(){this.backEvent.emit(this.item.id)}get name(){return this.contactsForm.get("name")}get iban(){return this.contactsForm.get("IBAN")}get accountNumber(){return this.contactsForm.get("accountNumber")}deleteItemEmit(){this.deleteContactsItem.emit(this.item.id)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.qu),e.Y36(e.s_b),e.Y36(e.Lbi),e.Y36(A,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-contacts-form"]],inputs:{item:"item",type:"type",disabledSubmit:"disabledSubmit"},outputs:{save:"save",cancelEdit:"cancelEdit",backEvent:"backEvent",deleteContactsItem:"deleteContactsItem"},features:[e.TTD],decls:13,vars:5,consts:function(){let _,t,o,a,i,s,r,C,R,M,Y,J,U,v,we;return _="Name",t=" Name is required ",o=" Save ",a=" Back ",i=" Cancel ",s="IBAN",r=" Invalid IBAN ",C="Account number",R=" Email " + "\ufffd#3\ufffd" + "E.g. sarawilliams@backbase.com" + "\ufffd/#3\ufffd" + "",M=" Invalid email ",Y=" Phone number " + "\ufffd#3\ufffd" + "E.g. +12027953213" + "\ufffd/#3\ufffd" + "",J=" Account number is required ",U=" IBAN is required ",v=" Phone number is required ",we=" Email is required ",[[3,"showDetail","item","type","deleteContactsItem"],[4,"ngIf"],["class","bb-block bb-block--xl",3,"hidden","formGroup","submit",4,"ngIf"],["iban",""],["bban",""],["email",""],["phone",""],["err",""],[1,"bb-block","bb-block--xl",3,"hidden","formGroup","submit"],[1,"row"],["data-role","contact-account-info-account-name1",1,"bb-block","bb-block--xl","col-12"],["id","bb-create-contact-name","data-role","new-contact-name","label",_,"bbNoWhiteSpace","",3,"formControl","maxLength","required"],["role","alert",1,"position-absolute",3,"showErrors"],["data-role","missing-account-name"],t,[1,"bb-block","bb-block--xl","col-12"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"bb-button-bar","bb-button-bar--spacing-sm"],["bbButton","","type","submit","color","primary","name","save","data-role","save-button",1,"bb-button-bar__button",3,"disabled"],o,["bbButton","","color","secondary","type","button","name","back","data-role","contacts-form-back-button",1,"bb-button-bar__button",3,"click"],a,["bbButton","","color","link-text","type","button","name","cancel","data-role","contacts-form-cancel-button",1,"bb-button-bar__button","bb-button-bar__button--across",3,"click"],i,[4,"ngTemplateOutlet"],["id","bb-create-contact-iban","label",s,"data-role","new-contact-iban","bbIbanValidator","",3,"formControl","maxLength","required","mask","maskValidator"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-role","invalid-account-number-error-label"],r,["id","bb-create-contact-bban","label",C,"data-role","new-contact-bban",3,"formControl","maxLength","required"],["id","bb-create-contact-email-label","data-role","contact-account-create-email-label",1,"mb-2"],["contactsEmailLabel",""],R,[1,"d-block","bb-text-support","bb-text-default"],["data-role","new-contact-email","bbEmailDomainValidator","",3,"aria-labelledby","formControl","maxLength","required"],["data-role","invalid-email-error-label"],M,["id","bb-create-contact-phone-label","data-role","contact-account-create-phone",1,"mb-2"],["contactsPhoneLabel",""],Y,["id","example-number",1,"d-block","bb-text-support","bb-text-default"],["aria-describedby","example-number","data-role","new-contact-phone",3,"formControl","maxLength","required","aria-labelledby"],["data-role","missing-account-number-error-label",4,"ngSwitchCase"],["data-role","missing-phone-number-error-label",4,"ngSwitchCase"],["data-role","missing-email-error-label",4,"ngSwitchCase"],["data-role","missing-account-number-error-label"],J,U,["data-role","missing-phone-number-error-label"],v,["data-role","missing-email-error-label"],we]},template:function(t,o){1&t&&(e.TgZ(0,"bb-contacts-detail",0),e.NdJ("deleteContactsItem",function(){return o.deleteItemEmit()}),e.qZA(),e.YNc(1,Wt,1,0,"bb-loading-indicator-ui",1),e.YNc(2,on,21,12,"form",2),e.YNc(3,an,6,11,"ng-template",null,3,e.W1O),e.YNc(5,rn,2,8,"ng-template",null,4,e.W1O),e.YNc(7,ln,10,10,"ng-template",null,5,e.W1O),e.YNc(9,En,6,9,"ng-template",null,6,e.W1O),e.YNc(11,gn,6,6,"ng-template",null,7,e.W1O)),2&t&&(e.Q6J("showDetail",!1)("item",o.item)("type",o.type),e.xp6(1),e.Q6J("ngIf",o.disabledSubmit),e.xp6(1),e.Q6J("ngIf",o.contactsForm))},directives:[re,W.Q,Ue.m,Ie.d,he.v,m.O5,f._Y,f.JL,f.sg,pt,f.JJ,f.oH,f.Q7,m.RF,m.n9,m.tP,m.ED,K.Hq,mt,gt],encapsulation:2,changeDetection:0}),n})();const Sn=[K.hJ,z.Q,f.u5,Ue.j,Ie.w,H.O,W.p,f.UX,_e.v,he.f],pn=[dt,Tt,Re,St];let Nn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.ez,...pn,...Sn]]}),n})();var ve=c(7921),xe=c(7287),Fe=c(5622),Le=c(7002),ye=c(5556);const Tn=["detailsContainer"];function bn(n,_){if(1&n){const t=e.EpF();e.TgZ(0,"bb-search-box-ui",23),e.NdJ("valueChange",function(a){return e.CHM(t),e.oxw(2).onSearchTermChange(a)})("submit",function(){e.CHM(t);const a=e.oxw(2);return a.searchContacts(a.searchTerm.value)})("keyup.enter",function(){e.CHM(t);const a=e.oxw(2);return a.searchContacts(a.searchTerm.value)})("clear",function(){return e.CHM(t),e.oxw(2).clearSearch()}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("showSearch",!0)("showClear",!0)("formControl",t.searchTerm)}}function Rn(n,_){if(1&n&&(e.TgZ(0,"div",24),e._UZ(1,"ngb-highlight",25),e.qZA()),2&n){const t=_.result,o=_.term;e.Q6J("title",t),e.xp6(1),e.Q6J("result",t)("term",o)}}function Mn(n,_){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).backToList()}),e._UZ(2,"bb-icon-ui",28),e.TgZ(3,"span"),e.SDv(4,29),e.qZA()()()}}const fn=function(n,_){return{"d-block":n,"d-lg-block d-none":_}},le=function(n){return{"d-none d-lg-block":n}};function On(n,_){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",31),e.ALo(2,"async"),e.ALo(3,"async"),e.TgZ(4,"bb-contacts-list-widget",32),e.NdJ("selectedChange",function(a){return e.CHM(t),e.oxw(2).select(a)}),e.ALo(5,"async"),e.qZA()(),e.TgZ(6,"div",33,34),e.ALo(8,"async"),e.Hsn(9),e.qZA()()}if(2&n){const t=e.oxw().ngIf,o=e.oxw();e.xp6(1),e.Q6J("ngClass",e.WLB(13,fn,e.lcZ(2,5,o.isListView),!e.lcZ(3,7,o.isListView))),e.xp6(3),e.Q6J("items",t.contacts)("selectedItemId",e.lcZ(5,9,o.selectedItemId))("showAlias",!1),e.xp6(2),e.Q6J("ngClass",e.VKq(16,le,e.lcZ(8,11,o.isListView)))}}function Un(n,_){if(1&n){const t=e.EpF();e.TgZ(0,"bb-pagination-ui",35),e.NdJ("pageChange",function(a){return e.CHM(t),e.oxw(2).onPageChange(a)}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.qZA()}if(2&n){const t=e.oxw().ngIf,o=e.oxw();let a;e.Q6J("page",null==(a=e.lcZ(1,6,o.pagination))?null:a.from)("boundaryLinks",!1)("directionLinks",!0)("totalItems",null==t?null:t.count)("itemsPerPage",e.lcZ(2,8,o.pageSize))("maxNavPages",e.lcZ(3,10,o.maxNavPages))}}function In(n,_){if(1&n){const t=e.EpF();e.TgZ(0,"bb-load-button-ui",38),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).loadMore()}),e.ynx(1),e.SDv(2,39),e.BQk(),e.qZA()}}function hn(n,_){if(1&n&&(e.TgZ(0,"div",36),e.YNc(1,In,3,0,"bb-load-button-ui",37),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",t.count&&t.count>t.contacts.length)}}function Dn(n,_){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",6),e.ALo(2,"async"),e.TgZ(3,"div",7)(4,"div",8)(5,"div",9),e.YNc(6,bn,1,3,"bb-search-box-ui",10),e.TgZ(7,"div",11)(8,"p"),e.SDv(9,12),e.qZA()()(),e.TgZ(10,"div",13)(11,"button",14),e.NdJ("click",function(){const i=e.CHM(t).ngIf;return e.oxw().newContact(i.contacts.length)}),e.SDv(12,15),e.ALo(13,"async"),e.qZA()()(),e.YNc(14,Rn,2,3,"ng-template",null,16,e.W1O),e.qZA()(),e.YNc(16,Mn,5,0,"div",17),e.ALo(17,"async"),e.YNc(18,On,10,18,"div",18),e.TgZ(19,"div",19),e.ALo(20,"async"),e.TgZ(21,"div",20),e.YNc(22,Un,4,12,"bb-pagination-ui",21),e.ALo(23,"async"),e.YNc(24,hn,2,1,"div",22),e.ALo(25,"async"),e.qZA()(),e.BQk()}if(2&n){const t=_.ngIf,o=e.oxw(),a=e.MAs(6);e.xp6(1),e.Q6J("ngClass",e.VKq(23,le,!e.lcZ(2,11,o.isListView))),e.xp6(5),e.Q6J("ngIf",o.isSearchBoxVisible),e.xp6(3),e.pQV(t.count||0)(t.count),e.QtT(9),e.xp6(2),e.Q6J("disabled",!e.lcZ(13,13,o.newContactAllowed)),e.xp6(5),e.Q6J("ngIf",!e.lcZ(17,15,o.isListView)),e.xp6(2),e.Q6J("ngIf",t&&t.contacts.length>0||o.firstContactEdit)("ngIfElse",a),e.xp6(1),e.Q6J("ngClass",e.VKq(25,le,!e.lcZ(20,17,o.isListView))),e.xp6(3),e.Q6J("ngIf","load-more"!==e.lcZ(23,19,o.paginationType)),e.xp6(2),e.Q6J("ngIf","load-more"===e.lcZ(25,21,o.paginationType)&&t.contacts.length>0)}}function Bn(n,_){1&n&&(e.ynx(0),e.TgZ(1,"div",40),e._UZ(2,"bb-loading-indicator-ui",41),e.qZA(),e.BQk())}function vn(n,_){if(1&n&&e.YNc(0,Bn,3,0,"ng-container",1),2&n){const t=e.oxw(),o=e.MAs(10);e.Q6J("ngIf",!t.error)("ngIfElse",o)}}function xn(n,_){1&n&&(e.ynx(0),e.TgZ(1,"div",40),e._UZ(2,"bb-empty-state-ui",42),e.qZA(),e.BQk())}function Fn(n,_){if(1&n&&e.YNc(0,xn,3,0,"ng-container",1),2&n){const t=e.oxw(),o=e.MAs(8);e.Q6J("ngIf",!t.searchTerm.value)("ngIfElse",o)}}function Ln(n,_){1&n&&(e.TgZ(0,"div",40),e._UZ(1,"bb-empty-state-ui",43),e.qZA())}function yn(n,_){if(1&n&&(e.TgZ(0,"div",40),e._UZ(1,"bb-common-error-state-ui",44),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("error",t.error),e.uIk("data-role","contact-manager-error")}}const Jn=["*"],Gn=["notificationCreateSuccess"],Pn=["notificationCreateError"],Kn=["notificationEditSuccess"],Yn=["notificationEditError"],wn=["discardChangesModalContent"];function Zn(n,_){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-contacts-form",15),e.NdJ("save",function(a){return e.CHM(t),e.oxw().save(a)})("cancelEdit",function(a){return e.CHM(t),e.oxw().cancelEdit(a)})("backEvent",function(a){return e.CHM(t),e.oxw().back(a)})("deleteContactsItem",function(a){return e.CHM(t),e.oxw().deleteContactsItem(a)}),e.ALo(2,"async"),e.qZA(),e.BQk()}if(2&n){const t=_.ngIf,o=e.oxw();e.xp6(1),e.Q6J("item",t)("type",e.lcZ(2,3,o.itemType$))("disabledSubmit",o.isPendingRequest)}}function kn(n,_){1&n&&(e.TgZ(0,"span",16),e.SDv(1,17),e.qZA())}function Hn(n,_){1&n&&(e.TgZ(0,"span",18),e.SDv(1,19),e.qZA())}function Wn(n,_){1&n&&(e.TgZ(0,"span",16),e.SDv(1,20),e.qZA())}function Qn(n,_){1&n&&(e.TgZ(0,"span",18),e.SDv(1,21),e.qZA())}function $n(n,_){1&n&&(e.TgZ(0,"div",22),e._UZ(1,"bb-loading-indicator-ui",23),e.qZA())}const qn=["deleteSuccessNotificationTemplate"],zn=["deleteErrorNotificationTemplate"];function Vn(n,_){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-contacts-detail",4),e.NdJ("editContactsItem",function(a){return e.CHM(t),e.oxw().edit(a)})("deleteContactsItem",function(a){return e.CHM(t),e.oxw().deleteContactsItem(a)}),e.ALo(2,"async"),e.qZA(),e.BQk()}if(2&n){const t=_.ngIf,o=e.oxw();e.xp6(1),e.Q6J("item",t)("type",e.lcZ(2,2,o.contactTypeId$))}}function jn(n,_){1&n&&(e.TgZ(0,"div",5),e._UZ(1,"bb-loading-indicator-ui",6),e.qZA())}function Xn(n,_){1&n&&(e.TgZ(0,"span",7),e.SDv(1,8),e.qZA())}function eo(n,_){1&n&&(e.TgZ(0,"span",7),e.SDv(1,9),e.qZA())}const to=["button"];function no(n,_){1&n&&(e.ynx(0),e._UZ(1,"bb-icon-ui",18),e.TgZ(2,"div",19),e.ynx(3),e.SDv(4,20),e.BQk(),e.qZA(),e.TgZ(5,"div",21),e._UZ(6,"bb-icon-ui",22),e.qZA(),e.BQk())}function oo(n,_){1&n&&(e.ynx(0),e._UZ(1,"bb-icon-ui",18),e.TgZ(2,"div",23),e.ynx(3),e.SDv(4,24),e.BQk(),e.qZA(),e.TgZ(5,"div",21),e._UZ(6,"bb-icon-ui",22),e.qZA(),e.BQk())}function _o(n,_){1&n&&(e.ynx(0),e._UZ(1,"bb-icon-ui",25),e.TgZ(2,"div",26),e.ynx(3),e.SDv(4,27),e.BQk(),e.qZA(),e.TgZ(5,"div",21),e._UZ(6,"bb-icon-ui",22),e.qZA(),e.BQk())}function ao(n,_){1&n&&(e.ynx(0),e._UZ(1,"bb-icon-ui",28),e.TgZ(2,"div",29),e.ynx(3),e.SDv(4,30),e.BQk(),e.qZA(),e.TgZ(5,"div",21),e._UZ(6,"bb-icon-ui",22),e.qZA(),e.BQk())}function io(n,_){if(1&n){const t=e.EpF();e.TgZ(0,"button",14,15),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit;return e.oxw().updateCreateContactType(a)}),e.ynx(2,16),e.YNc(3,no,7,0,"ng-container",17),e.YNc(4,oo,7,0,"ng-container",17),e.YNc(5,_o,7,0,"ng-container",17),e.YNc(6,ao,7,0,"ng-container",17),e.BQk(),e.qZA()}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngSwitch",t.listItem),e.xp6(1),e.Q6J("ngSwitchCase",o.createAccountTypeRef.IBAN),e.xp6(1),e.Q6J("ngSwitchCase",o.createAccountTypeRef.ACCOUNT),e.xp6(1),e.Q6J("ngSwitchCase",o.createAccountTypeRef.EMAIL),e.xp6(1),e.Q6J("ngSwitchCase",o.createAccountTypeRef.PHONE)}}function co(n,_){if(1&n&&(e.ynx(0),e.YNc(1,io,7,5,"button",13),e.BQk()),2&n){const t=_.$implicit;e.xp6(1),e.Q6J("ngIf",t.enableItem)}}let Je=(()=>{class n{constructor(t,o,a,i,s){this.service=t,this.navigation=o,this.router=a,this.route=i,this.config=s,this.firstContactEdit=!1,this.isSearchBoxVisible=!0,this.searchTerm=new f.NI,this.containerlistParams=new ee.X(""),this.debounceSearch$=new Z.x,this.newContactAllowed=(0,B.of)(this.config.newContact),this.pageSize=(0,B.of)(this.config.pageSize),this.maxNavPages=(0,B.of)(this.config.maxNavPages),this.paginationType=(0,B.of)(this.config.paginationType),this.isListView=this.router.events.pipe((0,Xe.h)(r=>r instanceof L.m2),(0,b.U)(r=>r.url),(0,et.O)(this.router.url),(0,b.U)(()=>{const r=this.navigation.currentView===d.List;return r&&(this.firstContactEdit=!1),r}),(0,te.d)()),this.pagination=(0,$.a)([this.route.queryParamMap,this.pageSize]).pipe((0,b.U)(([r,C])=>this.pageParamsFromRoute(r,C))),this.items=this.service.items.pipe((0,ge.b)(r=>{this.isSearchBoxVisible=!!this.searchTerm.value||r.contacts.length>0,r.contacts.sort((C,R)=>C.name.toLocaleUpperCase().trim()>R.name.toLocaleUpperCase().trim()?1:-1)}),(0,ne.K)(r=>(this.error=r,(0,B.of)(void 0)))),this.selectedItemId=this.service.currentlySelectedItemId,this.listParams=(0,$.a)([this.containerlistParams,this.pagination,this.pageSize,this.paginationType]).pipe((0,b.U)(([r,C,R,M])=>(r===T.LOAD_MORE&&M===T.LOAD_MORE&&(C.from++,C.size=R),{paginationParams:C,paginationType:M,method:r})),(0,b.U)(({paginationParams:r,paginationType:C,method:R})=>({pagination:{from:r.from,size:r.size,query:r.query},paginationType:C,method:R})))}ngOnInit(){this.subscription=this.listParams.subscribe(t=>this.service.updateItemList(t.pagination.query,t.pagination.from,t.pagination.size,t.paginationType,t.method)),this.subscription.add(this.debounceSearch$.pipe((0,tt.b)(300),(0,Ce.x)()).subscribe(t=>this.searchContacts(t)))}onSearchTermChange(t){this.debounceSearch$.next(t)}clearSearch(){this.debounceSearch$.next("")}searchContacts(t){this.containerlistParams.next("search"),this.navigation.list(0,t)}onPageChange(t){this.navigation.list(t)}loadMore(){this.containerlistParams.next("load-more")}select(t){var o;this.navigation.select(t),null===(o=this.detailsContainer)||void 0===o||o.nativeElement.scrollTo({top:0})}newContact(t){this.firstContactEdit=!t,this.navigation.newContact(),this.navigation.currentView=d.Select}backToList(){this.navigation.currentView=d.List,this.navigation.list()}pageParamsFromRoute(t,o){const a=t.get("page");return this.searchTerm.setValue(t.get("query")||""),{from:a&&Number.parseInt(a,10)||0,size:o?Number(o):5,query:this.searchTerm.value||""}}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j),e.Y36(k),e.Y36(L.F0),e.Y36(L.gz),e.Y36(q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-contacts-list-container"]],viewQuery:function(t,o){if(1&t&&e.Gf(Tn,5),2&t){let a;e.iGM(a=e.CRH())&&(o.detailsContainer=a.first)}},ngContentSelectors:Jn,decls:11,vars:4,consts:function(){let _,t,o,a,i,s,r,C,R,M,Y,J;return _="Search",t="Search",o="{VAR_PLURAL, plural, =1 {1 result found} other {{INTERPOLATION} results found}}",o=e.Zx4(o,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),a=" " + o + " ",i=" New Contact ",s=" Back to list ",r=" Load more ",C="Loading contacts...",R="No contacts",M="You don't have any contacts to display yet.<br>Try adding a new contact using the 'New Contact' button",Y="No results found",J="We can't find what you're looking for. Please try a different criteria.",[["data-role","loading-label",1,"card","card-body"],[4,"ngIf","ngIfElse"],["loadingTemplate",""],["emptyTemplate",""],["emptySearchTemplate",""],["errorTemplate",""],[1,"bb-block","bb-block--xs",3,"ngClass"],[1,"row"],[1,"col","bb-stack"],[1,"bb-stack__item","bb-stack__item--fill"],["class","bb-toolbar__item","data-role","contact-manager-search","placeholder",_,"aria-label",t,3,"showSearch","showClear","formControl","valueChange","submit","keyup.enter","clear",4,"ngIf"],["aria-live","assertive",1,"sr-only"],a,[1,"bb-stack__item","align-self-start"],["bbButton","","data-role","new-contact-button","type","button",1,"d-block","bb-button-bar__button",3,"disabled","click"],i,["rt",""],["class","row d-block d-lg-none",4,"ngIf"],["class","row bb-block bb-block--md contact-all-contacts-container",4,"ngIf","ngIfElse"],[1,"row",3,"ngClass"],[1,"col-lg-6"],["class","bb-pagination",3,"page","boundaryLinks","directionLinks","totalItems","itemsPerPage","maxNavPages","pageChange",4,"ngIf"],["class","p-5 text-center",4,"ngIf"],["data-role","contact-manager-search","placeholder",_,"aria-label",t,1,"bb-toolbar__item",3,"showSearch","showClear","formControl","valueChange","submit","keyup.enter","clear"],[1,"text-truncate",3,"title"],[3,"result","term"],[1,"row","d-block","d-lg-none"],["bbButton","","color","unstyled",1,"bb-text-bold","text-primary",3,"click"],["name","angle-left"],s,[1,"row","bb-block","bb-block--md","contact-all-contacts-container"],[1,"col","contact-list-container",3,"ngClass"],[3,"items","selectedItemId","showAlias","selectedChange"],[1,"col","col-lg-6","contact-details-container",3,"ngClass"],["detailsContainer",""],[1,"bb-pagination",3,"page","boundaryLinks","directionLinks","totalItems","itemsPerPage","maxNavPages","pageChange"],[1,"p-5","text-center"],["class","bb-block bb-block--md","color","secondary","data-role","contact-load-more",3,"click",4,"ngIf"],["color","secondary","data-role","contact-load-more",1,"bb-block","bb-block--md",3,"click"],r,[1,"bb-state-container"],["text",C,"data-role","contact-manager-loading"],["title",R,"subtitle",M,"iconClasses","d-flex justify-content-center mb-3","iconModifier","contacts","iconColor","primary","iconSize","xxl","data-role","contact-manager-empty"],["title",Y,"subtitle",J,"iconClasses","d-flex justify-content-center mb-3","iconModifier","search","iconColor","primary","iconSize","xxl","data-role","contact-manager-list-search-empty"],[3,"error"]]},template:function(t,o){if(1&t&&(e.F$t(),e.TgZ(0,"div",0),e.YNc(1,Dn,26,27,"ng-container",1),e.ALo(2,"async"),e.qZA(),e.YNc(3,vn,1,2,"ng-template",null,2,e.W1O),e.YNc(5,Fn,1,2,"ng-template",null,3,e.W1O),e.YNc(7,Ln,2,0,"ng-template",null,4,e.W1O),e.YNc(9,yn,2,2,"ng-template",null,5,e.W1O)),2&t){const a=e.MAs(4);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,o.items))("ngIfElse",a)}},directives:[pe.B,Ne._h,z.o,Be,ve.Jb,xe.K,W.Q,Fe.s,Le.v,m.O5,m.mk,f.JJ,f.oH,K.Hq],pipes:[m.Ov],encapsulation:2,changeDetection:0}),n})(),Ae=(()=>{class n{constructor(t,o,a,i,s,r){this.service=t,this.route=o,this.navigation=a,this.notificationService=i,this.config=s,this.cdr=r,this.itemId=this.route.paramMap.pipe((0,b.U)(C=>C.get("id"))),this.itemType$=this.route.paramMap.pipe((0,b.U)(C=>C.get("type"))),this.item=this.service.item.pipe((0,b.U)(C=>this.fromService(C))),this.notificationTimeout$=(0,B.of)(this.config.notificationDismissTime),this.isDiscardConfirmOpened=!1,this.discard$=new Z.x,this.isPendingRequest=!1,t.getItemFrom(this.itemId)}ngOnInit(){this.navigation.currentView=d.Edit,this.isPendingRequest=!1}save(t){this.isPendingRequest=!0,this.itemId.pipe((0,nt.z)(()=>this.service.save(this.toService(t))),(0,ne.K)(()=>(0,B.of)(void 0)),(0,oe.M)(this.notificationTimeout$),(0,b.U)(([o,a])=>({id:o,timeout:a})),(0,Se.q)(1)).subscribe(({id:o,timeout:a})=>{this.isPendingRequest=!1,this.formComponent.contactsForm.markAsPristine(),o?(this.navigation.select(o),this.notificationService.showNotification({header:t.id?this.notificationEditSuccessTemplate:this.notificationCreateSuccessTemplate,message:"",modifier:"success",ttl:a})):this.notificationService.showNotification({header:t.id?this.notificationEditErrorTemplate:this.notificationCreateErrorTemplate,message:"",modifier:"error",ttl:a}),this.navigation.currentView=d.List,this.navigation.list()})}canDeactivate(){var t,o;return!(null===(o=null===(t=this.formComponent)||void 0===t?void 0:t.contactsForm)||void 0===o?void 0:o.dirty)||(this.isDiscardConfirmOpened=!0,this.discard$.complete(),this.discard$=new Z.x,this.cdr.markForCheck(),this.discard$)}cancelEdit(t){t?(this.navigation.select(t),this.navigation.currentView=d.Detail):(this.navigation.list(),this.navigation.currentView=d.List)}back(t){t?(this.navigation.list(),this.navigation.currentView=d.List):(this.navigation.newContact(),this.navigation.currentView=d.Select)}fromService(t){return t?{id:t.id,name:t.name,IBAN:t.accounts&&t.accounts[0]&&t.accounts[0].IBAN?t.accounts[0].IBAN:void 0,accountNumber:t.accounts&&t.accounts[0]&&t.accounts[0].accountNumber?t.accounts[0].accountNumber:void 0,email:t.accounts&&t.accounts[0]&&t.accounts[0].email?t.accounts[0].email:void 0,phoneNumber:t.accounts&&t.accounts[0]&&t.accounts[0].phoneNumber?t.accounts[0].phoneNumber:void 0,accounts:t.accounts||[],additions:t.additions||{}}:{id:"",name:"",surname:"",initials:"",accounts:[],additions:{}}}toService(t){return Object.assign({id:t.id,name:t.name,accounts:[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t.accounts&&t.accounts[0]?t.accounts[0]:{}),t.IBAN?{IBAN:t.IBAN}:{}),t.accountNumber?{accountNumber:t.accountNumber}:{}),t.phoneNumber?{phoneNumber:t.phoneNumber}:{}),t.email?{email:t.email}:{})]},t.additions?{additions:t.additions}:{})}deleteContactsItem(t){this.service.delete(t),this.navigation.list(),this.navigation.currentView=d.List}onConfirmDiscard(){this.discard$.next(!0),this.discard$.complete(),this.isDiscardConfirmOpened=!1}onCancelDiscard(){this.discard$.next(!1),this.discard$.complete(),this.isDiscardConfirmOpened=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j),e.Y36(L.gz),e.Y36(k),e.Y36(ye.gq),e.Y36(q),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-contacts-form-container"]],viewQuery:function(t,o){if(1&t&&(e.Gf(se,5),e.Gf(Gn,5),e.Gf(Pn,5),e.Gf(Kn,5),e.Gf(Yn,5),e.Gf(wn,5)),2&t){let a;e.iGM(a=e.CRH())&&(o.formComponent=a.first),e.iGM(a=e.CRH())&&(o.notificationCreateSuccessTemplate=a.first),e.iGM(a=e.CRH())&&(o.notificationCreateErrorTemplate=a.first),e.iGM(a=e.CRH())&&(o.notificationEditSuccessTemplate=a.first),e.iGM(a=e.CRH())&&(o.notificationEditErrorTemplate=a.first),e.iGM(a=e.CRH())&&(o.discardChangesModalContent=a.first)}},decls:21,vars:6,consts:function(){let _,t,o,a,i,s,r,C,R;return _="Discard Changes",t=" Are you sure you want to discard your changes? This action cannot be undone. ",o="Not now",a="Discard",i=" Successfully saved Contact ",s=" Error saving Contact ",r=" Successfully saved Contact ",C=" Error saving Contact ",R="Loading...",[[4,"ngIf","ngIfElse"],["notificationCreateSuccess",""],["notificationCreateError",""],["notificationEditSuccess",""],["notificationEditError",""],["loadingTemplate",""],[3,"isOpen","confirmButtonColor","confirm","cancel"],["title",""],_,["body",""],t,["cancelButtonLabel",""],o,["confirmButtonLabel",""],a,[3,"item","type","disabledSubmit","save","cancelEdit","backEvent","deleteContactsItem"],["data-role","successfully-saved-contact","role","alert","aria-atomic","true"],i,["data-role","failed-to-save-contact","role","alert","aria-atomic","true"],s,r,C,[1,"bb-state-container"],["text",R]]},template:function(t,o){if(1&t&&(e.YNc(0,Zn,3,5,"ng-container",0),e.ALo(1,"async"),e.YNc(2,kn,2,0,"ng-template",null,1,e.W1O),e.YNc(4,Hn,2,0,"ng-template",null,2,e.W1O),e.YNc(6,Wn,2,0,"ng-template",null,3,e.W1O),e.YNc(8,Qn,2,0,"ng-template",null,4,e.W1O),e.YNc(10,$n,2,0,"ng-template",null,5,e.W1O),e.TgZ(12,"bb-confirm-action-dialog",6),e.NdJ("confirm",function(){return o.onConfirmDiscard()})("cancel",function(){return o.onCancelDiscard()}),e.TgZ(13,"span",7),e.SDv(14,8),e.qZA(),e.TgZ(15,"span",9),e.SDv(16,10),e.qZA(),e.TgZ(17,"span",11),e.SDv(18,12),e.qZA(),e.TgZ(19,"span",13),e.SDv(20,14),e.qZA()()),2&t){const a=e.MAs(11);e.Q6J("ngIf",e.lcZ(1,4,o.item))("ngIfElse",a),e.xp6(12),e.Q6J("isOpen",o.isDiscardConfirmOpened)("confirmButtonColor","danger")}},directives:[se,W.Q,be,m.O5],pipes:[m.Ov],encapsulation:2,changeDetection:0}),n})(),Ge=(()=>{class n{constructor(t,o,a,i,s){this.service=t,this.route=o,this.navigation=a,this.notificationService=i,this.config=s,this.itemId=this.route.paramMap.pipe((0,b.U)(r=>r.get("id"))),this.item=this.service.item,this.notificationTimeout$=(0,B.of)(this.config.notificationDismissTime),this.contactTypeId$=this.service.getAccountType(),this.subscriptions=new je.w0,t.getItemFrom(this.itemId)}ngOnInit(){this.subscriptions.add(this.itemId.subscribe(t=>{this.navigation.currentView=t?d.Detail:d.List})),this.subscriptions.add(this.service.deleteSuccess.pipe((0,oe.M)(this.notificationTimeout$),(0,b.U)(([t,o])=>({timeout:o}))).subscribe(({timeout:t})=>this.notificationService.showNotification({header:this.deleteSuccessNotificationTemplate,message:"",modifier:"success",ttl:t}))),this.subscriptions.add(this.service.deleteError.pipe((0,oe.M)(this.notificationTimeout$),(0,b.U)(([t,o])=>({error:t,timeout:o}))).subscribe(({timeout:o})=>this.notificationService.showNotification({header:this.deleteErrorNotificationTemplate,message:"",modifier:"error",ttl:o})))}ngOnDestroy(){this.subscriptions.unsubscribe()}edit(t){this.navigation.edit(t.id,t.type)}deleteContactsItem(t){this.service.delete(t),this.navigation.list(),this.navigation.currentView=d.List}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j),e.Y36(L.gz),e.Y36(k),e.Y36(ye.gq),e.Y36(q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-contacts-detail-container"]],viewQuery:function(t,o){if(1&t&&(e.Gf(qn,5),e.Gf(zn,5)),2&t){let a;e.iGM(a=e.CRH())&&(o.deleteSuccessNotificationTemplate=a.first),e.iGM(a=e.CRH())&&(o.deleteErrorNotificationTemplate=a.first)}},decls:8,vars:4,consts:function(){let _,t,o;return _="Loading...",t=" Contact was deleted succesfully ",o=" Error deleting contact ",[[4,"ngIf","ngIfElse"],["loadingTemplate",""],["deleteSuccessNotificationTemplate",""],["deleteErrorNotificationTemplate",""],[3,"item","type","editContactsItem","deleteContactsItem"],[1,"bb-state-container"],["text",_],["role","alert","aria-atomic","true"],t,o]},template:function(t,o){if(1&t&&(e.YNc(0,Vn,3,4,"ng-container",0),e.ALo(1,"async"),e.YNc(2,jn,2,0,"ng-template",null,1,e.W1O),e.YNc(4,Xn,2,0,"ng-template",null,2,e.W1O),e.YNc(6,eo,2,0,"ng-template",null,3,e.W1O)),2&t){const a=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,o.item))("ngIfElse",a)}},directives:[re,W.Q,m.O5],pipes:[m.Ov],encapsulation:2,changeDetection:0}),n})(),Pe=(()=>{class n{constructor(t){this.navigation=t,this.selectedAccountType=new e.vpe,this.createAccountTypeRef=l}ngOnInit(){var t;this.navigation.currentView=d.Edit,(0===this.noOfItemsinList||1===this.noOfItemsinList)&&this.navigation.newContactForm((null===(t=this.listOfAccountTypes.find(o=>o.enableItem))||void 0===t?void 0:t.listItem)||this.createAccountTypeRef.IBAN)}ngAfterViewChecked(){this.setFocusOnFirstElement()}updateCreateContactType(t){this.navigation.currentView=d.Edit,this.navigation.newContactForm(t.listItem)}setFocusOnFirstElement(){var t;(null===(t=this.buttonList)||void 0===t?void 0:t.length)&&this.buttonList.first.nativeElement.focus()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(k))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-contact-account-select-type"]],viewQuery:function(t,o){if(1&t&&e.Gf(to,5),2&t){let a;e.iGM(a=e.CRH())&&(o.buttonList=a)}},inputs:{listOfAccountTypes:"listOfAccountTypes",noOfItemsinList:"noOfItemsinList"},outputs:{selectedAccountType:"selectedAccountType"},decls:14,vars:2,consts:function(){let _,t,o,a,i,s;return _=" Create new contact ",t=" Select which information you want to use to create a contact. You can move money with an account number, a phone number or an email ",o="With an IBAN ",a="With an account number ",i="With an email ",s="With a phone number ",[[1,"bb-block","bb-block--xl"],[1,"bb-stack","bb-stack--align-bottom"],[1,"bb-stack__item","bb-stack__item--fill"],["data-role","contact-details-info-name",1,"bb-block"],["data-role","create-contact-label","aria-hidden","true",1,"d-none"],["heading",""],_,["data-role","create-new-contact-label","headingType","h3",3,"heading"],[1,"bb-lock","bb-text-support"],["data-role","create-contact-select-new-account-info",1,"bb-bock"],t,[1,"bb-select-payment-option"],[4,"ngFor","ngForOf"],["class","m-2 col bb-select-payment-option__label align-center","bbButton","","color","link-dark","autofocus","true",3,"click",4,"ngIf"],["bbButton","","color","link-dark","autofocus","true",1,"m-2","col","bb-select-payment-option__label","align-center",3,"click"],["button",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["name","person-outline",1,"col-1","bb-text-support"],["data-role","iban-item",1,"col-10","text-left"],o,[1,"col","bb-stack"],["name","angle-right",1,"bb-stack__item","col-1","bb-text-support"],["data-role","account-number-item",1,"col-10","text-left"],a,["name","inbox",1,"col-1","bb-text-support"],["data-role","email-item",1,"col-10","text-left"],i,["name","phone",1,"col-1","bb-text-support"],["data-role","phone-number-item",1,"col-10","text-left"],s]},template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4,5),e.SDv(6,6),e.qZA(),e._UZ(7,"bb-header-ui",7),e.qZA()()()(),e._UZ(8,"hr"),e.TgZ(9,"div",8)(10,"div",9),e.SDv(11,10),e.qZA()(),e.TgZ(12,"div",11),e.YNc(13,co,2,1,"ng-container",12),e.qZA()),2&t){const a=e.MAs(5);e.xp6(7),e.Q6J("heading",a.textContent),e.xp6(6),e.Q6J("ngForOf",o.listOfAccountTypes)}},directives:[H.G,z.o,m.sg,m.O5,K.Hq,m.RF,m.n9],encapsulation:2}),n})(),Ke=(()=>{class n{constructor(t){this.config=t,this.allowEmail$=(0,B.of)(this.config.createContactEmail),this.allowIBAN$=(0,B.of)(this.config.createContactIBAN),this.allowAccount$=(0,B.of)(this.config.createContactAccount),this.allowPhone$=(0,B.of)(this.config.createContactPhone),this.createContactList$=(0,$.a)([this.allowAccount$,this.allowIBAN$,this.allowPhone$,this.allowEmail$]).pipe((0,ge.b)(o=>this.noOfItemsinList=o.filter(a=>a&&"boolean"==typeof a).length),(0,b.U)(([o,a,i,s])=>[{listItem:l.ACCOUNT,enableItem:null==o?void 0:o.valueOf()},{listItem:l.IBAN,enableItem:null==a?void 0:a.valueOf()},{listItem:l.PHONE,enableItem:null==i?void 0:i.valueOf()},{listItem:l.EMAIL,enableItem:null==s?void 0:s.valueOf()}]))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-contacts-type-list-container"]],decls:2,vars:4,consts:[[3,"listOfAccountTypes","noOfItemsinList"]],template:function(t,o){1&t&&(e._UZ(0,"bb-contact-account-select-type",0),e.ALo(1,"async")),2&t&&e.Q6J("listOfAccountTypes",e.lcZ(1,2,o.createContactList$))("noOfItemsinList",o.noOfItemsinList)},directives:[Pe],pipes:[m.Ov],encapsulation:2}),n})();const ro=[H.O,z.Q,W.p,Re,ve.u3,xe.C,pe.F,K.hJ,Le.N,Fe.P,Ne.ZS,f.UX];let so=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[...Ve],imports:[[m.ez,L.Bz,Nn,...ro]]}),n})();var lo=c(5191);let Ao=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-contact-manager-journey"]],features:[e._Bn([k])],decls:3,vars:0,consts:function(){let _;return _="Manage Contacts",[["heading",_,"headingType","h1"]]},template:function(t,o){1&t&&(e._UZ(0,"bb-header-ui",0),e.TgZ(1,"bb-contacts-list-container"),e._UZ(2,"router-outlet"),e.qZA())},directives:[H.G,Je,L.lC],encapsulation:2,changeDetection:0}),n})(),Ye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-contact-manager-detail-view"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"bb-contacts-detail-container")},directives:[Ge],encapsulation:2,changeDetection:0}),n})();const Eo=[{path:"",component:Ao,children:[{path:"",component:Ye},{path:"select",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-contact-manager-type-list-view"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"bb-contacts-type-list-container")},directives:[Ke],encapsulation:2,changeDetection:0}),n})()},{path:":id",component:Ye},{path:"edit/:id/:type",canDeactivate:[me],component:(()=>{class n{canDeactivate(){var t;const o=null===(t=this.contactsFormContainerComponent)||void 0===t?void 0:t.canDeactivate();return(0,lo.b)(o)?o.pipe((0,Se.q)(1)).toPromise():null==o||o}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-contact-manager-form-view"]],viewQuery:function(t,o){if(1&t&&e.Gf(Ae,5),2&t){let a;e.iGM(a=e.CRH())&&(o.contactsFormContainerComponent=a.first)}},decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"bb-contacts-form-container")},directives:[Ae],encapsulation:2,changeDetection:0}),n})()}]}];let uo=(()=>{class n{static forRoot(t={routes:Eo}){return{ngModule:n,providers:[(0,L.co)(t.routes),E.Eq,u]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.ez,H.O,so,L.Bz]]}),n})();const Co={provide:de,useValue:{createContactIBAN:!1,createContactAccount:!0,createContactPhone:!0,createContactEmail:!0}};let mo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[Co],imports:[[uo.forRoot()]]}),n})()},5191:(V,y,c)=>{c.d(y,{b:()=>p});var E=c(9751),e=c(576);function p(T){return!!T&&(T instanceof E.y||(0,e.m)(T.lift)&&(0,e.m)(T.subscribe))}},4747:(V,y,c)=>{c.d(y,{Le:()=>x,cY:()=>G,kU:()=>w});var E=c(5e3),e=c(682);const p={segments:4},T=new E.OlP("ACCOUNTS_DISPLAYING_FORMAT_TOKEN");let x=(()=>{class S{constructor(N){this.accountsDisplayingFormat=N}getDefaultFormat(N,D){var O,I;return"cardNumber"===N?this.getCardNumberFormat(D):null!==(I=null===(O=this.accountsDisplayingFormat)||void 0===O?void 0:O[N])&&void 0!==I?I:p}getCardNumberFormat(N){var D;const O=null===(D=this.accountsDisplayingFormat)||void 0===D?void 0:D.cardNumber,I=Object.entries((null==O?void 0:O.cardProviders)||{}).reduce((A,g)=>Object.assign(Object.assign({},A),{[g[0].toLowerCase()]:g[1]}),{});return N&&I[N.toLowerCase()]?I[N.toLowerCase()]:null!=O?O:p}}return S.\u0275fac=function(N){return new(N||S)(E.LFG(T,8))},S.\u0275prov=E.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),w=(()=>{class S{constructor(N){this.accountsDisplayingFormatService=N}transform(N,D,O){const I=N.toString(),A="object"==typeof D?D:this.accountsDisplayingFormatService.getDefaultFormat(D,O);return(0,e.EX)(I,A.segments)}}return S.\u0275fac=function(N){return new(N||S)(E.Y36(x,16))},S.\u0275pipe=E.Yjl({name:"bbAccountNumber",type:S,pure:!0}),S})(),G=(()=>{class S{}return S.\u0275fac=function(N){return new(N||S)},S.\u0275mod=E.oAB({type:S}),S.\u0275inj=E.cJS({}),S})()},7921:(V,y,c)=>{c.d(y,{Jb:()=>O,UX:()=>I,u3:()=>I});var E=c(9808),e=c(5e3),p=c(7656),T=c(9287);function x(A,g){if(1&A&&(e.TgZ(0,"span",8),e._uU(1),e.qZA(),e.TgZ(2,"span",9),e.SDv(3,10),e.qZA()),2&A){const u=g.$implicit;e.xp6(1),e.Oqu(u),e.xp6(2),e.pQV(u),e.QtT(3)}}function w(A,g){1&A&&e._UZ(0,"bb-icon-ui",11)}function G(A,g){1&A&&e._UZ(0,"bb-icon-ui",12)}function S(A,g){1&A&&e._UZ(0,"bb-icon-ui",13)}function h(A,g){1&A&&e._UZ(0,"bb-icon-ui",14)}function N(A,g){1&A&&(e.TgZ(0,"span",15),e._uU(1,"..."),e.qZA())}function D(A,g){if(1&A){const u=e.EpF();e.TgZ(0,"ngb-pagination",1),e.NdJ("pageChange",function(d){return e.CHM(u),e.oxw().onPageChange(d)}),e.YNc(1,x,4,2,"ng-template",2),e.YNc(2,w,1,0,"ng-template",3),e.YNc(3,G,1,0,"ng-template",4),e.YNc(4,S,1,0,"ng-template",5),e.YNc(5,h,1,0,"ng-template",6),e.YNc(6,N,2,0,"ng-template",7),e.qZA()}if(2&A){const u=e.oxw();e.Q6J("boundaryLinks",u.boundaryLinks)("collectionSize",u.totalItems)("directionLinks",u.directionLinks)("maxSize",u.maxNavPages)("pageSize",u.itemsPerPage)("page",u.page+1)("rotate",!0)}}let O=(()=>{class A{constructor(){this.page=1,this.boundaryLinks=!1,this.directionLinks=!1,this.totalItems=0,this.itemsPerPage=10,this.maxNavPages=5,this.pageChange=new e.vpe}onPageChange(u){this.pageChange.emit(u-1)}}return A.\u0275fac=function(u){return new(u||A)},A.\u0275cmp=e.Xpm({type:A,selectors:[["bb-pagination-ui"]],inputs:{page:"page",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",totalItems:"totalItems",itemsPerPage:"itemsPerPage",maxNavPages:"maxNavPages"},outputs:{pageChange:"pageChange"},features:[e._Bn([p.pM])],decls:1,vars:1,consts:function(){let g;return g="page " + "\ufffd0\ufffd" + "",[["class","d-flex justify-content-center bb-pagination",3,"boundaryLinks","collectionSize","directionLinks","maxSize","pageSize","page","rotate","pageChange",4,"ngIf"],[1,"d-flex","justify-content-center","bb-pagination",3,"boundaryLinks","collectionSize","directionLinks","maxSize","pageSize","page","rotate","pageChange"],["ngbPaginationNumber",""],["ngbPaginationFirst",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationLast",""],["ngbPaginationEllipsis",""],["aria-hidden","true"],[1,"sr-only"],g,["data-role","pagination-icon-first","size","md","name","first-page"],["data-role","pagination-icon-previous","size","md","name","chevron-left"],["data-role","pagination-icon-next","size","md","name","chevron-right"],["data-role","pagination-icon-last","size","md","name","last-page"],["data-role","pagination-ellipsis",1,"bb-pagination__ellipsis"]]},template:function(u,l){1&u&&e.YNc(0,D,7,7,"ngb-pagination",0),2&u&&e.Q6J("ngIf",+l.itemsPerPage<+l.totalItems)},directives:[p.N9,T.o,E.O5,p.LD,p.eC,p.ju,p.GZ,p.pV,p.tg],encapsulation:2}),A})(),I=(()=>{class A{}return A.\u0275fac=function(u){return new(u||A)},A.\u0275mod=e.oAB({type:A}),A.\u0275inj=e.cJS({imports:[[E.ez,p.jF,T.Q]]}),A})()},9136:(V,y,c)=>{c.d(y,{J:()=>I,R:()=>O});var E=c(5e3),e=c(9144),p=c(682),T=c(4483),x=c(3075),w=c(6746),G=c(9808),S=c(3203);function h(A,g){if(1&A&&(E.TgZ(0,"label",5),E._uU(1),E.qZA()),2&A){const u=E.oxw();E.s9C("for",u.id),E.uIk("data-role","textarea-label"),E.xp6(1),E.Oqu(u.label)}}function N(A,g){if(1&A&&E._UZ(0,"bb-char-counter-ui",6),2&A){const u=E.oxw(),l=E.MAs(3);E.Q6J("element",l)("inputValue",u.value)("maxLength",u.maxLength),E.uIk("id",u.charCounterId)("data-role","textarea-char-counter")}}const D=function(A,g){return{"ng-invalid":A,"ng-touched":g}};let O=(()=>{class A extends e.rA{constructor(u,l,d){super(u),this.cd=u,this.domAttributesService=l,this.parentFormControl=d,this.placeholder="",this.readonly=!1,this.showCharCounter=!1,this.idListAttr=p.hQ,this.charCounterId=this.domAttributesService.generateId(),this.parentFormControl&&(this.parentFormControl.valueAccessor=this)}}return A.\u0275fac=function(u){return new(u||A)(E.Y36(E.sBO),E.Y36(T.JE),E.Y36(x.a5,10))},A.\u0275cmp=E.Xpm({type:A,selectors:[["bb-textarea-ui"]],inputs:{rows:"rows",cols:"cols",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",readonly:"readonly",showCharCounter:"showCharCounter",wrap:"wrap"},features:[E.qOj],decls:5,vars:27,consts:[[1,"bb-textarea-ui",3,"ngClass"],[3,"for",4,"ngIf"],[1,"form-control",3,"id","ngModel","rows","cols","disabled","readOnly","bbFocus","placeholder","required","wrap","ngModelChange","blur","focus"],["textarea",""],[3,"element","inputValue","maxLength",4,"ngIf"],[3,"for"],[3,"element","inputValue","maxLength"]],template:function(u,l){1&u&&(E.TgZ(0,"div",0),E.YNc(1,h,2,3,"label",1),E.TgZ(2,"textarea",2,3),E.NdJ("ngModelChange",function(Q){return l.onValueChange(Q)})("blur",function(){return l.onBlur()})("focus",function(){return l.onFocus()}),E.qZA(),E.YNc(4,N,1,5,"bb-char-counter-ui",4),E.qZA()),2&u&&(E.Q6J("ngClass",E.WLB(24,D,null==l.parentFormControl?null:l.parentFormControl.invalid,null==l.parentFormControl?null:l.parentFormControl.touched)),E.xp6(1),E.Q6J("ngIf",l.label),E.xp6(1),E.s9C("id",l.id),E.Q6J("ngModel",l.value)("rows",l.rows)("cols",l.cols)("disabled",l.disabled)("readOnly",l.readonly)("bbFocus",l.autofocus)("placeholder",l.placeholder)("required",l.required)("wrap",l.wrap),E.uIk("aria-label",l.label?null:l.ariaLabel||null)("aria-describedby",l.idListAttr(l.ariaDescribedby,l.maxLength&&l.showCharCounter?l.charCounterId:null))("aria-labelledby",l.ariaLabelledby)("aria-expanded",l.ariaExpanded)("role",l.role)("aria-invalid",l.ariaInvalid)("aria-owns",l.ariaOwns)("aria-activedescendant",l.ariaActivedescendant)("maxlength",l.maxLength)("minlength",l.minLength)("data-role","textarea-text-field"),E.xp6(2),E.Q6J("ngIf",l.maxLength&&l.showCharCounter))},directives:[w.M,G.mk,G.O5,x.Fj,x.JJ,x.On,S.R,x.Q7,x.nD,x.wO],encapsulation:2,changeDetection:0}),A})(),I=(()=>{class A{}return A.\u0275fac=function(u){return new(u||A)},A.\u0275mod=E.oAB({type:A}),A.\u0275inj=E.cJS({imports:[[G.ez,x.u5,e.$B,w.Z,S.J]]}),A})()}}]);