(self.webpackChunkretail_usa=self.webpackChunkretail_usa||[]).push([[9176],{6759:(jo,et,p)=>{"use strict";p.r(et),p.d(et,{AccountsTransactionsJourneyBundleModule:()=>UN});var e=p(5e3),r=p(9808),S=p(5357),N=p(1135),K=p(9841),re=p(1884),U=p(8505),g=p(4004),L=p(262),R=p(9646),Re=p(6451),B=p(9300),W=p(3900),O=p(727),T=p(7579),x=p(5577),P=p(4707),lt=p(4782),An=p(9751),ee=p(2722),xe=p(2940),Xo=p(5698),pe=(p(8847),p(5556)),X=p(4544),ut=p(1543),dt=p(8343),ei=p(4813),tt=p(8392),Gt=p(5170),be=p(4747),ce=p(9633),z=p(194);let ti=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),At=(()=>{class n{constructor(t,o){this._responsiveView="screen",this._sizeTablet=768,this._sizeMobile=375,this._element=t,this._changeDetector=o}get responsiveView(){return this._customResponsiveView||this._responsiveView}set responsiveView(t){this._customResponsiveView=t}get sizeMobile(){return this._sizeMobile}set sizeMobile(t){this._sizeMobile=t}get sizeTablet(){return this._sizeTablet}set sizeTablet(t){this._sizeTablet=t}ngAfterViewInit(){this._customResponsiveView||(this.checkElementSize(),this._changeDetector.detectChanges())}onResize(){this._customResponsiveView||this.checkElementSize()}checkElementSize(){var t,o;const a=(null===(o=null===(t=this._element.nativeElement)||void 0===t?void 0:t.firstElementChild)||void 0===o?void 0:o.getBoundingClientRect().width)||0;this._responsiveView=this.getResponsiveView(a)}getResponsiveView(t){let o="screen";return t<=this.sizeMobile?o="mobile":t<=this.sizeTablet&&(o="tablet"),o}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],hostBindings:function(t,o){1&t&&e.NdJ("resize",function(){return o.onResize()},!1,e.Jf7)},inputs:{responsiveView:"responsiveView"},decls:0,vars:0,template:function(t,o){},encapsulation:2}),n})(),ni=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();const oi=new e.OlP("ProductSummaryCommon :: WindowToken"),gs={provide:oi,useFactory:()=>window},bs=(new e.OlP("ProductSummaryCommon :: WidgetProperties"),new e.OlP("ProductSummaryCommon :: AccountAliasDisplayingLevel"),[pe.PQ,ti,ni]);let ii=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[gs],imports:[[r.ez,...bs],pe.PQ,ti,ni]}),n})();var pt=(()=>{return(n=pt||(pt={})).BODY="body",n.RESPONSE="response",n.EVENT="event",pt;var n})(),he=(()=>{return(n=he||(he={})).LOAD_MORE="load-more",n.PAGINATION="pagination",he;var n})(),Ae=(()=>{return(n=Ae||(Ae={})).CURRENT_ACCOUNT="Current Account",n.SAVINGS_ACCOUNT="Savings Account",n.TERM_DEPOSIT="Term Deposit",n.LOAN="Loan",n.CREDIT_CARD="Credit Card",n.DEBIT_CARD="Debit Card",n.INVESTMENT_ACCOUNT="Investment Account",Ae;var n})(),q=(()=>{return(n=q||(q={})).CREDIT_CARD="credit-card",n.CURRENT_ACCOUNT="current-account",n.DEBIT_CARD="debit-card",n.INVESTMENT_ACCOUNT="investment-account",n.LOAN="loan",n.POCKET="pocket",n.POCKET_PARENT="pocket-parent",n.SAVINGS_ACCOUNT="savings-account",n.TERM_DEPOSIT="term-deposit",q;var n})();var mt=(()=>{return(n=mt||(mt={})).CURRENT_ACCOUNT="current-account",n.SAVINGS_ACCOUNT="savings-account",n.TERM_DEPOSIT="term-deposit",n.LOAN="loan",n.CREDIT_CARD="credit-card",n.DEBIT_CARD="debit-card",n.INVESTMENT_ACCOUNT="investment-account",mt;var n})();const Ts=["credit card","debit card"];class Ds{constructor(i){this.response=i,this.kind="AccountsOverviewNotFound",this.messages=((i.error||{}).errors||[]).map(t=>t.message)}}class Ms{constructor(i){this.response=i,this.kind="AccountsOverviewBadRequest",this.messages=((i.error||{}).errors||[]).map(t=>t.message)}}class ui{constructor(i){this.response=i,this.kind="AccountsOverviewAccessDenied",this.messages=((i.error||{}).errors||[]).map(t=>t.message)}}class di{constructor(i){this.response=i,this.kind="AccountsOverviewUnknownError",this.messages=[i.message]}}class ys{constructor(i){this.response=i,this.kind="AccountsOverviewConnectivityError",this.messages=((i.error||{}).errors||[]).map(t=>t.message)}}const Ai=n=>{if(n.error instanceof ErrorEvent)return new di(n);switch(n.status){case 0:return new ys(n);case 401:case 403:return new ui(n);case 400:return new Ms(n);case 404:return new Ds(n);default:return new di(n)}},pi="bb.event.toggle-account-favorite.update";let mi=(()=>{class n{constructor(t,o,a,_,s){var c;this.productSummaryDataService=t,this.accountDataService=o,this.balancesHttpService=a,this.notificationService=_,this.pubSub=s,this.requestObject=new P.t(1),this.favoriteRequestComplete=new N.X(!0),this.updateError=new N.X(void 0),this.error=new N.X(void 0),this.loading=new N.X(!0),this.aggregatedBalancesErrorSubject=new N.X(void 0),this.aggregatedBalancesError=this.aggregatedBalancesErrorSubject.asObservable(),this.loadingAggregatedBalancesSubject=new N.X(!1),this.loadingAggregatedBalances=this.loadingAggregatedBalancesSubject.asObservable(),this.refreshAggregatedBalancesSubject=new N.X(!1),this.accountsList=(0,K.a)([this.requestObject,this.favoriteRequestComplete]).pipe((0,re.x)(),(0,U.b)(()=>this.loading.next(!0)),(0,W.w)(([l])=>this.getAccounts(l)),(0,xe.R)((l,u)=>({count:u.count,items:this.mergeResponses(l,u),params:u.params})),(0,U.b)(()=>this.error.next(void 0)),(0,L.K)(l=>(this.error.next(l),(0,R.of)(void 0))),(0,U.b)(()=>this.loading.next(!1))),this.aggregatedBalances=(0,K.a)([this.refreshAggregatedBalancesSubject]).pipe((0,U.b)(()=>this.loadingAggregatedBalancesSubject.next(!0)),(0,W.w)(()=>this.getAggregatedBalances()),(0,U.b)(()=>this.loadingAggregatedBalancesSubject.next(!1))),null===(c=this.pubSub)||void 0===c||c.subscribe(pi,this.retriggerGetAccounts.bind(this))}getAccountById(t){return this.accountDataService.getArrangementById({arrangementId:t})}getUnmaskedAttribute(t){return this.accountDataService.unmaskedAttribute(t,"body",!1,{httpHeaderAccept:"text/plain"})}toggleAccountFavorite(t,o,a){return this.putAccountFavorite(t).pipe((0,Xo.q)(1),(0,U.b)(()=>{var _;this.showNotification(a,"success"),this.updateError.next(void 0),null===(_=this.pubSub)||void 0===_||_.publish(pi,void 0)}),(0,L.K)(_=>(this.updateError.next(_),this.showNotification(o,"error"),(0,R.of)(void 0))))}putAccountFavorite(t){return this.accountDataService.updateUserPreferences({accountUserPreferences:t}).pipe((0,L.K)(o=>{throw Ai(o)}))}getAccounts(t){const o=t.paginationType||"",a=t.from||0,_=Object.assign({},t);return delete _.paginationType,this.productSummaryDataService.getArrangementsByBusinessFunction(_,pt.RESPONSE).pipe((0,g.U)(s=>this.mapResponseWithCount(s,{from:a,paginationType:o})),(0,L.K)(s=>{throw Ai(s)}))}mapResponseWithCount(t,{from:o,paginationType:a}){if(null===t.body)throw new Error;const _=t.headers?t.headers.get("x-total-count"):void 0;return{count:_?parseInt(_,10):t.body.length||0,items:t.body||[],params:{from:o,paginationType:a}}}mergeResponses(t,o){return t&&t.items&&o&&o.items&&t.params.paginationType===he.LOAD_MORE&&0!==o.params.from?[...t.items,...o.items]:o.items}showNotification(t,o){this.notificationService.showNotification({header:t,modifier:o,message:""})}getAccountsFrom(t){t.subscribe(this.requestObject)}refreshAggregatedBalances(){this.refreshAggregatedBalancesSubject.next(!0)}getAggregatedBalances(){return this.balancesHttpService.getAggregations({}).pipe((0,g.U)(o=>this.mapResponseToAggregatedBalances(o)),(0,U.b)(()=>this.aggregatedBalancesErrorSubject.next(void 0)),(0,L.K)(o=>this.parseAggregatedBalanceError(o)))}mapResponseToAggregatedBalances(t){const o=(t||[{}])[0];return o&&o.aggregatedBalances}parseAggregatedBalanceError(t){return this.aggregatedBalancesErrorSubject.next(t),(0,R.of)(void 0)}retriggerGetAccounts(){this.favoriteRequestComplete.next(!0)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(X.IK),e.LFG(X.X4),e.LFG(X.LQ),e.LFG(pe.gq),e.LFG(tt.h,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const mn=(n="")=>n?n.trim().toLowerCase().split(" ").join("-"):"",Si=n=>n.userPreferences&&void 0!==n.userPreferences.visible?n.userPreferences.visible:void 0===n.visible||n.visible,bi=n=>n.userPreferences?n.userPreferences.alias?n.userPreferences.alias:n.bankAlias||n.name:n.bankAlias||n.name||"",Sn=n=>{const i=(n=>Boolean(n.productKindName&&Ts.includes(n.productKindName.toLowerCase())))(n);return i&&"number"in n?"cardNumber":"IBAN"in n?"iban":"BBAN"in n||i?"bban":"cardNumber"},gn=n=>n?n.join(" "):void 0,Bs=(n,i,t)=>Object.assign(Object.assign({},n||{}),i?{[i]:t}:{}),Ye=n=>void 0!==n.financialInstitutionId;let we=(()=>{class n{constructor(t){this.financialInstitutionsHttpService=t}getProductsWithExternalInfo(t){const o=Array.isArray(t)?t:[t],a=this.getAssignedFinancialInstitutionIds(o);return a.length?this.getFinancialInstitutions(a).pipe((0,g.U)(_=>Array.isArray(t)?o.map(s=>this.addExternalInfoToProduct(s,_)):this.addExternalInfoToProduct(t,_)),(0,L.K)(()=>(0,R.of)(t))):(0,R.of)(t)}getAssignedFinancialInstitutionIds(t){const a=t.filter(Ye).map(_=>_.financialInstitutionId);return a.filter((_,s)=>-1===a.indexOf(_,s+1))}addExternalInfoToProduct(t,o){return Object.assign(Object.assign({},t),this.getExternalInfo(t,o))}getExternalInfo(t,o){return Ye(t)?{financialInstitution:o.find(_=>_.id===t.financialInstitutionId)}:{}}getFinancialInstitutions(t){return this.financialInstitutionsHttpService.getFinancialInstitutions({ids:t}).pipe((0,ei.j)("financialInstitutions"))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Gt.R6))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();new Date("2017-06-01T00:00:00.000Z"),new Date("2017-06-01T00:00:00Z"),new Date("2017-06-01T00:00:00+0000"),new Date("2017-06-01T00:00:00.000Z"),new Date("2017-06-01T00:00:00.000Z"),new Date("2017-06-01T00:00:00.000Z"),new Date("2017-06-01T00:00:00.000Z"),new Date("2017-06-01T00:00:00.000Z"),new Date("2017-06-01T00:00:00.000Z");const Ti=n=>"object"==typeof n&&null!==n,bn=(n,i)=>{if(Array.isArray(n)&&Array.isArray(i))return n.length===i.length&&n.every((t,o)=>bn(t,i[o]));if(Array.isArray(n)||Array.isArray(i))return!1;if(Ti(n)&&Ti(i)){const t=n,o=i,a=Object.keys(t),_=Object.keys(o);return a.length===_.length&&a.every(s=>bn(t[s],o[s]))}return n===i};let Tn=(()=>{class n{transform(t){const o=Sn(t);return"iban"===o&&"IBAN"in t?t.IBAN:"bban"===o&&"BBAN"in t?t.BBAN:"number"in t?t.number:""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"bbProductNumberValue",type:n,pure:!0}),n})(),Cn=(()=>{class n{transform(t){return Sn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"bbProductNumberType",type:n,pure:!0}),n})();const Gs=[be.cY,ce.nj];let Nn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,...Gs],be.cY,ce.nj]}),n})(),St=(()=>{class n{transform(t){return(n=>null!=n)(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"bbIsDefined",type:n,pure:!0}),n})(),De=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez]]}),n})(),fi=(()=>{class n{constructor(t){this.datePipe=t,this.millisecondsInPeriod={day:864e5,hours:72e5,hour:36e5,minutes:12e4,minute:6e4},this.localisationByPeriod={date:o=>"Updated on " + o + "",hours:o=>"Updated " + o + " hours ago",hour:()=>"Updated 1 hour ago",minutes:o=>"Updated " + o + " minutes ago",minute:()=>"Updated 1 minute ago"}}transform(t,o="longDate"){const a=Math.max((new Date).getTime()-new Date(t).getTime(),0);if(a<this.millisecondsInPeriod.minutes)return this.localisationByPeriod.minute();if(a<this.millisecondsInPeriod.hour){const _=Math.floor(a/this.millisecondsInPeriod.minute);return this.localisationByPeriod.minutes(_)}if(a<this.millisecondsInPeriod.hours)return this.localisationByPeriod.hour();if(a<this.millisecondsInPeriod.day){const _=Math.floor(a/this.millisecondsInPeriod.hour);return this.localisationByPeriod.hours(_)}{const _=this.datePipe.transform(t,o);return this.localisationByPeriod.date(_)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.y,16))},n.\u0275pipe=e.Yjl({name:"bbDateUpdatedAgo",type:n,pure:!0}),n})();const ws=[z.G];let gt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[z.y],imports:[[r.ez,...ws],z.G]}),n})();var b=p(9287),f=p(7555),v=p(7605),Ee=p(4265),Me=p(5612),H=p(429),G=p(2172),w=p(5893),me=p(9774),I=p(3075),ke=p(2908),nt=(p(3759),p(5413)),Z=p(4951),Te=(p(4619),p(4376),p(6888)),Se=(p(1156),p(4058)),te=p(1892),hn=p(6331),Oe=p(7656),bt=p(1362),Et=p(6038),Tt=p(2780),Ct=p(6026),Nt=p(6621),Ft=p(4275),ft=p(2527),Ke=p(3533),It=p(7921),Fe=p(7287);function ks(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div")(2,"img",4),e.NdJ("error",function(){return e.CHM(t),e.oxw().$implicit.onImgError()}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Gre("bb-stack bb-icon bb-icon--",t.logoSize," bb-icon__background"),e.xp6(1),e.Q6J("src",t.logoSrc,e.LSH)}}function Ks(n,i){if(1&n&&e._UZ(0,"bb-icon-ui",5),2&n){const t=e.oxw().$implicit;e.Q6J("size",t.iconSize)("color",t.iconColor||t.getProductKindIconColor())("name",t.getProductKindIconName())}}function Fs(n,i){if(1&n&&(e.YNc(0,ks,3,4,"ng-container",2),e.YNc(1,Ks,1,3,"ng-template",null,3,e.W1O)),2&n){const t=i.$implicit,o=e.MAs(2);e.Q6J("ngIf",t.logoSrc&&!t.isImgError)("ngIfElse",o)}}function Js(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return a.$implicit.onUnmask(a.context.productType)}),e._UZ(1,"bb-icon-ui",9),e.qZA()}if(2&n){e.oxw();const t=e.MAs(5);e.Q6J("bbTooltip",t)("circle",!0)}}function Ws(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return a.$implicit.onMask(a.context.productType)}),e._UZ(1,"bb-icon-ui",11),e.qZA()}if(2&n){e.oxw();const t=e.MAs(7);e.Q6J("bbTooltip",t)("circle",!0)}}function Zs(n,i){1&n&&(e.ynx(0),e.SDv(1,15),e.BQk())}function Hs(n,i){1&n&&(e.ynx(0),e.SDv(1,16),e.BQk())}function Ys(n,i){1&n&&(e.ynx(0),e.SDv(1,17),e.BQk())}function zs(n,i){1&n&&(e.ynx(0),e.SDv(1,18),e.BQk())}function Qs(n,i){if(1&n&&(e.ynx(0,12),e.YNc(1,Zs,2,0,"ng-container",13),e.YNc(2,Hs,2,0,"ng-container",13),e.YNc(3,Ys,2,0,"ng-container",13),e.YNc(4,zs,2,0,"ng-container",14),e.BQk()),2&n){const t=e.oxw(2).context.productType;e.Q6J("ngSwitch",t),e.xp6(1),e.Q6J("ngSwitchCase","iban"),e.xp6(1),e.Q6J("ngSwitchCase","bban"),e.xp6(1),e.Q6J("ngSwitchCase","cardNumber")}}function $s(n,i){1&n&&(e.ynx(0),e.SDv(1,19),e.BQk())}function Vs(n,i){1&n&&(e.ynx(0),e.SDv(1,20),e.BQk())}function qs(n,i){1&n&&(e.ynx(0),e.SDv(1,21),e.BQk())}function js(n,i){1&n&&(e.ynx(0),e.SDv(1,22),e.BQk())}function Xs(n,i){if(1&n&&(e.ynx(0,12),e.YNc(1,$s,2,0,"ng-container",13),e.YNc(2,Vs,2,0,"ng-container",13),e.YNc(3,qs,2,0,"ng-container",13),e.YNc(4,js,2,0,"ng-container",14),e.BQk()),2&n){const t=e.oxw(2).context.productType;e.Q6J("ngSwitch",t),e.xp6(1),e.Q6J("ngSwitchCase","iban"),e.xp6(1),e.Q6J("ngSwitchCase","bban"),e.xp6(1),e.Q6J("ngSwitchCase","cardNumber")}}function er(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Js,2,2,"button",4),e.YNc(2,Ws,2,2,"ng-template",null,5,e.W1O),e.YNc(4,Qs,5,4,"ng-template",null,6,e.W1O),e.YNc(6,Xs,5,4,"ng-template",null,7,e.W1O),e.BQk()),2&n){const t=e.MAs(3),o=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",o.masked)("ngIfElse",t)}}function tr(n,i){if(1&n&&(e.TgZ(0,"span",2),e._uU(1),e.ALo(2,"bbAccountNumber"),e.qZA(),e.YNc(3,er,8,2,"ng-container",3)),2&n){const t=i.$implicit,o=i.context.productNumber,a=i.context.productType,_=i.context.productFormat;e.xp6(1),e.hij(" ",e.xi3(2,2,o,a||_)," "),e.xp6(2),e.Q6J("ngIf",t.unmaskable)}}p(3079);const nr=function(n,i,t){return{productNumber:n,productType:i,productFormat:t}};function ll(n,i){1&n&&(e.TgZ(0,"span"),e.SDv(1,7),e.qZA())}function ul(n,i){if(1&n&&(e.ynx(0),e.YNc(1,ll,2,0,"span",6),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.showActive)}}function dl(n,i){1&n&&e._UZ(0,"bb-icon-ui",11)}const yi=function(n){return{"bb-account-status__state--hide-for-mobile":n}};function Al(n,i){if(1&n&&(e.ynx(0),e.YNc(1,dl,1,0,"bb-icon-ui",8),e.TgZ(2,"span",9),e.SDv(3,10),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.showIcon),e.xp6(1),e.Q6J("ngClass",e.VKq(2,yi,t.hideStateTextForMobile))}}function pl(n,i){1&n&&e._UZ(0,"bb-icon-ui",14)}function ml(n,i){if(1&n&&(e.ynx(0),e.YNc(1,pl,1,0,"bb-icon-ui",12),e.TgZ(2,"span",9),e.SDv(3,13),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.showIcon),e.xp6(1),e.Q6J("ngClass",e.VKq(2,yi,t.hideStateTextForMobile))}}function Sl(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",15),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw().context.state;e.xp6(2),e.hij(" ",t," ")}}function gl(n,i){if(1&n&&(e.TgZ(0,"div",2),e.ynx(1,3),e.YNc(2,ul,2,1,"ng-container",4),e.YNc(3,Al,4,4,"ng-container",4),e.YNc(4,ml,4,4,"ng-container",4),e.YNc(5,Sl,3,1,"ng-container",5),e.BQk(),e.qZA()),2&n){const t=i.context.state;e.xp6(1),e.Q6J("ngSwitch",t.toLowerCase()),e.xp6(1),e.Q6J("ngSwitchCase","active"),e.xp6(1),e.Q6J("ngSwitchCase","inactive"),e.xp6(1),e.Q6J("ngSwitchCase","closed")}}const bl=function(n){return{state:n}};function Rl(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,5),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.pQV(+t.isPlural),e.QtT(2)}}function Dl(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,6),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.pQV(+t.isPlural),e.QtT(2)}}function Ml(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,7),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.pQV(+t.isPlural),e.QtT(2)}}function yl(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,8),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.pQV(+t.isPlural),e.QtT(2)}}function vl(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,9),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.pQV(+t.isPlural),e.QtT(2)}}function Ul(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,10),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.pQV(+t.isPlural),e.QtT(2)}}function Bl(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,11),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.pQV(+t.isPlural),e.QtT(2)}}function Pl(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.name)}}function Ll(n,i){if(1&n&&(e.ynx(0,2),e.YNc(1,Rl,3,1,"ng-container",3),e.YNc(2,Dl,3,1,"ng-container",3),e.YNc(3,Ml,3,1,"ng-container",3),e.YNc(4,yl,3,1,"ng-container",3),e.YNc(5,vl,3,1,"ng-container",3),e.YNc(6,Ul,3,1,"ng-container",3),e.YNc(7,Bl,3,1,"ng-container",3),e.YNc(8,Pl,3,1,"ng-container",4),e.BQk()),2&n){const t=i.$implicit;e.Q6J("ngSwitch",t.name),e.xp6(1),e.Q6J("ngSwitchCase",t.productKindUri.CURRENT_ACCOUNT),e.xp6(1),e.Q6J("ngSwitchCase",t.productKindUri.SAVINGS_ACCOUNT),e.xp6(1),e.Q6J("ngSwitchCase",t.productKindUri.TERM_DEPOSIT),e.xp6(1),e.Q6J("ngSwitchCase",t.productKindUri.LOAN),e.xp6(1),e.Q6J("ngSwitchCase",t.productKindUri.CREDIT_CARD),e.xp6(1),e.Q6J("ngSwitchCase",t.productKindUri.DEBIT_CARD),e.xp6(1),e.Q6J("ngSwitchCase",t.productKindUri.INVESTMENT_ACCOUNT)}}function Hl(n,i){if(1&n&&e._UZ(0,"bb-product-summary-account-logo",10),2&n){const t=e.oxw(2);e.Q6J("logoSrc",t.logoSrc)("productKindName",t.logoKind)}}function Yl(n,i){1&n&&e.GkF(0)}function zl(n,i){if(1&n&&(e.TgZ(0,"div",11),e.YNc(1,Yl,1,0,"ng-container",12),e.qZA()),2&n){e.oxw(2);const t=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Ql(n,i){1&n&&e.GkF(0)}function $l(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Ql,1,0,"ng-container",12),e.BQk()),2&n){e.oxw(2);const t=e.MAs(7);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Vl(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",6),e.YNc(2,Hl,1,2,"bb-product-summary-account-logo",7),e.YNc(3,zl,2,1,"div",8),e.qZA(),e.YNc(4,$l,2,1,"ng-container",9),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(7);e.xp6(2),e.Q6J("ngIf",t.logoSrc||t.logoKind),e.xp6(1),e.Q6J("ngIf",t.showExternalTitle)("ngIfElse",o),e.xp6(1),e.Q6J("ngIf",t.showExternalTitle)}}function ql(n,i){1&n&&e.GkF(0)}function jl(n,i){1&n&&e.GkF(0)}function Xl(n,i){if(1&n&&(e.YNc(0,ql,1,0,"ng-container",12),e.YNc(1,jl,1,0,"ng-container",12)),2&n){e.oxw();const t=e.MAs(5),o=e.MAs(7);e.Q6J("ngTemplateOutlet",t),e.xp6(1),e.Q6J("ngTemplateOutlet",o)}}function eu(n,i){if(1&n&&(e.TgZ(0,"div",14),e._UZ(1,"bb-ellipsis-ui",15),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("text",t.getExternalTitle())("lineClamp",1)}}function tu(n,i){if(1&n&&e.YNc(0,eu,2,2,"div",13),2&n){const t=e.oxw();e.Q6J("ngIf",t.showExternalTitle)}}function nu(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"bb-ellipsis-ui",23),e.NdJ("bbKeyboardClick",function(a){return e.CHM(t),e.oxw(3).onSelectCustomTitle(a)}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("text",t.title)("lineClamp",1)}}function ou(n,i){if(1&n&&e._UZ(0,"bb-ellipsis-ui",15),2&n){const t=e.oxw(3);e.Q6J("text",t.title)("lineClamp",1)}}function iu(n,i){if(1&n&&e._UZ(0,"bb-icon-ui",24),2&n){const t=e.oxw(3);e.Q6J("color",t.favoriteIconColor)}}function au(n,i){if(1&n&&e._UZ(0,"bb-arrangement-state-indicator",25),2&n){const t=e.oxw(3);e.Q6J("state",t.state)}}function _u(n,i){if(1&n&&(e.TgZ(0,"div",17)(1,"div",18),e.YNc(2,nu,1,2,"bb-ellipsis-ui",19),e.YNc(3,ou,1,2,"ng-template",null,20,e.W1O),e.qZA(),e.YNc(5,iu,1,1,"bb-icon-ui",21),e.YNc(6,au,1,1,"bb-arrangement-state-indicator",22),e.qZA()),2&n){const t=e.MAs(4),o=e.oxw(2);e.xp6(2),e.Q6J("ngIf",o.titleInteractive)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",o.favorite),e.xp6(1),e.Q6J("ngIf",o.state)}}function su(n,i){if(1&n&&e.YNc(0,_u,7,4,"div",16),2&n){const t=e.oxw();e.Q6J("ngIf",t.title||t.favorite||t.state)}}function ru(n,i){if(1&n&&(e.TgZ(0,"div",26),e.NdJ("mousedown",function(o){return o.stopPropagation()}),e.TgZ(1,"bb-ellipsis-ui"),e._UZ(2,"bb-product-number",27),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("number",t.productNumber)("type",t.productNumberType)}}function cu(n,i){1&n&&e.GkF(0)}function lu(n,i){if(1&n&&(e.TgZ(0,"div",12),e.YNc(1,cu,1,0,"ng-container",7),e.qZA()),2&n){e.oxw();const t=e.MAs(7);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function uu(n,i){if(1&n&&e._UZ(0,"bb-product-item-custom-title-ui",13),2&n){const t=e.oxw().context;e.Q6J("showExternalTitle",!0)("externalTitle",null==t||null==t.financialInstitution?null:t.financialInstitution.name)}}function du(n,i){1&n&&e.GkF(0)}function Au(n,i){if(1&n&&e._UZ(0,"bb-product-summary-account-logo",14),2&n){const t=e.oxw().context;e.Q6J("logoSrc",null==t||null==t.financialInstitution?null:t.financialInstitution.logo)("productKindName",null==t?null:t.productKindName)}}function pu(n,i){1&n&&e.GkF(0)}function mu(n,i){if(1&n&&e.YNc(0,pu,1,0,"ng-container",7),2&n){e.oxw(3);const t=e.MAs(11);e.Q6J("ngTemplateOutlet",t)}}function Su(n,i){1&n&&e.GkF(0)}const ze=function(n){return{amount:n}};function gu(n,i){if(1&n&&e.YNc(0,Su,1,0,"ng-container",21),2&n){const t=e.oxw(3).context,o=e.MAs(13);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,ze,t.bookedBalance))}}const Je=function(n){return{owners:n}};function bu(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"bb-product-item-current-account-ui",18),e.YNc(2,mu,1,1,"ng-template",19),e.YNc(3,gu,1,4,"ng-template",20),e.qZA(),e.BQk()),2&n){const t=e.oxw(2),o=t.context,a=t.$implicit;e.xp6(1),e.Q6J("title",a.getAlias(o))("mainSectionCurrency",o.currency)("mainSectionAmount",o.availableBalance)("secondarySectionCurrency",o.currency)("secondarySectionAmount",o.creditLimitUsage)("active",!1)("productDetailsInfo",e.VKq(7,Je,o.accountHolderNames||""))}}function Eu(n,i){1&n&&e.GkF(0)}function Tu(n,i){if(1&n&&e.YNc(0,Eu,1,0,"ng-container",7),2&n){e.oxw(3);const t=e.MAs(11);e.Q6J("ngTemplateOutlet",t)}}function Cu(n,i){1&n&&e.GkF(0)}function Nu(n,i){if(1&n&&e.YNc(0,Cu,1,0,"ng-container",21),2&n){const t=e.oxw(3).context,o=e.MAs(13);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,ze,t.bookedBalance))}}function fu(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"bb-product-item-savings-account-ui",22),e.YNc(2,Tu,1,1,"ng-template",23),e.YNc(3,Nu,1,4,"ng-template",24),e.qZA(),e.BQk()),2&n){const t=e.oxw(2),o=t.context,a=t.$implicit;e.xp6(1),e.Q6J("title",a.getAlias(o))("mainSectionCurrency",o.currency)("mainSectionAmount",o.accruedInterest)("active",!1)("productDetailsInfo",e.VKq(5,Je,o.accountHolderNames||""))}}function Iu(n,i){1&n&&e.GkF(0)}function hu(n,i){if(1&n&&e.YNc(0,Iu,1,0,"ng-container",7),2&n){e.oxw(3);const t=e.MAs(11);e.Q6J("ngTemplateOutlet",t)}}function Ou(n,i){1&n&&e.GkF(0)}function Ru(n,i){if(1&n&&e.YNc(0,Ou,1,0,"ng-container",21),2&n){const t=e.oxw(3).context,o=e.MAs(13);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,ze,t.principalAmount))}}function Du(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"bb-product-item-term-deposit-ui",25),e.YNc(2,hu,1,1,"ng-template",26),e.YNc(3,Ru,1,4,"ng-template",27),e.qZA(),e.BQk()),2&n){const t=e.oxw(2),o=t.context,a=t.$implicit;e.xp6(1),e.Q6J("title",a.getAlias(o))("mainSectionCurrency",o.currency)("mainSectionAmount",o.accruedInterest)("active",!1)("productDetailsInfo",e.VKq(5,Je,o.accountHolderNames||""))}}function Mu(n,i){1&n&&e.GkF(0)}function yu(n,i){if(1&n&&e.YNc(0,Mu,1,0,"ng-container",7),2&n){e.oxw(3);const t=e.MAs(11);e.Q6J("ngTemplateOutlet",t)}}function vu(n,i){1&n&&e.GkF(0)}function Uu(n,i){if(1&n&&e.YNc(0,vu,1,0,"ng-container",21),2&n){const t=e.oxw(3).context,o=e.MAs(13);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,ze,t.bookedBalance))}}function Bu(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"bb-product-item-loan-ui",28),e.YNc(2,yu,1,1,"ng-template",29),e.YNc(3,Uu,1,4,"ng-template",30),e.qZA(),e.BQk()),2&n){const t=e.oxw(2),o=t.context,a=t.$implicit;e.xp6(1),e.Q6J("title",a.getAlias(o))("active",!1)("productDetailsInfo",e.VKq(3,Je,o.accountHolderNames||""))}}function Pu(n,i){1&n&&e.GkF(0)}function Lu(n,i){if(1&n&&e.YNc(0,Pu,1,0,"ng-container",7),2&n){e.oxw(3);const t=e.MAs(11);e.Q6J("ngTemplateOutlet",t)}}function xu(n,i){1&n&&e.GkF(0)}function Gu(n,i){if(1&n&&e.YNc(0,xu,1,0,"ng-container",21),2&n){const t=e.oxw(3).context,o=e.MAs(13);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,ze,t.bookedBalance))}}function wu(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"bb-product-item-credit-card-ui",31),e.YNc(2,Lu,1,1,"ng-template",32),e.YNc(3,Gu,1,4,"ng-template",33),e.qZA(),e.BQk()),2&n){const t=e.oxw(2),o=t.context,a=t.$implicit;e.xp6(1),e.Q6J("title",a.getAlias(o))("mainSectionCurrency",o.currency)("mainSectionAmount",o.availableBalance)("secondarySectionCurrency",o.currency)("secondarySectionAmount",o.creditLimit)("active",!1)("productDetailsInfo",e.VKq(7,Je,o.accountHolderNames||""))}}function ku(n,i){1&n&&e.GkF(0)}function Ku(n,i){if(1&n&&e.YNc(0,ku,1,0,"ng-container",7),2&n){e.oxw(3);const t=e.MAs(11);e.Q6J("ngTemplateOutlet",t)}}function Fu(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"bb-product-item-debit-card-ui",28),e.YNc(2,Ku,1,1,"ng-template",34),e.qZA(),e.BQk()),2&n){const t=e.oxw(2),o=t.context,a=t.$implicit;e.xp6(1),e.Q6J("title",a.getAlias(o))("active",!1)("productDetailsInfo",e.VKq(3,Je,o.accountHolderNames||""))}}function Ju(n,i){1&n&&e.GkF(0)}function Wu(n,i){if(1&n&&e.YNc(0,Ju,1,0,"ng-container",7),2&n){e.oxw(3);const t=e.MAs(11);e.Q6J("ngTemplateOutlet",t)}}function Zu(n,i){1&n&&e.GkF(0)}function Hu(n,i){if(1&n&&e.YNc(0,Zu,1,0,"ng-container",21),2&n){const t=e.oxw(3).context,o=e.MAs(13);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,ze,t.currentInvestmentValue))}}function Yu(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"bb-product-item-investment-account-ui",28),e.YNc(2,Wu,1,1,"ng-template",35),e.YNc(3,Hu,1,4,"ng-template",36),e.qZA(),e.BQk()),2&n){const t=e.oxw(2),o=t.context,a=t.$implicit;e.xp6(1),e.Q6J("title",a.getAlias(o))("active",!1)("productDetailsInfo",e.VKq(3,Je,o.accountHolderNames||""))}}function zu(n,i){1&n&&e.GkF(0)}function Qu(n,i){if(1&n&&e.YNc(0,zu,1,0,"ng-container",7),2&n){e.oxw(3);const t=e.MAs(11);e.Q6J("ngTemplateOutlet",t)}}function $u(n,i){1&n&&e.GkF(0)}function Vu(n,i){if(1&n&&e.YNc(0,$u,1,0,"ng-container",21),2&n){const t=e.oxw(3).context,o=e.MAs(13);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,ze,t.bookedBalance))}}function qu(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"bb-product-item-basic-account-ui",28),e.YNc(2,Qu,1,1,"ng-template",37),e.YNc(3,Vu,1,4,"ng-template",38),e.qZA(),e.BQk()),2&n){const t=e.oxw(2),o=t.context,a=t.$implicit;e.xp6(1),e.Q6J("title",a.getAlias(o))("active",!1)("productDetailsInfo",e.VKq(3,Je,o.accountHolderNames||""))}}function ju(n,i){if(1&n&&(e.ynx(0,15),e.YNc(1,bu,4,9,"ng-container",16),e.YNc(2,fu,4,7,"ng-container",16),e.YNc(3,Du,4,7,"ng-container",16),e.YNc(4,Bu,4,5,"ng-container",16),e.YNc(5,wu,4,9,"ng-container",16),e.YNc(6,Fu,3,5,"ng-container",16),e.YNc(7,Yu,4,5,"ng-container",16),e.YNc(8,qu,4,5,"ng-container",17),e.BQk()),2&n){const t=e.oxw().context;e.Q6J("ngSwitch",t.kind),e.xp6(1),e.Q6J("ngSwitchCase","currentAccounts"),e.xp6(1),e.Q6J("ngSwitchCase","savingsAccounts"),e.xp6(1),e.Q6J("ngSwitchCase","termDeposits"),e.xp6(1),e.Q6J("ngSwitchCase","loans"),e.xp6(1),e.Q6J("ngSwitchCase","creditCards"),e.xp6(1),e.Q6J("ngSwitchCase","debitCards"),e.xp6(1),e.Q6J("ngSwitchCase","investmentAccounts")}}function Xu(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"bb-product-item-custom-title-ui",39),e.NdJ("selectCustomTitle",function(a){return e.CHM(t),e.oxw().$implicit.onSelectProductKind(a)}),e.ALo(1,"bbProductNumberValue"),e.ALo(2,"bbProductNumberType"),e.qZA()}if(2&n){const t=e.oxw(),o=t.context,a=t.$implicit;e.Q6J("title",a.getAlias(o))("titleInteractive",!0)("showLogo",a.showLogo&&"mobile"===a.responsiveView)("logoSrc",null==o||null==o.financialInstitution?null:o.financialInstitution.logo)("logoKind",null==o?null:o.productKindName)("showExternalTitle",a.hasExternalInfo(o)&&"mobile"===a.responsiveView)("externalTitle",null==o||null==o.financialInstitution?null:o.financialInstitution.name)("productNumber",e.lcZ(1,11,o))("productNumberType",e.lcZ(2,13,o))("favorite",null==o||null==o.userPreferences?null:o.userPreferences.favorite)("state",null==o||null==o.state?null:o.state.state)}}function ed(n,i){if(1&n&&(e.TgZ(0,"div",44),e._uU(1),e.ALo(2,"bbDateUpdatedAgo"),e.qZA()),2&n){const t=e.oxw(3).context;e.xp6(1),e.hij(" ",e.lcZ(2,1,null==t?null:t.lastSyncDate)," ")}}function td(n,i){if(1&n&&(e.TgZ(0,"div",41),e._UZ(1,"bb-amount-ui",42),e.YNc(2,ed,3,3,"div",43),e.qZA()),2&n){const t=e.oxw().amount,o=e.oxw(),a=o.context,_=o.$implicit;e.xp6(1),e.Q6J("amount",t)("currency",null==a?null:a.currency),e.xp6(1),e.Q6J("ngIf",_.hasExternalInfo(a)&&(null==a?null:a.lastSyncDate))}}function nd(n,i){1&n&&(e.YNc(0,td,3,3,"div",40),e.ALo(1,"bbIsDefined")),2&n&&e.Q6J("ngIf",e.lcZ(1,1,i.amount))}function od(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3),e.NdJ("click",function(a){return e.CHM(t).$implicit.onSelectProductKind(a)}),e.YNc(2,lu,2,1,"div",4),e.TgZ(3,"div",5),e.YNc(4,uu,1,2,"bb-product-item-custom-title-ui",6),e.YNc(5,du,1,0,"ng-container",7),e.qZA()(),e.YNc(6,Au,1,2,"ng-template",null,8,e.W1O),e.YNc(8,ju,9,8,"ng-template",null,9,e.W1O),e.YNc(10,Xu,3,15,"ng-template",null,10,e.W1O),e.YNc(12,nd,2,3,"ng-template",null,11,e.W1O),e.qZA()}if(2&n){const t=i.$implicit,o=i.context,a=e.MAs(9);e.xp6(2),e.Q6J("ngIf",t.showLogo&&"mobile"!==t.responsiveView),e.xp6(2),e.Q6J("ngIf",t.hasExternalInfo(o)&&"mobile"!==t.responsiveView),e.xp6(1),e.Q6J("ngTemplateOutlet",a)}}function id(n,i){if(1&n&&e._UZ(0,"bb-icon-ui",12),2&n){const t=e.oxw().$implicit;e.Q6J("name",t.iconName),e.uIk("data-role",t.iconName)}}function ad(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",13)(2,"span",14),e.SDv(3,15),e.qZA(),e._UZ(4,"bb-amount-ui",16),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.Q6J("currency",null==t.productKind?null:t.productKind.currency)("amount",null==t.productKind?null:t.productKind.aggregatedBalance)}}function _d(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"bb-product-kind",18),e.NdJ("selectProductKind",function(a){const s=e.CHM(t).$implicit,c=e.oxw().$implicit;return c.selectProduct.emit(s),c.onSelectAccount(a.id)}),e.qZA()()}if(2&n){const t=i.$implicit,o=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)("showLogo",o.showIcons)}}function sd(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3),e.NdJ("bbKeyboardClick",function(){return e.CHM(t).$implicit.toggleExpanded()}),e.TgZ(2,"div",4),e.YNc(3,id,1,2,"bb-icon-ui",5),e._UZ(4,"bb-product-kind-name",6),e.qZA(),e.TgZ(5,"div",7),e.YNc(6,ad,5,2,"ng-container",8),e._UZ(7,"bb-icon-ui",9),e.qZA()(),e.TgZ(8,"div",10),e.YNc(9,_d,2,2,"div",11),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(1),e.ekj("bb-product-kind__header--collapsed",t.isExpanded),e.uIk("aria-expanded",!t.isExpanded),e.xp6(2),e.Q6J("ngIf",t.showIcons&&t.iconName),e.xp6(1),e.Q6J("isPlural",!0)("name",null==t.productKind||null==t.productKind.products[0]?null:t.productKind.products[0].productKindUri),e.uIk("data-role",null==t.productKind||null==t.productKind.products[0]?null:t.productKind.products[0].productKindUri),e.xp6(2),e.Q6J("ngIf",null==t.productKind?null:t.productKind.aggregatedBalance),e.xp6(1),e.MGl("name","toggle-",t.isExpanded?"down":"up",""),e.xp6(1),e.Q6J("ngbCollapse",t.isExpanded),e.xp6(1),e.Q6J("ngForOf",null==t.productKind?null:t.productKind.products)}}function bd(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"bb-pagination-ui",3),e.NdJ("pageChange",function(a){return e.CHM(t),e.oxw().onPageChange(a)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("boundaryLinks",t.boundaryLinks)("directionLinks",t.directionLinks)("itemsPerPage",t.itemsPerPage)("maxNavPages",t.maxNavPages)("page",t.page)("totalItems",t.count)}}function Ed(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"bb-load-button-ui",4),e.NdJ("paramChange",function(){return e.CHM(t),e.oxw().onLoadMore()}),e.TgZ(1,"span"),e.SDv(2,5),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("size",t.page)("totalCount",t.count)("isLoading",t.loading)}}let ot=(()=>{class n{constructor(){this.hostRef=this,this.logoSrc="",this.productKindName="",this.defaultProductKindName=Ae.CURRENT_ACCOUNT,this.iconSize="md",this.logoSize="md",this.isImgError=!1}getProductKindIconColor(){const t=this.getProductKindIconName().slice(0,-1);return"account"===t?mn(this.defaultProductKindName):t}getProductKindIconName(){return(n=>{let i=mn(n);return Object.values(mt).some(o=>i===o)||(i="account"),`${i}s`})(this.productKindName)}onImgError(){this.isImgError=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-product-summary-account-logo"]],inputs:{logoSrc:"logoSrc",productKindName:"productKindName",defaultProductKindName:"defaultProductKindName",iconColor:"iconColor",iconSize:"iconSize",logoSize:"logoSize"},decls:2,vars:1,consts:[["bbProductSummaryAccountLogoCustomizable","",3,"bbHostRef"],["bbProductSummaryAccountLogoCustomizable",""],[4,"ngIf","ngIfElse"],["productKindIcon",""],["data-role","product-summary-account-logo-img","aria-hidden","true","alt","",1,"bb-product-summary-account-logo__img","bb-icon__background--square",3,"src","error"],["data-role","product-summary-account-logo-icon","backgroundType","square",3,"size","color","name"]],template:function(t,o){1&t&&(e.GkF(0,0),e.YNc(1,Fs,3,2,"ng-template",1)),2&t&&e.Q6J("bbHostRef",o.hostRef)},directives:function(){return[b.o,Ui,r.O5]},encapsulation:2}),n})(),Ui=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbProductSummaryAccountLogoCustomizable",""]],features:[e.qOj]}),n})();const Cd=[b.Q];let Ce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,...Cd],b.Q]}),n})(),it=(()=>{class n{constructor(){this.hostRef=this,this.product={},this.unmaskable=!1,this.masked=!1,this.mask=new e.vpe,this.unmask=new e.vpe}onMask(t){this.mask.emit(this.mapToMaskableAttribute(t))}onUnmask(t){this.unmask.emit(this.mapToMaskableAttribute(t))}mapToMaskableAttribute(t){switch(t){case"bban":return X.ZY.BBAN;case"iban":return X.ZY.IBAN;default:return X.ZY.Number}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-product-number"]],inputs:{number:"number",product:"product",format:"format",type:"type",unmaskable:"unmaskable",masked:"masked"},outputs:{mask:"mask",unmask:"unmask"},decls:4,vars:10,consts:function(){let i,t,o,a,_,s,c,l,u,A;return i="Unmask",t="Mask",o=" Unmask IBAN ",a=" Unmask BBAN ",_=" Unmask number ",s=" Unmask ",c=" Mask IBAN ",l=" Mask BBAN ",u=" Mask number ",A=" Mask ",[["bbProductNumberCustomizable","",3,"bbHostRef","bbTemplateContext"],["bbProductNumberCustomizable",""],["data-role","product-number",1,"contextual-alternates-off"],[4,"ngIf"],["bbButton","","triggers","hover focus","aria-label",i,"buttonSize","sm","color","link","type","button","data-role","product-number-unmask-button",3,"bbTooltip","circle","click",4,"ngIf","ngIfElse"],["maskButton",""],["unmaskButtonTooltip",""],["maskButtonTooltip",""],["bbButton","","triggers","hover focus","aria-label",i,"buttonSize","sm","color","link","type","button","data-role","product-number-unmask-button",3,"bbTooltip","circle","click"],["name","visibility"],["bbButton","","triggers","hover focus","aria-label",t,"buttonSize","sm","color","link","type","button","data-role","product-number-mask-button",3,"bbTooltip","circle","click"],["name","visibility-off"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],o,a,_,s,c,l,u,A]},template:function(t,o){1&t&&(e.GkF(0,0),e.ALo(1,"bbProductNumberValue"),e.ALo(2,"bbProductNumberType"),e.YNc(3,tr,4,5,"ng-template",1)),2&t&&e.Q6J("bbHostRef",o.hostRef)("bbTemplateContext",e.kEZ(6,nr,o.hostRef.number||e.lcZ(1,2,o.hostRef.product),o.hostRef.type||e.lcZ(2,4,o.hostRef.product),o.hostRef.format))},directives:function(){return[b.o,Bi,r.O5,v.Hq,w.i,r.RF,r.n9,r.ED]},pipes:function(){return[Tn,Cn,be.kU]},encapsulation:2}),n})(),Bi=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbProductNumberCustomizable",""]],features:[e.qOj]}),n})();const Nd=[Nn],fd=[v.hJ,b.Q,w.z];let se=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,...Nd,...fd],Nn]}),n})(),Mn=(()=>{class n{constructor(){this.hostRef=this,this.state="",this.showActive=!1,this.showIcon=!0,this.hideStateTextForMobile=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-arrangement-state-indicator"]],inputs:{state:"state",showActive:"showActive",showIcon:"showIcon",hideStateTextForMobile:"hideStateTextForMobile"},decls:2,vars:4,consts:function(){let i,t,o;return i="Active",t="Inactive",o="Closed",[["bbArrangementStateIndicatorCustomizable","",3,"bbHostRef","bbTemplateContext"],["bbArrangementStateIndicatorCustomizable",""],[1,"bb-stack","bb-account-status"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngIf"],i,["data-role","inActive-icon","name","remove-circle-outline","size","sm","class","bb-stack__item bb-stack__item--spacing-xs bb-text-support",4,"ngIf"],[1,"bb-stack__item","bb-account-status__state","bb-text-semi-bold",3,"ngClass"],t,["data-role","inActive-icon","name","remove-circle-outline","size","sm",1,"bb-stack__item","bb-stack__item--spacing-xs","bb-text-support"],["data-role","closed-icon","name","cancel","size","sm","color","danger","class","bb-stack__item bb-stack__item--spacing-xs",4,"ngIf"],o,["data-role","closed-icon","name","cancel","size","sm","color","danger",1,"bb-stack__item","bb-stack__item--spacing-xs"],[1,"bb-stack__item","bb-account-status__state","bb-text-semi-bold"]]},template:function(t,o){1&t&&(e.GkF(0,0),e.YNc(1,gl,6,4,"ng-template",1)),2&t&&e.Q6J("bbHostRef",o.hostRef)("bbTemplateContext",e.VKq(2,bl,o.state))},directives:function(){return[b.o,zi,r.RF,r.n9,r.O5,r.mk,r.ED]},encapsulation:2}),n})(),zi=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbArrangementStateIndicatorCustomizable",""]],features:[e.qOj]}),n})();const Fd=[b.Q];let $e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,...Fd],b.Q]}),n})(),Bn=(()=>{class n{constructor(){this.hostRef=this,this.productKindNames=Ae,this.productKindUri=q,this.name="",this.isPlural=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-product-kind-name"]],inputs:{name:"name",isPlural:"isPlural"},decls:2,vars:1,consts:function(){let i,t,o,a,_,s,c,l,u,A,m,h,y,M;return i="{VAR_PLURAL, plural, =0 {Current Account} =1 {Current Accounts}}",i=e.Zx4(i,{VAR_PLURAL:"\ufffd0\ufffd"}),t=" " + i + " ",o="{VAR_PLURAL, plural, =0 {Savings Account} =1 {Savings Accounts}}",o=e.Zx4(o,{VAR_PLURAL:"\ufffd0\ufffd"}),a=" " + o + " ",_="{VAR_PLURAL, plural, =0 {Term Deposit} =1 {Term Deposits}}",_=e.Zx4(_,{VAR_PLURAL:"\ufffd0\ufffd"}),s=" " + _ + " ",c="{VAR_PLURAL, plural, =0 {Loan} =1 {Loans}}",c=e.Zx4(c,{VAR_PLURAL:"\ufffd0\ufffd"}),l=" " + c + " ",u="{VAR_PLURAL, plural, =0 {Credit Card} =1 {Credit Cards}}",u=e.Zx4(u,{VAR_PLURAL:"\ufffd0\ufffd"}),A=" " + u + " ",m="{VAR_PLURAL, plural, =0 {Debit Card} =1 {Debit Cards}}",m=e.Zx4(m,{VAR_PLURAL:"\ufffd0\ufffd"}),h=" " + m + " ",y="{VAR_PLURAL, plural, =0 {Investment Account} =1 {Investment Accounts}}",y=e.Zx4(y,{VAR_PLURAL:"\ufffd0\ufffd"}),M=" " + y + " ",[["bbProductKindNameCustomizable","",3,"bbHostRef"],["bbProductKindNameCustomizable",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],t,a,s,l,A,h,M]},template:function(t,o){1&t&&(e.GkF(0,0),e.YNc(1,Ll,9,8,"ng-template",1)),2&t&&e.Q6J("bbHostRef",o.hostRef)},directives:function(){return[Yd,r.RF,r.n9,r.ED]},encapsulation:2}),n})(),Yd=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbProductKindNameCustomizable",""]],features:[e.qOj]}),n})(),Ve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez]]}),n})(),$i=(()=>{class n{constructor(){this.title="",this.titleInteractive=!1,this.showLogo=!0,this.logoSrc="",this.logoKind="",this.showExternalTitle=!0,this.favorite=!1,this.favoriteIconColor="primary",this.productNumber="",this.state="",this.selectCustomTitle=new e.vpe,this.uniqueSelectCustomTitleEvent=new T.x,this.subscriptions=[]}ngOnInit(){const t=this.uniqueSelectCustomTitleEvent.pipe((0,re.x)()).subscribe(o=>this.selectCustomTitle.emit(o));this.subscriptions.push(t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.uniqueSelectCustomTitleEvent.complete()}onSelectCustomTitle(t){this.uniqueSelectCustomTitleEvent.next(t)}getExternalTitle(){var t;if(this.showExternalTitle)return null!==(t=this.externalTitle)&&void 0!==t?t:"External account"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-product-item-custom-title-ui"]],inputs:{title:"title",titleInteractive:"titleInteractive",showLogo:"showLogo",logoSrc:"logoSrc",logoKind:"logoKind",showExternalTitle:"showExternalTitle",externalTitle:"externalTitle",favorite:"favorite",favoriteIconColor:"favoriteIconColor",productNumber:"productNumber",productNumberType:"productNumberType",state:"state"},outputs:{selectCustomTitle:"selectCustomTitle"},decls:9,vars:3,consts:function(){let i,t;return i="Favorite account",t="Favorite account",[[1,"bb-account-info",3,"click"],[4,"ngIf","ngIfElse"],["titleWithoutLogo",""],["accountExternalTitle",""],["accountTitle",""],["data-role","card-sub-title","class","bb-account-info__product-number",3,"mousedown",4,"ngIf"],[1,"bb-stack","bb-stack--align-top","bb-stack--density-sm","bb-block","bb-block--xs"],["class","bb-stack__item","iconColor","secondary","iconSize","sm","logoSize","sm",3,"logoSrc","productKindName",4,"ngIf"],["class","bb-stack__item",4,"ngIf","ngIfElse"],[4,"ngIf"],["iconColor","secondary","iconSize","sm","logoSize","sm",1,"bb-stack__item",3,"logoSrc","productKindName"],[1,"bb-stack__item"],[4,"ngTemplateOutlet"],["class","bb-subtitle bb-text-semi-bold bb-text-support bb-block bb-block--xs",4,"ngIf"],[1,"bb-subtitle","bb-text-semi-bold","bb-text-support","bb-block","bb-block--xs"],[3,"text","lineClamp"],["class","bb-stack bb-account-info__title bb-block bb-block--xs",4,"ngIf"],[1,"bb-stack","bb-account-info__title","bb-block","bb-block--xs"],["data-role","card-title",1,"bb-stack__item","bb-stack__item--spacing-sm"],["role","link","tabindex","0",3,"text","lineClamp","bbKeyboardClick",4,"ngIf","ngIfElse"],["staticTitle",""],["class","bb-stack__item bb-account-info__icon","size","sm","data-role","favorite-icon","name","star","tabindex","0","aria-label",i,"bbTooltip",t,"triggers","hover focus",3,"color",4,"ngIf"],["class","bb-stack__item","data-role","arrangementState",3,"state",4,"ngIf"],["role","link","tabindex","0",3,"text","lineClamp","bbKeyboardClick"],["size","sm","data-role","favorite-icon","name","star","tabindex","0","aria-label",i,"bbTooltip",t,"triggers","hover focus",1,"bb-stack__item","bb-account-info__icon",3,"color"],["data-role","arrangementState",1,"bb-stack__item",3,"state"],["data-role","card-sub-title",1,"bb-account-info__product-number",3,"mousedown"],[3,"number","type"]]},template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(_){return o.onSelectCustomTitle(_)}),e.YNc(1,Vl,5,4,"ng-container",1),e.YNc(2,Xl,2,2,"ng-template",null,2,e.W1O),e.YNc(4,tu,1,1,"ng-template",null,3,e.W1O),e.YNc(6,su,1,1,"ng-template",null,4,e.W1O),e.YNc(8,ru,3,2,"div",5),e.qZA()),2&t){const a=e.MAs(3);e.xp6(1),e.Q6J("ngIf",o.showLogo&&(o.logoSrc||o.logoKind))("ngIfElse",a),e.xp6(7),e.Q6J("ngIf",o.productNumber)}},directives:[ot,hn.SN,b.o,Mn,it,r.O5,r.tP,te.w,w.i],encapsulation:2}),n})();const Vd=[b.Q,ce.nj,$e,hn.OG,w.z,se,te.O,Ce];let Pn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,...Vd],b.Q,ce.nj,$e,hn.OG,w.z,se,te.O,Ce]}),n})(),Vi=(()=>{class n extends At{constructor(t,o){super(t,o),this.hostRef=this,this.getAlias=bi,this.hasExternalInfo=Ye,this.selectProductKind=new e.vpe,this.uniqueSelectProductKindEvent=new T.x,this.subscriptions=[]}ngOnInit(){const t=this.uniqueSelectProductKindEvent.pipe((0,re.x)()).subscribe(()=>this.selectProductKind.emit(this.item));this.subscriptions.push(t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.uniqueSelectProductKindEvent.complete()}onSelectProductKind(t=new Event("default")){this.uniqueSelectProductKindEvent.next(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-product-kind"]],inputs:{item:"item",showLogo:"showLogo"},outputs:{selectProductKind:"selectProductKind"},features:[e.qOj],decls:2,vars:2,consts:function(){let i,t,o,a,_,s;return i="Available Balance",t="Credit Limit Usage",o="Accrued interest",a="Accrued interest",_="Available Balance",s="Credit Limit",[["bbProductKindCustomizable","",3,"bbHostRef","bbTemplateContext"],["bbProductKindCustomizable",""],[1,"bb-product-kind-ui"],[1,"bb-product-kind-ui__item","bb-stack","bb-stack--align-top",3,"click"],["class","bb-stack__item",4,"ngIf"],[1,"bb-stack__item","bb-stack__item--fill"],[3,"showExternalTitle","externalTitle",4,"ngIf"],[4,"ngTemplateOutlet"],["productLogo",""],["productItem",""],["productTitle",""],["productBalance",""],[1,"bb-stack__item"],[3,"showExternalTitle","externalTitle"],["iconColor","secondary",3,"logoSrc","productKindName"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["mainSectionTitle",i,"secondarySectionTitle",t,3,"title","mainSectionCurrency","mainSectionAmount","secondarySectionCurrency","secondarySectionAmount","active","productDetailsInfo"],["bbCustomProductItemCurrentAccountTitle",""],["bbCustomProductItemCurrentAccountDetailsFormatter",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["mainSectionTitle",o,3,"title","mainSectionCurrency","mainSectionAmount","active","productDetailsInfo"],["bbCustomProductItemSavingsAccountTitle",""],["bbCustomProductItemSavingsAccountDetailsFormatter",""],["mainSectionTitle",a,3,"title","mainSectionCurrency","mainSectionAmount","active","productDetailsInfo"],["bbCustomProductItemTermDepositTitle",""],["bbCustomProductItemTermDepositDetailsFormatter",""],[3,"title","active","productDetailsInfo"],["bbCustomProductItemLoanTitle",""],["bbCustomProductItemLoanDetailsFormatter",""],["mainSectionTitle",_,"secondarySectionTitle",s,3,"title","mainSectionCurrency","mainSectionAmount","secondarySectionCurrency","secondarySectionAmount","active","productDetailsInfo"],["bbCustomProductItemCreditCardTitle",""],["bbCustomProductItemCreditCardDetailsFormatter",""],["bbCustomProductItemDebitCardTitle",""],["bbCustomProductItemInvestmentAccountTitle",""],["bbCustomProductItemInvestmentAccountDetailsFormatter",""],["bbCustomProductItemBasicAccountTitle",""],["bbCustomProductItemBasicAccountDetailsFormatter",""],[3,"title","titleInteractive","showLogo","logoSrc","logoKind","showExternalTitle","externalTitle","productNumber","productNumberType","favorite","state","selectCustomTitle"],["class","bb-text-align-right",4,"ngIf"],[1,"bb-text-align-right"],[1,"bb-highlight","bb-product-item__amount",3,"amount","currency"],["class","bb-text-support bb-subtitle",4,"ngIf"],[1,"bb-text-support","bb-subtitle"]]},template:function(t,o){1&t&&(e.GkF(0,0),e.YNc(1,od,14,3,"ng-template",1)),2&t&&e.Q6J("bbHostRef",o.hostRef)("bbTemplateContext",o.item)},directives:function(){return[$i,ot,bt.Qd,Et.U9,Tt.Py,Ct.Qq,Nt.GK,Ft.ZI,ft.dl,ke.mB,f.G4,qi,r.O5,r.tP,r.RF,r.n9,bt.$g,bt.o5,Et.NC,Et.r6,Tt.CW,Tt.Bf,Ct.yj,Ct.tr,Nt.GC,Nt.XD,Ft.W2,ft.CU,ft.Hl,r.ED,ke.qO,ke.oF]},pipes:function(){return[Tn,Cn,St,fi]},encapsulation:2}),n})(),qi=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbProductKindCustomizable",""]],features:[e.qOj]}),n})(),Ln=(()=>{class n{constructor(){this.selectAccount=new e.vpe,this.selectProduct=new e.vpe,this.isExpandedChange=new e.vpe,this.hostRef=this}onSelectAccount(t){this.selectAccount.emit(t)}toggleExpanded(){this.isExpandedChange.emit(!this.isExpanded)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-product-kind-collapsible-ui"]],inputs:{isExpanded:"isExpanded",showIcons:"showIcons",iconName:"iconName",productKind:"productKind"},outputs:{selectAccount:"selectAccount",selectProduct:"selectProduct",isExpandedChange:"isExpandedChange"},decls:2,vars:1,consts:function(){let i;return i=" Total ",[["bbProductKindCollapsibleCustomizable","",3,"bbHostRef"],["bbProductKindCollapsibleCustomizable",""],[1,"bb-product-kind","card","card-body"],["role","button","tabindex","0","data-role","expand-button",1,"bb-product-kind__header",3,"bbKeyboardClick"],[1,"bb-product-kind__title"],["class","bb-product-kind__title-icon",3,"name",4,"ngIf"],[3,"isPlural","name"],[1,"bb-product-kind__balance"],[4,"ngIf"],[1,"bb-product-kind__balance-icon",3,"name"],[1,"bb-product-kind__item-group",3,"ngbCollapse"],["class","bb-product-kind__item bb-list__item",4,"ngFor","ngForOf"],[1,"bb-product-kind__title-icon",3,"name"],[1,"bb-product-kind__balance-block"],[1,"bb-product-kind__balance-title"],i,["data-role","current-account-total-amount",3,"currency","amount"],[1,"bb-product-kind__item","bb-list__item"],[3,"item","showLogo","selectProductKind"]]},template:function(t,o){1&t&&(e.GkF(0,0),e.YNc(1,sd,10,11,"ng-template",1)),2&t&&e.Q6J("bbHostRef",o.hostRef)},directives:function(){return[b.o,Bn,f.G4,Vi,ji,te.w,r.O5,Oe._D,r.sg]},encapsulation:2,changeDetection:0}),n})(),ji=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbProductKindCollapsibleCustomizable",""]],features:[e.qOj]}),n})();const qd=[bt.fb,Et.UN,Tt._k,Ct.wp,Nt.NN,Ft.Te,ft.Il,ke.gn,Pn,te.O,se,Ce,f.i7,De,gt];let Ot=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,...qd],bt.fb,Et.UN,Tt._k,Ct.wp,Nt.NN,Ft.Te,ft.Il,ke.gn,Pn,te.O,se,Ce,f.i7,De,gt]}),n})();const jd=[b.Q,f.i7,te.O,Oe.IJ,Ot,Ve];let xn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,...jd],b.Q,f.i7,te.O,Oe.IJ,Ot,Ve]}),n})();const Xd=[b.Q,f.i7,te.O,Oe.IJ,Ke.T,Ce,se,ce.nj,v.hJ];let Gn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,...Xd],b.Q,f.i7,te.O,Oe.IJ,Ke.T,Ce,se,ce.nj,v.hJ]}),n})();const eA=[b.Q,f.i7,te.O,Oe.IJ,Gn];let wn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,...eA],b.Q,f.i7,te.O,Oe.IJ,Gn]}),n})(),tA=(()=>{class n{constructor(){this.page=0,this.count=0,this.itemsPerPage=0,this.hasMore=!1,this.loading=!1,this.boundaryLinks=!0,this.directionLinks=!1,this.maxNavPages=0,this.pageChange=new e.vpe,this.loadMore=new e.vpe,this.PaginationType=he}onPageChange(t){this.pageChange.emit(t)}onLoadMore(){this.loading||this.loadMore.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-product-summary-footer-ui"]],inputs:{page:"page",count:"count",itemsPerPage:"itemsPerPage",paginationType:"paginationType",hasMore:"hasMore",loading:"loading",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",maxNavPages:"maxNavPages"},outputs:{pageChange:"pageChange",loadMore:"loadMore"},decls:3,vars:2,consts:function(){let i;return i=" Load more ",[[1,"bb-stack","bb-stack--center"],[3,"boundaryLinks","directionLinks","itemsPerPage","maxNavPages","page","totalItems","pageChange",4,"ngIf"],["color","secondary",3,"size","totalCount","isLoading","paramChange",4,"ngIf"],[3,"boundaryLinks","directionLinks","itemsPerPage","maxNavPages","page","totalItems","pageChange"],["color","secondary",3,"size","totalCount","isLoading","paramChange"],i]},template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,bd,1,6,"bb-pagination-ui",1),e.YNc(2,Ed,3,3,"bb-load-button-ui",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.paginationType===o.PaginationType.PAGINATION&&(o.hasMore||!!o.page&&o.page>0)),e.xp6(1),e.Q6J("ngIf",o.paginationType===o.PaginationType.LOAD_MORE&&o.hasMore))},directives:[It.Jb,Fe.K,r.O5],encapsulation:2}),n})(),kn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,It.u3,Fe.C]]}),n})();var ne=p(5622);const Kn=n=>{var i,t;return"product"in n?null===(t=null===(i=n.product)||void 0===i?void 0:i.productKind)||void 0===t?void 0:t.kindUri:"productKindUri"in n?n.productKindUri:void 0};var Q=(()=>{return(n=Q||(Q={})).CREDIT_CARD="credit-card",n.CURRENT_ACCOUNT="current-account",n.DEBIT_CARD="debit-card",n.INVESTMENT_ACCOUNT="investment-account",n.LOAN="loan",n.POCKET="pocket",n.POCKET_PARENT="pocket-parent",n.SAVINGS_ACCOUNT="savings-account",n.TERM_DEPOSIT="term-deposit",Q;var n})(),oA=p(590),iA=p(2805),aA=p(8746),_A=p(3099),sA=p(9770),oa=p(457),ia=p(8382),Fn=p(2843),We=(p(780),p(400)),aa=p(2313),Wt=p(9384),Jn=p(7504),Rt=p(8639),_a=p(3276),sa=p(2268),ra=p(7377),rA=p(520),Zt=p(8454),Ht=p(7557),Yt=p(8057);const cA=function(n){return{"sr-only":n}};function lA(n,i){if(1&n&&(e.TgZ(0,"div",3),e.SDv(1,4),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(3,cA,t.numberOfResultsFound<=0)),e.xp6(1),e.pQV(t.numberOfResultsFound)(t.numberOfResultsFound),e.QtT(1)}}function uA(n,i){if(1&n&&e.YNc(0,lA,2,5,"div",2),2&n){const t=i.$implicit;e.Q6J("ngIf",t.isLoaded&&(t.isFilterApplied||t.isSearchApplied))}}function dA(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",3)(2,"div",4),e._UZ(3,"bb-icon-ui",5),e.qZA()(),e._UZ(4,"img",6),e.BQk()),2&n){const t=e.oxw();e.xp6(4),e.s9C("alt",t.imageAlt),e.Q6J("src",t.createImageSource(),e.LSH)}}function AA(n,i){1&n&&(e.TgZ(0,"div",7)(1,"div",8),e._UZ(2,"bb-icon-ui",9),e.qZA()())}function pA(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",18),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return!a.isLoading&&a.onOpenDocument()}),e._UZ(1,"bb-icon-ui",19),e.TgZ(2,"span"),e.SDv(3,20),e.qZA()(),e.TgZ(4,"a",21),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return!a.isLoading&&a.onDownloadDocument()}),e._UZ(5,"bb-icon-ui",22),e.TgZ(6,"span"),e.SDv(7,23),e.qZA()(),e.TgZ(8,"a",24),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return!a.isLoading&&a.onPrintDocument()}),e._UZ(9,"bb-icon-ui",25),e.TgZ(10,"span"),e.SDv(11,26),e.qZA()()}}function mA(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){return e.CHM(t),e.oxw().prev()}),e._UZ(1,"bb-icon-ui",12),e.qZA()}}function SA(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().next()}),e._UZ(1,"bb-icon-ui",14),e.qZA()}}const gA=["viewerContainer"];function bA(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",7),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).closeDialog()}),e.TgZ(1,"bb-image-viewer",8),e.NdJ("navigate",function(a){return e.CHM(t),e.oxw(3).onNavigate(a)}),e.ALo(2,"async"),e.qZA()()}if(2&n){const t=e.oxw(2).ngIf,o=e.oxw();e.xp6(1),e.Q6J("source",t)("navigationState",e.lcZ(2,2,o.navigationState$))}}function EA(n,i){if(1&n&&(e.ynx(0),e.YNc(1,bA,3,4,"div",6),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.documentFiletype$))}}function TA(n,i){if(1&n&&(e.ynx(0),e.YNc(1,EA,3,3,"ng-container",3),e.ALo(2,"async"),e.ALo(3,"async"),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!e.lcZ(2,1,t.isLoading$)&&!e.lcZ(3,3,t.isHttpError$))}}function CA(n,i){1&n&&e._UZ(0,"bb-loading-indicator-ui",9)}function NA(n,i){1&n&&e._UZ(0,"bb-empty-state-ui",10)}function fA(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"bb-transaction-check-image-item",8),e.NdJ("selectImage",function(){return e.CHM(t),e.oxw(2).selectImage(1)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("image",t.imageFront)("transaction",t.transaction)}}function IA(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"bb-transaction-check-image-item",9),e.NdJ("selectImage",function(){e.CHM(t);const a=e.oxw(2);return a.selectImage(a.imageFront?2:1)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("image",t.imageBack)("transaction",t.transaction)}}function hA(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"bb-transaction-check-image-document-viewer",10),e.NdJ("closeViewer",function(){return e.CHM(t),e.oxw(2).onClose()}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("imageCheckNumber",null==t.transaction?null:t.transaction.checkSerialNumber)("imageFront",t.imageFront)("imageBack",t.imageBack)("position",t.index-1)}}function OA(n,i){1&n&&(e.TgZ(0,"span",14),e.SDv(1,15),e.qZA())}function RA(n,i){1&n&&(e.TgZ(0,"span",16),e.SDv(1,17),e.qZA())}function DA(n,i){1&n&&(e.TgZ(0,"span",18),e.SDv(1,19),e.qZA())}function MA(n,i){if(1&n&&(e.ynx(0),e.YNc(1,OA,2,0,"span",11),e.YNc(2,RA,2,0,"span",12),e.YNc(3,DA,2,0,"span",13),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.transactionDetailsLoadingStatus?null:t.transactionDetailsLoadingStatus.checkImages)===(null==t.loadingStateEnum?null:t.loadingStateEnum.serverError)),e.xp6(1),e.Q6J("ngIf",(null==t.transactionDetailsLoadingStatus?null:t.transactionDetailsLoadingStatus.checkImages)===(null==t.loadingStateEnum?null:t.loadingStateEnum.badRequestError)),e.xp6(1),e.Q6J("ngIf",(null==t.transactionDetailsLoadingStatus?null:t.transactionDetailsLoadingStatus.checkImages)===(null==t.loadingStateEnum?null:t.loadingStateEnum.notFoundError))}}function yA(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",2)(2,"div",3),e.YNc(3,fA,1,2,"bb-transaction-check-image-item",4),e.qZA(),e.TgZ(4,"div",3),e.YNc(5,IA,1,2,"bb-transaction-check-image-item",5),e.qZA()(),e.YNc(6,hA,1,4,"bb-transaction-check-image-document-viewer",6),e.YNc(7,MA,4,3,"ng-container",7),e.BQk()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",!!t.imageFront||t.hasErrors),e.xp6(2),e.Q6J("ngIf",!!t.imageBack||t.hasErrors),e.xp6(1),e.Q6J("ngIf",t.index>0),e.xp6(1),e.Q6J("ngIf",t.hasErrors)}}function vA(n,i){1&n&&e._UZ(0,"bb-loading-indicator-ui",20)}function UA(n,i){1&n&&(e.TgZ(0,"span"),e.SDv(1,38),e.qZA())}function BA(n,i){1&n&&(e.TgZ(0,"span"),e.SDv(1,39),e.qZA())}function PA(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",43)(2,"bb-file-attachment-ui",44),e.NdJ("delete",function(){const _=e.CHM(t).$implicit;return e.oxw(2).removeAttachment(_)}),e.qZA()()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Q6J("name",t.name)("size",t.size)("fileContent",t.content)("block",!0)("loading",void 0===t.id)("deletable",void 0!==t.id)}}function LA(n,i){if(1&n&&(e.TgZ(0,"div",40),e.YNc(1,PA,3,6,"div",41),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.message?null:t.message.attachments)}}function xA(n,i){1&n&&(e.ynx(0),e._UZ(1,"bb-alert-ui",45),e.BQk())}function GA(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmationDialogActive=!0}),e.SDv(1,47),e.qZA()}}function wA(n,i){1&n&&(e.TgZ(0,"div",48)(1,"span"),e.SDv(2,49),e.qZA()())}function kA(n,i){1&n&&(e.TgZ(0,"div",48)(1,"span"),e.SDv(2,50),e.qZA()())}function KA(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",51),e._uU(2),e.qZA(),e.TgZ(3,"span",52)(4,"span",51),e._uU(5),e.qZA(),e._UZ(6,"bb-icon-ui",53)(7,"bb-icon-ui",54),e.TgZ(8,"span",55),e.SDv(9,56),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2),o=e.MAs(27);e.xp6(2),e.hij(" ",t.processLabel(t.labels.dispute)[0]," "),e.xp6(3),e.hij(" ",t.processLabel(t.labels.dispute)[1]," "),e.xp6(1),e.Q6J("bbTooltip",o),e.xp6(1),e.Q6J("bbTooltip",o)}}function FA(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",51),e._uU(2),e.qZA(),e.TgZ(3,"span",52)(4,"span",51),e._uU(5),e.qZA(),e._UZ(6,"bb-icon-ui",53)(7,"bb-icon-ui",57),e.TgZ(8,"span",55),e.SDv(9,58),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2),o=e.MAs(29);e.xp6(2),e.hij(" ",t.processLabel(t.labels.inquire)[0]," "),e.xp6(3),e.hij(" ",t.processLabel(t.labels.inquire)[1]," "),e.xp6(1),e.Q6J("bbTooltip",o),e.xp6(1),e.Q6J("bbTooltip",o)}}function JA(n,i){if(1&n&&(e.YNc(0,KA,10,4,"ng-container",12),e.YNc(1,FA,10,4,"ng-container",12)),2&n){const t=i.labelTemplateContext;e.Q6J("ngIf","dispute"===t),e.xp6(1),e.Q6J("ngIf","inquire"===t)}}const WA=function(n){return{"bb-block--sm":n}};function ZA(n,i){1&n&&(e.ynx(0),e._UZ(1,"bb-badge-ui",1),e.BQk())}function HA(n,i){1&n&&(e.ynx(0),e._UZ(1,"bb-badge-ui",2),e.BQk())}function YA(n,i){1&n&&(e.ynx(0),e._UZ(1,"bb-badge-ui",3),e.BQk())}function zA(n,i){1&n&&e._UZ(0,"bb-alert-ui",3)}function QA(n,i){1&n&&e._UZ(0,"bb-alert-ui",4)}function $A(n,i){1&n&&e._UZ(0,"bb-alert-ui",5)}const VA=["notificationErrorUpdateHeader"],qA=["notificationErrorUpdateMessage"],jA=["notificationServerErrorHeader"],XA=["notificationServerErrorMessage"],ep=["categoryImage"];function tp(n,i){if(1&n&&e._UZ(0,"img",2,3),2&n){const t=e.oxw();e.Q6J("hidden",!t.hasImageLoaded)("src",null==t.transaction||null==t.transaction.merchant?null:t.transaction.merchant.logo,e.LSH)}}const np=function(n,i,t){return[n,i,t]},op=["bbMapContainer"];function ip(n,i){if(1&n&&(e.TgZ(0,"span",5),e._UZ(1,"bb-icon-ui",6),e.TgZ(2,"span",7),e._uU(3),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(null==t.transaction||null==t.transaction.location?null:t.transaction.location.address)}}function ap(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"bb-transactions-map-ui",9),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("location",null==t.transaction?null:t.transaction.location)}}function _p(n,i){if(1&n&&(e.ynx(0),e.YNc(1,ap,2,1,"ng-container",8),e.BQk()),2&n){const t=e.oxw(3),o=e.MAs(4);e.xp6(1),e.Q6J("ngIf",t.loadingStatus!==t.loadingStateEnum.loading)("ngIfElse",o)}}function sp(n,i){if(1&n&&(e.ynx(0),e.YNc(1,_p,2,2,"ng-container",8),e.BQk()),2&n){const t=e.oxw(2),o=e.MAs(6);e.xp6(1),e.Q6J("ngIf",t.loadingStatus!==t.loadingStateEnum.error)("ngIfElse",o)}}function rp(n,i){if(1&n&&(e.ynx(0),e.YNc(1,sp,2,2,"ng-container",2),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.loadingStatus!==t.loadingStateEnum.notLoaded)}}function cp(n,i){1&n&&e._UZ(0,"bb-loading-indicator-ui",10)}function lp(n,i){}var V=(()=>{return(n=V||(V={}))[n.Replace=0]="Replace",n[n.Append=1]="Append",n[n.ReplacePage=2]="ReplacePage",V;var n})(),Dt=(()=>{return(n=Dt||(Dt={})).completed="COMPLETED",n.uncompleted="UNCOMPLETED",Dt;var n})();const ca={account:{}},at={search:{}},_t={filter:{}},la={},_e={pagination:{from:0,size:10}},zt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ca),at),_t),la),_e),{onLoad:V.Replace}),up=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ca),at),_t),la),{exportType:"csv",locale:"en-US"});var qe;!function(n){n.isEmpty=function i(_){return Object.values(_).filter(s=>void 0!==s).every(s=>!s||"object"==typeof s&&i(s))};const t=_=>{const s=_.getFullYear().toString(),c=(_.getMonth()+1).toString(),l=_.getDate().toString();return`${s}-${c[1]?c:"0"+c[0]}-${l[1]?l:"0"+l[0]}`};n.toHttpGetParams=function o(_={}){const s={},c=(l,u,A)=>{u(_)&&(s[l]=A(_))};return c("creditDebitIndicator",l=>void 0!==l.creditDebitIndicator&&void 0!==l.creditDebitIndicator.value,l=>l.creditDebitIndicator.value),c("types",l=>void 0!==l.type&&void 0!==l.type.value,l=>Array.isArray(l.type.value)?l.type.value:[l.type.value]),c("billingStatus",l=>void 0!==l.billingStatus&&void 0!==l.billingStatus.value,l=>l.billingStatus.value),c("amountGreaterThan",l=>l.amount&&l.amount.from,l=>l.amount.from),c("amountLessThan",l=>l.amount&&l.amount.to,l=>l.amount.to),c("bookingDateGreaterThan",l=>l.date&&l.date.from&&Object.keys(l.date.from).length,l=>t(new Date(l.date.from))),c("bookingDateLessThan",l=>l.date&&l.date.to&&Object.keys(l.date.to).length,l=>t(new Date(l.date.to))),c("fromCheckSerialNumber",l=>l.checkSerialNumber&&l.checkSerialNumber.from,l=>l.checkSerialNumber.from),c("toCheckSerialNumber",l=>l.checkSerialNumber&&l.checkSerialNumber.to,l=>l.checkSerialNumber.to),s},n.fromHttpGetParams=function a(_){const s={};return _.creditDebitIndicator&&(s.creditDebitIndicator={value:_.creditDebitIndicator}),_.type&&(s.types=Array.isArray(_.type)?_.type.map(c=>({value:c})):{value:_.type}),_.billingStatus&&(s.billingStatus={value:_.billingStatus}),_.amountGreaterThan&&(s.amount={from:parseInt(_.amountGreaterThan,10)}),_.amountLessThan&&(s.amount=Object.assign(Object.assign({},s.amount),{to:parseInt(_.amountLessThan,10)})),_.bookingDateGreaterThan&&(s.date={from:_.bookingDateGreaterThan}),_.bookingDateLessThan&&(s.date=Object.assign(Object.assign({},s.date),{to:_.bookingDateLessThan})),_.fromCheckSerialNumber&&(s.checkSerialNumber={from:parseInt(_.fromCheckSerialNumber,10)}),_.toCheckSerialNumber&&(s.checkSerialNumber=Object.assign(Object.assign({},s.checkSerialNumber),{to:parseInt(_.toCheckSerialNumber,10)})),s}}(qe||(qe={}));var E=(()=>{return(n=E||(E={})).CreditDebitIndicator="creditDebitIndicator",n.Types="types",n.BillingStatus="billingStatus",n.Amount="amount",n.Date="date",n.Categories="categories",n.CheckSerialNumber="checkSerialNumber",E;var n})();const Wn=[{name:"All"},{value:"CRDT",name:"Credit"},{value:"DBIT",name:"Debit"}],dp=[{value:"ATM",name:"ATM"},{value:"ACH",name:"Ach"},{value:"Bill Payment",name:"Bill Payment"},{value:"Cash",name:"Cash"},{value:"Cheques",name:"Cheques"},{value:"CreditDebit Card",name:"Credit/Debit Card"},{value:"Check",name:"Check"},{value:"Deposit",name:"Deposit"},{value:"Fee",name:"Fee"},{value:"POS",name:"POS"},{value:"Withdrawal",name:"Withdrawal"}],Ap=[{value:"PENDING",name:"Pending"},{value:"BILLED",name:"Billed"},{value:"UNBILLED",name:"Unbilled"}];var Qt=(()=>{return(n=Qt||(Qt={})).available="AVAILABLE",n.unavailable="UNAVAILABLE",Qt;var n})(),ve=(()=>{return(n=ve||(ve={})).billed="BILLED",n.unbilled="UNBILLED",n.pending="PENDING",ve;var n})();const Zn={"Current Account":[E.Date,E.CreditDebitIndicator,E.Amount,E.Types,E.BillingStatus,E.CheckSerialNumber],"Savings Account":[E.Date,E.CreditDebitIndicator,E.Amount,E.Types,E.BillingStatus,E.CheckSerialNumber],"Credit Card":[E.Date,E.CreditDebitIndicator,E.Amount,E.Types,E.BillingStatus],Loan:[E.Date,E.CreditDebitIndicator,E.Amount],"Term Deposit":[E.Date,E.CreditDebitIndicator,E.Amount],"Debit Card":[E.Date,E.CreditDebitIndicator,E.Amount],"Investment Account":[E.Date,E.CreditDebitIndicator,E.Amount],defaultFilters:[E.Date,E.CreditDebitIndicator,E.Amount]},ua=n=>{if(!n.length)return;const i=n.split(",")[0].trim().replace(/\s{2,}/g," "),[t,o]=i.split(" ");if(!t||"ASC"!==o&&"DESC"!==o)throw new Error('Invalid value for "initialSortOptions" property.\n      Please use "<orderBy> <direction>" format, e.g., "bookingDate DESC", or leave it empty.');return{orderBy:t,direction:o}},ie=(n,i)=>(0,K.a)([n,i]).pipe((0,g.U)(([t,o])=>null!=t?t:o)),da=n=>btoa(encodeURIComponent(n).replace(/%([0-9A-F]{2})/g,function(i,t){return String.fromCharCode(parseInt(t,16))})),Aa=n=>new Date(n.getFullYear(),n.getMonth(),n.getDate());var Ue;!function(n){const i=u=>{const A="DBIT"===u.creditDebitIndicator?-1:1,m=Object.assign(Object.assign(Object.assign({},u),{isPending:function(y){let M=!1;if(y&&y.billingStatus){const C=y.billingStatus.toUpperCase();M=C===ve.pending||C===ve.unbilled}return M}(u)}),u.merchant?{merchant:Object.assign(Object.assign({id:u.merchant.id,name:u.merchant.name},u.merchant.logo?{logo:u.merchant.logo}:{}),u.merchant.website?{website:u.merchant.website}:{})}:{});if(u.transactionAmountCurrency){const h=parseFloat(u.transactionAmountCurrency.amount);m.transactionAmountCurrency=Object.assign(Object.assign({},u.transactionAmountCurrency),{unsignedAmount:h,amount:(A*(h||0)).toString()})}if(u.instructedAmountCurrency){const h=parseFloat(u.instructedAmountCurrency.amount);m.instructedAmountCurrency=Object.assign(Object.assign({},u.instructedAmountCurrency),{unsignedAmount:h,amount:(A*(h||0)).toString()})}return m.currencyExchangeAvailability=!!u.instructedAmountCurrency&&!!u.transactionAmountCurrency&&!!u.currencyExchangeRate,m};function c(u,A=2){return(u+"").padStart(A,"0")}function l(u){const A=u||"";if(/^[0-9]{4}-[0-9]{2}-[0-9]{2}/.exec(A)){const m=new Date(A),h=c(m.getMonth()+1),y=c(m.getDate());return`${m.getFullYear()}-${h}-${y}`}void 0!==u&&console.error(`invalid date provided ${u}`)}n.fromHttpResponse=u=>{const A=(u=>u?parseInt(u,10):0)(u.headers.get("X-Total-Count")),m=(u=>{if(null===u||!u.length)return;const A=u.split(",")[0].trim().replace(/\s{2,}/g," "),[m,h]=A.split(" ");if(!m||"ASC"!==h&&"DESC"!==h)throw new Error('Invalid value for "initialSortOptions" property.\n        Please use "<orderBy> <direction>" format, e.g., "bookingDate DESC",\n        or leave it empty.');return{orderBy:m,direction:h}})(u.headers.get("X-Sort-Fields-Direction")),h=(u=>u||"")(u.headers.get("X-Available-Export-Types")),y=(u=>JSON.parse(u||"{}"))(u.headers.get("X-Unavailable-Export-Types-Reasons"));return(u=>Object.assign(Object.assign({},u),{items:u.items.map(i)}))(Object.assign(Object.assign({items:u.body||[],totalCount:A},m?{sort:m}:{}),{availableExportTypesHeader:h,unavailableExportTypesReasonsHeader:y}))},n.concat=(u,A)=>A.httpResponseError?Object.assign(Object.assign({},u),{items:[...u.items],httpResponseError:A.httpResponseError}):Object.assign(Object.assign(Object.assign(Object.assign({items:[...u.items,...A.items],totalCount:u.totalCount},A.sort?{sort:A.sort}:{}),A.availableExportTypesHeader?{availableExportTypesHeader:A.availableExportTypesHeader}:{}),A.unavailableExportTypesReasonsHeader?{unavailableExportTypesReasonsHeader:A.unavailableExportTypesReasonsHeader}:{}),{httpResponseError:A.httpResponseError}),n.hasLoadedAll=u=>u.items.length===u.totalCount,n.toHttpRequest=u=>{var A,m,h,y,M,C,k,ue,ge,F,Pe,Le,J,Y,wo,ko,Ko,Fo,Jo,Wo,Zo,Ho,Yo,zo,Qo,$o,Vo;const ds=(de,xt,ps)=>de?Array.isArray(de)?{[xt]:ps(de)}:{[xt]:[ps(de)]}:{},ae=(de,xt)=>void 0!==xt?{[de]:xt}:{},qo=de=>Object.prototype.hasOwnProperty.call(de,"pagination"),As=de=>Object.prototype.hasOwnProperty.call(de,"exportType");return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ds(u.account.arrangementId,"arrangementsIds",de=>de)),ae("query",null===(A=u.search)||void 0===A?void 0:A.query)),ae("amountGreaterThan",null===(h=null===(m=u.filter)||void 0===m?void 0:m.amount)||void 0===h?void 0:h.from)),ae("amountLessThan",null===(M=null===(y=u.filter)||void 0===y?void 0:y.amount)||void 0===M?void 0:M.to)),ae("bookingDateGreaterThan",""===(null===(k=null===(C=u.filter)||void 0===C?void 0:C.date)||void 0===k?void 0:k.from)?void 0:l(null===(ge=null===(ue=u.filter)||void 0===ue?void 0:ue.date)||void 0===ge?void 0:ge.from))),ae("bookingDateLessThan",""===(null===(Pe=null===(F=u.filter)||void 0===F?void 0:F.date)||void 0===Pe?void 0:Pe.to)?void 0:l(null===(J=null===(Le=u.filter)||void 0===Le?void 0:Le.date)||void 0===J?void 0:J.to))),ae("categories",null===(Y=u.filter)||void 0===Y?void 0:Y.categories)),ae("fromCheckSerialNumber",null===(ko=null===(wo=u.filter)||void 0===wo?void 0:wo.checkSerialNumber)||void 0===ko?void 0:ko.from)),ae("toCheckSerialNumber",null===(Fo=null===(Ko=u.filter)||void 0===Ko?void 0:Ko.checkSerialNumber)||void 0===Fo?void 0:Fo.to)),ae("orderBy",null===(Jo=u.sort)||void 0===Jo?void 0:Jo.orderBy)),ae("direction",null===(Wo=u.sort)||void 0===Wo?void 0:Wo.direction)),ae("state",qo(u)?u.state:void 0)),ae("from",qo(u)?null===(Zo=u.pagination)||void 0===Zo?void 0:Zo.from:void 0)),ae("size",qo(u)?null===(Ho=u.pagination)||void 0===Ho?void 0:Ho.size:void 0)),ae("billingStatus",null===(zo=null===(Yo=u.filter)||void 0===Yo?void 0:Yo.billingStatus)||void 0===zo?void 0:zo.value)),ae("creditDebitIndicator",null===($o=null===(Qo=u.filter)||void 0===Qo?void 0:Qo.creditDebitIndicator)||void 0===$o?void 0:$o.value)),ae("exportType",As(u)?u.exportType:void 0)),ae("locale",As(u)?u.locale:void 0)),ds(null===(Vo=u.filter)||void 0===Vo?void 0:Vo.types,"types",de=>de.value))}}(Ue||(Ue={}));const Mt=(n,i)=>{const t=Object.keys,o=typeof n;return n&&i&&"object"===o&&o===typeof i?t(n).length===t(i).length&&t(n).every(_=>Mt(n[_],i[_])):n===i},pa=n=>i=>i.pipe((0,W.w)(n),(0,ut._)(1),(0,dt.x)()),ma=(n,i)=>i.onLoad===V.Append?Ue.concat(n,i.transactionsList):i.transactionsList;var Ne=(()=>{return(n=Ne||(Ne={})).GET_REQUEST="get-request",n.POST_REQUEST="post-request",Ne;var n})();function fp(n){return(n.body||[]).map(i=>({id:i.id,name:i.name,displayName:i.displayName,alias:i.bankAlias,IBAN:i.IBAN,BBAN:i.BBAN,currency:i.currency}))}let $t=(()=>{class n{constructor(t){this.productSummaryDataHttpService=t}getAllArrangements(){return this.productSummaryDataHttpService.getArrangementsByBusinessFunction({businessFunction:"Product Summary",resourceName:"Product Summary",privilege:"view",size:1e6},"response").pipe((0,g.U)(fp))}getProductSummary(){return this.productSummaryDataHttpService.getArrangementsByBusinessFunction({businessFunction:"Product Summary",resourceName:"Product Summary",privilege:"view",size:1e6},"body")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(X.IK))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var $=(()=>{return(n=$||($={})).NotLoaded="NotLoaded",n.LoadingMore="LoadingMore",n.LoadingPage="LoadingPage",n.Loading="Loading",n.Loaded="Loaded",$;var n})();const Vt=new e.OlP("shows the transactions details modal");let Sa=(()=>{class n{constructor(t,o,a){this.transactionsDataHttpService=t,this.accountService=o,this.locale=a,this.selectedAccount=new P.t(1),this.pageSize=new P.t(1),this.initialListOptions=new P.t(1),this.options=new N.X({}),this.listRefresh=new T.x,this.listOptions=new N.X(zt),this.exportOptions=new N.X(up),this.showPendingTransactionsOnTop=new P.t(1),this.getOrPostEndpoint=new N.X(Ne.GET_REQUEST),this.transactionsList=(0,Re.T)(this.listOptions.pipe((0,B.h)(_=>void 0!==_.account.arrangementId),(0,re.x)(Mt)),this.listRefresh).pipe(pa(_=>(this.loadingState.next(_.onLoad===V.Append?$.LoadingMore:_.onLoad===V.ReplacePage?$.LoadingPage:$.Loading),(0,K.a)([this.loadTransactions(_).pipe((0,U.b)(()=>{this.loadingState.next($.Loaded)}),(0,g.U)(s=>({transactionsList:s,onLoad:_.onLoad}))),this.accountService.getAllArrangements().pipe((0,g.U)(s=>{const c=new Map;return s.forEach(l=>{c.set(l.id,l)}),c})),this.isFilterApplied,this.isSearchApplied]).pipe((0,g.U)(([s,c,l,u])=>(s.transactionsList.items=s.transactionsList.items.map(A=>Object.assign(Object.assign({},A),{account:c.get(A.arrangementId||"")})),s.transactionsList.initialRequest=!(l||u),s))))),(0,xe.R)(ma,{items:[],totalCount:0})),this.loadingState=new N.X($.NotLoaded),this.isFilterApplied=this.listOptions.pipe((0,g.U)(_=>!qe.isEmpty(_.filter||{}))),this.isSearchApplied=this.listOptions.pipe((0,g.U)(_=>!qe.isEmpty(_.search||{}))),(0,K.a)([this.selectedAccount,this.pageSize,this.initialListOptions,this.showPendingTransactionsOnTop]).pipe((0,g.U)(([_,s,c,l])=>Object.assign(Object.assign(Object.assign({},l?{state:Dt.completed}:{}),{account:{arrangementId:_},pagination:{from:0,size:s},onLoad:V.Replace}),c))).subscribe(this.options),this.options.pipe((0,xe.R)((_,s)=>Object.assign({},_,s),zt)).subscribe(this.listOptions),this.listOptions.pipe((0,B.h)(_=>void 0!==_.account.arrangementId),(0,g.U)(_=>Object.assign(Object.assign({},_),{pagination:void 0,state:void 0,exportType:"csv",locale:"en-US"}))).subscribe(this.exportOptions)}loadTransactions(t){const o=Ue.toHttpRequest(t);let a;return a=this.isUsingPostEndpoints?this.transactionsDataHttpService.getTransactionsWithPost({transactionListRequest:o},"response"):this.transactionsDataHttpService.getTransactions(o,"response"),a.pipe((0,g.U)(Ue.fromHttpResponse),(0,L.K)(_=>(0,R.of)({items:[],totalCount:0,httpResponseError:_})))}exportTransactions(t){const o=Ue.toHttpRequest(Object.assign(Object.assign({},t),{locale:this.locale}));return this.isUsingPostEndpoints?this.transactionsDataHttpService.getTransactionsExportWithPost({transactionListRequest:o},"response"):this.transactionsDataHttpService.getTransactionsExport(o,"response")}search(t){const o={query:t},a=Object.assign(Object.assign({},this.options.getValue().pagination||_e.pagination),{from:0});this.options.next(Object.assign(Object.assign(Object.assign({},this.options.getValue()),at),{pagination:a,search:o,onLoad:V.Replace}))}clearSearch(){const t=Object.assign(Object.assign({},this.options.getValue().pagination||_e.pagination),{from:0});this.options.next(Object.assign(Object.assign(Object.assign({},this.options.getValue()),at),{pagination:t,onLoad:V.Replace}))}filter(t){const o=Object.assign(Object.assign({},this.options.getValue().pagination||_e.pagination),{from:0});this.options.next(Object.assign(Object.assign(Object.assign({},this.options.getValue()),_t),{pagination:o,filter:Object.assign({},t),onLoad:V.Replace}))}clearFilter(){const t=Object.assign(Object.assign({},this.options.getValue().pagination||_e.pagination),{from:0});this.options.next(Object.assign(Object.assign(Object.assign({},this.options.getValue()),_t),{pagination:t,onLoad:V.Replace}))}exportToType(t){return this.exportOptions.pipe((0,oA.P)(),(0,W.w)(o=>this.exportTransactions(Object.assign(Object.assign({},o),{exportType:t}))))}loadMore(){const t=this.options.getValue().pagination||_e.pagination,o=Object.assign(Object.assign({},t),{from:t.from+1});this.options.next({pagination:o,onLoad:V.Append})}sort(t){const o=this.options.getValue().pagination||_e.pagination;this.options.next({sort:Object.assign({},t),pagination:Object.assign(Object.assign({},o),{from:0}),onLoad:V.ReplacePage})}pageChange(t){const o=Object.assign(Object.assign(Object.assign({},_e.pagination),this.options.getValue().pagination),{from:t});this.options.next({pagination:o,onLoad:V.ReplacePage})}getTransactionsFrom(t,o,a=(0,R.of)({}),_=(0,R.of)(!1),s=(0,R.of)(Ne.GET_REQUEST)){t.subscribe(this.selectedAccount),o.subscribe(this.pageSize),a.subscribe(this.initialListOptions),_.subscribe(this.showPendingTransactionsOnTop),s.subscribe(this.getOrPostEndpoint)}getCurrentPage(){return this.listOptions.pipe((0,g.U)(t=>(t.pagination||_e.pagination).from))}getTransactionsList(){return this.transactionsList}retryFiltering(){this.listRefresh.next(this.listOptions.getValue())}refreshTransactions(){const t=this.options.getValue().pagination||_e.pagination,o=Object.assign(Object.assign({},t),{from:0}),a=Object.assign(Object.assign({},this.listOptions.getValue()),{pagination:o,onLoad:V.ReplacePage});Mt(a,this.listOptions.getValue())?this.listRefresh.next(this.listOptions.getValue()):this.options.next({pagination:o,onLoad:V.ReplacePage})}get isUsingPostEndpoints(){return this.getOrPostEndpoint.getValue()===Ne.POST_REQUEST}ngOnDestroy(){this.listRefresh.complete(),this.selectedAccount.complete(),this.pageSize.complete(),this.initialListOptions.complete(),this.options.complete(),this.listOptions.complete(),this.exportOptions.complete(),this.showPendingTransactionsOnTop.complete(),this.loadingState.complete(),this.getOrPostEndpoint.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(We.e4),e.LFG($t),e.LFG(e.soG))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Ip=(()=>{class n{constructor(){this.hostRef=this,this.numberOfResultsFound=0,this.loadingState=$.NotLoaded,this.isFilterApplied=!1,this.isSearchApplied=!1}get isLoaded(){return this.loadingState===$.Loaded}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transactions-number-of-results-found"]],inputs:{numberOfResultsFound:"numberOfResultsFound",loadingState:"loadingState",isFilterApplied:"isFilterApplied",isSearchApplied:"isSearchApplied"},decls:2,vars:1,consts:function(){let i,t;return i="{VAR_PLURAL, plural, =0 {No results} =1 {1 result} other {{INTERPOLATION} results}}",i=e.Zx4(i,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),t=" " + i + " found ",[["bbTransactionsNumberOfResultsFoundCustomizable","",3,"bbHostRef"],["bbTransactionsNumberOfResultsFoundCustomizable",""],["class","bb-card__header bb-subtitle","aria-live","assertive",3,"ngClass",4,"ngIf"],["aria-live","assertive",1,"bb-card__header","bb-subtitle",3,"ngClass"],t]},template:function(t,o){1&t&&(e.GkF(0,0),e.YNc(1,uA,1,1,"ng-template",1)),2&t&&e.Q6J("bbHostRef",o.hostRef)},directives:function(){return[hp,r.O5,r.mk]},encapsulation:2,changeDetection:0}),n})(),hp=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbTransactionsNumberOfResultsFoundCustomizable",""]],features:[e.qOj]}),n})();var Hn,yt=(()=>{return(n=yt||(yt={})).FRONT="FRONT",n.BACK="BACK",yt;var n})();!function(n){function i(o){return{side:o.side,mimeType:o.mimeType,content:o.content}}n.fromHttpResponse=function t(o){return{images:(o.body&&o.body.images||[]).map(i)}}}(Hn||(Hn={}));var D=(()=>{return(n=D||(D={}))[n.error=-1]="error",n[n.serverError=-2]="serverError",n[n.badRequestError=-3]="badRequestError",n[n.notFoundError=-4]="notFoundError",n[n.loading=0]="loading",n[n.done=1]="done",n[n.notLoaded=2]="notLoaded",n[n.notStarted=3]="notStarted",D;var n})(),qt=(()=>{return(n=qt||(qt={})).Refunded="REFUNDED",n.Undisputed="UNDISPUTED",n.Pending="PENDING",n.Rejected="REJECTED",qt;var n})();let st=(()=>{class n{constructor(t){this.element=t,t.nativeElement.tabIndex=0}eventListener(t){this.element.nativeElement.click(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","bbAccessibilityKeyboard",""]],hostBindings:function(t,o){1&t&&e.NdJ("keydown.enter",function(_){return o.eventListener(_)})("keydown.space",function(_){return o.eventListener(_)})}}),n})(),Op=(()=>{class n{constructor(t){this.sanitizer=t,this.sideText="",this.imageAlt="",this.selectImage=new e.vpe}get imageFileName(){const t=this.image?this.image.mimeType.replace("image/",""):"";return`${this.imageCheckNumber}-${this.image?this.image.side:""}.${t}`}get formatedImageSource(){return`data:${this.image?this.image.mimeType:""};base64,${this.image?this.image.content:""}`}get imageCheckNumber(){return this.transaction&&this.transaction.checkSerialNumber}createImageSource(){return this.sanitizer.bypassSecurityTrustResourceUrl(this.formatedImageSource)}toggleDocumentViewer(){this.selectImage.emit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(aa.H7))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transaction-check-image-item"]],inputs:{image:"image",transaction:"transaction",sideText:"sideText",imageAlt:"imageAlt"},outputs:{selectImage:"selectImage"},decls:7,vars:4,consts:function(){let i,t;return i="Expand Image",t="No image",[["role","img","data-role","check-image-item","bbAccessibilityKeyboard","",1,"bb-check-img-container",3,"click"],[4,"ngIf","ngIfElse"],["noImage",""],[1,"bb-check-img-container-state"],[1,"bb-check-img-container-state__container"],["name","remove-red-eye","size","lg","color","white","aria-label",i],[1,"bb-check-img-container__img",3,"alt","src"],[1,"bb-check-no-img"],[1,"bb-check-no-img__icon"],["name","broken-image","size","lg","aria-label",t]]},template:function(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"div",0),e.NdJ("click",function(){return!!o.image&&o.toggleDocumentViewer()}),e.YNc(4,dA,5,2,"ng-container",1),e.qZA(),e.BQk(),e.YNc(5,AA,3,0,"ng-template",null,2,e.W1O)),2&t){const a=e.MAs(6);e.xp6(2),e.Oqu(o.sideText),e.xp6(1),e.Q2q("aria-label","",o.sideText," image container"),e.xp6(1),e.Q6J("ngIf",!!o.image)("ngIfElse",a)}},directives:[b.o,st,r.O5],encapsulation:2,changeDetection:0}),n})();var vt=(()=>{return(n=vt||(vt={})).JPEG="image/jpeg",n.JPG="image/jpg",n.PNG="image/png",n.WEBP="image/webp",n.GIF="image/gif",n.BMP="image/bmp",vt;var n})(),le=(()=>{return(n=le||(le={})).UP="ArrowUp",n.DOWN="ArrowDown",n.ENTER="Enter",n.SPACE=" ",n.TAB="Tab",n.BACKSPACE="Backspace",n.DELETE="Delete",n.ESCAPE="Escape",n.X="x",n.V="v",n.LEFT="ArrowLeft",n.RIGHT="ArrowRight",le;var n})();const Mp={9:le.TAB,38:le.UP,40:le.DOWN,32:le.SPACE,13:le.ENTER,46:le.DELETE,8:le.BACKSPACE,27:le.ESCAPE,88:le.X,86:le.V};let Up=(()=>{class n{get containerStyles(){var t,o;return(null===(o=null===(t=this.options)||void 0===t?void 0:t.container)||void 0===o?void 0:o.styles)||null}get hasCustomStyles(){var t,o;return Boolean(null===(o=null===(t=this.options)||void 0===t?void 0:t.container)||void 0===o?void 0:o.styles)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-document-viewer-backdrop"]],inputs:{options:"options"},decls:1,vars:3,consts:[["aria-hidden","true",1,"bb-document-viewer-backdrop","modal-backdrop","show",3,"ngStyle"]],template:function(t,o){1&t&&e._UZ(0,"div",0),2&t&&(e.ekj("bb-document-viewer-backdrop-default-off",o.hasCustomStyles),e.Q6J("ngStyle",o.containerStyles))},directives:[r.PC],encapsulation:2,changeDetection:0}),n})(),Bp=(()=>{class n{constructor(t){this.ngZone=t,this.isLoading=!1,this.close=new e.vpe}set source(t){t&&(this.revokeObjectURL(),this.documentObjectURL=t)}ngOnDestroy(){this.revokeObjectURL()}onOpenDocument(){!this.documentObjectURL||this.openImage(this.documentObjectURL)}onPrintDocument(){!this.documentObjectURL||this.printWindow(this.openImage(this.documentObjectURL))}onDownloadDocument(){!this.documentObjectURL||((n,i)=>{const t=document.createElement("a");t.href=n,t.download=`${i}`,t.click()})(this.documentObjectURL,this.filename)}openImage(t){const o=new Image,a=window.open("about:blank","_new");return o.src=t,a.document.write(o.outerHTML),a}printWindow(t){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{t.focus(),t.print()},0)})}revokeObjectURL(){this.documentObjectURL&&window.URL.revokeObjectURL(this.documentObjectURL)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.R0b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-document-viewer-header"]],inputs:{filename:"filename",filetype:"filetype",source:"source",isLoading:"isLoading"},outputs:{close:"close"},decls:21,vars:2,consts:function(){let i,t,o,a,_,s,c,l,u;return i="print",t="download",o="new tab",a="close",_="Check image export dropdown menu",s="close",c="Open in new tab",l="Download",u="Print",[[1,"bb-document-viewer-header"],[1,"bb-document-viewer-header__title","bb-stack"],["data-role","document-viewer-header-icon","name","description","size","md",1,"bb-stack__item","bb-stack__item--spacing-sm"],["data-role","document-viewer-header-filename",1,"bb-stack__item"],[1,"bb-stack"],[1,"bb-stack__item","bb-stack__item--spacing-none","bb-stack__item--push-right","bb-document-viewer-header-controls__web-view"],["bbButton","","data-role","print-document-btn","aria-label",i,"buttonSize","sm",1,"bb-document-viewer-interactor-controls__button","bb-document-viewer-header__spacer",3,"click"],["name","local-printshop","size","md","color","light"],["bbButton","","data-role","download-document-btn","aria-label",t,"buttonSize","sm",1,"bb-document-viewer-interactor-controls__button","bb-document-viewer-header__spacer",3,"click"],["name","save-alt","size","md","color","light"],["bbButton","","data-role","open-document-btn","aria-label",o,"buttonSize","sm",1,"bb-document-viewer-interactor-controls__button","bb-document-viewer-header__spacer",3,"click"],["name","open-in-new","size","md","color","light"],["bbButton","","data-role","close-document-btn","aria-label",a,"buttonSize","sm",1,"bb-document-viewer-interactor-controls__button","bb-document-viewer-header__spacer",3,"click"],["name","times","size","md","color","light"],[1,"bb-stack__item","bb-stack__item--spacing-none","bb-stack__item--push-right","bb-document-viewer-header-controls__mobile-view"],["container","body","data-role","options-menu-dropdown","icon","ellipsis-h","btnColor","muted","buttonSize","sm","iconSize","md","iconColor","light","ariaLabel",_,1,"bb-stack__item",3,"btnCircle"],["bbDropdownMenuItem",""],["bbButton","","data-role","close-document-btn","aria-label",s,"buttonSize","sm",1,"bb-stack__item","bb-document-viewer-interactor-controls__button","bb-document-viewer-header__spacer",3,"click"],["role","menuitem","data-role","open-document-item","href","javaScript:void(0);",1,"dropdown-item",3,"click"],["name","open-in-new","size","md",1,"bb-document-viewer-header__dropdown-icon"],c,["role","menuitem","data-role","download-document-item","href","javaScript:void(0);",1,"dropdown-item",3,"click"],["name","save-alt","size","md",1,"bb-document-viewer-header__dropdown-icon"],l,["role","menuitem","data-role","print-document-item","href","javaScript:void(0);",1,"dropdown-item",3,"click"],["name","local-printshop","size","md",1,"bb-document-viewer-header__dropdown-icon"],u]},template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"span",1),e._UZ(2,"bb-icon-ui",2),e.TgZ(3,"span",3),e._uU(4),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"button",6),e.NdJ("click",function(){return!o.isLoading&&o.onPrintDocument()}),e._UZ(8,"bb-icon-ui",7),e.qZA(),e.TgZ(9,"button",8),e.NdJ("click",function(){return!o.isLoading&&o.onDownloadDocument()}),e._UZ(10,"bb-icon-ui",9),e.qZA(),e.TgZ(11,"button",10),e.NdJ("click",function(){return!o.isLoading&&o.onOpenDocument()}),e._UZ(12,"bb-icon-ui",11),e.qZA(),e.TgZ(13,"button",12),e.NdJ("click",function(){return o.close.emit()}),e._UZ(14,"bb-icon-ui",13),e.qZA()(),e.TgZ(15,"div",14)(16,"div",4)(17,"bb-dropdown-menu-ui",15),e.YNc(18,pA,12,0,"ng-template",16),e.qZA(),e.TgZ(19,"button",17),e.NdJ("click",function(){return o.close.emit()}),e._UZ(20,"bb-icon-ui",13),e.qZA()()()()()),2&t&&(e.xp6(4),e.Oqu(o.filename),e.xp6(13),e.Q6J("btnCircle",!0))},directives:[b.o,Se.N9,v.Hq,Se.i4],encapsulation:2,changeDetection:0}),n})(),Pp=(()=>{class n{constructor(){this.navigationState={currIdx:0,total:0},this.canZoomOut=!0,this.canZoomIn=!0,this.navigate=new e.vpe,this.zoomIn=new e.vpe,this.zoomOut=new e.vpe}get navigationStatus(){return this.navigationState.currIdx+1+"/"+this.navigationState.total}get hasNextNavigation(){return this.navigationState.currIdx+1<this.navigationState.total}get hasPrevNavigation(){return this.navigationState.currIdx>0}prev(){this.navigate.emit(this.navigationState.currIdx-1)}next(){this.navigate.emit(this.navigationState.currIdx+1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-document-viewer-interactor"]],inputs:{navigationState:"navigationState",canZoomOut:"canZoomOut",canZoomIn:"canZoomIn"},outputs:{navigate:"navigate",zoomIn:"zoomIn",zoomOut:"zoomOut"},decls:13,vars:5,consts:function(){let i,t,o,a;return i="previous",t="next",o="zoom out",a="zoom in",[[1,"bb-document-viewer-interactor"],[1,"bb-document-viewer-interactor__container",3,"click"],[1,"bb-document-viewer-interactor-controls"],["bbButton","","data-role","previous-document-btn","class","bb-document-viewer-interactor-controls__button bb-document-viewer-interactor-controls__spacer","buttonSize","sm","aria-label",i,3,"click",4,"ngIf"],[1,"bb-document-viewer-interactor-controls__spacer"],["bbButton","","data-role","next-document-btn","class","bb-document-viewer-interactor-controls__button","buttonSize","sm","aria-label",t,3,"click",4,"ngIf"],[1,"bb-document-viewer-interactor-separator"],["bbButton","","data-role","zoom-out-btn","buttonSize","sm","aria-label",o,1,"bb-document-viewer-interactor-controls__button","bb-document-viewer-interactor-controls__spacer",3,"disabled","click"],["name","zoom-out","color","light","size","md"],["bbButton","","data-role","zoom-in-btn","aria-label",a,"buttonSize","sm",1,"bb-document-viewer-interactor-controls__button",3,"disabled","click"],["name","zoom-in","color","light","size","md"],["bbButton","","data-role","previous-document-btn","buttonSize","sm","aria-label",i,1,"bb-document-viewer-interactor-controls__button","bb-document-viewer-interactor-controls__spacer",3,"click"],["name","angle-left","color","light","size","md"],["bbButton","","data-role","next-document-btn","buttonSize","sm","aria-label",t,1,"bb-document-viewer-interactor-controls__button",3,"click"],["name","angle-right","color","light","size","md"]]},template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(_){return _.stopPropagation()}),e.TgZ(2,"div",2),e.YNc(3,mA,2,0,"button",3),e.TgZ(4,"span",4),e._uU(5),e.qZA(),e.YNc(6,SA,2,0,"button",5),e.qZA(),e._UZ(7,"div",6),e.TgZ(8,"div",2)(9,"button",7),e.NdJ("click",function(){return o.zoomOut.emit()}),e._UZ(10,"bb-icon-ui",8),e.qZA(),e.TgZ(11,"button",9),e.NdJ("click",function(){return o.zoomIn.emit()}),e._UZ(12,"bb-icon-ui",10),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",o.hasPrevNavigation),e.xp6(2),e.Oqu(o.navigationStatus),e.xp6(1),e.Q6J("ngIf",o.hasNextNavigation),e.xp6(3),e.Q6J("disabled",!o.canZoomOut),e.xp6(2),e.Q6J("disabled",!o.canZoomIn))},directives:[b.o,r.O5,v.Hq],encapsulation:2,changeDetection:0}),n})(),Gp=(()=>{class n{constructor(t){this.domSanitizer=t,this.navigationState={currIdx:0,total:0},this.navigate=new e.vpe,this.imageUiState={scale:1}}set source(t){t&&(this.revokeObjectURLIfNeeded(),this.imageObjectUrl=t,this.imageObjectTrustedUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(this.imageObjectUrl))}get canZoomOut(){return this.imageUiState.scale>=.1}get canZoomIn(){return this.imageUiState.scale<=4}get scale(){return this.domSanitizer.bypassSecurityTrustStyle(`scale(${this.imageUiState.scale})`)}ngOnDestroy(){this.revokeObjectURLIfNeeded()}zoomIn(){this.canZoomIn&&(this.imageUiState.scale*=1.1)}zoomOut(){this.canZoomOut&&(this.imageUiState.scale/=1.1)}revokeObjectURLIfNeeded(){this.imageObjectUrl&&window.URL.revokeObjectURL(this.imageObjectUrl)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(aa.H7))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-image-viewer"]],inputs:{source:"source",navigationState:"navigationState"},outputs:{navigate:"navigate"},decls:4,vars:6,consts:[[1,"bb-img-viewer-container","bb-stack","bb-stack--center"],["alt","Transaction check image",1,"bb-img-viewer-container__img",3,"src","click"],["imgRef",""],[3,"navigationState","canZoomOut","canZoomIn","navigate","zoomIn","zoomOut"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"img",1,2),e.NdJ("click",function(_){return _.stopPropagation()}),e.qZA()(),e.TgZ(3,"bb-document-viewer-interactor",3),e.NdJ("navigate",function(_){return o.navigate.emit(_)})("zoomIn",function(){return o.zoomIn()})("zoomOut",function(){return o.zoomOut()}),e.qZA()),2&t&&(e.xp6(1),e.Udp("transform",o.scale),e.Q6J("src",o.imageObjectTrustedUrl,e.LSH),e.xp6(2),e.Q6J("navigationState",o.navigationState)("canZoomOut",o.canZoomOut)("canZoomIn",o.canZoomIn))},directives:[Pp],encapsulation:2,changeDetection:0}),n})(),wp=(()=>{class n{constructor(t){this.elemRef=t,this.documentRefSrcs=[],this.close=new e.vpe,this.isLoading$=new N.X(!1),this.isHttpError$=new N.X(!1),this.documentType=vt,this.activeDocumentRefIdx$=new P.t(1),this.destroy$=new T.x}set activeDocumentRefIdx(t){this.activeDocumentRefIdx$.next(t)}get containerStyles(){var t,o;return(null===(o=null===(t=this.options)||void 0===t?void 0:t.container)||void 0===o?void 0:o.styles)||null}get viewerScale(){var t;return null===(t=this.options)||void 0===t?void 0:t.scale}ngOnInit(){this.setDocumentRefChangeSources(),this.setFocus()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onEscape(){this.close.emit()}closeDialog(){this.close.emit()}onNavigate(t){this.activeDocumentRefIdx$.next(t)}setDocumentRefChangeSources(){this.documentSrc$=this.activeDocumentRefIdx$.pipe((0,re.x)(),(0,U.b)(()=>{this.isLoading$.next(!0),this.isHttpError$.next(!1)}),(0,W.w)(t=>(0,K.a)([this.documentRefSrcs[t].src,(0,iA.H)(400)]).pipe((0,g.U)(([o])=>o),(0,aA.x)(()=>{this.isLoading$.next(!1)}))),(0,L.K)(t=>{throw this.isHttpError$.next(!0),t}),(0,_A.B)()),this.documentFilename$=this.activeDocumentRefIdx$.pipe((0,g.U)(t=>this.documentRefSrcs[t].filename)),this.documentFiletype$=this.activeDocumentRefIdx$.pipe((0,g.U)(t=>this.documentRefSrcs[t].filetype)),this.navigationState$=this.activeDocumentRefIdx$.pipe((0,g.U)(t=>({currIdx:t,total:this.documentRefSrcs.length})))}setFocus(){this.elemRef.nativeElement.focus()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-document-viewer-container"]],viewQuery:function(t,o){if(1&t&&e.Gf(gA,7,e.s_b),2&t){let a;e.iGM(a=e.CRH())&&(o.viewContainer=a.first)}},hostBindings:function(t,o){1&t&&e.NdJ("keydown.escape",function(){return o.onEscape()},!1,e.evT)},inputs:{documentRefSrcs:"documentRefSrcs",activeDocumentRefIdx:"activeDocumentRefIdx",options:"options"},outputs:{close:"close"},decls:14,vars:24,consts:function(){let i,t;return i="Unknown Error",t="Try to reload the page or contact the system administrator",[["role","dialog","aria-modal","true","tabindex","-1","cdkTrapFocus","","cdkTrapFocusAutoCapture","true",1,"bb-document-viewer-container","show",3,"ngStyle"],[1,"bb-document-viewer-container__wrapper"],["data-role","document-viewer-header",3,"filename","source","filetype","isLoading","close"],[4,"ngIf"],["class","bb-document-viewer-container__state","data-role","document-viewer-loading-state","loaderSize","lg",4,"ngIf"],["data-role","document-viewer-error-state","class","bb-document-viewer-container__state","iconColor","white","iconModifier","error-outline","iconSize","xxl","title",i,"subtitle",t,4,"ngIf"],["class","bb-document-viewer-container-image",3,"click",4,"ngIf"],[1,"bb-document-viewer-container-image",3,"click"],["data-role","document-viewer-image",3,"source","navigationState","navigate"],["data-role","document-viewer-loading-state","loaderSize","lg",1,"bb-document-viewer-container__state"],["data-role","document-viewer-error-state","iconColor","white","iconModifier","error-outline","iconSize","xxl","title",i,"subtitle",t,1,"bb-document-viewer-container__state"]]},template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"bb-document-viewer-header",2),e.NdJ("close",function(){return o.close.emit()}),e.ALo(3,"async"),e.ALo(4,"async"),e.ALo(5,"async"),e.ALo(6,"async"),e.qZA(),e.YNc(7,TA,4,5,"ng-container",3),e.ALo(8,"async"),e.YNc(9,CA,1,0,"bb-loading-indicator-ui",4),e.ALo(10,"async"),e.YNc(11,NA,1,0,"bb-empty-state-ui",5),e.ALo(12,"async"),e.ALo(13,"async"),e.qZA()()),2&t&&(e.Q6J("ngStyle",o.containerStyles),e.xp6(2),e.Q6J("filename",e.lcZ(3,8,o.documentFilename$))("source",e.lcZ(4,10,o.documentSrc$))("filetype",e.lcZ(5,12,o.documentFiletype$))("isLoading",e.lcZ(6,14,o.isLoading$)),e.xp6(5),e.Q6J("ngIf",e.lcZ(8,16,o.documentSrc$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(10,18,o.isLoading$)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(12,20,o.isLoading$)&&e.lcZ(13,22,o.isHttpError$)))},directives:[Bp,Gp,Z.Q,ne.s,Wt.mK,r.PC,r.O5],pipes:[r.Ov],encapsulation:2,changeDetection:0}),n})(),kp=(()=>{class n{constructor(){this.position=0,this.closeViewer=new e.vpe}toDocumentRefSrc(...t){return t.filter(o=>!!o).map(o=>{const{mimeType:a,content:_,side:s}=o,c=null==o?void 0:o.mimeType.replace("image/","");return{filename:`${this.imageCheckNumber}-${s}.${c}`,filetype:null==o?void 0:o.mimeType,src:(0,R.of)(`data:${a};base64,${_}`)}})}get imagesRefsSrc(){return this.toDocumentRefSrc(this.imageFront,this.imageBack)}closeDocumentViewer(){this.closeViewer.emit()}trapKeyEvent(t){(function vp(n){return function yp(){return navigator.userAgent.indexOf("MSIE")>-1||navigator.userAgent.indexOf("Trident/")>-1}()?Mp[n.keyCode]:n.code})(t)!==le.ESCAPE&&t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transaction-check-image-document-viewer"]],inputs:{imageCheckNumber:"imageCheckNumber",imageFront:"imageFront",imageBack:"imageBack",position:"position"},outputs:{closeViewer:"closeViewer"},decls:3,vars:2,consts:[[3,"keydown","keyup"],["cdkTrapFocus","",3,"documentRefSrcs","activeDocumentRefIdx","close"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.NdJ("keydown",function(_){return o.trapKeyEvent(_)})("keyup",function(_){return o.trapKeyEvent(_)}),e._UZ(1,"bb-document-viewer-backdrop"),e.TgZ(2,"bb-document-viewer-container",1),e.NdJ("close",function(){return o.closeDocumentViewer()}),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("documentRefSrcs",o.imagesRefsSrc)("activeDocumentRefIdx",o.position))},directives:[Up,wp,Wt.mK],encapsulation:2,changeDetection:0}),n})(),Kp=(()=>{class n{constructor(){this.loadingStateEnum=D,this.index=0}set checkImagesList(t){this.imageFront=t&&t.images.find(o=>o.side===yt.FRONT),this.imageBack=t&&t.images.find(o=>o.side===yt.BACK)}get hasErrors(){return this.transactionDetailsLoadingStatus&&this.transactionDetailsLoadingStatus.checkImages&&this.transactionDetailsLoadingStatus.checkImages<0}get isDone(){return this.transactionDetailsLoadingStatus&&this.transactionDetailsLoadingStatus.checkImages===D.done}onClose(){this.index=0}selectImage(t){this.index=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transaction-check-image"]],inputs:{transaction:"transaction",checkImagesList:"checkImagesList",transactionDetailsLoadingStatus:"transactionDetailsLoadingStatus"},decls:3,vars:2,consts:function(){let i,t,o,a,_,s,c;return i="Front",t="Front check image",o="Back",a="Back check image",_=" Something went wrong. Please try again later. ",s=" Check images cannot be viewed at the moment, please try again later or contact your financial institution. ",c=" Check images cannot be viewed at the moment, please try again later or contact your financial institution. ",[[4,"ngIf","ngIfElse"],["loadingState",""],[1,"bb-stack","bb-stack--wrap"],[1,"bb-stack__item"],["data-role","check-image-item-front","sideText",i,"imageAlt",t,3,"image","transaction","selectImage",4,"ngIf"],["data-role","check-image-item-back","sideText",o,"imageAlt",a,3,"image","transaction","selectImage",4,"ngIf"],["data-role","check-image-document-viewer",3,"imageCheckNumber","imageFront","imageBack","position","closeViewer",4,"ngIf"],[4,"ngIf"],["data-role","check-image-item-front","sideText",i,"imageAlt",t,3,"image","transaction","selectImage"],["data-role","check-image-item-back","sideText",o,"imageAlt",a,3,"image","transaction","selectImage"],["data-role","check-image-document-viewer",3,"imageCheckNumber","imageFront","imageBack","position","closeViewer"],["class","bb-input-validation-message","data-role","check-image-server-error-state",4,"ngIf"],["class","bb-input-validation-message","data-role","check-image-bad-request-error-state",4,"ngIf"],["class","bb-input-validation-message","data-role","check-image-not-found-error-state",4,"ngIf"],["data-role","check-image-server-error-state",1,"bb-input-validation-message"],_,["data-role","check-image-bad-request-error-state",1,"bb-input-validation-message"],s,["data-role","check-image-not-found-error-state",1,"bb-input-validation-message"],c,["loaderSize","lg"]]},template:function(t,o){if(1&t&&(e.YNc(0,yA,8,4,"ng-container",0),e.YNc(1,vA,1,0,"ng-template",null,1,e.W1O)),2&t){const a=e.MAs(2);e.Q6J("ngIf",o.isDone||o.hasErrors)("ngIfElse",a)}},directives:[Op,kp,Z.Q,r.O5],encapsulation:2,changeDetection:0}),n})(),Fp=(()=>{class n{constructor(t){this.fb=t,this.enableDispute=!1,this.state=D.notStarted,this.submitReport=new e.vpe,this.cancelReport=new e.vpe,this.messageChange=new e.vpe,this.fileChange=new e.vpe,this.fileRemoved=new e.vpe,this.confirmationDialogActive=!1,this.labels={inquire:"Inquire for more information",dispute:"Dispute this transaction"},this.loadingStateEnum=D,this.unsubscribeSubject=new T.x,this.transactionReportForm=this.fb.group({topic:[{value:""},this.topicRequired],attachment:[void 0],subject:[{name:""}],body:[""]})}topicRequired(t){var o;return""===(null===(o=t.value)||void 0===o?void 0:o.value)?{required:"value is required"}:null}getControl(t){return this.transactionReportForm.controls[t]}setFormValue(t){this.transactionReportForm.patchValue({body:t.body,attachments:t.attachments},{emitEvent:!1})}hasError(t,o){const a=this.getControl(t);return a&&a.errors&&a.errors[o]}isInvalidControl(t){const o=this.getControl(t);return!!o&&o.touched&&o.invalid}saveReport(){this.transactionReportForm.valid?this.submitReport.emit(this.message):this.transactionReportForm.markAllAsTouched()}closeReportForm(){this.cancelReport.emit(),this.closeConfirmationDialog()}closeConfirmationDialog(){this.confirmationDialogActive=!1}processLabel(t){const o=t.split(" "),a=o.splice(o.length-1,1);return[o.join(" ")+" ",...a]}ngOnInit(){this.message&&this.setFormValue(this.message),this.transactionReportForm.valueChanges.pipe((0,ee.R)(this.unsubscribeSubject)).subscribe({next:t=>{this.messageChange.emit(Object.assign(Object.assign({},this.message),t))}})}uploadFile(t){t.files&&t.files[0]&&(this.fileChange.emit(t.files[0]),t.value="")}removeAttachment(t){this.fileRemoved.emit(t)}ngOnDestroy(){this.unsubscribeSubject.next(),this.unsubscribeSubject.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(I.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transactions-inquiry-dispute"]],inputs:{message:"message",enableDispute:"enableDispute",state:"state",inquireAndDisputeTopics:"inquireAndDisputeTopics"},outputs:{submitReport:"submitReport",cancelReport:"cancelReport",messageChange:"messageChange",fileChange:"fileChange",fileRemoved:"fileRemoved"},decls:45,vars:20,consts:function(){let i,t,o,a,_,s,c,l,u,A,m,h,y,M,C,k,ue,ge;return i=" Does this transaction seem suspicious or incorrect? ",t=" It\u2019s important to provide as much detail as possible for the bank employee to quickly and accurately review your issue. ",o="Report body",a="Please tell us more about this transaction...",_=" Send ",s=" Discard your report? ",c=" All entered data will be lost. ",l=" Discard ",u=" Cancel ",A=" Required field ",m=" Required field ",h="Couldn\u2019t send your message",y="Something went wrong. Please try again.",M=" Cancel ",C=" If this transaction is incorrect, you can raise a claim for a refund. ",k=" If you are suspicious about this transaction, you can ask the bank to gather more information about it. ",ue=" If this transaction is incorrect, you can raise a claim for a refund. ",ge=" If you are suspicious about this transaction, you can ask the bank to gather more information about it. ",[[1,"bb-transaction-list-item-detail-additional-info"],[3,"formGroup"],["bbAccessibilityKeyboard","",1,"bb-block","bb-block--lg"],["data-role","dispute-inquiry-header",1,"bb-transaction-list-item-detail-additional-info__title"],i,["data-role","dispute-inquiry-subHeader",1,"bb-text-support","text-small"],t,[1,"form-group","bb-block","bb-block--lg"],["aria-labelledby","'label-transaction-dispute'","formControlName","topic","verticalAlign","top",3,"horizontal"],["value","dispute","labelTemplateContext","dispute",3,"labelTemplate","disabled"],["value","inquire","labelTemplateContext","inquire",3,"labelTemplate"],[3,"showErrors"],[4,"ngIf"],[1,"form-group","bb-block",3,"ngClass"],["aria-label",o,"formControlName","body","placeholder",a,3,"readonly","required"],[1,"form-group","bb-block","bb-block--sm"],["label","Default file input","data-role","attachment-file-input",3,"disabled","change"],["class","row bb-inquire-dispute-attachments",4,"ngIf"],[1,"bb-block","bb-block--xl","bb-text-align-left"],[1,"bb-button-bar"],["bbButton","","color","primary","data-role","dispute-inquiry-send-button",1,"bb-button-bar__button",3,"isLoading","click"],_,["bbButton","","type","button","color","secondary","data-role","dispute-inquiry-cancel-button","class","bb-button-bar__button",3,"click",4,"ngIf"],["disputeTipContent",""],["inqueryTipContent",""],["optionsLabel",""],[3,"isOpen","cancel"],[1,"modal-header"],["id","modal-basic-title","data-role","discard-report-modal-header",1,"modal-title"],s,[1,"modal-body"],["data-role","discard-report-modal-subHeader"],c,[1,"modal-footer"],["bbButton","","color","danger","data-role","discard-report-modal-discard-button",1,"bb-button-bar__button",3,"click"],l,["bbButton","","color","secondary","data-role","discard-report-modal-cancel-button",1,"bb-button-bar__button",3,"click"],u,A,m,[1,"row","bb-inquire-dispute-attachments"],["class","col-md-6 bb-inquire-dispute-attachments__item",4,"ngFor","ngForOf"],[1,"col-md-6","bb-inquire-dispute-attachments__item"],[1,"bb-block","bb-block--md"],["data-role","attachment-file",3,"name","size","fileContent","block","loading","deletable","delete"],["title",h,"data-role","send-report-failed","message",y],["bbButton","","type","button","color","secondary","data-role","dispute-inquiry-cancel-button",1,"bb-button-bar__button",3,"click"],M,[1,"bb-text-align-left"],C,k,[1,"bb-input-radio-group__radio-label"],[1,"d-inline-block"],["role","tooltip","name","info","size","md","triggers","hover click","placement","right","bbAccessibilityKeyboard","",1,"bb-transactions-list-pending-header__tooltip","bb-transactions-list-pending-header__tooltip--md-top",3,"bbTooltip"],["role","tooltip","name","info","size","md","triggers","hover click","placement","left","bbAccessibilityKeyboard","",1,"bb-transactions-list-pending-header__tooltip","bb-transactions-list-pending-header__tooltip--sm-bottom",3,"bbTooltip"],[1,"sr-only"],ue,["role","tooltip","name","info","size","md","triggers","hover click","placement","top","bbAccessibilityKeyboard","",1,"bb-transactions-list-pending-header__tooltip","bb-transactions-list-pending-header__tooltip--sm-bottom",3,"bbTooltip"],ge]},template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"h5",3),e.SDv(4,4),e.qZA(),e.TgZ(5,"p",5),e.SDv(6,6),e.qZA()(),e.TgZ(7,"div",7)(8,"bb-input-radio-group-ui",8),e._UZ(9,"bb-input-radio-ui",9)(10,"bb-input-radio-ui",10),e.qZA(),e.TgZ(11,"bb-input-validation-message-ui",11),e.YNc(12,UA,2,0,"span",12),e.qZA()(),e.TgZ(13,"div",13),e._UZ(14,"bb-rich-text-editor-ui",14),e.TgZ(15,"bb-input-validation-message-ui",11),e.YNc(16,BA,2,0,"span",12),e.qZA()(),e.TgZ(17,"div",15)(18,"bb-input-file-ui",16),e.NdJ("change",function(_){return o.uploadFile(_.target)}),e.qZA()(),e.YNc(19,LA,2,1,"div",17),e.TgZ(20,"div",18),e.YNc(21,xA,2,0,"ng-container",12),e.qZA(),e.TgZ(22,"div",19)(23,"bb-load-button-ui",20),e.NdJ("click",function(){return o.state!==o.loadingStateEnum.loading&&o.saveReport()}),e.SDv(24,21),e.qZA(),e.YNc(25,GA,2,0,"button",22),e.qZA()()(),e.YNc(26,wA,3,0,"ng-template",null,23,e.W1O),e.YNc(28,kA,3,0,"ng-template",null,24,e.W1O),e.YNc(30,JA,2,2,"ng-template",null,25,e.W1O),e.TgZ(32,"bb-modal-ui",26),e.NdJ("cancel",function(){return o.closeConfirmationDialog()}),e.TgZ(33,"div",27)(34,"h2",28),e.SDv(35,29),e.qZA()(),e.TgZ(36,"div",30)(37,"span",31),e.SDv(38,32),e.qZA()(),e.TgZ(39,"div",33)(40,"div",19)(41,"button",34),e.NdJ("click",function(){return o.closeReportForm()}),e.SDv(42,35),e.qZA(),e.TgZ(43,"button",36),e.NdJ("click",function(){return o.closeConfirmationDialog()}),e.SDv(44,37),e.qZA()()()()),2&t){const a=e.MAs(31);e.xp6(1),e.Q6J("formGroup",o.transactionReportForm),e.xp6(7),e.Q6J("horizontal",!1),e.xp6(1),e.Q6J("labelTemplate",a)("disabled",!o.enableDispute),e.xp6(1),e.Q6J("labelTemplate",a),e.xp6(1),e.Q6J("showErrors",o.isInvalidControl("topic")),e.xp6(1),e.Q6J("ngIf",o.hasError("topic","required")),e.xp6(1),e.Q6J("ngClass",e.VKq(18,WA,o.isInvalidControl("body"))),e.xp6(1),e.Q6J("readonly",!1)("required",!0),e.xp6(1),e.Q6J("showErrors",o.isInvalidControl("body")),e.xp6(1),e.Q6J("ngIf",o.hasError("body","required")),e.xp6(2),e.Q6J("disabled",o.state===o.loadingStateEnum.loading),e.xp6(1),e.Q6J("ngIf",null==o.message||null==o.message.attachments?null:o.message.attachments.length),e.xp6(2),e.Q6J("ngIf",o.state===o.loadingStateEnum.error),e.xp6(2),e.Q6J("isLoading",o.state===o.loadingStateEnum.loading),e.xp6(2),e.Q6J("ngIf",o.state!==o.loadingStateEnum.loading),e.xp6(7),e.Q6J("isOpen",o.confirmationDialogActive)}},directives:[Jn.Af,Jn.f2,Rt.d,_a.YI,sa.t,ra.n,Te.w,Fe.K,b.o,H.zS,I._Y,I.JL,I.sg,st,I.JJ,I.u,r.O5,r.mk,I.Q7,r.sg,v.Hq,w.i],encapsulation:2,changeDetection:0}),n})(),Jp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-dispute-status-tag"]],inputs:{status:"status"},decls:3,vars:3,consts:function(){let i,t,o;return i="Dispute Pending",t="Refunded",o="Dispute Rejected",[[4,"ngIf"],["text",i,"color","warning","data-role","dispute-pending-tag"],["text",t,"color","success","data-role","dispute-refunded-tag"],["text",o,"color","danger","data-role","dispute-rejected-tag"]]},template:function(t,o){1&t&&(e.YNc(0,ZA,2,0,"ng-container",0),e.YNc(1,HA,2,0,"ng-container",0),e.YNc(2,YA,2,0,"ng-container",0)),2&t&&(e.Q6J("ngIf","PENDING"===o.status),e.xp6(1),e.Q6J("ngIf","REFUNDED"===o.status),e.xp6(1),e.Q6J("ngIf","REJECTED"===o.status))},directives:[Ke.F,r.O5],encapsulation:2}),n})(),Wp=(()=>{class n{constructor(){this.disputeStatus=qt}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-dispute-banner"]],inputs:{transaction:"transaction"},decls:4,vars:3,consts:function(){let i,t,o,a,_,s;return i="You\u2019ve disputed this transaction",t="Please go to Messages to view any responses to your request.",o="Your dispute was approved",a="Please go to Messages to view the process of your refund.",_="Your dispute was rejected",s="Please go to Messages to view the reason for this rejection.",[["modifier","info","data-role","dispute-pending-banner","title",i,"message",t,4,"ngIf"],["modifier","success","data-role","dispute-refunded-banner","title",o,"message",a,4,"ngIf"],["modifier","error","data-role","dispute-rejected-banner","title",_,"message",s,4,"ngIf"],["modifier","info","data-role","dispute-pending-banner","title",i,"message",t],["modifier","success","data-role","dispute-refunded-banner","title",o,"message",a],["modifier","error","data-role","dispute-rejected-banner","title",_,"message",s]]},template:function(t,o){1&t&&(e.ynx(0),e.YNc(1,zA,1,0,"bb-alert-ui",0),e.YNc(2,QA,1,0,"bb-alert-ui",1),e.YNc(3,$A,1,0,"bb-alert-ui",2),e.BQk()),2&t&&(e.xp6(1),e.Q6J("ngIf",(null==o.transaction?null:o.transaction.disputeStatus)===o.disputeStatus.Pending),e.xp6(1),e.Q6J("ngIf",(null==o.transaction?null:o.transaction.disputeStatus)===o.disputeStatus.Refunded),e.xp6(1),e.Q6J("ngIf",(null==o.transaction?null:o.transaction.disputeStatus)===o.disputeStatus.Rejected))},directives:[Te.w,r.O5],encapsulation:2}),n})();var Ut;!function(n){const i=t=>{const o=t.error;if(Array.isArray(null==o?void 0:o.errors))return o.errors.map(a=>{const{context:_={}}=a,s=a.message.replace(/{[_a-zA-Z][_a-zA-Z0-9]*}/g,c=>{const l=_[c.replace(/[{}']+/g,"")];return void 0!==l?l:c});return`Error ${t.status}: ${s}`})};n.fromHttpErrorResponse=t=>t.error instanceof ErrorEvent?{message:"An unexpected error occurred"}:{message:(i(t)||[])[0]||`Error ${t.status}`},n.fromHttpErrorsResponse=t=>t.error instanceof ErrorEvent||!t.status?[{message:"An unexpected error occurred"}]:(i(t)||[`Error ${t.status}`]).map(a=>({message:a}))}(Ut||(Ut={}));var jt=(()=>{return(n=jt||(jt={})).MIXED_PRODUCT_KINDS="MIXED_PRODUCT_KINDS",n.UNSUPPORTED_PRODUCT_KIND="UNSUPPORTED_PRODUCT_KIND",n.TOO_MANY_ITEMS="TOO_MANY_ITEMS",n.MULTIPLE_PRODUCTS="MULTIPLE_PRODUCTS",n.UNKNOWN_ERROR="UNKNOWN_ERROR",jt;var n})(),fe=(()=>{return(n=fe||(fe={})).LOAD_MORE="load-more",n.PAGINATION="pagination",n.INFINITE_SCROLL="infinite-scroll",fe;var n})();const j=n=>(0,sA.P)(()=>(0,R.of)(n)).pipe((0,ut._)(1),(0,dt.x)());let Xt=(()=>{class n{get pageSize(){return j(10)}get maxNavPages(){return j(3)}get paginationType(){return j(fe.LOAD_MORE)}get initialFilterOptions(){return j({})}get initialSortOptions(){return j(ua(""))}get showControls(){return j(!0)}get showChangeCategory(){return j(!0)}get refreshTransactionsListEvents(){return j("")}get showPendingTransactionsOnTop(){return j(!1)}get showCheckImage(){return j(!0)}get showManageNotes(){return j(!0)}get getOrPostEndpoints(){return j(Ne.POST_REQUEST)}get gmapsAPIKey(){return j("")}get disputeByBillingStatus(){return j(!0)}get disputeEligibilityDays(){return j(120)}get disputeTransactionTypes(){return j(["Credit/Debit Card"])}get enableDisputeAndInquiry(){return j(!1)}get inquireTopicId(){return j("")}get disputeTopicId(){return j("")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),ba=(()=>{class n{constructor(t,o){this.transactionsDataHttpService=t,this.accountService=o,this.initialListOptions=new P.t(1),this.selectedAccount=new P.t(1),this.options=new N.X({}),this.listOptions=new N.X(zt),this.listRefresh=new T.x,this.getOrPostEndpoint=new N.X(Ne.GET_REQUEST),this.transactionsList=(0,Re.T)(this.listOptions.pipe((0,B.h)(a=>void 0!==a.account.arrangementId),(0,re.x)(Mt)),this.listRefresh).pipe(pa(a=>(this.loadingState.next(a.onLoad===V.Append?$.LoadingMore:a.onLoad===V.ReplacePage?$.LoadingPage:$.Loading),(0,K.a)([this.loadTransactions(a).pipe((0,U.b)(()=>{this.loadingState.next($.Loaded)}),(0,g.U)(_=>({transactionsList:_,onLoad:V.ReplacePage}))),this.accountService.getAllArrangements().pipe((0,g.U)(_=>{const s=new Map;return _.forEach(c=>{s.set(c.id,c)}),s}))]).pipe((0,g.U)(([_,s])=>(_.transactionsList.items=_.transactionsList.items.map(c=>Object.assign(Object.assign({},c),{account:s.get(c.arrangementId||"")})),_))))),(0,xe.R)(ma,{items:[],totalCount:0})),this.loadingState=new N.X($.NotLoaded),this.isFilterApplied=this.listOptions.pipe((0,g.U)(a=>!qe.isEmpty(a.filter||{}))),this.isSearchApplied=this.listOptions.pipe((0,g.U)(a=>!qe.isEmpty(a.search||{}))),(0,K.a)([this.selectedAccount,this.initialListOptions]).pipe((0,g.U)(([a,_])=>Object.assign({account:{arrangementId:a},pagination:{from:0,size:250},state:Dt.uncompleted},_))).subscribe(this.options),this.options.pipe((0,xe.R)((a,_)=>Object.assign({},a,_),zt)).subscribe(this.listOptions)}loadTransactions(t){const o=Ue.toHttpRequest(t);let a;return a=this.isUsingPostEndpoints?this.transactionsDataHttpService.getTransactionsWithPost({transactionListRequest:o},"response"):this.transactionsDataHttpService.getTransactions(o,"response"),a.pipe((0,g.U)(Ue.fromHttpResponse),(0,L.K)(_=>(0,R.of)({items:[],totalCount:0,httpResponseError:_})))}getTransactionsFrom(t,o=(0,R.of)({}),a=(0,R.of)(Ne.GET_REQUEST)){t.subscribe(this.selectedAccount),o.subscribe(this.initialListOptions),a.subscribe(this.getOrPostEndpoint)}getTransactionsList(){return this.transactionsList}search(t){const o={query:t},a=Object.assign(Object.assign({},this.options.getValue().pagination||_e.pagination),{from:0});this.options.next(Object.assign(Object.assign(Object.assign({},this.options.getValue()),at),{pagination:a,search:o}))}clearSearch(){const t=Object.assign(Object.assign({},this.options.getValue().pagination||_e.pagination),{from:0});this.options.next(Object.assign(Object.assign(Object.assign({},this.options.getValue()),at),{pagination:t}))}filter(t){const o=Object.assign(Object.assign({},this.options.getValue().pagination||_e.pagination),{from:0});this.options.next(Object.assign(Object.assign(Object.assign({},this.options.getValue()),_t),{pagination:o,filter:Object.assign({},t)}))}clearFilter(){const t=Object.assign(Object.assign({},this.options.getValue().pagination||_e.pagination),{from:0});this.options.next(Object.assign(Object.assign(Object.assign({},this.options.getValue()),_t),{pagination:t}))}sort(t){const o=this.options.getValue().pagination||_e.pagination;this.options.next({sort:Object.assign({},t),pagination:Object.assign(Object.assign({},o),{from:0})})}retryFiltering(){this.listRefresh.next(this.listOptions.getValue())}refreshTransactions(){const t=this.options.getValue().pagination||_e.pagination,o=Object.assign(Object.assign({},t),{from:0}),a=Object.assign(Object.assign({},this.listOptions.getValue()),{pagination:o});Mt(a,this.listOptions.getValue())?this.listRefresh.next(this.listOptions.getValue()):this.options.next({pagination:o})}get isUsingPostEndpoints(){return this.getOrPostEndpoint.getValue()===Ne.POST_REQUEST}ngOnDestroy(){this.listRefresh.complete(),this.selectedAccount.complete(),this.initialListOptions.complete(),this.options.complete(),this.listOptions.complete(),this.loadingState.complete(),this.getOrPostEndpoint.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(We.e4),e.LFG($t))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var rt=(()=>{return(n=rt||(rt={}))[n.HTTP=1]="HTTP",n[n.HTTPS=2]="HTTPS",n[n.AUTO=3]="AUTO",rt;var n})();let Ea=(()=>{class n{constructor(){this.scriptID="bbGoogleMapsApiScript",this.callbackName="bbMapsAPILoader",this.apiLoadPromiseName="bbMapsAPILoaderPromise",this.windowRef=window,this.documentRef=document,this.configValue={}}get config(){return this.configValue}set config(t){this.configValue=t}get loadAPIPromise(){return this.windowRef[this.apiLoadPromiseName]}assignScriptLoadingPromise(t){this.windowRef[this.apiLoadPromiseName]=new Promise((o,a)=>{this.windowRef[this.callbackName]=()=>{o()},t.onerror=_=>{a(_)}})}getScriptSrc(t){let a="";switch(this.configValue&&this.configValue.protocol||rt.HTTPS){case rt.HTTP:a="http:";break;case rt.HTTPS:a="https:"}const _=this.configValue.hostAndPath||"maps.googleapis.com/maps/api/js",s=this.configValue.libraries||[];-1===s.indexOf("places")&&(this.configValue.libraries=[...s,"places"]);const c={v:this.configValue.apiVersion||"quarterly",callback:t,key:this.configValue.apiKey,client:this.configValue.clientId,channel:this.configValue.channel,libraries:this.configValue.libraries,region:this.configValue.region,language:this.configValue.language};return`${a}//${_}?${Object.keys(c).filter(u=>void 0!==c[u]).filter(u=>!Array.isArray(c[u])||Array.isArray(c[u])&&c[u].length>0).map(u=>{let A=c[u];return Array.isArray(A)&&(A=A.join(",")),`${u}=${A}`}).join("&")}`}load(){const t=this.windowRef;if(t.google&&t.google.maps)return Promise.resolve();if(this.loadAPIPromise)return this.loadAPIPromise;const o=this.documentRef.createElement("script");return o.type="text/javascript",o.async=!0,o.defer=!0,o.id=this.scriptID,o.src=this.getScriptSrc(this.callbackName),this.assignScriptLoadingPromise(o),this.documentRef.body.appendChild(o),this.loadAPIPromise}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Ta=(()=>{class n{constructor(t){this.batchOrdersHttpService=t}getBatch(t){return this.batchOrdersHttpService.getBatchOrdersById({batchOrderId:t})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Zt.ML))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();class Qp{constructor(i){this.config=i}isDisputable(i){return this.isBillingStatusApproved(i)&&!this.isOld(i)&&this.isOfRestrictedType(i)}isBillingStatusApproved(i){var t;return!(null===(t=this.config)||void 0===t?void 0:t.byBillingStatus)||!(null==i?void 0:i.isPending)}isOld(i){var t;if(!(null==i?void 0:i.bookingDate))return!1;const o=((n,i)=>{const t=Aa(new Date(n)).getTime()-Aa(new Date(i)).getTime();return Math.ceil(t/864e5)})(new Date,i.bookingDate);return o>((null===(t=this.config)||void 0===t?void 0:t.byEligitibilityDays)||0)}isOfRestrictedType(i){var t;return!!(null==i?void 0:i.type)&&((null===(t=this.config)||void 0===t?void 0:t.byTransactionTypes)||[]).includes(i.type)}}let en=(()=>{class n{constructor(t,o,a){this.transactionsDataHttpService=t,this.mapApiLoader=o,this.paymentsBatchService=a,this.transactionSelection=new T.x,this.hasCheckImages=new P.t,this.transactionsDetailsStatus=new P.t,this.mapsApiKey=new P.t,this.batchOrder=this.transactionSelection.pipe((0,U.b)(()=>{this.transactionsDetailsStatus.next({batchOrder:D.loading})}),(0,x.z)(_=>_.batchOrderId?this.paymentsBatchService.getBatch(_.batchOrderId).pipe((0,L.K)(()=>(this.transactionsDetailsStatus.next({batchOrder:D.error}),(0,R.of)(void 0)))):(0,R.of)(void 0)),(0,g.U)(_=>(this.transactionsDetailsStatus.next({batchOrder:_?D.done:D.notStarted}),_))),this.transactionsDetailsStatus.next({checkImages:D.notStarted,geolocation:D.notStarted,enableDisputeAndInquiry:D.notStarted,disputeOption:D.notStarted,batchOrder:D.notStarted})}set enableDisputeAndInquiry(t){this.transactionsDetailsStatus.next({enableDisputeAndInquiry:t?D.done:D.notLoaded})}fromInquiryAndDispute(t,o,a,_){const s=(0,K.a)([t,o,a,_]).pipe((0,g.U)(([c,l,u,A])=>c?{byBillingStatus:l,byEligitibilityDays:u,byTransactionTypes:A}:void 0));(0,K.a)([this.transactionSelection,s]).subscribe({next:([c,l])=>{if(l){const u=new Qp(l);this.transactionsDetailsStatus.next({enableDisputeAndInquiry:D.done,disputeOption:u.isDisputable(c)?D.done:D.notLoaded})}else this.transactionsDetailsStatus.next({enableDisputeAndInquiry:D.notLoaded,disputeOption:D.notLoaded})}})}selectTransaction(t){this.transactionSelection.next(t)}get loadingState(){return this.transactionsDetailsStatus.pipe((0,xe.R)((t,o)=>Object.assign(Object.assign({},t),o),{}))}fromCheckImages(t){return t.subscribe(this.hasCheckImages),t.pipe((0,g.U)(o=>({checkImages:o?D.loading:D.notLoaded}))).subscribe({next:o=>{this.transactionsDetailsStatus.next(o)}}),this.setCondition(this.transactionSelection,this.hasCheckImages).pipe((0,U.b)(()=>{this.transactionsDetailsStatus.next({checkImages:D.loading})}),(0,B.h)(o=>o.checkImageAvailability===Qt.available),(0,W.w)(({id:o=""})=>this.transactionsDataHttpService.getTransactionCheckImages({transactionId:o},"response").pipe((0,U.b)(()=>{this.transactionsDetailsStatus.next({checkImages:D.done})}),(0,L.K)(a=>{switch(a.status){case 500:this.transactionsDetailsStatus.next({checkImages:D.serverError});break;case 400:this.transactionsDetailsStatus.next({checkImages:D.badRequestError});break;case 404:this.transactionsDetailsStatus.next({checkImages:D.notFoundError});break;default:this.transactionsDetailsStatus.next({checkImages:D.error})}return(0,R.of)(new rA.Zn({body:{images:[]}}))}),(0,g.U)(Hn.fromHttpResponse))))}fromGeolocation(t){return t.subscribe(this.mapsApiKey),(0,K.a)([this.transactionSelection,this.mapsApiKey]).pipe((0,g.U)(([o,a])=>(this.mapApiLoader.config={apiKey:a,libraries:["geometry"]},this.transactionsDetailsStatus.next({geolocation:D.loading}),a&&o.location&&o.location.latitude&&o.location.longitude?this.mapApiLoader.load().then(()=>(this.transactionsDetailsStatus.next({geolocation:D.done}),!0),()=>(this.transactionsDetailsStatus.next({geolocation:D.error}),!1)):(this.transactionsDetailsStatus.next({geolocation:D.notLoaded}),Promise.resolve(!1)))),(0,x.z)(o=>(0,oa.D)(o)))}ngOnDestroy(){this.transactionSelection.complete(),this.transactionsDetailsStatus.complete(),this.mapsApiKey.complete()}setCondition(t,o){return(0,K.a)([t,o]).pipe((0,B.h)(([,a])=>a),(0,g.U)(([a])=>a))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(We.e4),e.LFG(Ea),e.LFG(Ta))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Ca=(()=>{class n{constructor(t){this.accountsService=t,this.availableFiltersConfig$=new P.t(1),this.selectedAccounts$=new P.t(1),this.productSummary$=this.getProductSummaryForSelectedAccounts(),this.availableFilters$=this.getAvailableFilters()}setFilterConfigurationAndAccount(t,o){t.subscribe(this.availableFiltersConfig$),o.subscribe(this.selectedAccounts$)}getProductSummaryForSelectedAccounts(){return(0,K.a)([this.accountsService.getProductSummary(),this.selectedAccounts$]).pipe((0,g.U)(([t,o])=>t.filter(a=>null==o?void 0:o.includes(a.id))))}getAvailableFilters(){return(0,K.a)([this.availableFiltersConfig$,this.productSummary$]).pipe((0,g.U)(([t,o])=>{const a=o.reduce((_,s)=>_.concat(this.getFiltersFromConfigs(s,t)),[]);return Array.from(new Set(a))}))}getFiltersFromConfigs(t,o){var a;const _=null!==(a=this.getFiltersFromConfigObject(o,t))&&void 0!==a?a:this.getFiltersFromConfigObject(Zn,t);return null!=_?_:Zn.defaultFilters}getFiltersFromConfigObject(t,o){if(void 0!==o.productKindName){const a=t[o.productKindName];return void 0===a?void 0:Array.isArray(a)?a:void 0===o.productTypeName?void 0:a[o.productTypeName]}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG($t))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),$p=(()=>{class n{constructor(t,o,a,_,s,c,l,u,A){this.model=t,this.widgetProperties=o,this.cd=a,this.eventBusService=_,this.notificationService=s,this.pendingTransactionsService=c,this.transactionDetailsService=l,this.availableFiltersConfigService=u,this.showDetailsConfig=A,this.hostRef=this,this.apiKeySubject=new N.X(void 0),this.initialFilterOptions=(0,R.of)({}),this.initialSortOptions=(0,R.of)(void 0),this.transactionSelected=new e.vpe,this.transactionsLoaded=new e.vpe,this.pageSizeSubject=new N.X(void 0),this.maxNavPagesSubject=new N.X(void 0),this.paginationTypeSubject=new N.X(void 0),this.showControlsSubject=new N.X(void 0),this.showChangeCategorySubject=new N.X(void 0),this.showPendingTransactionsOnTopSubject=new N.X(void 0),this.showCheckImageSubject=new N.X(void 0),this.showManageNotesSubject=new N.X(void 0),this.getOrPostEndpointsSubject=new N.X(void 0),this.disputeByBillingStatusSubject=new N.X(void 0),this.disputeEligibilityDaysSubject=new N.X(void 0),this.disputeTransactionTypesSubject=new N.X(void 0),this.enableDisputeAndInquirySubject=new N.X(!1),this.inquireTopicIdSubject=new N.X(""),this.disputeTopicIdSubject=new N.X(""),this.registeredRefreshTransactionsListEvents=[],this.unsubscribeSubject=new T.x,this.exportConfig=new N.X({}),this.exportErrorMessagesRef={},this.numberOfResultsFound=new P.t,this.numberOfResultsDisplayed=new P.t,this.availableFiltersConfig=new P.t(1),this.availableFilters=this.availableFiltersConfigService.availableFilters$,this.inquireAndDisputeTopics=(0,K.a)([this.inquireTopicId,this.disputeTopicId]).pipe((0,g.U)(([m,h])=>({inquire:m,dispute:h}))),this.refreshTransactionsListHandler=()=>{this.model.refreshTransactions()},this.handleError=m=>(this.errors=Ut.fromHttpErrorsResponse(m),(0,R.of)({items:[],totalCount:0}))}set googleAPIKey(t){this.apiKeySubject.next(t)}set pageSizeValue(t){this.pageSizeSubject.next(t)}set maxNavPagesValue(t){this.maxNavPagesSubject.next(t)}set paginationTypeValue(t){this.paginationTypeSubject.next(t)}set showControlsValue(t){this.showControlsSubject.next(t)}set showChangeCategoryValue(t){this.showChangeCategorySubject.next(t)}set showPendingTransactionsOnTopValue(t){this.showPendingTransactionsOnTopSubject.next(t)}set showCheckImageValue(t){this.showCheckImageSubject.next(t)}set showManageNotesValue(t){this.showManageNotesSubject.next(t)}set getOrPostEndpointsValue(t){this.getOrPostEndpointsSubject.next(t)}set disputeByBillingStatusValue(t){this.disputeByBillingStatusSubject.next("boolean"==typeof t?t:"true"===t)}set disputeEligibilityDaysValue(t){this.disputeEligibilityDaysSubject.next(t)}set disputeTransactionTypesValue(t){this.disputeTransactionTypesSubject.next((t||"").split(","))}set enableDisputeAndInquiryValue(t){this.enableDisputeAndInquirySubject.next("boolean"==typeof t?t:"true"===t)}set availableFiltersValue(t){this.availableFiltersConfig.next(t)}set inquireTopicIdValue(t){this.inquireTopicIdSubject.next(t)}set disputeTopicIdValue(t){this.disputeTopicIdSubject.next(t)}get error(){return this.errors&&this.errors[0]}clearRefreshTransactionsListEvents(){this.registeredRefreshTransactionsListEvents.forEach(t=>{this.eventBusService.unsubscribe(t,this.refreshTransactionsListHandler)}),this.registeredRefreshTransactionsListEvents=[]}retry(){this.model.retryFiltering(),this.pendingTransactionsService.retryFiltering()}ngOnDestroy(){this.clearRefreshTransactionsListEvents(),this.unsubscribeSubject.next(),this.unsubscribeSubject.complete()}get pageSize(){return ie(this.pageSizeSubject.asObservable(),this.widgetProperties.pageSize)}get maxNavPages(){return ie(this.maxNavPagesSubject.asObservable(),this.widgetProperties.maxNavPages)}get showControls(){return ie(this.showControlsSubject.asObservable(),this.widgetProperties.showControls)}get isFilterApplied(){return this.model.isFilterApplied}get isSearchApplied(){return this.model.isSearchApplied}get paginationType(){return ie(this.paginationTypeSubject.asObservable(),this.widgetProperties.paginationType)}get showPendingTransactionsOnTop(){return ie(this.showPendingTransactionsOnTopSubject.asObservable(),this.widgetProperties.showPendingTransactionsOnTop)}get showChangeCategory(){return ie(this.showChangeCategorySubject.asObservable(),this.widgetProperties.showChangeCategory)}get showCheckImage(){return ie(this.showCheckImageSubject.asObservable(),this.widgetProperties.showCheckImage)}get showManageNotes(){return ie(this.showManageNotesSubject,this.widgetProperties.showManageNotes)}get getOrPostEndpoint(){return ie(this.getOrPostEndpointsSubject.asObservable(),this.widgetProperties.getOrPostEndpoints)}get gmapsAPIKey(){return(0,K.a)([this.apiKeySubject.asObservable(),this.widgetProperties.gmapsAPIKey]).pipe((0,g.U)(([t,o])=>t||o))}get enableDisputeAndInquiry(){return ie(this.enableDisputeAndInquirySubject.asObservable(),this.widgetProperties.enableDisputeAndInquiry)}get disputeByBillingStatus(){return ie(this.disputeByBillingStatusSubject.asObservable(),this.widgetProperties.disputeByBillingStatus)}get disputeEligibilityDays(){return ie(this.disputeEligibilityDaysSubject.asObservable(),this.widgetProperties.disputeEligibilityDays)}get disputeTransactionTypes(){return ie(this.disputeTransactionTypesSubject.asObservable(),this.widgetProperties.disputeTransactionTypes)}get inquireTopicId(){return ie(this.inquireTopicIdSubject.asObservable(),this.widgetProperties.inquireTopicId)}get disputeTopicId(){return ie(this.disputeTopicIdSubject.asObservable(),this.widgetProperties.disputeTopicId)}onLoadMore(){this.model.loadMore()}ngOnInit(){if(void 0===this.selectedAccount)throw new Error(`"selectedAccount" input is required in "${this.constructor.name}"`);const t=(0,K.a)([this.initialFilterOptions,this.initialSortOptions]).pipe((0,g.U)(([c,l])=>({filter:c,sort:l})));this.model.getTransactionsFrom(this.selectedAccount.pipe((0,g.U)(c=>null!=c?c:[])),this.pageSize,t,this.showPendingTransactionsOnTop,this.getOrPostEndpoint),this.showDetailsConfig&&(this.checkImagesList=this.transactionDetailsService.fromCheckImages(this.showCheckImage),this.transactionDetailsLoadingStatus=this.transactionDetailsService.loadingState,this.transactionDetailsService.fromGeolocation(this.gmapsAPIKey).pipe((0,ee.R)(this.unsubscribeSubject)).subscribe()),this.transactionsList=this.model.getTransactionsList().pipe((0,ut._)(1),(0,dt.x)(),(0,U.b)(c=>{this.errors=c.httpResponseError?Ut.fromHttpErrorsResponse(c.httpResponseError):void 0,this.cd.markForCheck()})),this.pendingTransactionsService.getTransactionsFrom(this.selectedAccount.pipe((0,g.U)(c=>null!=c?c:[])),t,this.getOrPostEndpoint),this.pendingTransactionsList=this.pendingTransactionsService.getTransactionsList().pipe((0,ut._)(1),(0,dt.x)(),(0,U.b)(c=>{this.errors=c.httpResponseError?Ut.fromHttpErrorsResponse(c.httpResponseError):void 0,this.cd.markForCheck()})),this.transactionsList.pipe((0,ee.R)(this.unsubscribeSubject),(0,g.U)(c=>{if(!c)return{};const{availableExportTypesHeader:l,unavailableExportTypesReasonsHeader:u}=c;return function Zp(n){let i=[];const{availableExportTypesHeader:t="",unavailableExportTypesReasonsHeader:o}=n,_=t.split(",").filter(s=>""!==s).map(s=>({name:s,reason:void 0,isAvailable:!0}));if(o){const s=Object.keys(o).map(c=>o&&Array.isArray(o[c])?{name:c,reason:o[c][0],isAvailable:!1}:{name:c,reason:jt.UNKNOWN_ERROR,isAvailable:!1});i=[..._,...s]}else i=[..._];return[...i].sort((s,c)=>s.name===c.name?0:s.name>c.name?1:-1)}({availableExportTypesHeader:l,unavailableExportTypesReasonsHeader:u})})).subscribe(this.exportConfig);const o=this.transactionsList.pipe((0,g.U)(c=>({history:c?c.totalCount:0}))),a=this.pendingTransactionsList.pipe((0,g.U)(c=>({pending:c?c.totalCount:0}))),_=this.transactionsList.pipe((0,g.U)(c=>({history:c?c.items.length:0}))),s=this.pendingTransactionsList.pipe((0,g.U)(c=>({pending:c?c.items.length:0})));this.sumTransactionsResults(o,a).pipe((0,ee.R)(this.unsubscribeSubject)).subscribe(this.numberOfResultsFound),this.sumTransactionsResults(_,s).pipe((0,ee.R)(this.unsubscribeSubject)).subscribe(this.numberOfResultsDisplayed),this.currentPage=this.model.getCurrentPage(),this.loadingState=this.model.loadingState,this.loadingPendingState=this.pendingTransactionsService.loadingState,this.widgetProperties.refreshTransactionsListEvents.pipe((0,ee.R)(this.unsubscribeSubject)).subscribe(c=>{this.clearRefreshTransactionsListEvents(),c&&(this.registeredRefreshTransactionsListEvents=c.split(","),this.registeredRefreshTransactionsListEvents.forEach(l=>{this.eventBusService.subscribe(l,this.refreshTransactionsListHandler)}))}),this.configureTransctionsDetailsOutputBehaviour(),this.transactionDetailsService.fromInquiryAndDispute(this.enableDisputeAndInquiry,this.disputeByBillingStatus,this.disputeEligibilityDays,this.disputeTransactionTypes),this.availableFiltersConfigService.setFilterConfigurationAndAccount(this.availableFiltersConfig.asObservable(),this.selectedAccount.pipe((0,g.U)(c=>null!=c?c:[])))}configureTransctionsDetailsOutputBehaviour(){if(this.transactionsList&&this.pendingTransactionsList&&!this.showDetailsConfig){const t=this.showPendingTransactionsOnTop.pipe((0,x.z)(o=>{var a;return(0,ia.s)(()=>o,null!==(a=this.pendingTransactionsList)&&void 0!==a?a:(0,R.of)(void 0),(0,R.of)({items:[],totalCount:0}))}));(0,K.a)([t,this.transactionsList]).pipe((0,ee.R)(this.unsubscribeSubject),(0,g.U)(([o,a])=>({items:[...o?o.items:[],...a?a.items:[]],totalCount:((null==o?void 0:o.totalCount)||0)+((null==a?void 0:a.totalCount)||0)}))).subscribe(o=>{this.transactionsLoaded.emit(o)})}}sumTransactionsResults(t,o){return this.showPendingTransactionsOnTop.pipe((0,x.z)(a=>(0,ia.s)(()=>a,(0,Re.T)(t,o),t)),(0,xe.R)((a,_)=>Object.assign(Object.assign({},a),_),{history:0,pending:0}),(0,g.U)(({history:a=0,pending:_=0})=>a+_))}onPageChange(t){this.model.pageChange(t)}onSearch(t){"string"==typeof t&&(this.model.search(t),this.pendingTransactionsService.search(t))}onFilter(t){this.model.filter(t),this.pendingTransactionsService.filter(t)}onSort(t){this.model.sort(t)}onPrint(){window.print()}onExport(t){this.storedExportType=Object.assign({},t),t.isAvailable?this.model.exportToType(t.name).pipe((0,ee.R)(this.unsubscribeSubject)).subscribe(o=>{const a=document.createElement("a");a.href=URL.createObjectURL(o.body);const _=(n=>{const i=n.headers.get("Content-Disposition");let t="";if(i){const o=/filename[^;=\n]*=(?:(\\?['"])(.*?)\1|(?:[^\s]+'.*?')?([^;\n]*))/i.exec(i);t=o?o[2]:""}return t})(o),s="pdf"===t.name.toLowerCase()?"Account Activities":"transactions";a.download=""!==_?_:s,a.click()},()=>{this.notificationService.showNotification({header:this.notificationServerErrorHeader,message:this.notificationServerErrorMessage||"",modifier:"error"})}):this.pushNotification({header:this.notificationErrorUpdateHeaderTemplate,message:this.notificationErrorUpdateMessageTemplate,modifier:"error"})}onDetailOpen(t){this.showDetailsConfig?this.transactionDetailsService.selectTransaction(t):this.transactionSelected.emit(t)}pushNotification(t){this.notificationService.showNotification(Object.assign({dismissible:!0,ttl:5e3},t))}}return n.\u0275fac=function(t){e.$Z()},n.\u0275dir=e.lG2({type:n,viewQuery:function(t,o){if(1&t&&(e.Gf(VA,5),e.Gf(qA,5),e.Gf(jA,5),e.Gf(XA,5)),2&t){let a;e.iGM(a=e.CRH())&&(o.notificationErrorUpdateHeaderTemplate=a.first),e.iGM(a=e.CRH())&&(o.notificationErrorUpdateMessageTemplate=a.first),e.iGM(a=e.CRH())&&(o.notificationServerErrorHeader=a.first),e.iGM(a=e.CRH())&&(o.notificationServerErrorMessage=a.first)}},inputs:{googleAPIKey:"googleAPIKey",selectedAccount:"selectedAccount",initialFilterOptions:"initialFilterOptions",initialSortOptions:"initialSortOptions",pageSizeValue:["pageSize","pageSizeValue"],maxNavPagesValue:["maxNavPages","maxNavPagesValue"],paginationTypeValue:["paginationType","paginationTypeValue"],showControlsValue:["showControls","showControlsValue"],showChangeCategoryValue:["showChangeCategory","showChangeCategoryValue"],showPendingTransactionsOnTopValue:["showPendingTransactionsOnTop","showPendingTransactionsOnTopValue"],showCheckImageValue:["showCheckImage","showCheckImageValue"],showManageNotesValue:["showManageNotes","showManageNotesValue"],getOrPostEndpointsValue:["getOrPostEndpoints","getOrPostEndpointsValue"],disputeByBillingStatusValue:["disputeByBillingStatus","disputeByBillingStatusValue"],disputeEligibilityDaysValue:["disputeEligibilityDays","disputeEligibilityDaysValue"],disputeTransactionTypesValue:["disputeTransactionTypes","disputeTransactionTypesValue"],enableDisputeAndInquiryValue:["enableDisputeAndInquiry","enableDisputeAndInquiryValue"],availableFiltersValue:["availableFiltersConfig","availableFiltersValue"],inquireTopicIdValue:["inquireTopicId","inquireTopicIdValue"],disputeTopicIdValue:["disputeTopicId","disputeTopicIdValue"]},outputs:{transactionSelected:"transactionSelected",transactionsLoaded:"transactionsLoaded"}}),n})(),Vp=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbTransactionsNoAccountSelectedStateCustomizable",""]],features:[e.qOj]}),n})(),qp=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbTransactionsErrorStateCustomizable",""]],features:[e.qOj]}),n})(),jp=(()=>{class n{transform(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"bbCapitalizePipe",type:n,pure:!0}),n})();var je=(()=>{return(n=je||(je={}))[n.category=1]="category",n[n.type=2]="type",n[n.creditDebit=3]="creditDebit",je;var n})();class Yn{cleanClassName(i){const t=i.toLowerCase().replace(/\W/g,"-").replace(/-{2,}/g,"-");return t.endsWith("-")?t.slice(0,-1):t}throwIfIncorrect(){if(!this.isValid)throw new Error(`Invalid transaction provided to ${this.constructor.name}`)}constructor(){this.throwIfIncorrect()}}class Xp extends Yn{constructor(i){super(),this.transaction=i}get title(){return this.transaction.isPending?"pending":this.transaction.category||""}get type(){return je.category}isValid(){return this.transaction.isPending||void 0!==this.transaction&&void 0!==this.transaction.category}formatClassName(){return`bb-transaction-category-${this.cleanClassName(this.transaction.category||"pending")}`}}class em extends Yn{constructor(i){super(),this.transaction=i}get title(){return this.transaction.type||""}get type(){return je.type}isValid(){return!!this.transaction&&!!this.transaction.type}formatClassName(){return this.transaction.type?`bb-icon-transaction-type-${this.cleanClassName(this.transaction.type)}`:""}}class tm extends Yn{constructor(i){super(),this.transaction=i}get title(){return this.indicator}get type(){return je.creditDebit}formatClassName(){return this.transaction.transactionAmountCurrency?`bb-icon-credit-debit-indicator-${this.cleanClassName(this.indicator)}`:""}get indicator(){return this.transaction.transactionAmountCurrency?parseInt(this.transaction.transactionAmountCurrency.amount,10)>0?"incoming":"outgoing":""}isValid(){return void 0!==this.transaction&&void 0!==this.transaction.transactionAmountCurrency}}let tn=(()=>{class n{create(t){return t.category||t.isPending?new Xp(t):t.type?new em(t):new tm(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Na=(()=>{class n{constructor(t,o){this.transactionsIconCategoriesFactory=t,this.cd=o,this.circle=!1,this.hasImageLoaded=!1}ngOnInit(){if(void 0===this.transaction)throw new Error(`"transaction" input is required in "${this.constructor.name}"`);this.transactionIcon=this.transactionsIconCategoriesFactory.create(this.transaction)}ngAfterViewInit(){this.categoryImage&&(this.categoryImage.nativeElement.onload=()=>{this.hasImageLoaded=!0,this.cd.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(tn),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transaction-category-icon"]],viewQuery:function(t,o){if(1&t&&e.Gf(ep,5),2&t){let a;e.iGM(a=e.CRH())&&(o.categoryImage=a.first)}},inputs:{transaction:"transaction",circle:"circle",size:"size"},decls:2,vars:7,consts:[["aria-hidden","true",1,"bb-transaction-category","bb-transaction-category--enriched",3,"title","ngClass"],["class","bb-transaction-category__image",3,"hidden","src",4,"ngIf"],[1,"bb-transaction-category__image",3,"hidden","src"],["categoryImage",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,tp,2,2,"img",1),e.qZA()),2&t&&(e.s9C("title",null!=o.transaction&&o.transaction.merchant?null==o.transaction||null==o.transaction.merchant?null:o.transaction.merchant.name:null==o.transactionIcon?null:o.transactionIcon.title),e.Q6J("ngClass",e.kEZ(3,np,o.circle?"bb-transaction-category-icon-circle":"bb-transaction-category-icon",o.size?"bb-transaction-category--"+o.size:"",null!=o.transaction&&null!=o.transaction.merchant&&o.transaction.merchant.logo&&o.hasImageLoaded?"bb-transaction-category-merchant-logo-background-color":null==o.transactionIcon?null:o.transactionIcon.formatClassName())),e.xp6(1),e.Q6J("ngIf",null==o.transaction||null==o.transaction.merchant?null:o.transaction.merchant.logo))},directives:[r.mk,r.O5],encapsulation:2,changeDetection:0}),n})(),zn=(()=>{class n{constructor(t){this.transactionsDataHttpService=t}handleError(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error(`Backend returned code ${t.status}, body was: ${t.error}`),(0,Fn._)("Something bad happened; please try again later.")}update(t,o){return void 0===t.id||void 0===t.arrangementId?(0,Fn._)("updateNotes: invalid transaction"):this.transactionsDataHttpService.patchTransactions({transactionsClientPatchRequestBody:[{id:t.id,arrangementId:t.arrangementId,notes:o.notes,disputeStatus:o.disputeStatus,category:o.category}]},"response").pipe((0,L.K)(this.handleError))}setDisputeStatus(t,o){return this.update(t,{disputeStatus:o})}updateNotes(t,o){return this.update(t,{notes:o})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(We.e4))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var Qn;!function(n){function i(_){return _?`${_.charAt(0).toUpperCase()}${_.substr(1).toLowerCase()}`:""}function t(_){switch(_.value){case"CRDT":return Object.assign(Object.assign({},_),{name:"Credit"});case"DBIT":return Object.assign(Object.assign({},_),{name:"Debit"});case"BILLED":case"UNBILLED":case"PENDING":return Object.assign(Object.assign({},_),{name:_.name||i(_.value)});default:return Object.assign(Object.assign({},_),{name:_.name||_.value})}}n.fromHttpResponse=function a(_){return function o(_){return _.map(t)}(_.body||[])}}(Qn||(Qn={}));let fa=(()=>{class n{constructor(t){this.transactionsDataHttpService=t,this.enumValues={}}handleError(t){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error(`Backend returned code ${t.status}, body was: ${t.error}`),(0,Fn._)("Something bad happened; please try again later.")}loadEnumValues(t){return this.transactionsDataHttpService.getEnumValuesByAttributeName({attributeName:t},"response").pipe((0,g.U)(Qn.fromHttpResponse),(0,L.K)(this.handleError))}getEnumValues(t){return void 0===this.enumValues[t]&&(this.enumValues[t]=this.loadEnumValues(t)),this.enumValues[t]}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(We.e4))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function nm(n){return Object.assign({},n)}function om(n){return(n.body||[]).map(nm)}let Ia=(()=>{class n{constructor(t){this.categoriesManagementDataHttpService=t}getCategories(){return this.categoriesManagementDataHttpService.getCategories({level:"PARENTS"},"response").pipe((0,lt.d)(),(0,g.U)(om))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Ht.VC))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),im=(()=>{class n{buildMapOptions(t){if(t.latitude&&t.longitude)return{center:{lat:t.latitude,lng:t.longitude},zoom:10,disableDefaultUI:!0,zoomControl:!1,styles:[{featureType:"poi",stylers:[{visibility:"off"}]}]}}getFullAddress(t){return encodeURI(`${t.latitude}, ${t.longitude}`)}ngAfterViewInit(){if(this.location&&this.mapContainer){const t=this.buildMapOptions(this.location),o=new google.maps.Map(this.mapContainer.nativeElement,t);if(this.location&&this.location.latitude&&this.location.longitude){const a=this.getFullAddress(this.location);new google.maps.Marker({position:{lat:this.location.latitude,lng:this.location.longitude},map:o}).addListener("click",()=>{window.open("https://www.google.com/maps/dir//"+a,"_blank")})}}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transactions-map-ui"]],viewQuery:function(t,o){if(1&t&&e.Gf(op,5),2&t){let a;e.iGM(a=e.CRH())&&(o.mapContainer=a.first)}},inputs:{location:"location"},decls:2,vars:0,consts:[[1,"bb-transcations-geolocation-map"],["bbMapContainer",""]],template:function(t,o){1&t&&e._UZ(0,"div",0,1)},encapsulation:2,changeDetection:0}),n})(),am=(()=>{class n{constructor(){this.loadingStateEnum=D}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transaction-geo-location-map"]],inputs:{transaction:"transaction",loadingStatus:"loadingStatus"},decls:7,vars:2,consts:[[1,"bb-transactions-geolocation"],["class","bb-inline-stack bb-block bb-block--sm",4,"ngIf"],[4,"ngIf"],["loadingState",""],["errorState",""],[1,"bb-inline-stack","bb-block","bb-block--sm"],["name","location-on","size","md",1,"bb-inline-stack__item"],[1,"bb-inline-stack__item","bb-transactions-geolocation__address"],[4,"ngIf","ngIfElse"],[3,"location"],["loaderSize","lg"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,ip,4,1,"span",1),e.YNc(2,rp,2,1,"ng-container",2),e.qZA(),e.YNc(3,cp,1,0,"ng-template",null,3,e.W1O),e.YNc(5,lp,0,0,"ng-template",null,4,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngIf",null==o.transaction||null==o.transaction.location?null:o.transaction.location.address),e.xp6(1),e.Q6J("ngIf",o.loadingStatus!==o.loadingStateEnum.notStarted))},directives:[b.o,im,Z.Q,r.O5],encapsulation:2,changeDetection:0}),n})(),ha=(()=>{class n{constructor(){this.basePrefix="bb_transactions",this.idCounter=0}nextId(t){return`${this.basePrefix}-${t||"default"}-${Date.now()}-${this.idCounter++}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$n=(()=>{class n{constructor(t,o,a,_){this._elRef=t,this._renderer=o,this.domAttributesService=a,this.cd=_}ngAfterContentInit(){setTimeout(()=>{this._renderer.setAttribute(this._elRef.nativeElement,"id",this.domAttributesService.nextId(this.bbDynamicId)),this.cd.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(ha),e.Y36(e.sBO))},n.\u0275dir=e.lG2({type:n,selectors:[["","bbDynamicId",""]],inputs:{bbDynamicId:"bbDynamicId"},exportAs:["bbDynamicId"]}),n})(),Vn=(()=>{class n{constructor(t){this.messageCenterHttpService=t,this.defaultMessage=(0,R.of)({body:da("test message"),subject:"no subject",topic:"no topic",sender:{name:"test sender"}})}saveMessages(t){return this.messageCenterHttpService.postMessages({presentationMessagePostRequestBody:t})}saveAttachment(t){return this.messageCenterHttpService.postMessageAttachments({attachment:t}).pipe((0,g.U)(o=>o.id))}deleteAttachments(t){return this.messageCenterHttpService.deleteMessageAttachments({ids:t}).pipe((0,g.U)(o=>o.deleted))}createDefaultBody(t){var o,a;return`transactionID: ${t.id}\nreferenceNumber: ${t.reference}\narranagementID: ${t.arrangementId}\nbookingDate: ${t.bookingDate}\namount: ${null===(o=t.transactionAmountCurrency)||void 0===o?void 0:o.amount}\nmerchantName: ${null===(a=t.merchant)||void 0===a?void 0:a.name}\ncounterpartyName: ${t.counterPartyName}\ndescription: ${t.description}\ntype: ${t.type}`}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Yt.c$))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),qn=(()=>{class n{constructor(t){this.messagesService=t,this.showReportSubject=new T.x,this.DEFAULT_MESSAGE={attachments:[],body:"",topic:"inquire"},this.showReport=this.showReportSubject.asObservable(),this.message=Object.assign({},this.DEFAULT_MESSAGE),this.reportState=D.notStarted,this.subjectReportMap={dispute:"Transaction dispute raised on",inquire:"Transaction inquiry raised on"}}formatMessage(t,o,a,_){const{topic:s="inquire",body:c="",attachments:l=[]}=t;return{body:da([o,c].join("\n")),topic:a[s],attachments:l.map(u=>u.id||""),subject:`${this.subjectReportMap[s]} ${null==_?void 0:_.arrangementId}`}}saveReport(t){return this.reportState=D.loading,this.messagesService.saveMessages(t).pipe((0,g.U)(()=>(this.message=this.DEFAULT_MESSAGE,this.showReportForm(!1),this.reportState=D.done,t)),(0,L.K)(()=>(this.reportState=D.error,(0,R.of)(void 0))))}showReportForm(t){this.showReportSubject.next(t)}cancelReport(){this.removeAllFiles(),this.reportState=D.notStarted,this.message=this.DEFAULT_MESSAGE,this.showReportForm(!1)}fileChange(t){let o={name:t.name,size:t.size,content:(0,oa.D)(t.arrayBuffer())};const a=this.message.attachments||[];this.message.attachments=[...a,o];const _=this.reportState;return this.reportState=D.loading,this.messagesService.saveAttachment(t).pipe((0,g.U)(s=>(o=Object.assign({id:s},o),this.reportState=D.notStarted,this.message.attachments=[...a,o],s)),(0,L.K)(()=>(this.reportState=_,this.message.attachments=[...a],(0,R.of)(""))))}deleteReportForm(){}fileRemoved(t){const{id:o=""}=t;return this.messagesService.deleteAttachments([o]).pipe((0,U.b)(()=>{this.message.attachments=this.message.attachments.filter(a=>a.id!==o)}))}removeAllFiles(){if(this.message.attachments.length>0){const t=this.message.attachments.map(o=>o.id||"");this.messagesService.deleteAttachments(t).subscribe({next:()=>{this.message.attachments=[]}})}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Vn))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),jn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[zn,fa,Ia,$t,tn,Ea,ha,Vn,qn,Ta,Ca],imports:[[r.ez,b.Q,v.hJ,Fe.C,Jn.m8,w.z,I.UX,Z.p,ne.P,Se.CK,Wt.rt,_a.gG,Rt.w,sa.Y,ra.R,Te.n,H.zk,Ke.T],b.Q,Wt.rt,ne.P,Z.p,Se.CK]}),n})(),_m=(()=>{class n{constructor(t){this.routerService=t}view(t){return this.routerService.navigate(["/",t])}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(S.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var Xn;(Xn||(Xn={})).groupByDate=function t(o){return(o&&null!==o.items?o.items:[]).reduce((_,s)=>{const c=function i(o){return(o.bookingDate?new Date(o.bookingDate):new Date).toISOString().slice(0,10)}(s);return _[c]?_[c].push(s):_[c]=[s],_},{})};let sm=(()=>{class n{constructor(t,o){this.route=t,this.widgetProperties=o,this.enableDisputeAndInquiry=!1,this.availableFiltersConfig=Zn,this.transactionSelected=new e.vpe,this.transactionsLoaded=new e.vpe,this.initialFilterOptionsSubject=new N.X(void 0),this.initialSortOptionsSubject=new N.X(void 0),this.selectedAccount=this.getRouteParam(this.route,"selectedAccount").pipe((0,g.U)(a=>(null==a?void 0:a.includes(","))?null==a?void 0:a.split(","):null!==a?[a]:void 0))}set initialFilterOptionsValue(t){const o=(n=>n.split("&").reduce((t,o)=>{const[a,_]=o.split("=");return Object.assign(Object.assign({},t),{[decodeURIComponent(a)]:decodeURIComponent(_)})},{}))(t);this.initialFilterOptionsSubject.next(qe.fromHttpGetParams(o))}set initialSortOptionsValue(t){const o=ua(t);this.initialSortOptionsSubject.next(o)}getRouteParam(t,o){const a=t.paramMap.pipe((0,g.U)(_=>_.get(o)));return t.parent?(0,K.a)([a,this.getRouteParam(t.parent,o)]).pipe((0,g.U)(_=>_[0]||_[1])):a}get initialFilterOptions(){return ie(this.initialFilterOptionsSubject.asObservable(),this.widgetProperties.initialFilterOptions)}get initialSortOptions(){return ie(this.initialSortOptionsSubject.asObservable(),this.widgetProperties.initialSortOptions)}onDetailOpen(t){this.transactionSelected.emit(t)}onTransactionsLoaded(t){this.transactionsLoaded.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.gz),e.Y36(Xt))},n.\u0275dir=e.lG2({type:n,inputs:{googleAPIKey:"googleAPIKey",initialFilterOptionsValue:["initialFilterOptions","initialFilterOptionsValue"],initialSortOptionsValue:["initialSortOptions","initialSortOptionsValue"],pageSize:"pageSize",maxNavPages:"maxNavPages",paginationType:"paginationType",showControls:"showControls",showChangeCategory:"showChangeCategory",showPendingTransactionsOnTop:"showPendingTransactionsOnTop",showCheckImage:"showCheckImage",showManageNotes:"showManageNotes",getOrPostEndpoints:"getOrPostEndpoints",enableDisputeAndInquiry:"enableDisputeAndInquiry",disputeByBillingStatus:"disputeByBillingStatus",disputeEligibilityDays:"disputeEligibilityDays",disputeTransactionTypes:"disputeTransactionTypes",inquireTopicId:"inquireTopicId",disputeTopicId:"disputeTopicId",availableFiltersConfig:"availableFiltersConfig"},outputs:{transactionSelected:"transactionSelected",transactionsLoaded:"transactionsLoaded"}}),n})(),rm=(()=>{class n{constructor(){this.isFilterApplied=!1,this.exportConfig=[{name:"CSV",isAvailable:!0},{name:"OFX",isAvailable:!0}],this.availableFilters=[],this.filter=new e.vpe,this.search=new e.vpe,this.export=new e.vpe,this.isFilterOpen=!1}onSearch(t){this.search.emit(t)}onFilter(t){this.filter.emit(t)}onExport(t){this.export.emit(t)}onClose(){this.isFilterOpen=!1}toggleFilter(){this.isFilterOpen=!this.isFilterOpen}ngOnInit(){if(void 0===this.exportConfig)throw new Error(`"exportConfig" input is required in "${this.constructor.name}"`)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,inputs:{isFilterApplied:"isFilterApplied",exportConfig:"exportConfig",availableFilters:"availableFilters"},outputs:{filter:"filter",search:"search",export:"export"}}),n})();p(8310),p(892);const Oa=(n,i)=>{const t=i.split(/[.[\]]/g).filter(o=>""!==o);return t.length?t.reduce((o,a)=>null==o?void 0:o[a],n):void 0};let Ra=(()=>{class n{transform(t){return Number(null==t?void 0:t.toString().replace(/[^\d.-]/g,""))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"bbToNumber",type:n,pure:!0}),n})(),eo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez]]}),n})(),Da=(()=>{class n{transform(t){return Array.isArray(t)?t:[t]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"bbToArray",type:n,pure:!0}),n})(),to=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez]]}),n})(),Ma=(()=>{class n{transform(t,o){const a=[];for(let _=0;_<t.length;_+=o)a.push(t.slice(_,_+o));return a}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"bbSplitArray",type:n,pure:!0}),n})(),no=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez]]}),n})(),ya=(()=>{class n{transform(t,o){return Oa(t,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"bbGetValue",type:n,pure:!0}),n})(),oo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez]]}),n})(),io=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez]]}),n})(),cm=(()=>{class n{constructor(t){this.datePipe=t,this.millisecondsInPeriod={day:864e5,hours:72e5,hour:36e5,minutes:12e4,minute:6e4},this.localisationByPeriod={date:o=>"Updated on " + o + "",hours:o=>"Updated " + o + " hours ago",hour:()=>"Updated 1 hour ago",minutes:o=>"Updated " + o + " minutes ago",minute:()=>"Updated 1 minute ago"}}transform(t,o="longDate"){const a=Math.max((new Date).getTime()-new Date(t).getTime(),0);if(a<this.millisecondsInPeriod.minutes)return this.localisationByPeriod.minute();if(a<this.millisecondsInPeriod.hour){const _=Math.floor(a/this.millisecondsInPeriod.minute);return this.localisationByPeriod.minutes(_)}if(a<this.millisecondsInPeriod.hours)return this.localisationByPeriod.hour();if(a<this.millisecondsInPeriod.day){const _=Math.floor(a/this.millisecondsInPeriod.hour);return this.localisationByPeriod.hours(_)}{const _=this.datePipe.transform(t,o);return this.localisationByPeriod.date(_)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z.y,16))},n.\u0275pipe=e.Yjl({name:"bbToUpdatedDate",type:n,pure:!0}),n})(),ao=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[z.y],imports:[[z.G],z.G]}),n})(),va=(()=>{class n{transform(t){return void 0!==t?Math.abs(t):NaN}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"bbToAbsoluteValue",type:n,pure:!0}),n})(),_o=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();const so=n=>null!=n;let lm=(()=>{class n{transform(t){if(so(t)&&"string"==typeof t){const o=t.indexOf("%");return 0===o||o===t.length-1}return!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"bbIsPercentValue",type:n,pure:!0}),n})(),ro=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez]]}),n})(),nn=(()=>{class n{transform(t){return so(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"bbIsDefined",type:n,pure:!0}),n})(),Xe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez]]}),n})(),Pa=(()=>{class n{constructor(t,o){this.element=t,this.changeDetector=o,this.calculatedResponsiveView="screen",this.sizeTablet=768,this.sizeMobile=375}set responsiveView(t){this.inputResponsiveView=t}get responsiveView(){return this.inputResponsiveView||this.calculatedResponsiveView}ngAfterViewInit(){this.inputResponsiveView||(this.updateResponsiveView(),this.changeDetector.detectChanges())}onResize(){this.inputResponsiveView||this.updateResponsiveView()}updateResponsiveView(){var t,o;const a=(null===(o=null===(t=this.element.nativeElement)||void 0===t?void 0:t.firstElementChild)||void 0===o?void 0:o.getBoundingClientRect().width)||0;this.calculatedResponsiveView=this.getResponsiveView(a)}getResponsiveView(t){let o="screen";return t<=this.sizeMobile?o="mobile":t<=this.sizeTablet&&(o="tablet"),o}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],hostBindings:function(t,o){1&t&&e.NdJ("resize",function(){return o.onResize()},!1,e.Jf7)},inputs:{responsiveView:"responsiveView"},decls:0,vars:0,template:function(t,o){},encapsulation:2}),n})();function Sm(n,i){if(1&n&&(e.TgZ(0,"span",1),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.AsE(" ",t.value," ",t.unitLabel,"\n")}}function gm(n,i){1&n&&e.GkF(0)}function bm(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).accountNumberType;return e.oxw().onUnmask(a)}),e._UZ(1,"bb-icon-ui",9),e.qZA()}if(2&n){e.oxw();const t=e.MAs(5);e.Q6J("bbTooltip",t)("circle",!0)}}function Em(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).accountNumberType;return e.oxw().onMask(a)}),e._UZ(1,"bb-icon-ui",11),e.qZA()}if(2&n){e.oxw();const t=e.MAs(7);e.Q6J("bbTooltip",t)("circle",!0)}}function Tm(n,i){1&n&&(e.ynx(0),e.SDv(1,15),e.BQk())}function Cm(n,i){1&n&&(e.ynx(0),e.SDv(1,16),e.BQk())}function Nm(n,i){1&n&&(e.ynx(0),e.SDv(1,17),e.BQk())}function fm(n,i){1&n&&(e.ynx(0),e.SDv(1,18),e.BQk())}function Im(n,i){if(1&n&&(e.ynx(0,12),e.YNc(1,Tm,2,0,"ng-container",13),e.YNc(2,Cm,2,0,"ng-container",13),e.YNc(3,Nm,2,0,"ng-container",13),e.YNc(4,fm,2,0,"ng-container",14),e.BQk()),2&n){const t=e.oxw(2).accountNumberType;e.Q6J("ngSwitch",t),e.xp6(1),e.Q6J("ngSwitchCase","iban"),e.xp6(1),e.Q6J("ngSwitchCase","bban"),e.xp6(1),e.Q6J("ngSwitchCase","cardNumber")}}function hm(n,i){1&n&&(e.ynx(0),e.SDv(1,19),e.BQk())}function Om(n,i){1&n&&(e.ynx(0),e.SDv(1,20),e.BQk())}function Rm(n,i){1&n&&(e.ynx(0),e.SDv(1,21),e.BQk())}function Dm(n,i){1&n&&(e.ynx(0),e.SDv(1,22),e.BQk())}function Mm(n,i){if(1&n&&(e.ynx(0,12),e.YNc(1,hm,2,0,"ng-container",13),e.YNc(2,Om,2,0,"ng-container",13),e.YNc(3,Rm,2,0,"ng-container",13),e.YNc(4,Dm,2,0,"ng-container",14),e.BQk()),2&n){const t=e.oxw(2).accountNumberType;e.Q6J("ngSwitch",t),e.xp6(1),e.Q6J("ngSwitchCase","iban"),e.xp6(1),e.Q6J("ngSwitchCase","bban"),e.xp6(1),e.Q6J("ngSwitchCase","cardNumber")}}function ym(n,i){if(1&n&&(e.ynx(0),e.YNc(1,bm,2,2,"button",4),e.YNc(2,Em,2,2,"ng-template",null,5,e.W1O),e.YNc(4,Im,5,4,"ng-template",null,6,e.W1O),e.YNc(6,Mm,5,4,"ng-template",null,7,e.W1O),e.BQk()),2&n){const t=e.MAs(3),o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.masked)("ngIfElse",t)}}function vm(n,i){if(1&n&&(e.TgZ(0,"span",2),e._uU(1),e.ALo(2,"bbAccountNumber"),e.qZA(),e.YNc(3,ym,8,2,"ng-container",3)),2&n){const t=i.accountNumber,o=i.accountNumberType,a=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,2,t,o)," "),e.xp6(2),e.Q6J("ngIf",a.unmaskable)}}const Um=function(n,i){return{accountNumber:n,accountNumberType:i}};function Bm(n,i){1&n&&(e.TgZ(0,"span"),e.SDv(1,5),e.qZA())}function Pm(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Bm,2,0,"span",4),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.showActiveState)}}function Lm(n,i){1&n&&e._UZ(0,"bb-icon-ui",9)}const La=function(n){return{"bb-account-status__state--hide-for-mobile":n}};function xm(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Lm,1,0,"bb-icon-ui",6),e.TgZ(2,"span",7),e.SDv(3,8),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.showIcon),e.xp6(1),e.Q6J("ngClass",e.VKq(2,La,!t.showTextInResponsiveView))}}function Gm(n,i){1&n&&e._UZ(0,"bb-icon-ui",12)}function wm(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Gm,1,0,"bb-icon-ui",10),e.TgZ(2,"span",7),e.SDv(3,11),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.showIcon),e.xp6(1),e.Q6J("ngClass",e.VKq(2,La,!t.showTextInResponsiveView))}}function km(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",13),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.state," ")}}function Km(n,i){1&n&&(e.ynx(0),e.TgZ(1,"span",2),e.SDv(2,3),e.qZA(),e.BQk())}function Fm(n,i){1&n&&(e.TgZ(0,"span",2),e.SDv(1,4),e.qZA())}function Jm(n,i){if(1&n&&(e.TgZ(0,"bb-icon-ui",20),e.DtL(1,21),e.qZA()),2&n){const t=e.oxw(2);e.pQV(null==t.property?null:t.property.label),e.QtT(1),e.Q6J("bbTooltip",null==t.property?null:t.property.tooltip)}}function Wm(n,i){if(1&n&&(e.TgZ(0,"div",17)(1,"span",18),e._uU(2),e.qZA(),e.YNc(3,Jm,2,2,"bb-icon-ui",19),e.qZA()),2&n){const t=e.oxw();e.uIk("data-role","account-info-property-"+(null==t.property?null:t.property.key)+"-label"),e.xp6(2),e.hij(" ",null==t.property?null:t.property.label," "),e.xp6(1),e.Q6J("ngIf",null==t.property?null:t.property.tooltip)}}function Zm(n,i){1&n&&e.GkF(0)}function Hm(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Zm,1,0,"ng-container",22),e.BQk()),2&n){e.oxw();const t=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Ym(n,i){1&n&&e.GkF(0)}function zm(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Ym,1,0,"ng-container",22),e.BQk()),2&n){e.oxw();const t=e.MAs(18);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Qm(n,i){1&n&&e.GkF(0)}function $m(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Qm,1,0,"ng-container",22),e.BQk()),2&n){e.oxw();const t=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Vm(n,i){1&n&&e.GkF(0)}function qm(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Vm,1,0,"ng-container",22),e.BQk()),2&n){e.oxw();const t=e.MAs(24);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function jm(n,i){1&n&&e.GkF(0)}function Xm(n,i){if(1&n&&(e.ynx(0),e.YNc(1,jm,1,0,"ng-container",22),e.BQk()),2&n){e.oxw();const t=e.MAs(26);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function eS(n,i){1&n&&e.GkF(0)}function tS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,eS,1,0,"ng-container",22),e.BQk()),2&n){e.oxw();const t=e.MAs(28);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function nS(n,i){1&n&&e.GkF(0)}function oS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,nS,1,0,"ng-container",22),e.BQk()),2&n){e.oxw();const t=e.MAs(30);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function iS(n,i){1&n&&e.GkF(0)}function aS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,iS,1,0,"ng-container",22),e.BQk()),2&n){e.oxw();const t=e.MAs(34);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function _S(n,i){1&n&&e.GkF(0)}function sS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,_S,1,0,"ng-container",22),e.BQk()),2&n){e.oxw();const t=e.MAs(36);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function rS(n,i){1&n&&e.GkF(0)}function cS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,rS,1,0,"ng-container",22),e.BQk()),2&n){e.oxw();const t=e.MAs(38);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function lS(n,i){1&n&&e.GkF(0)}function uS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,lS,1,0,"ng-container",22),e.BQk()),2&n){e.oxw();const t=e.MAs(40);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function dS(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",24)(2,"bb-account-number",25),e.NdJ("unmask",function(){return e.CHM(t),e.oxw(2).masked.emit(!1)})("mask",function(){return e.CHM(t),e.oxw(2).masked.emit(!0)}),e.ALo(3,"bbGetValue"),e.qZA()(),e.BQk()}if(2&n){const t=i.ngIf,o=e.oxw(2);e.xp6(2),e.Q6J("type",t.numberType)("number",e.xi3(3,4,o.account,t.key))("unmaskable",o.isMaskable&&!t.hideMaskIndicator)("masked",o.isMasked)}}function AS(n,i){if(1&n&&(e.YNc(0,dS,4,7,"ng-container",23),e.ALo(1,"bbCastAccountProperty")),2&n){const t=e.oxw();e.Q6J("ngIf",e.xi3(1,1,t.property,t.propertyType.ACCOUNT_NUMBER))}}function pS(n,i){if(1&n&&e._UZ(0,"bb-account-state-indicator",27),2&n){const t=i.ngIf,o=e.oxw().ngIf;e.Q6J("state",t)("showIcon",o.showIcon||!1)}}function mS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,pS,1,2,"bb-account-state-indicator",26),e.ALo(2,"bbGetValue"),e.BQk()),2&n){const t=i.ngIf,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.xi3(2,1,o.account,t.key))}}function SS(n,i){if(1&n&&(e.YNc(0,mS,3,4,"ng-container",23),e.ALo(1,"bbCastAccountProperty")),2&n){const t=e.oxw();e.Q6J("ngIf",e.xi3(1,1,t.property,t.propertyType.ACCOUNT_STATE))}}function gS(n,i){1&n&&e.GkF(0)}function bS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,gS,1,0,"ng-container",22),e.BQk()),2&n){e.oxw(3);const t=e.MAs(34);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function ES(n,i){if(1&n&&(e.ynx(0),e.YNc(1,bS,2,1,"ng-container",28),e.ALo(2,"bbIsPercentValue"),e.ALo(3,"bbGetValue"),e.BQk()),2&n){const t=i.ngIf,o=e.oxw(2),a=e.MAs(22);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,e.xi3(3,4,o.account,t.key)))("ngIfElse",a)}}function TS(n,i){if(1&n&&(e.YNc(0,ES,4,7,"ng-container",23),e.ALo(1,"bbCastAccountProperty")),2&n){const t=e.oxw();e.Q6J("ngIf",e.xi3(1,1,t.property,t.propertyType.AMOUNT))}}function CS(n,i){if(1&n&&e._UZ(0,"bb-amount-ui",30),2&n){const t=i.ngIf,o=e.oxw().ngIf,a=e.oxw(2);e.Q6J("amount",t)("currency",o.currency||(null==a.account?null:a.account.currency)||"")("mapCurrency","symbol"===(o.currencyFormat||a.currencyFormat))}}function NS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,CS,1,3,"bb-amount-ui",29),e.ALo(2,"bbGetValue"),e.BQk()),2&n){const t=i.ngIf,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.xi3(2,1,o.account,t.key))}}function fS(n,i){if(1&n&&(e.YNc(0,NS,3,4,"ng-container",23),e.ALo(1,"bbCastAccountProperty")),2&n){const t=e.oxw();e.Q6J("ngIf",e.xi3(1,1,t.property,t.propertyType.AMOUNT))}}function IS(n,i){if(1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"bbDate"),e.ALo(3,"bbGetValue"),e.BQk()),2&n){const t=i.ngIf,o=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,e.xi3(3,4,o.account,t.key),t.dateFormat||o.dateFormat)," ")}}function hS(n,i){if(1&n&&(e.YNc(0,IS,4,7,"ng-container",23),e.ALo(1,"bbCastAccountProperty")),2&n){const t=e.oxw();e.Q6J("ngIf",e.xi3(1,1,t.property,t.propertyType.DATE))}}function OS(n,i){1&n&&(e._UZ(0,"bb-payment-card-ui",33),e.ALo(1,"bbToPaymentCardData"),e.ALo(2,"bbGetAccountNumberFormat")),2&n&&e.Q6J("paymentCard",e.lcZ(1,2,i.$implicit))("paymentCardNumberFormat",e.lcZ(2,4,"cardNumber"))}function RS(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",31),e.YNc(2,OS,3,6,"bb-payment-card-ui",32),e.ALo(3,"bbToArray"),e.ALo(4,"bbGetValue"),e.qZA(),e.BQk()),2&n){const t=i.ngIf,o=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,1,e.xi3(4,3,o.account,t.key)))}}function DS(n,i){if(1&n&&(e.YNc(0,RS,5,6,"ng-container",23),e.ALo(1,"bbCastAccountProperty")),2&n){const t=e.oxw();e.Q6J("ngIf",e.xi3(1,1,t.property,t.propertyType.DEBIT_CARDS))}}function MS(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"bb-account-info-frequency",34),e.ALo(2,"bbGetValue"),e.ALo(3,"bbGetValue"),e.BQk()),2&n){const t=i.ngIf,o=e.oxw(2);e.xp6(1),e.Q6J("value",e.xi3(2,2,o.account,t.key))("unit",e.xi3(3,5,o.account,t.unitKey))}}function yS(n,i){if(1&n&&(e.YNc(0,MS,4,8,"ng-container",23),e.ALo(1,"bbCastAccountProperty")),2&n){const t=e.oxw();e.Q6J("ngIf",e.xi3(1,1,t.property,t.propertyType.FREQUENCY))}}function vS(n,i){1&n&&e.GkF(0)}function US(n,i){if(1&n&&(e.ynx(0),e.YNc(1,vS,1,0,"ng-container",22),e.BQk()),2&n){e.oxw(3);const t=e.MAs(34);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function BS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,US,2,1,"ng-container",28),e.ALo(2,"bbIsPercentValue"),e.ALo(3,"bbGetValue"),e.BQk()),2&n){const t=i.ngIf,o=e.oxw(2),a=e.MAs(32);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,e.xi3(3,4,o.account,t.key)))("ngIfElse",a)}}function PS(n,i){if(1&n&&(e.YNc(0,BS,4,7,"ng-container",23),e.ALo(1,"bbCastAccountProperty")),2&n){const t=e.oxw();e.Q6J("ngIf",e.xi3(1,1,t.property,t.propertyType.NUMBER))}}function LS(n,i){if(1&n&&e._UZ(0,"bb-amount-ui",36),2&n){const t=i.ngIf,o=e.oxw().ngIf;e.Q6J("amount",t)("decimalPlaces",o.decimalPlaces)}}function xS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,LS,1,2,"bb-amount-ui",35),e.ALo(2,"bbToNumber"),e.ALo(3,"bbGetValue"),e.BQk()),2&n){const t=i.ngIf,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,e.xi3(3,3,o.account,t.key)))}}function GS(n,i){if(1&n&&(e.YNc(0,xS,4,6,"ng-container",23),e.ALo(1,"bbCastAccountProperty")),2&n){const t=e.oxw();e.Q6J("ngIf",e.xi3(1,1,t.property,t.propertyType.NUMBER))}}function wS(n,i){1&n&&e._UZ(0,"bb-amount-ui",38),2&n&&e.Q6J("amount",i.ngIf)("showPercent",!0)}function kS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,wS,1,2,"bb-amount-ui",37),e.ALo(2,"bbToNumber"),e.ALo(3,"bbGetValue"),e.BQk()),2&n){const t=i.ngIf,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,e.xi3(3,3,o.account,t.key)))}}function KS(n,i){if(1&n&&(e.YNc(0,kS,4,6,"ng-container",23),e.ALo(1,"bbCastAccountProperty")),2&n){const t=e.oxw();e.Q6J("ngIf",e.xi3(1,1,t.property,t.propertyType.PERCENT))}}function FS(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"bb-account-info-renewal-status",39),e.ALo(2,"bbGetValue"),e.BQk()),2&n){const t=i.ngIf,o=e.oxw(2);e.xp6(1),e.Q6J("isRenewalAllowed",e.xi3(2,1,o.account,t.key)||!1)}}function JS(n,i){if(1&n&&(e.YNc(0,FS,3,4,"ng-container",23),e.ALo(1,"bbCastAccountProperty")),2&n){const t=e.oxw();e.Q6J("ngIf",e.xi3(1,1,t.property,t.propertyType.RENEWAL_STATUS))}}function WS(n,i){if(1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"bbGetValue"),e.BQk()),2&n){const t=i.ngIf,o=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,o.account,t.key)," ")}}function ZS(n,i){if(1&n&&(e.YNc(0,WS,3,4,"ng-container",23),e.ALo(1,"bbCastAccountProperty")),2&n){const t=e.oxw();e.Q6J("ngIf",e.xi3(1,1,t.property,t.propertyType.TEXT))}}function HS(n,i){if(1&n&&(e.ynx(0),e._uU(1),e.ALo(2,"bbToUpdatedDate"),e.ALo(3,"bbGetValue"),e.BQk()),2&n){const t=i.ngIf,o=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,e.xi3(3,4,o.account,t.key)||"",t.dateFormat||o.dateFormat)," ")}}function YS(n,i){if(1&n&&(e.YNc(0,HS,4,7,"ng-container",23),e.ALo(1,"bbCastAccountProperty")),2&n){const t=e.oxw();e.Q6J("ngIf",e.xi3(1,1,t.property,t.propertyType.UPDATE_TIME))}}function zS(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div")(2,"img",2),e.NdJ("error",function(){return e.CHM(t),e.oxw().onImageLoadingError()}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Gre("bb-stack bb-icon bb-icon--",t.size," bb-icon__background"),e.xp6(1),e.Q6J("src",t.logoUrl,e.LSH)}}function QS(n,i){if(1&n&&e._UZ(0,"bb-icon-ui",3),2&n){const t=e.oxw();e.Q6J("size",t.size)("color",t.color||t.getProductKindIconColor())("name",t.getProductKindIconName())}}const $S=["contentRef"];function VS(n,i){if(1&n&&e._UZ(0,"div"),2&n){const t=e.oxw();e.Gre("\n         rounded-circle\n         bb-credit-limit-attribute__color-mark\n         bb-credit-limit__color--",t.color,"\n       ")}}const qS=function(n){return{"bb-subtitle":n}};function jS(n,i){if(1&n&&e._UZ(0,"bb-amount-ui",5),2&n){const t=e.oxw();e.Gre("bb-stack__item bb-text-semi-bold ",t.isAmountColored?"bb-credit-limit-attribute__value--"+t.color:"",""),e.ekj("bb-credit-limit-attribute__value",t.color),e.Q6J("ngClass",e.VKq(9,qS,"mobile"===t.responsiveView))("currency",t.currency)("amount",t.amount)("mapCurrency",t.useShortCurrency)}}const XS=function(n,i){return{"bb-stack justify-content-between":n,"bb-stack--align-top":i}},eg=function(n,i){return{"bb-block bb-block--xs":n,"bb-stack__item":i}},tg=function(n){return{"bb-stack__item":n}},ng=["*"];function og(n,i){if(1&n&&e._UZ(0,"bb-amount-ui",4),2&n){const t=e.oxw();e.Q6J("currency",t.currency)("amount",t.minimumPayment)("mapCurrency",t.useShortCurrency)}}function ig(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"div",5),e.TgZ(2,"span",6),e.SDv(3,7),e.qZA(),e.TgZ(4,"span",6),e._uU(5),e.ALo(6,"bbDate"),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(5),e.hij(" ",e.lcZ(6,1,t.minimumPaymentDueDate)," ")}}const ag=function(n){return{"bb-subtitle, justify-content-end":n}};function _g(n,i){1&n&&e.GkF(0)}function sg(n,i){1&n&&e.GkF(0)}function rg(n,i){if(1&n&&e._UZ(0,"div",8),2&n){const t=e.oxw().color,o=e.oxw();e.MT6("bb-credit-limit-status-bar__value bb-credit-limit-status-bar__value--",o.primaryMinSize," bb-credit-limit__color--",t,""),e.Udp("width",o.owedWidth),e.uIk("aria-label",o.valueAriaLabels.owedValue)}}function cg(n,i){if(1&n&&e.YNc(0,rg,1,7,"div",7),2&n){const t=e.oxw();e.Q6J("ngIf",t.owed)}}function lg(n,i){if(1&n&&e._UZ(0,"div",10),2&n){const t=e.oxw().color,o=e.oxw();e.MT6("bb-credit-limit-status-bar__value bb-credit-limit-status-bar__value--",o.primaryMinSize," bb-credit-limit__color--",t,""),e.Udp("width",o.leftToSpendWidth),e.uIk("aria-label",o.valueAriaLabels.leftToSpendValue)}}function ug(n,i){if(1&n&&e.YNc(0,lg,1,7,"div",9),2&n){const t=e.oxw();e.Q6J("ngIf",t.leftToSpend)}}function dg(n,i){if(1&n&&e._UZ(0,"div",11),2&n){const t=e.oxw();e.Gre("bb-credit-limit-status-bar__value bb-credit-limit-status-bar__value--",t.overdueMinSize," bb-credit-limit__color--danger"),e.Udp("width",t.overdueWidth),e.uIk("aria-label",t.valueAriaLabels.overdueValue)}}function Ag(n,i){if(1&n&&e._UZ(0,"div",12),2&n){const t=e.oxw();e.Udp("width",t.reservedWidth),e.uIk("aria-label",t.valueAriaLabels.reservedValue)}}const pg=function(){return{color:"secondary"}},mg=function(){return{color:"primary"}},Sg=["accountAliasEditor"];function gg(n,i){if(1&n&&(e._UZ(0,"bb-account-logo",16),e.ALo(1,"bbGetProductKind")),2&n){const t=e.oxw(3);e.Q6J("logoUrl",t.showExternalInfo?t.externalLogo:"")("productKindUri",e.lcZ(1,2,t.account))}}function bg(n,i){if(1&n&&(e.ynx(0),e.YNc(1,gg,2,4,"bb-account-logo",15),e.ALo(2,"bbGetProductKind"),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.account)||t.externalLogo)}}function Eg(n,i){if(1&n&&(e.TgZ(0,"div",17)(1,"span",18),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.externalTitle||t.defaultExternalTitle," ")}}function Tg(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"bb-input-inline-edit-ui",19,20),e.DtL(2,21),e.NdJ("accept",function(a){return e.CHM(t),e.oxw(2).onAliasEditRequested(a)}),e.qZA()}if(2&n){const t=e.oxw(2);e.pQV(t.displayName),e.QtT(2),e.Q6J("inputText",t.displayName)("maxLength",t.aliasMaxLength)("required",!1)("hint",t.aliasHintsLocalization[t.aliasLevel])}}function Cg(n,i){if(1&n&&e._uU(0),2&n){const t=e.oxw(2);e.hij(" ",null==t.account?null:t.account.displayName," ")}}function Ng(n,i){if(1&n&&e._UZ(0,"bb-account-number",22),2&n){const t=e.oxw(2);e.Q6J("account",t.account)}}function fg(n,i){1&n&&e._UZ(0,"div",23)}function Ig(n,i){1&n&&(e.TgZ(0,"div",27),e.SDv(1,28),e.qZA())}const hg=function(n,i){return{"bb-heading-1":n,"bb-heading-2":i}};function Og(n,i){if(1&n&&e._UZ(0,"bb-amount-ui",29),2&n){const t=e.oxw(3);e.Q6J("ngClass",e.WLB(4,hg,!t.showBalanceType,t.showBalanceType))("currency",t.account.currency)("amount",t.account.availableBalance)("mapCurrency",t.useShortCurrency)}}function Rg(n,i){if(1&n&&(e.TgZ(0,"div",24),e.YNc(1,Ig,2,0,"div",25),e.YNc(2,Og,1,7,"bb-amount-ui",26),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.showBalanceType),e.xp6(1),e.Q6J("ngIf",t.account.currency&&t.account.availableBalance)}}const Dg=function(n,i,t){return{"bb-heading-3":n,"bb-block bb-block--xs":i,"bb-account-header__title--display-mode":t}};function Mg(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",5)(2,"div",6),e.YNc(3,bg,3,3,"ng-container",0),e.TgZ(4,"div",7)(5,"div",8),e.YNc(6,Eg,3,1,"div",9),e.YNc(7,Tg,3,5,"bb-input-inline-edit-ui",10),e.YNc(8,Cg,1,1,"ng-template",null,11,e.W1O),e.qZA(),e.YNc(10,Ng,1,1,"bb-account-number",12),e.qZA()(),e.YNc(11,fg,1,0,"div",13),e.ALo(12,"bbIsDefined"),e.YNc(13,Rg,3,2,"div",14),e.ALo(14,"bbIsDefined"),e.qZA(),e.BQk()),2&n){const t=e.MAs(9),o=e.oxw();e.xp6(3),e.Q6J("ngIf",o.showLogo&&o.isViewMode),e.xp6(2),e.Q6J("ngClass",e.kEZ(12,Dg,o.isViewMode,o.isViewMode,o.isViewMode)),e.xp6(1),e.Q6J("ngIf",o.showExternalInfo),e.xp6(1),e.Q6J("ngIf",o.canEditAlias)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",o.isViewMode),e.xp6(1),e.Q6J("ngIf",o.showBalance&&e.lcZ(12,8,o.account.availableBalance)),e.xp6(2),e.Q6J("ngIf",o.showBalance&&e.lcZ(14,10,o.account.availableBalance))}}function yg(n,i){1&n&&(e.TgZ(0,"span"),e.SDv(1,30),e.qZA())}function vg(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",15),e._uU(2),e.qZA(),e._UZ(3,"bb-amount-ui",16),e.ALo(4,"bbToAbsoluteValue"),e.BQk()),2&n){const t=e.oxw(4);e.xp6(2),e.Oqu(t.localization.of),e.xp6(1),e.Q6J("currency",t.account.currency||"")("amount",e.lcZ(4,4,t.account.creditLimit))("mapCurrency",t.useShortCurrency)}}function Ug(n,i){if(1&n&&(e.TgZ(0,"bb-credit-limit-attribute",12)(1,"div",13),e._UZ(2,"bb-amount-ui",14),e.ALo(3,"bbToAbsoluteValue"),e.YNc(4,vg,5,6,"ng-container",0),e.qZA()()),2&n){const t=e.oxw(3);e.Q6J("title",t.localization.leftToSpend),e.xp6(2),e.Q6J("currency",t.account.currency||"")("amount",e.lcZ(3,5,t.account.remainingCredit))("mapCurrency",t.useShortCurrency),e.xp6(2),e.Q6J("ngIf",t.account.creditLimit)}}function Bg(n,i){1&n&&e.GkF(0)}function Pg(n,i){1&n&&e.GkF(0)}function Lg(n,i){1&n&&e.GkF(0)}function xg(n,i){if(1&n&&(e._UZ(0,"bb-credit-limit-attribute",17),e.ALo(1,"bbToAbsoluteValue")),2&n){const t=e.oxw(3);e.ekj("bb-stack__item","screen"===t.responsiveView),e.Q6J("title",t.localization.owed)("currency",t.account.currency)("amount",e.lcZ(1,7,t.account.creditLimitUsage))("useShortCurrency",t.useShortCurrency)("responsiveView",t.responsiveView)}}function Gg(n,i){1&n&&e._UZ(0,"div",20)}function wg(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Gg,1,0,"div",18),e._UZ(2,"bb-credit-limit-minimum-payment",19),e.ALo(3,"bbToAbsoluteValue"),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf","tablet"===t.responsiveView),e.xp6(1),e.Q6J("minimumPayment",e.lcZ(3,6,t.account.minimumPayment))("minimumPaymentDueDate",t.account.minimumPaymentDueDate)("currency",t.account.currency)("useShortCurrency",t.useShortCurrency)("responsiveView",t.responsiveView)}}const xa=function(n){return{"bb-stack justify-content-between":n}};function kg(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",6),e.YNc(2,Ug,5,7,"bb-credit-limit-attribute",7),e.ALo(3,"bbIsDefined"),e.qZA(),e.TgZ(4,"div",8),e.YNc(5,Bg,1,0,"ng-container",9),e.qZA(),e.TgZ(6,"div",10),e.YNc(7,Pg,1,0,"ng-container",9),e.YNc(8,Lg,1,0,"ng-container",9),e.YNc(9,xg,2,9,"bb-credit-limit-attribute",11),e.YNc(10,wg,4,8,"ng-container",0),e.qZA(),e.BQk()),2&n){e.oxw();const t=e.MAs(9),o=e.MAs(5),a=e.MAs(7),_=e.oxw();e.xp6(2),e.Q6J("ngIf",e.lcZ(3,7,_.account.remainingCredit)),e.xp6(3),e.Q6J("ngTemplateOutlet",t),e.xp6(1),e.Q6J("ngClass",e.VKq(9,xa,"screen"===_.responsiveView)),e.xp6(1),e.Q6J("ngTemplateOutlet",o),e.xp6(1),e.Q6J("ngTemplateOutlet",a),e.xp6(1),e.Q6J("ngIf",_.account.creditLimitUsage),e.xp6(1),e.Q6J("ngIf",_.showMinimumPayment&&_.account.minimumPayment)}}function Kg(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",15),e._uU(2),e.qZA(),e._UZ(3,"bb-amount-ui",16),e.ALo(4,"bbToAbsoluteValue"),e.BQk()),2&n){const t=e.oxw(4);e.xp6(2),e.Oqu(t.localization.of),e.xp6(1),e.Q6J("currency",t.account.currency||"")("amount",e.lcZ(4,4,t.account.creditLimit))("mapCurrency",t.useShortCurrency)}}function Fg(n,i){if(1&n&&(e.TgZ(0,"bb-credit-limit-attribute",24)(1,"div",25),e._UZ(2,"bb-amount-ui",14),e.ALo(3,"bbToAbsoluteValue"),e.YNc(4,Kg,5,6,"ng-container",0),e.qZA()()),2&n){const t=e.oxw(3);e.Q6J("title",t.localization.owed),e.xp6(2),e.Q6J("currency",t.account.currency||"")("amount",e.lcZ(3,5,t.account.creditLimitUsage))("mapCurrency",t.useShortCurrency),e.xp6(2),e.Q6J("ngIf",t.account.creditLimit)}}function Jg(n,i){1&n&&e.GkF(0)}function Wg(n,i){1&n&&e.GkF(0)}function Zg(n,i){1&n&&e.GkF(0)}function Hg(n,i){if(1&n&&(e._UZ(0,"bb-credit-limit-attribute",26),e.ALo(1,"bbToAbsoluteValue")),2&n){const t=e.oxw(3);e.ekj("bb-stack__item","screen"===t.responsiveView),e.Q6J("title",t.localization.leftToSpend)("currency",t.account.currency)("amount",e.lcZ(1,7,t.account.remainingCredit))("useShortCurrency",t.useShortCurrency)("responsiveView",t.responsiveView)}}function Yg(n,i){1&n&&e._UZ(0,"div",20)}function zg(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Yg,1,0,"div",18),e._UZ(2,"bb-credit-limit-minimum-payment",19),e.ALo(3,"bbToAbsoluteValue"),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf","tablet"===t.responsiveView),e.xp6(1),e.Q6J("minimumPayment",e.lcZ(3,6,t.account.minimumPayment))("minimumPaymentDueDate",t.account.minimumPaymentDueDate)("currency",t.account.currency)("useShortCurrency",t.useShortCurrency)("responsiveView",t.responsiveView)}}function Qg(n,i){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,Fg,5,7,"bb-credit-limit-attribute",22),e.ALo(2,"bbIsDefined"),e.qZA(),e.TgZ(3,"div",8),e.YNc(4,Jg,1,0,"ng-container",9),e.qZA(),e.TgZ(5,"div",10),e.YNc(6,Wg,1,0,"ng-container",9),e.YNc(7,Zg,1,0,"ng-container",9),e.YNc(8,Hg,2,9,"bb-credit-limit-attribute",23),e.YNc(9,zg,4,8,"ng-container",0),e.qZA()),2&n){e.oxw();const t=e.MAs(9),o=e.MAs(5),a=e.MAs(7),_=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,7,_.account.creditLimitUsage)),e.xp6(3),e.Q6J("ngTemplateOutlet",t),e.xp6(1),e.Q6J("ngClass",e.VKq(9,xa,"screen"===_.responsiveView)),e.xp6(1),e.Q6J("ngTemplateOutlet",o),e.xp6(1),e.Q6J("ngTemplateOutlet",a),e.xp6(1),e.Q6J("ngIf",_.account.remainingCredit),e.xp6(1),e.Q6J("ngIf",_.showMinimumPayment&&_.account.minimumPayment)}}const Ga=function(n,i){return{"bb-stack__item":n,"bb-block bb-block--sm":i}};function $g(n,i){if(1&n&&(e.TgZ(0,"div",10),e._UZ(1,"bb-credit-limit-attribute",28),e.ALo(2,"bbToAbsoluteValue"),e.qZA()),2&n){const t=e.oxw(3);e.Q6J("ngClass",e.WLB(9,Ga,"screen"===t.responsiveView,"tablet"===t.responsiveView)),e.xp6(1),e.Q6J("title",t.localization.overdue)("currency",t.account.currency)("amount",e.lcZ(2,7,t.account.amountInArrear))("isAmountColored",!0)("useShortCurrency",t.useShortCurrency)("responsiveView",t.responsiveView)}}function Vg(n,i){if(1&n&&e.YNc(0,$g,3,12,"div",27),2&n){const t=e.oxw(2);e.Q6J("ngIf",t.account.amountInArrear)}}function qg(n,i){if(1&n&&(e.TgZ(0,"div",10),e._UZ(1,"bb-credit-limit-attribute",29),e.ALo(2,"bbToAbsoluteValue"),e.qZA()),2&n){const t=e.oxw(3);e.Q6J("ngClass",e.WLB(8,Ga,"screen"===t.responsiveView,"tablet"===t.responsiveView)),e.xp6(1),e.Q6J("title",t.localization.reserved)("currency",t.account.currency)("amount",e.lcZ(2,6,t.account.reservedAmount))("useShortCurrency",t.useShortCurrency)("responsiveView",t.responsiveView)}}function jg(n,i){if(1&n&&e.YNc(0,qg,3,11,"div",27),2&n){const t=e.oxw(2);e.Q6J("ngIf",t.account.reservedAmount)}}function Xg(n,i){if(1&n&&(e._UZ(0,"bb-credit-limit-status-bar-ui",31),e.ALo(1,"bbToAbsoluteValue"),e.ALo(2,"bbToAbsoluteValue"),e.ALo(3,"bbToAbsoluteValue"),e.ALo(4,"bbToAbsoluteValue")),2&n){const t=e.oxw(3);e.Q6J("reserved",e.lcZ(1,5,t.account.reservedAmount))("overdue",e.lcZ(2,7,t.account.amountInArrear))("owed",e.lcZ(3,9,t.account.creditLimitUsage))("leftToSpend",e.lcZ(4,11,t.account.remainingCredit))("viewMode",t.viewMode)}}function eb(n,i){if(1&n&&e.YNc(0,Xg,5,13,"bb-credit-limit-status-bar-ui",30),2&n){const t=e.oxw(2);e.Q6J("ngIf",t.account.reservedAmount||t.account.amountInArrear||t.account.creditLimitUsage||t.account.remainingCredit)}}function tb(n,i){if(1&n&&(e.ynx(0),e.YNc(1,kg,11,11,"ng-container",1),e.YNc(2,Qg,10,11,"ng-template",null,2,e.W1O),e.YNc(4,Vg,1,1,"ng-template",null,3,e.W1O),e.YNc(6,jg,1,1,"ng-template",null,4,e.W1O),e.YNc(8,eb,1,1,"ng-template",null,5,e.W1O),e.BQk()),2&n){const t=e.MAs(3),o=e.oxw();e.xp6(1),e.Q6J("ngIf","emptied"===o.viewMode)("ngIfElse",t)}}function nb(n,i){if(1&n&&(e.TgZ(0,"div",12),e._UZ(1,"bb-payment-card-ui",13),e.ALo(2,"bbGetAccountNumberFormat"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("paymentCard",t.getPaymentCardConfiguration())("paymentCardNumberFormat",e.lcZ(2,2,"cardNumber"))}}function ob(n,i){1&n&&e._UZ(0,"div",14)}const wa=function(n){return{"bb-stack__item--fill":n}};function ib(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).repayButtonClicked()}),e._UZ(1,"bb-icon-ui",21),e.TgZ(2,"span"),e.SDv(3,22),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(1,wa,"mobile"===t.responsiveView))}}function ab(n,i){1&n&&e._UZ(0,"div",23)}function _b(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).cashAdvanceButtonClicked()}),e._UZ(1,"bb-icon-ui",25),e.TgZ(2,"span"),e.SDv(3,26),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(1,wa,"mobile"===t.responsiveView))}}const sb=function(n){return{"bb-stack--density-none":n}};function rb(n,i){if(1&n&&(e.TgZ(0,"div",15)(1,"div",16),e.YNc(2,ib,4,3,"button",17),e.YNc(3,ab,1,0,"div",18),e.YNc(4,_b,4,3,"button",19),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(4,sb,"mobile"===t.responsiveView)),e.xp6(1),e.Q6J("ngIf",t.canRepay),e.xp6(1),e.Q6J("ngIf",t.canRepay&&t.canCashInAdvance),e.xp6(1),e.Q6J("ngIf",t.canCashInAdvance)}}function cb(n,i){if(1&n&&(e.TgZ(0,"div",27),e._UZ(1,"bb-credit-limit-minimum-payment",28),e.ALo(2,"bbToAbsoluteValue"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("minimumPayment",e.lcZ(2,4,null==t.account?null:t.account.minimumPayment))("minimumPaymentDueDate",null==t.account?null:t.account.minimumPaymentDueDate)("currency",null==t.account?null:t.account.currency)("useShortCurrency",t.useShortCurrency)}}const lb=function(n,i,t){return{"bb-stack__item--spacing-none":n,"bb-block bb-block--xl":i,"bb-account-graphical-header__title--input-mode":t}};let ka=(()=>{class n{transform(t){return{number:(null==t?void 0:t.number)||"",expirationDate:(null==t?void 0:t.expiryDate)?new Date(t.expiryDate):void 0,name:"",vendor:"",cardName:""}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"bbToPaymentCardData",type:n,pure:!0}),n})(),co=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez]]}),n})(),Ka=(()=>{class n{transform(t,o){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"bbCastAccountProperty",type:n,pure:!0}),n})(),lo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez]]}),n})(),Fa=(()=>{class n{constructor(){this.localisationByUnit={day:"day(s)",week:"week(s)",month:"month(s)",year:"year(s)"}}get unitLabel(){switch(this.unit){case"D":return this.localisationByUnit.day;case"W":return this.localisationByUnit.week;case"M":return this.localisationByUnit.month;case"Y":return this.localisationByUnit.year;default:return""}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-account-info-frequency"]],inputs:{value:"value",unit:"unit"},decls:2,vars:3,consts:[["data-role","account-info-frequency",4,"ngIf"],["data-role","account-info-frequency"]],template:function(t,o){1&t&&(e.YNc(0,Sm,2,2,"span",0),e.ALo(1,"bbIsDefined")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,o.value))},directives:[r.O5],pipes:[nn],encapsulation:2,changeDetection:0}),n})();const ub=[Xe];let uo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,...ub],Xe]}),n})();var d=(()=>{return(n=d||(d={})).ACCOUNT_NUMBER="ACCOUNT_NUMBER",n.ACCOUNT_STATE="ACCOUNT_STATE",n.AMOUNT="AMOUNT",n.DATE="DATE",n.DEBIT_CARDS="DEBIT_CARDS",n.FREQUENCY="FREQUENCY",n.NUMBER="NUMBER",n.PERCENT="PERCENT",n.RENEWAL_STATUS="RENEWAL_STATUS",n.TEXT="TEXT",n.UPDATE_TIME="UPDATE_TIME",d;var n})();const Ao=n=>{const i=(n=>{const i=Kn(n);return i===Q.CREDIT_CARD||i===Q.DEBIT_CARD})(n);return i&&"number"in n?"cardNumber":"IBAN"in n?"iban":"BBAN"in n||i?"bban":"cardNumber"};let db=(()=>{class n{transform(t){const o=Ao(t);return"iban"===o&&"IBAN"in t?t.IBAN:"bban"===o&&"BBAN"in t?t.BBAN:"number"in t?t.number:""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"bbGetAccountNumber",type:n,pure:!0}),n})(),Ab=(()=>{class n{transform(t){return Ao(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"bbGetAccountNumberType",type:n,pure:!0}),n})(),po=(()=>{class n{constructor(){this.account={},this.unmaskable=!1,this.masked=!1,this.mask=new e.vpe,this.unmask=new e.vpe}onMask(t){this.mask.emit(t)}onUnmask(t){this.unmask.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-account-number"]],inputs:{number:"number",account:"account",type:"type",unmaskable:"unmaskable",masked:"masked"},outputs:{mask:"mask",unmask:"unmask"},decls:5,vars:9,consts:function(){let i,t,o,a,_,s,c,l,u,A;return i="Unmask",t="Mask",o=" Unmask IBAN ",a=" Unmask BBAN ",_=" Unmask number ",s=" Unmask ",c=" Mask IBAN ",l=" Mask BBAN ",u=" Mask number ",A=" Mask ",[[4,"ngTemplateOutlet","ngTemplateOutletContext"],["accountNumberTemplate",""],["data-role","account-number__number",1,"contextual-alternates-off"],[4,"ngIf"],["bbButton","","triggers","hover focus","aria-label",i,"buttonSize","sm","color","link","type","button","data-role","account-number__unmask-button",3,"bbTooltip","circle","click",4,"ngIf","ngIfElse"],["maskButton",""],["unmaskButtonTooltip",""],["maskButtonTooltip",""],["bbButton","","triggers","hover focus","aria-label",i,"buttonSize","sm","color","link","type","button","data-role","account-number__unmask-button",3,"bbTooltip","circle","click"],["name","visibility"],["bbButton","","triggers","hover focus","aria-label",t,"buttonSize","sm","color","link","type","button","data-role","account-number__mask-button",3,"bbTooltip","circle","click"],["name","visibility-off"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],o,a,_,s,c,l,u,A]},template:function(t,o){if(1&t&&(e.YNc(0,gm,1,0,"ng-container",0),e.ALo(1,"bbGetAccountNumber"),e.ALo(2,"bbGetAccountNumberType"),e.YNc(3,vm,4,5,"ng-template",null,1,e.W1O)),2&t){const a=e.MAs(4);e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(6,Um,o.number||e.lcZ(1,2,o.account),o.type||e.lcZ(2,4,o.account)))}},directives:[b.o,r.tP,r.O5,v.Hq,w.i,r.RF,r.n9,r.ED],pipes:[db,Ab,be.kU],encapsulation:2}),n})(),Ja=(()=>{class n{constructor(){this.state="",this.showActiveState=!0,this.showIcon=!0,this.showTextInResponsiveView=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-account-state-indicator"]],inputs:{state:"state",showActiveState:"showActiveState",showIcon:"showIcon",showTextInResponsiveView:"showTextInResponsiveView"},decls:6,vars:4,consts:function(){let i,t,o;return i=" Active ",t=" Inactive ",o=" Closed ",[["data-role","account-state-indicator",1,"bb-stack","bb-account-status"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngIf"],i,["data-role","account-state-indicator__inactive-icon","name","remove-circle-outline","size","sm","class","bb-stack__item bb-stack__item--spacing-xs bb-text-support",4,"ngIf"],[1,"bb-stack__item","bb-account-status__state","bb-text-semi-bold",3,"ngClass"],t,["data-role","account-state-indicator__inactive-icon","name","remove-circle-outline","size","sm",1,"bb-stack__item","bb-stack__item--spacing-xs","bb-text-support"],["data-role","account-state-indicator__closed-icon","name","cancel","size","sm","color","danger","class","bb-stack__item bb-stack__item--spacing-xs",4,"ngIf"],o,["data-role","account-state-indicator__closed-icon","name","cancel","size","sm","color","danger",1,"bb-stack__item","bb-stack__item--spacing-xs"],[1,"bb-stack__item","bb-account-status__state","bb-text-semi-bold"]]},template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.ynx(1,1),e.YNc(2,Pm,2,1,"ng-container",2),e.YNc(3,xm,4,4,"ng-container",2),e.YNc(4,wm,4,4,"ng-container",2),e.YNc(5,km,3,1,"ng-container",3),e.BQk(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngSwitch",o.state.toLowerCase()),e.xp6(1),e.Q6J("ngSwitchCase","active"),e.xp6(1),e.Q6J("ngSwitchCase","inactive"),e.xp6(1),e.Q6J("ngSwitchCase","closed"))},directives:[b.o,r.RF,r.n9,r.O5,r.mk,r.ED],encapsulation:2}),n})(),Wa=(()=>{class n{constructor(){this.isRenewalAllowed=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-account-info-renewal-status"]],inputs:{isRenewalAllowed:"isRenewalAllowed"},decls:3,vars:2,consts:function(){let i,t;return i=" Automatic Renewal ",t=" No Automatic Renewal ",[[4,"ngIf","ngIfElse"],["noAutomaticRenewal",""],["data-role","account-info-renewal-status"],i,t]},template:function(t,o){if(1&t&&(e.YNc(0,Km,3,0,"ng-container",0),e.YNc(1,Fm,2,0,"ng-template",null,1,e.W1O)),2&t){const a=e.MAs(2);e.Q6J("ngIf",o.isRenewalAllowed)("ngIfElse",a)}},directives:[r.O5],encapsulation:2,changeDetection:0}),n})(),Za=(()=>{class n{constructor(t){this.accountsDisplayingFormatService=t}transform(t){const o="object"==typeof t?Ao(t):t,a=this.accountsDisplayingFormatService.getDefaultFormat(o);return Object.assign({length:0,maskRange:[0,0]},a)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(be.Le,16))},n.\u0275pipe=e.Yjl({name:"bbGetAccountNumberFormat",type:n,pure:!0}),n})(),Ha=(()=>{class n{constructor(){this.currencyFormat="code",this.dateFormat="longDate",this.isMaskable=!1,this.isMasked=!1,this.masked=new e.vpe,this.propertyType=d}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-account-info-property"]],inputs:{account:"account",property:"property",currencyFormat:"currencyFormat",dateFormat:"dateFormat",isMaskable:"isMaskable",isMasked:"isMasked"},outputs:{masked:"masked"},decls:41,vars:15,consts:function(){let i;return i="Toggle tooltip for " + "\ufffd0\ufffd" + "",[[1,"bb-account-details-item","bb-stack__item","bb-stack__item--fill"],["class","bb-block bb-block--sm bb-stack bb-stack--density-sm",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["accountNumberValue",""],["accountStateValue",""],["amountOrPercentValue",""],["amountValue",""],["dateValue",""],["debitCardsValue",""],["termValue",""],["numberOrPercentValue",""],["numberValue",""],["percentValue",""],["renewalStatus",""],["textValue",""],["updateTimeValue",""],[1,"bb-block","bb-block--sm","bb-stack","bb-stack--density-sm"],[1,"bb-stack__item","bb-text-bold"],["class","bb-stack__item bb-text-support","data-role","toggle-tooltip-icon","tabindex","0","name","info","size","sm","triggers","focus hover",3,"aria-label","bbTooltip",4,"ngIf"],["data-role","toggle-tooltip-icon","tabindex","0","name","info","size","sm","triggers","focus hover",1,"bb-stack__item","bb-text-support",3,"bbTooltip",6,"aria-label"],["aria-label",i],[4,"ngTemplateOutlet"],[4,"ngIf"],["aria-live","assertive"],[3,"type","number","unmaskable","masked","unmask","mask"],[3,"state","showIcon",4,"ngIf"],[3,"state","showIcon"],[4,"ngIf","ngIfElse"],[3,"amount","currency","mapCurrency",4,"ngIf"],[3,"amount","currency","mapCurrency"],[1,"bb-stack","bb-stack--density-xl","bb-stack--wrap"],["class","bb-stack__item bb-block bb-block--md",3,"paymentCard","paymentCardNumberFormat",4,"ngFor","ngForOf"],[1,"bb-stack__item","bb-block","bb-block--md",3,"paymentCard","paymentCardNumberFormat"],[3,"value","unit"],[3,"amount","decimalPlaces",4,"ngIf"],[3,"amount","decimalPlaces"],[3,"amount","showPercent",4,"ngIf"],[3,"amount","showPercent"],[3,"isRenewalAllowed"]]},template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Wm,4,3,"div",1),e.TgZ(2,"div"),e.ynx(3,2),e.YNc(4,Hm,2,1,"ng-container",3),e.YNc(5,zm,2,1,"ng-container",3),e.YNc(6,$m,2,1,"ng-container",3),e.YNc(7,qm,2,1,"ng-container",3),e.YNc(8,Xm,2,1,"ng-container",3),e.YNc(9,tS,2,1,"ng-container",3),e.YNc(10,oS,2,1,"ng-container",3),e.YNc(11,aS,2,1,"ng-container",3),e.YNc(12,sS,2,1,"ng-container",3),e.YNc(13,cS,2,1,"ng-container",3),e.YNc(14,uS,2,1,"ng-container",3),e.BQk(),e.qZA()(),e.YNc(15,AS,2,4,"ng-template",null,4,e.W1O),e.YNc(17,SS,2,4,"ng-template",null,5,e.W1O),e.YNc(19,TS,2,4,"ng-template",null,6,e.W1O),e.YNc(21,fS,2,4,"ng-template",null,7,e.W1O),e.YNc(23,hS,2,4,"ng-template",null,8,e.W1O),e.YNc(25,DS,2,4,"ng-template",null,9,e.W1O),e.YNc(27,yS,2,4,"ng-template",null,10,e.W1O),e.YNc(29,PS,2,4,"ng-template",null,11,e.W1O),e.YNc(31,GS,2,4,"ng-template",null,12,e.W1O),e.YNc(33,KS,2,4,"ng-template",null,13,e.W1O),e.YNc(35,JS,2,4,"ng-template",null,14,e.W1O),e.YNc(37,ZS,2,4,"ng-template",null,15,e.W1O),e.YNc(39,YS,2,4,"ng-template",null,16,e.W1O)),2&t&&(e.uIk("data-role","account-info-property-"+(null==o.property?null:o.property.key)),e.xp6(1),e.Q6J("ngIf",null==o.property?null:o.property.label),e.xp6(1),e.uIk("data-role","account-info-property-"+(null==o.property?null:o.property.key)+"-value"),e.xp6(1),e.Q6J("ngSwitch",null==o.property?null:o.property.type),e.xp6(1),e.Q6J("ngSwitchCase",o.propertyType.ACCOUNT_NUMBER),e.xp6(1),e.Q6J("ngSwitchCase",o.propertyType.ACCOUNT_STATE),e.xp6(1),e.Q6J("ngSwitchCase",o.propertyType.AMOUNT),e.xp6(1),e.Q6J("ngSwitchCase",o.propertyType.DATE),e.xp6(1),e.Q6J("ngSwitchCase",o.propertyType.DEBIT_CARDS),e.xp6(1),e.Q6J("ngSwitchCase",o.propertyType.FREQUENCY),e.xp6(1),e.Q6J("ngSwitchCase",o.propertyType.NUMBER),e.xp6(1),e.Q6J("ngSwitchCase",o.propertyType.PERCENT),e.xp6(1),e.Q6J("ngSwitchCase",o.propertyType.RENEWAL_STATUS),e.xp6(1),e.Q6J("ngSwitchCase",o.propertyType.TEXT),e.xp6(1),e.Q6J("ngSwitchCase",o.propertyType.UPDATE_TIME))},directives:[b.o,po,Ja,f.G4,Ee.u,Fa,Wa,r.O5,w.i,r.RF,r.n9,r.tP,r.sg],pipes:[Ka,ya,lm,z.y,ka,Za,Da,Ra,cm],encapsulation:2,changeDetection:0}),n})(),mo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez]]}),n})(),So=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),go=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();const pb=[be.cY,So,go],mb=[v.hJ,b.Q,w.z];let on=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,...pb,...mb],be.cY,So,go]}),n})();const Sb=[b.Q];let bo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,...Sb],b.Q]}),n})(),an=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();const gb=[uo,f.i7,w.z,z.G,Ee.w,mo,b.Q,on,bo],bb=[lo,io,an,oo,to,co,eo,ro,ao];let Eo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,...gb,...bb],uo,f.i7,w.z,z.G,Ee.w,mo,b.Q,on,bo,lo,io,an,oo,to,co,eo,ro,ao]}),n})(),Ya=(()=>{class n{constructor(){this.size="md",this.isImageLoadingFailed=!1}getProductKindIconColor(){const t=this.getProductKindIconName().slice(0,-1);return"account"===t?"current-account":t}getProductKindIconName(){return Object.values(Q).includes(this.productKindUri)?`${this.productKindUri}s`:"accounts"}onImageLoadingError(){this.isImageLoadingFailed=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-account-logo"]],inputs:{logoUrl:"logoUrl",productKindUri:"productKindUri",color:"color",size:"size"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["productKindIcon",""],["data-role","product-summary-account-logo-img","aria-hidden","true","alt","",1,"bb-product-summary-account-logo__img","bb-icon__background--square",3,"src","error"],["data-role","product-summary-account-logo-icon","backgroundType","square",3,"size","color","name"]],template:function(t,o){if(1&t&&(e.YNc(0,zS,3,4,"ng-container",0),e.YNc(1,QS,1,3,"ng-template",null,1,e.W1O)),2&t){const a=e.MAs(2);e.Q6J("ngIf",o.logoUrl&&!o.isImageLoadingFailed)("ngIfElse",a)}},directives:[b.o,r.O5],encapsulation:2}),n})();const Tb=[b.Q];let To=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,...Tb],b.Q]}),n})(),za=(()=>{class n{constructor(){this.contentRef="",this.title="",this.isAmountColored=!1,this.useShortCurrency=!0,this.responsiveView="screen"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-credit-limit-attribute"]],viewQuery:function(t,o){if(1&t&&e.Gf($S,5),2&t){let a;e.iGM(a=e.CRH())&&(o.contentRef=a.first)}},inputs:{title:"title",color:"color",currency:"currency",amount:"amount",isAmountColored:"isAmountColored",useShortCurrency:"useShortCurrency",responsiveView:"responsiveView"},ngContentSelectors:ng,decls:8,vars:14,consts:[[3,"ngClass"],[1,"bb-text-support","bb-subtitle",3,"ngClass"],[3,"class",4,"ngIf"],["data-role","credit-limit-attribute-title"],["data-role","credit-limit-attribute-value",3,"class","bb-credit-limit-attribute__value","ngClass","currency","amount","mapCurrency",4,"ngIf"],["data-role","credit-limit-attribute-value",3,"ngClass","currency","amount","mapCurrency"]],template:function(t,o){1&t&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,VS,1,3,"div",2),e.TgZ(3,"span",3),e._uU(4),e.qZA()(),e.TgZ(5,"div",0),e.YNc(6,jS,1,11,"bb-amount-ui",4),e.Hsn(7,0,["#contentRef",""]),e.qZA()()),2&t&&(e.Q6J("ngClass",e.WLB(6,XS,"tablet"===o.responsiveView||"mobile"===o.responsiveView,"mobile"===o.responsiveView)),e.xp6(1),e.Q6J("ngClass",e.WLB(9,eg,"screen"===o.responsiveView,"tablet"===o.responsiveView||"mobile"===o.responsiveView)),e.xp6(1),e.Q6J("ngIf",o.color),e.xp6(2),e.Oqu(o.title),e.xp6(1),e.Q6J("ngClass",e.VKq(12,tg,"tablet"===o.responsiveView||"mobile"===o.responsiveView)),e.xp6(1),e.Q6J("ngIf",!o.contentRef&&o.amount&&o.currency))},directives:[f.G4,r.mk,r.O5],encapsulation:2}),n})(),Qa=(()=>{class n{constructor(){this.useShortCurrency=!0,this.responsiveView="screen"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-credit-limit-minimum-payment"]],inputs:{minimumPayment:"minimumPayment",minimumPaymentDueDate:"minimumPaymentDueDate",currency:"currency",useShortCurrency:"useShortCurrency",responsiveView:"responsiveView"},decls:4,vars:6,consts:function(){let i,t;return i="Minimum Payment",t=" due ",[["data-role","credit-limit-minimum-payment","title",i,1,"bb-text-align-right--md-up",3,"responsiveView"],["data-role","credit-limit-minimum-payment-value",1,"bb-stack","bb-stack--wrap","bb-stack--density-xs","bb-text-semi-bold",3,"ngClass"],["class","bb-stack__item",3,"currency","amount","mapCurrency",4,"ngIf"],[4,"ngIf"],[1,"bb-stack__item",3,"currency","amount","mapCurrency"],[1,"bb-stack__break","bb-stack__break--xs-down"],[1,"bb-stack__item"],t]},template:function(t,o){1&t&&(e.TgZ(0,"bb-credit-limit-attribute",0)(1,"div",1),e.YNc(2,og,1,3,"bb-amount-ui",2),e.YNc(3,ig,7,3,"ng-container",3),e.qZA()()),2&t&&(e.Q6J("responsiveView",o.responsiveView),e.xp6(1),e.Q6J("ngClass",e.VKq(4,ag,"mobile"===o.responsiveView||"tablet"===o.responsiveView)),e.xp6(1),e.Q6J("ngIf",o.currency&&o.minimumPayment),e.xp6(1),e.Q6J("ngIf",o.minimumPaymentDueDate))},directives:[za,f.G4,r.mk,r.O5],pipes:[z.y],encapsulation:2,changeDetection:0}),n})();const Cb=[f.i7];let _n=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,...Cb],f.i7]}),n})();const Nb=[f.i7,z.G,_n];let Co=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,...Nb],f.i7,z.G,_n]}),n})(),fb=(()=>{class n{constructor(){this.viewMode="emptied"}get valueAriaLabels(){return{reservedValue:"Reserved " + this.formatNumberForReading(this.reservedPercent) + "%",overdueValue:"Overdue " + this.formatNumberForReading(this.overduePercent) + "%",owedValue:"Owed " + this.formatNumberForReading(this.owedPercent) + "%",leftToSpendValue:"Left to spend " + this.formatNumberForReading(this.leftToSpendPercent) + "%"}}get reservedWidth(){return this.reservedPercent>0?`${this.reservedPercent}%`:"0"}get overdueWidth(){const t=new me(this.overduePercent).plus(this.reservedPercent).toNumber();return this.overduePercent>0?`${t}%`:"0"}get owedWidth(){const t=this.toValidValue(this.owed),o=new me(this.owedPercent).plus(this.overduePercent).plus(this.reservedPercent).toNumber();return"emptied"===this.viewMode?0!==t?"100%":"0":0!==t?`${o}%`:"0"}get leftToSpendWidth(){const t=this.toValidValue(this.leftToSpend),o=new me(this.leftToSpendPercent).plus(this.overduePercent).plus(this.reservedPercent).toNumber();return"emptied"===this.viewMode?0!==t?`${o}%`:"0":0!==t?"100%":"0"}get overdueMinSize(){return this.toValidValue(this.reserved)>0?"md":"sm"}get primaryMinSize(){const t=this.toValidValue(this.reserved),o=this.toValidValue(this.overdue);return t>0&&o>0?"lg":t>0||o>0?"md":"sm"}get reservedPercent(){return this.getPercentageOfLimit(this.reserved)}get overduePercent(){return this.getPercentageOfLimit(this.overdue)}get owedPercent(){return this.getPercentageOfLimit(this.owed)}get leftToSpendPercent(){return this.getPercentageOfLimit(this.leftToSpend)}formatNumberForReading(t,o=2){var a;const _=new me(t);return null!==(a=_.decimalPlaces())&&void 0!==a&&a?_.toFormat(o):t.toString()}getPercentageOfLimit(t){const o=this.toValidValue(t);return 0!==o?new me(o).dividedBy(this.limit).multipliedBy(100).toNumber():0}get limit(){const t=this.toValidValue(this.reserved),o=this.toValidValue(this.overdue),a=this.toValidValue(this.owed),_=this.toValidValue(this.leftToSpend);return new me(t).plus(o).plus(a).plus(_).toNumber()}toValidValue(t){return void 0===t||Number.isNaN(t)?0:Math.abs(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-credit-limit-status-bar-ui"]],inputs:{viewMode:"viewMode",reserved:"reserved",overdue:"overdue",owed:"owed",leftToSpend:"leftToSpend"},decls:10,vars:8,consts:function(){let i;return i="Credit limit status bar",[[1,"bb-credit-limit-status-bar"],["data-role","title","aria-label",i,1,"sr-only"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["owedValue",""],["leftToSpendValue",""],["data-role","overdue-value",3,"width","class",4,"ngIf"],["class","bb-credit-limit-status-bar__value bb-credit-limit-status-bar__value--sm bb-credit-limit__color--warning","data-role","reserved-value",3,"width",4,"ngIf"],["data-role","owed-value",3,"width","class",4,"ngIf"],["data-role","owed-value"],["data-role","left-to-spend-value",3,"width","class",4,"ngIf"],["data-role","left-to-spend-value"],["data-role","overdue-value"],["data-role","reserved-value",1,"bb-credit-limit-status-bar__value","bb-credit-limit-status-bar__value--sm","bb-credit-limit__color--warning"]]},template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"span",1),e.YNc(2,_g,1,0,"ng-container",2),e.YNc(3,sg,1,0,"ng-container",2),e.YNc(4,cg,1,1,"ng-template",null,3,e.W1O),e.YNc(6,ug,1,1,"ng-template",null,4,e.W1O),e.YNc(8,dg,1,6,"div",5),e.YNc(9,Ag,1,3,"div",6),e.qZA()),2&t){const a=e.MAs(5),_=e.MAs(7);e.xp6(2),e.Q6J("ngTemplateOutlet","emptied"===o.viewMode?a:_)("ngTemplateOutletContext",e.DdM(6,pg)),e.xp6(1),e.Q6J("ngTemplateOutlet","emptied"===o.viewMode?_:a)("ngTemplateOutletContext",e.DdM(7,mg)),e.xp6(5),e.Q6J("ngIf",o.overdue),e.xp6(1),e.Q6J("ngIf",o.reserved)}},directives:[r.tP,r.O5],encapsulation:2,changeDetection:0}),n})(),No=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez]]}),n})(),Ib=(()=>{class n{transform(t){return t?Kn(t):void 0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"bbGetProductKind",type:n,pure:!0}),n})(),Bt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),hb=(()=>{class n{transform(t,o){if(t&&o){const a=Kn(t);return Array.isArray(o)?o.includes(a):a===o}return!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"bbIsProductKind",type:n,pure:!0}),n})(),$a=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var Be=(()=>{return(n=Be||(Be={})).ACCOUNT="ACCOUNT",n.USER="USER",Be;var n})();let Va=(()=>{class n{constructor(){this.aliasHintsLocalization={ACCOUNT:"This is visible to the whole company",USER:"This is only visible to you"},this.canEditAlias=!1,this.aliasLevel=Be.USER,this.showBalance=!0,this.showBalanceType=!0,this.showLogo=!0,this.useShortCurrency=!1,this.showExternalInfo=!1,this.aliasUpdated=new e.vpe,this.displayName="",this.isConfirmationModalVisible=!1,this.aliasMaxLength=50,this.confirmationModalOptions={centered:!0,backdrop:"static"},this.defaultExternalTitle="External account"}set account(t){this.setDisplayName((null==t?void 0:t.displayName)||""),this._account=t}get account(){return this._account}get isViewMode(){var t;return!0!==(null===(t=this.accountAliasEditor)||void 0===t?void 0:t.editMode)}onAliasEditRequested(t){var o;""===t?this.updateAlias(t):t!==(null===(o=this._account)||void 0===o?void 0:o.displayName)&&(this.displayName=t,this.aliasLevel===Be.USER&&this.updateAlias(this.displayName),this.aliasLevel===Be.ACCOUNT&&(this.isConfirmationModalVisible=!0))}onAliasEditConfirmed(){this.updateAlias(this.displayName)}onAliasEditDiscarded(){var t;this.closeConfirmationModal(),this.setDisplayName((null===(t=this.account)||void 0===t?void 0:t.displayName)||"")}closeConfirmationModal(){this.isConfirmationModalVisible=!1}setDisplayName(t){var o;this.displayName=t,this.accountAliasEditor&&(this.accountAliasEditor.writeValue(this.displayName),null===(o=this.accountAliasEditor.vForm)||void 0===o||o.controls.inputInline.setValue(this.displayName))}updateAlias(t){this.aliasUpdated.emit(t),this.closeConfirmationModal()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-account-header"]],viewQuery:function(t,o){if(1&t&&e.Gf(Sg,5),2&t){let a;e.iGM(a=e.CRH())&&(o.accountAliasEditor=a.first)}},inputs:{account:"account",canEditAlias:"canEditAlias",aliasLevel:"aliasLevel",showBalance:"showBalance",showBalanceType:"showBalanceType",showLogo:"showLogo",useShortCurrency:"useShortCurrency",showExternalInfo:"showExternalInfo",externalTitle:"externalTitle",externalLogo:"externalLogo"},outputs:{aliasUpdated:"aliasUpdated"},decls:6,vars:3,consts:function(){let i,t,o,a,_,s;return i="This alias will be visible to users who have access to this account",t="Continue",o="Cancel",a="Edit alias for " + "\ufffd0\ufffd" + "",_=" Available balance ",s=" Are you sure to change the account alias? ",[[4,"ngIf"],["data-role","account-header-modal",3,"isOpen","modalOptions","cancel","confirm"],["title",i],["bbCustomModalBody",""],["confirmText",t,"cancelText",o],["data-role","account-header",1,"bb-account-header","bb-stack","bb-stack--wrap","bb-stack--align-top"],[1,"bb-stack__item","bb-stack__item--fill","bb-stack"],[1,"bb-stack__item","bb-stack__item--fill"],["data-role","account-header-title",1,"bb-account-header__title",3,"ngClass"],["data-role","account-header-external-account-name",4,"ngIf"],[3,"ariaLabelEdit","inputText","maxLength","required","hint","accept",4,"ngIf","ngIfElse"],["staticAccountAlias",""],["class","bb-text-support bb-subtitle","data-role","account-header-number",3,"account",4,"ngIf"],["class","bb-stack__break bb-stack__break--sm-down bb-block bb-block--md",4,"ngIf"],["class","bb-stack__item text-right bb-stack__item--push-right","data-role","account-header-balance",4,"ngIf"],["class","bb-stack__item","data-role","account-header-logo","color","secondary","size","md",3,"logoUrl","productKindUri",4,"ngIf"],["data-role","account-header-logo","color","secondary","size","md",1,"bb-stack__item",3,"logoUrl","productKindUri"],["data-role","account-header-external-account-name"],[1,"bb-text-support","bb-subtitle","bb-text-bold"],[3,"inputText","maxLength","required","hint","accept",6,"ariaLabelEdit"],["accountAliasEditor",""],["ariaLabelEdit",a],["data-role","account-header-number",1,"bb-text-support","bb-subtitle",3,"account"],[1,"bb-stack__break","bb-stack__break--sm-down","bb-block","bb-block--md"],["data-role","account-header-balance",1,"bb-stack__item","text-right","bb-stack__item--push-right"],["class","bb-block bb-block--sm bb-text-support bb-subtitle","data-role","account-header-balance-label",4,"ngIf"],["data-role","account-header-balance-value",3,"ngClass","currency","amount","mapCurrency",4,"ngIf"],["data-role","account-header-balance-label",1,"bb-block","bb-block--sm","bb-text-support","bb-subtitle"],_,["data-role","account-header-balance-value",3,"ngClass","currency","amount","mapCurrency"],s]},template:function(t,o){1&t&&(e.YNc(0,Mg,15,16,"ng-container",0),e.TgZ(1,"bb-modal-ui",1),e.NdJ("cancel",function(){return o.onAliasEditDiscarded()})("confirm",function(){return o.onAliasEditConfirmed()}),e._UZ(2,"bb-modal-header-ui",2),e.TgZ(3,"bb-modal-body-ui"),e.YNc(4,yg,2,0,"ng-template",3),e.qZA(),e._UZ(5,"bb-modal-footer-ui",4),e.qZA()),2&t&&(e.Q6J("ngIf",o.account),e.xp6(1),e.Q6J("isOpen",o.isConfirmationModalVisible)("modalOptions",o.confirmationModalOptions))},directives:[Ya,Me.Oj,po,f.G4,H.zS,H.Rb,H.KF,H.YI,r.O5,r.mk,H.Qd],pipes:[Ib,nn],encapsulation:2}),n})();const Ob=[b.Q,Me.Ne,f.i7,H.zk,on,To,Xe,Bt],Rb=[Bt];let sn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,...Rb,...Ob],Bt,b.Q,Me.Ne,f.i7,H.zk,on,To,Xe,Bt]}),n})(),Db=(()=>{class n extends Pa{constructor(t,o){super(t,o),this.viewMode="emptied",this.showMinimumPayment=!0,this.useShortCurrency=!0,this.localization={owed:"Owed",reserved:"Reserved",overdue:"Overdue",leftToSpend:"Left to Spend",minimumPayment:"Minimum Payment",of:"of"}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-credit-limit"]],inputs:{account:"account",viewMode:"viewMode",showMinimumPayment:"showMinimumPayment",useShortCurrency:"useShortCurrency"},features:[e.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["filledTemplate",""],["overdueAttribute",""],["reservedAttribute",""],["creditLimitStatusBar",""],["data-role","credit-limit-emptied-mode-header",1,"bb-block","bb-block--md"],["data-role","credit-limit-left-to-spend","color","primary",3,"title",4,"ngIf"],[1,"bb-block","bb-block--md"],[4,"ngTemplateOutlet"],[3,"ngClass"],["data-role","credit-limit-owed","color","secondary",3,"bb-stack__item","title","currency","amount","useShortCurrency","responsiveView",4,"ngIf"],["data-role","credit-limit-left-to-spend","color","primary",3,"title"],["data-role","credit-limit-left-to-spend-value",1,"bb-stack","bb-stack--density-xs"],[1,"bb-stack__item","bb-heading-3",3,"currency","amount","mapCurrency"],[1,"bb-stack__item","bb-text-support","bb-subtitle"],[1,"bb-stack__item","bb-text-support","bb-subtitle",3,"currency","amount","mapCurrency"],["data-role","credit-limit-owed","color","secondary",3,"title","currency","amount","useShortCurrency","responsiveView"],["class","bb-block bb-block--lg",4,"ngIf"],[3,"minimumPayment","minimumPaymentDueDate","currency","useShortCurrency","responsiveView"],[1,"bb-block","bb-block--lg"],["data-role","credit-limit-filled-mode-header",1,"bb-block","bb-block--md"],["data-role","credit-limit-owed","color","primary",3,"title",4,"ngIf"],["data-role","credit-limit-left-to-spend","color","secondary",3,"bb-stack__item","title","currency","amount","useShortCurrency","responsiveView",4,"ngIf"],["data-role","credit-limit-owed","color","primary",3,"title"],["data-role","credit-limit-owed-value",1,"bb-stack","bb-stack--density-xs"],["data-role","credit-limit-left-to-spend","color","secondary",3,"title","currency","amount","useShortCurrency","responsiveView"],[3,"ngClass",4,"ngIf"],["data-role","credit-limit-overdue","color","danger",3,"title","currency","amount","isAmountColored","useShortCurrency","responsiveView"],["data-role","credit-limit-reserved","color","warning",3,"title","currency","amount","useShortCurrency","responsiveView"],["aria-hidden","true","data-role","credit-limit-status-bar",3,"reserved","overdue","owed","leftToSpend","viewMode",4,"ngIf"],["aria-hidden","true","data-role","credit-limit-status-bar",3,"reserved","overdue","owed","leftToSpend","viewMode"]],template:function(t,o){1&t&&e.YNc(0,tb,10,2,"ng-container",0),2&t&&e.Q6J("ngIf",o.account)},directives:[za,f.G4,Qa,fb,r.O5,r.tP,r.mk],pipes:[nn,va],encapsulation:2}),n})(),qa=(()=>{class n extends Pa{constructor(t,o){super(t,o),this.aliasLevel=Be.USER,this.canEditAlias=!1,this.useShortCurrency=!0,this.creditLimitViewMode="emptied",this.canRepay=!1,this.canCashInAdvance=!1,this.creditCardBackgroundType="black-card",this.isLogoVisible=!1,this.showExternalInfo=!1,this.aliasUpdated=new e.vpe,this.repayInitiated=new e.vpe,this.cashAdvanceInitiated=new e.vpe}getPaymentCardConfiguration(){var t,o,a,_,s,c,l,u,A;return{number:null!==(o=null===(t=this.account)||void 0===t?void 0:t.number)&&void 0!==o?o:"",vendor:null!==(s=null===(_=null===(a=this.account)||void 0===a?void 0:a.cardDetails)||void 0===_?void 0:_.cardProvider)&&void 0!==s?s:"",name:null!==(l=null===(c=this.account)||void 0===c?void 0:c.accountHolderNames)&&void 0!==l?l:"",expirationDate:(null===(u=this.account)||void 0===u?void 0:u.validThru)?new Date(null===(A=this.account)||void 0===A?void 0:A.validThru):void 0,cardName:this.creditCardBackgroundType}}repayButtonClicked(){this.repayInitiated.emit(this.getArrangementId())}cashAdvanceButtonClicked(){this.cashAdvanceInitiated.emit(this.getArrangementId())}getArrangementId(){var t;return null===(t=this.account)||void 0===t?void 0:t.id}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-account-graphical-header"]],inputs:{account:"account",aliasLevel:"aliasLevel",canEditAlias:"canEditAlias",useShortCurrency:"useShortCurrency",creditLimitViewMode:"creditLimitViewMode",canRepay:"canRepay",canCashInAdvance:"canCashInAdvance",creditCardBackgroundType:"creditCardBackgroundType",isLogoVisible:"isLogoVisible",showExternalInfo:"showExternalInfo",externalTitle:"externalTitle",externalLogo:"externalLogo"},outputs:{aliasUpdated:"aliasUpdated",repayInitiated:"repayInitiated",cashAdvanceInitiated:"cashAdvanceInitiated"},features:[e.qOj],decls:13,vars:22,consts:function(){let i,t;return i="Repay",t="Cash advance",[["data-role","account-graphical-header",1,"bb-account-graphical-header"],[1,"bb-stack","bb-stack--align-top"],[1,"bb-stack__item","bb-stack__item--fill","bb-stack__item--spacing-xl"],[1,"bb-account-graphical-header__title",3,"ngClass"],["data-role","bb-account-graphical-header-account-header",3,"account","aliasLevel","canEditAlias","showBalance","showLogo","showExternalInfo","externalTitle","externalLogo","aliasUpdated"],["accountHeader",""],["data-role","bb-account-graphical-header-credit-limit",3,"account","viewMode","showMinimumPayment","useShortCurrency","responsiveView"],["class","bb-stack__item",4,"ngIf"],["class","bb-block bb-block--lg",4,"ngIf"],[1,"bb-stack","bb-stack--align-bottom"],["class","bb-stack_item bb-stack__item--fill",4,"ngIf"],["class","bb-stack_item bb-stack__item--push-right",4,"ngIf"],[1,"bb-stack__item"],["data-role","bb-account-graphical-header-payment-card",3,"paymentCard","paymentCardNumberFormat"],[1,"bb-block","bb-block--lg"],[1,"bb-stack_item","bb-stack__item--fill"],[1,"bb-stack","bb-stack--wrap",3,"ngClass"],["class","bb-stack__item","bbButton","","type","button","color","primary","data-role","account-graphical-header-repay-button",3,"ngClass","click",4,"ngIf"],["class","bb-stack__break bb-stack__break--down bb-stack__break--spacing-sm",4,"ngIf"],["class","bb-stack__item","bbButton","","type","button","color","secondary","data-role","account-graphical-header-cash-advance-button",3,"ngClass","click",4,"ngIf"],["bbButton","","type","button","color","primary","data-role","account-graphical-header-repay-button",1,"bb-stack__item",3,"ngClass","click"],["name","call-received"],i,[1,"bb-stack__break","bb-stack__break--down","bb-stack__break--spacing-sm"],["bbButton","","type","button","color","secondary","data-role","account-graphical-header-cash-advance-button",1,"bb-stack__item",3,"ngClass","click"],["name","call-made"],t,[1,"bb-stack_item","bb-stack__item--push-right"],["data-role","bb-account-graphical-header-minimum-payment",3,"minimumPayment","minimumPaymentDueDate","currency","useShortCurrency"]]},template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"bb-account-header",4,5),e.NdJ("aliasUpdated",function(_){return o.aliasUpdated.emit(_)}),e.qZA()(),e.TgZ(6,"div"),e._UZ(7,"bb-credit-limit",6),e.qZA()(),e.YNc(8,nb,3,4,"div",7),e.qZA(),e.YNc(9,ob,1,0,"div",8),e.TgZ(10,"div",9),e.YNc(11,rb,5,6,"div",10),e.YNc(12,cb,3,6,"div",11),e.qZA()()),2&t){const a=e.MAs(5);e.xp6(3),e.Q6J("ngClass",e.kEZ(18,lb,"tablet"===o.responsiveView,a.isViewMode,!a.isViewMode)),e.xp6(1),e.Q6J("account",o.account)("aliasLevel",o.aliasLevel)("canEditAlias",o.canEditAlias)("showBalance",!1)("showLogo",o.isLogoVisible)("showExternalInfo",o.showExternalInfo)("externalTitle",o.externalTitle)("externalLogo",o.externalLogo),e.xp6(3),e.Q6J("account",o.account)("viewMode",o.creditLimitViewMode)("showMinimumPayment","tablet"===o.responsiveView||"mobile"===o.responsiveView)("useShortCurrency",o.useShortCurrency)("responsiveView",o.responsiveView),e.xp6(1),e.Q6J("ngIf","screen"===o.responsiveView),e.xp6(1),e.Q6J("ngIf",o.canRepay||o.canCashInAdvance||"screen"===o.responsiveView&&(null==o.account?null:o.account.minimumPayment)),e.xp6(2),e.Q6J("ngIf",o.canRepay||o.canCashInAdvance),e.xp6(1),e.Q6J("ngIf","screen"===o.responsiveView&&(null==o.account?null:o.account.minimumPayment))}},directives:[Va,Db,Ee.u,b.o,Qa,r.mk,r.O5,v.Hq],pipes:[Za,va],encapsulation:2}),n})();const Mb=[f.i7,z.G,_n,Co,No,Xe,_o];let ja=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,...Mb],f.i7,z.G,_n,Co,No,Xe,_o]}),n})();const yb=[z.G,v.hJ,Ee.w,sn,_o,an,sn,ja];let Xa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,...yb]]}),n})();var Ze=p(5460),Ub=p(4968),rn=p(3203),Pt=p(9565),fo=p(6966),Io=p(1918),e_=p(9136);function Bb(n,i){if(1&n&&(e.TgZ(0,"div",16)(1,"label",17),e._UZ(2,"bb-icon-ui",18),e.TgZ(3,"span",19),e._uU(4),e.qZA(),e.TgZ(5,"div",20),e._UZ(6,"input",21),e.qZA()()()),2&n){const t=i.$implicit,o=e.oxw().$implicit;e.xp6(1),e.Q6J("for",o.getCategoryIconClass(t.categoryName)),e.xp6(1),e.MGl("name","category-",o.getCategoryIconClass(t.categoryName),""),e.xp6(2),e.Oqu(t.categoryName),e.xp6(2),e.Q6J("id",o.getCategoryIconClass(t.categoryName))("value",t.categoryName)}}function Pb(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"form",2),e.NdJ("ngSubmit",function(){return e.CHM(t).$implicit.changeCategory()}),e.TgZ(1,"div",3)(2,"div",4),e._UZ(3,"bb-header-ui",5),e.qZA(),e.TgZ(4,"button",6),e.NdJ("click",function(){return e.CHM(t).$implicit.cancelSaveCategory()}),e.TgZ(5,"span",7),e._uU(6,"\xd7"),e.qZA()()(),e.TgZ(7,"div",8)(8,"div",9),e.YNc(9,Bb,7,5,"div",10),e.ALo(10,"async"),e.qZA()(),e.TgZ(11,"div",11)(12,"button",12),e.NdJ("click",function(){return e.CHM(t).$implicit.cancelSaveCategory()}),e.SDv(13,13),e.qZA(),e.TgZ(14,"button",14),e.SDv(15,15),e.qZA()()()}if(2&n){const t=i.$implicit,o=e.oxw();e.Q6J("formGroup",t.changeTransactionsCategoryForm),e.xp6(9),e.Q6J("ngForOf",e.lcZ(10,3,o.categoriesList)),e.xp6(5),e.Q6J("disabled",t.transaction.category===t.changeTransactionsCategoryForm.value.categoryName)}}function Lb(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).$implicit.openTransactionsCategory()}),e.TgZ(2,"span",8),e._uU(3),e.ALo(4,"bbCapitalizePipe"),e.qZA(),e.TgZ(5,"span"),e._UZ(6,"bb-icon-ui",9),e.TgZ(7,"span",10),e.SDv(8,11),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(3),e.Oqu(e.lcZ(4,1,t.categoryTitle))}}function xb(n,i){if(1&n&&(e.TgZ(0,"div",12)(1,"span",8),e._uU(2),e.ALo(3,"titlecase"),e.qZA()()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,t.categoryTitle))}}function Gb(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Lb,9,3,"ng-container",5),e.YNc(2,xb,4,3,"ng-template",null,6,e.W1O),e.BQk()),2&n){const t=e.MAs(3),o=e.oxw().$implicit,a=e.oxw();e.xp6(1),e.Q6J("ngIf",o.transactionCategoryIcon.type===a.transactionIconType.category)("ngIfElse",t)}}const t_=function(){return{centered:!0}};function wb(n,i){if(1&n){const t=e.EpF();e.YNc(0,Gb,4,2,"ng-container",2),e.TgZ(1,"bb-modal-ui",3),e.NdJ("cancel",function(){return e.CHM(t).$implicit.closeTransactionsCategory()}),e.TgZ(2,"bb-transactions-categories",4),e.NdJ("categoryChange",function(a){return e.CHM(t).$implicit.closeTransactionsCategory(a)}),e.qZA()()}if(2&n){const t=i.$implicit;e.Q6J("ngIf",t.displayChangeCategory&&!t.transaction.isPending),e.xp6(1),e.Q6J("isOpen",t.isTransactionsCategoryOpen)("modalOptions",e.DdM(4,t_)),e.xp6(1),e.Q6J("transaction",t.transaction)}}function kb(n,i){1&n&&e.GkF(0)}function Kb(n,i){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,kb,1,0,"ng-container",11),e.qZA()),2&n){const t=e.oxw(),o=e.MAs(8);e.xp6(1),e.Q6J("ngIf",!(null==t.transaction||!t.transaction.notes))("ngIfThen",o)}}function Fb(n,i){1&n&&e.GkF(0)}function Jb(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().toggleEdit()}),e._UZ(2,"bb-icon-ui",14),e.qZA(),e.TgZ(3,"button",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().triggerDeleteNote()}),e._UZ(4,"bb-icon-ui",16),e.qZA()()}2&n&&(e.xp6(1),e.Q6J("circle",!0),e.xp6(2),e.Q6J("circle",!0))}function Wb(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleEdit(!1)}),e.SDv(1,25),e.qZA()}}function Zb(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"form",17),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return a.onSave(a.transactionNotesForm.value)}),e.TgZ(1,"div",18),e._UZ(2,"textarea",19),e.qZA(),e.TgZ(3,"div",20)(4,"bb-load-button-ui",21),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return!a.isSavingNotes&&a.onSave(a.transactionNotesForm.value)}),e.SDv(5,22),e.qZA(),e.YNc(6,Wb,2,0,"button",23),e.qZA()()}if(2&n){const t=e.oxw(),o=e.MAs(3);e.Q6J("formGroup",t.transactionNotesForm),e.xp6(2),e.uIk("aria-labelledby",null==o?null:o.id),e.xp6(2),e.Q6J("isLoading",t.isSavingNotes),e.xp6(2),e.Q6J("ngIf",!t.isSavingNotes)}}function Hb(n,i){if(1&n&&(e.TgZ(0,"span",26),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(null==t.transaction?null:t.transaction.notes)}}const Yb=function(n){return{"bb-block bb-block--xs":n}};function zb(n,i){1&n&&(e.TgZ(0,"label",28),e.SDv(1,29),e.qZA())}function Qb(n,i){1&n&&(e.TgZ(0,"label",30),e.SDv(1,31),e.qZA())}function $b(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw().$implicit.showReportForm(!0)}),e._UZ(2,"bb-icon-ui",33),e.qZA(),e.TgZ(3,"div",13)(4,"label",34),e.SDv(5,35),e.qZA()()()}2&n&&(e.xp6(1),e.Q6J("circle",!0))}function Vb(n,i){1&n&&e._UZ(0,"bb-alert-ui",37)}function qb(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Vb,1,0,"bb-alert-ui",36),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","inquire"===t.savedReportType)}}function jb(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"bb-transactions-inquiry-dispute",38),e.NdJ("messageChange",function(a){return e.CHM(t),e.oxw().$implicit.message=a})("submitReport",function(a){return e.CHM(t),e.oxw().$implicit.saveReport(a)})("cancelReport",function(){return e.CHM(t),e.oxw().$implicit.cancelReport()})("fileChange",function(a){return e.CHM(t),e.oxw().$implicit.fileChange(a)})("fileRemoved",function(a){return e.CHM(t),e.oxw().$implicit.fileRemoved(a)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("message",t.message)("enableDispute",t.transactionDetailsLoadingStatus.disputeOption===t.loadingStateEnum.done&&("UNDISPUTED"===t.transaction.disputeStatus||"REJECTED"===t.transaction.disputeStatus||!t.transaction.disputeStatus))("state",t.reportState)("inquireAndDisputeTopics",t.inquireAndDisputeTopics)}}function Xb(n,i){if(1&n&&(e.TgZ(0,"div",39)(1,"div",40),e.SDv(2,41),e.qZA(),e.TgZ(3,"div",42),e._uU(4),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",null==t.transaction?null:t.transaction.type," ")}}function eE(n,i){if(1&n&&(e.TgZ(0,"div",43)(1,"div",40),e.SDv(2,44),e.qZA(),e.TgZ(3,"div",42),e._UZ(4,"bb-amount-ui",45),e.TgZ(5,"span"),e._uU(6," = "),e.qZA(),e._UZ(7,"bb-amount-ui",46),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.Q6J("currency",null==t.transaction?null:t.transaction.instructedAmountCurrency.currencyCode),e.xp6(3),e.Q6J("amount",null==t.transaction?null:t.transaction.currencyExchangeRate)("currency",null==t.transaction?null:t.transaction.transactionAmountCurrency.currencyCode)("decimalPlaces",6)("trailingZeroes",!1)}}function tE(n,i){if(1&n&&(e.TgZ(0,"div",47)(1,"div",40),e.SDv(2,48),e.qZA(),e.TgZ(3,"div",49),e._UZ(4,"bb-amount-ui",50),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.Q6J("amount",null==t.transaction||null==t.transaction.instructedAmountCurrency?null:t.transaction.instructedAmountCurrency.amount)("currency",null==t.transaction||null==t.transaction.instructedAmountCurrency?null:t.transaction.instructedAmountCurrency.currencyCode)}}function nE(n,i){if(1&n&&(e.TgZ(0,"div",51)(1,"div",40),e.SDv(2,52),e.qZA(),e.TgZ(3,"div",42),e._uU(4),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",null==t.transaction?null:t.transaction.counterPartyAccountNumber," ")}}function oE(n,i){if(1&n&&(e.TgZ(0,"div",53)(1,"div",40),e.SDv(2,54),e.qZA(),e.TgZ(3,"div",42),e._uU(4),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",null==t.transaction?null:t.transaction.description," ")}}function iE(n,i){if(1&n&&(e.TgZ(0,"div",55)(1,"div",40),e.SDv(2,56),e.qZA(),e.TgZ(3,"div",42),e._uU(4),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",null==t.transaction?null:t.transaction.originalDescription," ")}}function aE(n,i){if(1&n&&(e.TgZ(0,"div",57)(1,"div",40),e.SDv(2,58),e.qZA(),e.TgZ(3,"div",49),e._UZ(4,"bb-amount-ui",59),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.Q6J("currency",null==t.transaction||null==t.transaction.transactionAmountCurrency?null:t.transaction.transactionAmountCurrency.currencyCode)("amount",null==t.transaction?null:t.transaction.runningBalance)}}function _E(n,i){if(1&n&&(e.TgZ(0,"div",20)(1,"span",61),e.SDv(2,62),e.qZA(),e.TgZ(3,"span"),e._UZ(4,"bb-icon-ui",63),e.qZA(),e._UZ(5,"bb-transaction-check-image",64),e.qZA()),2&n){const t=e.oxw(3).$implicit;e.oxw();const o=e.MAs(6);e.xp6(4),e.Q6J("bbTooltip",o),e.xp6(1),e.Q6J("transaction",t.transaction)("checkImagesList",t.checkImagesList)("transactionDetailsLoadingStatus",t.transactionDetailsLoadingStatus)}}function sE(n,i){if(1&n&&(e.ynx(0),e.YNc(1,_E,6,4,"div",60),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",t.transaction&&"AVAILABLE"===t.transaction.checkImageAvailability)}}function rE(n,i){if(1&n&&(e.ynx(0),e.YNc(1,sE,2,1,"ng-container",19),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",(null==t||null==t.transactionDetailsLoadingStatus?null:t.transactionDetailsLoadingStatus.checkImages)!==t.loadingStateEnum.notLoaded)}}function cE(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",65),e.SDv(2,66),e.qZA(),e._UZ(3,"bb-transaction-geo-location-map",67),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("transaction",t.transaction)("loadingStatus",null==t.transactionDetailsLoadingStatus?null:t.transactionDetailsLoadingStatus.geolocation)}}function lE(n,i){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"div",8),e.TgZ(2,"div",68)(3,"bb-transaction-notes",69),e.NdJ("isEditingNotesChange",function(a){e.CHM(t);const _=e.oxw().$implicit;return _.isEditingNotes=a,_.isEditingNotesChange.emit(a)})("changeNotes",function(a){return e.CHM(t),e.oxw().$implicit.onChangeNotes(a)})("deleteNote",function(){return e.CHM(t),e.oxw().$implicit.handleDelete()}),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("transaction",t.transaction)("isEditingNotes",t.isEditingNotes)("isSavingNotes",t.isSavingNotes)}}function uE(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"button",11),e.NdJ("click",function(){return e.CHM(t).$implicit.openEditNotes()}),e._UZ(5,"bb-icon-ui",12),e.qZA(),e.TgZ(6,"div",13),e.YNc(7,zb,2,0,"label",14),e.YNc(8,Qb,2,0,"ng-template",null,15,e.W1O),e.qZA()(),e.YNc(10,$b,6,1,"div",16),e.qZA(),e.TgZ(11,"div",17),e._UZ(12,"bb-dispute-banner",18),e.YNc(13,qb,2,1,"ng-container",19),e.qZA(),e.YNc(14,jb,2,4,"div",19),e.qZA(),e.TgZ(15,"div",20),e.YNc(16,Xb,5,1,"div",21),e.YNc(17,eE,8,5,"div",22),e.YNc(18,tE,5,2,"div",23),e.YNc(19,nE,5,1,"div",24),e.YNc(20,oE,5,1,"div",25),e.YNc(21,iE,5,1,"div",26),e.YNc(22,aE,5,2,"div",27),e.qZA(),e.YNc(23,rE,2,1,"ng-container",19),e.YNc(24,cE,4,2,"div",19),e.YNc(25,lE,4,3,"ng-container",19),e.qZA()}if(2&n){const t=i.$implicit,o=e.MAs(9);e.xp6(4),e.Q6J("circle",!0),e.uIk("aria-expanded",!!t.isEditingNotes),e.xp6(3),e.Q6J("ngIf",!t.transaction.notes)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",(null==t.transactionDetailsLoadingStatus?null:t.transactionDetailsLoadingStatus.enableDisputeAndInquiry)===t.loadingStateEnum.done),e.xp6(2),e.Q6J("transaction",t.transaction),e.xp6(1),e.Q6J("ngIf",t.reportState===t.loadingStateEnum.done),e.xp6(1),e.Q6J("ngIf",t.showInquiryAndDispute),e.xp6(2),e.Q6J("ngIf",(null==t.transaction?null:t.transaction.type)&&(!(null==t.transaction||!t.transaction.category)||!!t.transaction.isPending)),e.xp6(1),e.Q6J("ngIf",t.transaction.currencyExchangeAvailability),e.xp6(1),e.Q6J("ngIf",null==t.transaction||null==t.transaction.instructedAmountCurrency?null:t.transaction.instructedAmountCurrency.amount),e.xp6(1),e.Q6J("ngIf",null==t.transaction?null:t.transaction.counterPartyAccountNumber),e.xp6(1),e.Q6J("ngIf",null==t.transaction?null:t.transaction.description),e.xp6(1),e.Q6J("ngIf",null==t.transaction?null:t.transaction.originalDescription),e.xp6(1),e.Q6J("ngIf",null==t.transaction?null:t.transaction.runningBalance),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.transactionDetailsLoadingStatus?null:t.transactionDetailsLoadingStatus.checkImages)!==t.loadingStateEnum.notStarted),e.xp6(1),e.Q6J("ngIf",null==t.transaction?null:t.transaction.location),e.xp6(1),e.Q6J("ngIf",!!t.isEditingNotes||!!t.transaction.notes)}}function dE(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",70)(1,"h2",71),e.SDv(2,72),e.qZA()(),e.TgZ(3,"div",73)(4,"span",74),e.SDv(5,75),e.qZA()(),e.TgZ(6,"div",76)(7,"div",77)(8,"button",78),e.NdJ("click",function(){return e.CHM(t).$implicit.submitDeleteNote()}),e.SDv(9,79),e.qZA(),e.TgZ(10,"button",80),e.NdJ("click",function(){return e.CHM(t).$implicit.closeModal()}),e.SDv(11,81),e.qZA()()()}}function AE(n,i){1&n&&(e.TgZ(0,"div",82)(1,"span"),e.SDv(2,83),e.qZA(),e.TgZ(3,"ul")(4,"li"),e.SDv(5,84),e.qZA(),e.TgZ(6,"li"),e.SDv(7,85),e.qZA(),e.TgZ(8,"li"),e.SDv(9,86),e.qZA()()())}function pE(n,i){1&n&&e._UZ(0,"bb-loading-indicator-ui",87)}function mE(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeDetails()}),e._UZ(1,"bb-icon-ui",6),e.qZA()}}function SE(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"bb-icon-ui",20),e.TgZ(2,"span",21),e.SDv(3,22),e.qZA(),e.BQk()),2&n){e.oxw(2);const t=e.MAs(7);e.xp6(1),e.Q6J("bbTooltip",t)}}function gE(n,i){if(1&n&&(e.TgZ(0,"div",8)(1,"div",23),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",e.xi3(3,1,null==t.transaction?null:t.transaction.bookingDate,"longDate")," ")}}function bE(n,i){if(1&n&&(e.TgZ(0,"div",8),e._UZ(1,"bb-badge-ui",24),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.s9C("text",null==t.transaction?null:t.transaction.billingStatus),e.Q6J("abbr",!1)("circle",!1)}}function EE(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"bb-alert-ui",28),e.NdJ("close",function(){return e.CHM(t),e.oxw(3).onAlertDismiss()}),e.qZA()}2&n&&e.Q6J("dismissible",!0)}function TE(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"bb-alert-ui",29),e.NdJ("close",function(){return e.CHM(t),e.oxw(3).onAlertDismiss()}),e.qZA()}2&n&&e.Q6J("dismissible",!0)}function CE(n,i){if(1&n&&(e.ynx(0,25),e.YNc(1,EE,1,1,"bb-alert-ui",26),e.YNc(2,TE,1,1,"bb-alert-ui",27),e.BQk()),2&n){const t=e.oxw(2);e.Q6J("ngSwitch",t.alertOptions.displayStatus),e.xp6(1),e.Q6J("ngSwitchCase","error"),e.xp6(1),e.Q6J("ngSwitchCase","success")}}function NE(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"bb-transaction-details",30),e.NdJ("isEditingNotesChange",function(a){return e.CHM(t),e.oxw(2).isEditingNotes=a})("showInquiryAndDisputeChange",function(a){return e.CHM(t),e.oxw(2).showInquiryAndDispute=a}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("transaction",t.transaction)("isEditingNotes",t.isEditingNotes)("showInquiryAndDispute",t.showInquiryAndDispute)("checkImagesList",t.checkImagesList)("transactionDetailsLoadingStatus",t.transactionDetailsLoadingStatus)("inquireAndDisputeTopics",t.inquireAndDisputeTopics)("isPending",t.isPending)}}function fE(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"div",9),e._UZ(3,"bb-transaction-category-icon",10),e.qZA()(),e.TgZ(4,"div",8)(5,"strong"),e._uU(6),e.qZA()(),e.TgZ(7,"div",11),e._UZ(8,"bb-amount-ui",12),e.YNc(9,SE,4,1,"ng-container",13),e.qZA(),e.YNc(10,gE,4,4,"div",14),e.TgZ(11,"div",15)(12,"bb-transaction-detail-category",16),e.NdJ("categoryChange",function(a){return e.CHM(t),e.oxw().closeTransactionsCategory(a)}),e.qZA()(),e.YNc(13,bE,2,3,"div",14),e.TgZ(14,"div",17),e.YNc(15,CE,3,3,"ng-container",18),e.qZA()(),e.YNc(16,NE,1,7,"bb-transaction-details",19)}if(2&n){const t=e.oxw();let o;e.xp6(3),e.Q6J("transaction",t.transaction),e.xp6(3),e.hij(" ",null!==(o=null!==(o=null==t.transaction||null==t.transaction.merchant?null:t.transaction.merchant.name)&&void 0!==o?o:null==t.transaction?null:t.transaction.counterPartyName)&&void 0!==o?o:null==t.transaction?null:t.transaction.description," "),e.xp6(2),e.Q6J("showPlusSign",!0)("currency",(null==t.transaction||null==t.transaction.transactionAmountCurrency?null:t.transaction.transactionAmountCurrency.currencyCode)||"")("amount",(null==t.transaction||null==t.transaction.transactionAmountCurrency?null:t.transaction.transactionAmountCurrency.amount)||0),e.xp6(1),e.Q6J("ngIf",null==t.transaction?null:t.transaction.currencyExchangeAvailability),e.xp6(1),e.Q6J("ngIf",null==t.transaction?null:t.transaction.bookingDate),e.xp6(2),e.Q6J("displayChangeCategory",t.showChangeCategory)("transaction",t.transaction),e.xp6(1),e.Q6J("ngIf",!t.showBillingStatus&&("UNBILLED"===(null==t.transaction?null:t.transaction.billingStatus)||"PENDING"===(null==t.transaction?null:t.transaction.billingStatus))),e.xp6(2),e.Q6J("ngIf",t.alertOptions.displayAlert),e.xp6(1),e.Q6J("ngIf",t.isDetailsOpen)}}function IE(n,i){1&n&&(e.TgZ(0,"div",31)(1,"span"),e.SDv(2,32),e.qZA()())}function hE(n,i){1&n&&(e.ynx(0),e._UZ(1,"bb-icon-ui",19),e.BQk())}function OE(n,i){if(1&n&&e._UZ(0,"bb-transaction-category-icon",20),2&n){const t=e.oxw();e.Q6J("transaction",t.transaction)}}function RE(n,i){if(1&n&&(e.TgZ(0,"div",21)(1,"span",22),e.SDv(2,23),e.qZA(),e._UZ(3,"bb-amount-ui",24),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("currency",(null==t.transaction||null==t.transaction.transactionAmountCurrency?null:t.transaction.transactionAmountCurrency.currencyCode)||"")("amount",(null==t.transaction?null:t.transaction.runningBalance)||0)}}const DE=function(n){return{"bb-transaction-list-header-amount__value--credit":n}};function ME(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"bb-transaction-details-modal",8),e.NdJ("detailsOpen",function(a){return e.CHM(t),e.oxw().$implicit.openDetails(a)})("close",function(){return e.CHM(t),e.oxw().$implicit.closeDetails()}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("transaction",t.transaction)("showBillingStatus",t.showBillingStatus)("showChangeCategory",t.showChangeCategory)("checkImagesList",t.checkImagesList)("transactionDetailsLoadingStatus",t.transactionDetailsLoadingStatus)("isDetailsOpen",t.isDetailsOpen)("inquireAndDisputeTopics",t.inquireAndDisputeTopics)}}function yE(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",3),e.NdJ("click",function(){return e.CHM(t).$implicit.openDetails()}),e.GkF(1,4),e.TgZ(2,"span",5),e.SDv(3,6),e.qZA()(),e.YNc(4,ME,1,7,"bb-transaction-details-modal",7)}if(2&n){const t=i.$implicit;e.xp6(1),e.Q6J("bbHostRef",t),e.xp6(3),e.Q6J("ngIf",t.showDetailsConfig)}}function vE(n,i){if(1&n&&e._UZ(0,"bb-transaction-header",9),2&n){const t=i.$implicit;e.Q6J("showBillingStatus",t.showBillingStatus)("transaction",t.transaction)}}function UE(n,i){if(1&n&&(e.TgZ(0,"div",7),e.SDv(1,8),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.pQV(t.daysElapsed)(e.xi3(2,2,t.transactionDate,"longDate")),e.QtT(1)}}function BE(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.YNc(1,UE,3,5,"div",5),e.TgZ(2,"bb-transactions-list-item",6),e.NdJ("detailsOpen",function(a){return e.CHM(t),e.oxw().$implicit.onDetailOpen(a)}),e.qZA()()}if(2&n){const t=i.$implicit,o=i.index,a=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",0===o),e.xp6(1),e.Q6J("showChangeCategory",a.showChangeCategory)("transaction",t)("checkImagesList",a.checkImagesList)("transactionDetailsLoadingStatus",a.transactionDetailsLoadingStatus)("inquireAndDisputeTopics",a.inquireAndDisputeTopics)}}function PE(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",2),e.YNc(2,BE,3,6,"div",3),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.Q6J("ngForOf",t.transactions)("ngForTrackBy",t.trackByFn)}}const ho=function(n){return{$implicit:n}};function LE(n,i){if(1&n&&e.GkF(0,9),2&n){const t=e.oxw(3),o=e.MAs(6);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,ho,t.hostRef))}}function xE(n,i){if(1&n&&e.GkF(0,10)(1,11),2&n){const t=e.oxw(3);e.Q6J("bbHostRef",t.hostRef),e.xp6(1),e.Q6J("bbHostRef",t.hostRef)}}function GE(n,i){if(1&n&&(e.ynx(0),e.YNc(1,LE,1,4,"ng-container",7),e.YNc(2,xE,2,2,"ng-template",null,8,e.W1O),e.BQk()),2&n){const t=e.MAs(3),o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.hostRef.isInfiniteScrollPagination)("ngIfElse",t)}}function wE(n,i){if(1&n&&(e.ynx(0),e.YNc(1,GE,4,2,"ng-container",0),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(2);e.xp6(1),e.Q6J("ngIf",t.hostRef.hasItems())("ngIfElse",o)}}function kE(n,i){if(1&n&&e.GkF(0,12),2&n){const t=e.oxw();e.Q6J("bbHostRef",t.hostRef)}}function KE(n,i){1&n&&e._UZ(0,"bb-loading-indicator-ui",13)}function FE(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"bb-transactions-list-item-group",19),e.NdJ("detailsOpen",function(a){return e.CHM(t),e.oxw().$implicit.onDetailOpen(a)}),e.qZA()()}if(2&n){const t=i.$implicit,o=e.oxw().$implicit;e.xp6(1),e.Q6J("checkImagesList",o.checkImagesList)("transactions",t[1])("transactionDate",t[0])("showChangeCategory",o.showChangeCategory)("transactionDetailsLoadingStatus",o.transactionDetailsLoadingStatus)("inquireAndDisputeTopics",o.inquireAndDisputeTopics)}}function JE(n,i){1&n&&(e.ynx(0),e._UZ(1,"bb-loading-indicator-ui"),e.BQk())}function WE(n,i){1&n&&(e.TgZ(0,"span",20),e.SDv(1,21),e.qZA())}function ZE(n,i){if(1&n&&(e.TgZ(0,"div",14),e.YNc(1,FE,2,6,"div",15),e.YNc(2,JE,2,0,"ng-container",16),e.YNc(3,WE,2,0,"span",17),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngForOf",t.transactionsGroupedByDate)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("ngIf",t.hasLoadedAll())}}function HE(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"bb-transactions-list-item-group",19),e.NdJ("detailsOpen",function(a){return e.CHM(t),e.oxw().$implicit.onDetailOpen(a)}),e.qZA()()}if(2&n){const t=i.$implicit,o=e.oxw().$implicit;e.xp6(1),e.Q6J("checkImagesList",o.checkImagesList)("transactions",t[1])("transactionDate",t[0])("showChangeCategory",o.showChangeCategory)("transactionDetailsLoadingStatus",o.transactionDetailsLoadingStatus)("inquireAndDisputeTopics",o.inquireAndDisputeTopics)}}function YE(n,i){if(1&n&&(e.TgZ(0,"div",14),e.YNc(1,HE,2,6,"div",15),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngForOf",t.transactionsGroupedByDate)("ngForTrackBy",t.trackByFn)}}function zE(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"bb-pagination-ui",25),e.NdJ("pageChange",function(a){return e.CHM(t),e.oxw().$implicit.onPageChange(a)}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("page",t.currentPage)("boundaryLinks",!0)("directionLinks",!0)("totalItems",t.transactionsList.totalCount)("itemsPerPage",t.pageSize)("maxNavPages",t.maxNavPages)}}function QE(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"bb-load-button-ui",28),e.NdJ("paramChange",function(a){return e.CHM(t),e.oxw(2).$implicit.onLoadMore(a)}),e.SDv(1,29),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("isLoading",t.isLoadingMore)("from",t.currentPage)("size",t.pageSize)("totalCount",t.transactionsList.totalCount)}}function $E(n,i){1&n&&(e.TgZ(0,"span"),e.SDv(1,30),e.qZA())}function VE(n,i){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,QE,2,4,"bb-load-button-ui",27),e.YNc(2,$E,2,0,"span",16),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!t.hasLoadedAll()),e.xp6(1),e.Q6J("ngIf",t.hasLoadedAll())}}function qE(n,i){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,zE,1,6,"bb-pagination-ui",23),e.YNc(2,VE,3,2,"div",24),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",t.isPaginationPaged),e.xp6(1),e.Q6J("ngIf",t.isPaginationLoadMore)}}function jE(n,i){1&n&&e._UZ(0,"bb-empty-state-ui",34)}function XE(n,i){1&n&&e._UZ(0,"bb-empty-state-ui",35)}function eT(n,i){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,jE,1,0,"bb-empty-state-ui",32),e.YNc(2,XE,1,0,"ng-template",null,33,e.W1O),e.qZA()),2&n){const t=i.$implicit,o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!0===(null==t.transactionsList?null:t.transactionsList.initialRequest))("ngIfElse",o)}}function nT(n,i){if(1&n&&(e.TgZ(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20),e._UZ(4,"bb-input-datepicker-ui",21),e.qZA()(),e.TgZ(5,"div",19)(6,"div",20),e._UZ(7,"bb-input-datepicker-ui",22),e.qZA()()()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.Q6J("maxDate",t.formatDateToString(null==t.toDate?null:t.toDate.value)),e.xp6(3),e.Q6J("minDate",t.formatDateToString(null==t.fromDate?null:t.fromDate.value))}}function oT(n,i){if(1&n&&(e.TgZ(0,"div",23)(1,"div",20),e._UZ(2,"bb-dropdown-single-select-ui",24),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("options",t.creditDebitIndicatorOptions)("compareWithFn",t.compareByValue)}}function iT(n,i){if(1&n&&(e.TgZ(0,"div",25,26)(2,"div",27)(3,"div",28)(4,"label",29,30),e.tHW(6,31),e._UZ(7,"abbr",32),e.N_p(),e.qZA(),e._UZ(8,"bb-input-number-ui",33),e.qZA(),e.TgZ(9,"div",28)(10,"label",29,34),e.tHW(12,35),e._UZ(13,"abbr",36),e.N_p(),e.qZA(),e._UZ(14,"bb-input-number-ui",37),e.qZA()(),e.TgZ(15,"bb-input-validation-message-ui",38)(16,"span"),e.SDv(17,39),e.qZA()()()),2&n){const t=e.MAs(1),o=e.MAs(5),a=e.MAs(11),_=e.oxw().$implicit;e.xp6(8),e.MGl("aria-describedby","",null==t?null:t.id,"-error"),e.Q6J("aria-labelledby",null==o?null:o.id)("min",0),e.xp6(6),e.MGl("aria-describedby","",null==t?null:t.id,"-error"),e.Q6J("aria-labelledby",null==a?null:a.id)("min",0),e.xp6(1),e.MGl("messageId","",null==t?null:t.id,"-error"),e.Q6J("showErrors",!_.isFieldValid("amount","from")||!_.isFieldValid("amount","to"))}}function aT(n,i){if(1&n&&(e.TgZ(0,"div",40)(1,"div",20),e._UZ(2,"bb-dropdown-single-select-ui",41),e.ALo(3,"async"),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("options",e.lcZ(3,2,t.transactionTypeOptions))("compareWithFn",t.compareByValue)}}function _T(n,i){if(1&n&&(e.TgZ(0,"div",40)(1,"div",20),e._UZ(2,"bb-dropdown-single-select-ui",42),e.ALo(3,"async"),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("options",e.lcZ(3,2,t.billingStatusOptions))("compareWithFn",t.compareByValue)}}function sT(n,i){if(1&n&&(e.TgZ(0,"div",43)(1,"div",44,45)(3,"div",28)(4,"label",29,46),e.tHW(6,47),e._UZ(7,"abbr",48),e.N_p(),e.qZA(),e._UZ(8,"bb-input-number-ui",49),e.qZA(),e.TgZ(9,"div",28)(10,"label",29,50),e.tHW(12,51),e._UZ(13,"abbr",48),e.N_p(),e.qZA(),e._UZ(14,"bb-input-number-ui",52),e.qZA()(),e.TgZ(15,"bb-input-validation-message-ui",38)(16,"span"),e.SDv(17,53),e.qZA()()()),2&n){const t=e.MAs(2),o=e.MAs(5),a=e.MAs(11),_=e.oxw().$implicit;e.xp6(8),e.MGl("aria-describedby","",null==t?null:t.id,"-error"),e.Q6J("aria-labelledby",null==o?null:o.id)("min",0),e.xp6(6),e.MGl("aria-describedby","",null==t?null:t.id,"-error"),e.Q6J("aria-labelledby",null==a?null:a.id)("min",0),e.xp6(1),e.MGl("messageId","",null==t?null:t.id,"-error"),e.Q6J("showErrors",!_.isFieldValid("checkSerialNumber","from")||!_.isFieldValid("checkSerialNumber","to"))}}function rT(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){return e.CHM(t),e.oxw().$implicit.onClearFilter()}),e.SDv(1,55),e.qZA()}}function cT(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"form",3),e.NdJ("ngSubmit",function(){const _=e.CHM(t).$implicit;return _.onFilter(_.transactionsFilterForm.value)}),e.TgZ(2,"div",4)(3,"div",5),e.YNc(4,nT,8,2,"div",6),e.YNc(5,oT,3,2,"div",7),e.qZA(),e.TgZ(6,"div",5),e.YNc(7,iT,18,8,"div",8),e.YNc(8,aT,4,4,"div",9),e.qZA(),e.TgZ(9,"div",5),e.YNc(10,_T,4,4,"div",9),e.YNc(11,sT,18,8,"div",10),e.qZA()(),e.TgZ(12,"div",11)(13,"button",12),e.SDv(14,13),e.qZA(),e.TgZ(15,"button",14),e.NdJ("click",function(){return e.CHM(t).$implicit.onCloseFilter()}),e.SDv(16,15),e.qZA(),e.YNc(17,rT,2,0,"button",16),e.qZA()()()}if(2&n){const t=i.$implicit,o=e.oxw();e.xp6(1),e.Q6J("formGroup",t.transactionsFilterForm),e.xp6(3),e.Q6J("ngIf",t.availableFilters.includes(o.availableFilterEnum.Date)),e.xp6(1),e.Q6J("ngIf",t.availableFilters.includes(o.availableFilterEnum.CreditDebitIndicator)),e.xp6(2),e.Q6J("ngIf",t.availableFilters.includes(o.availableFilterEnum.Amount)),e.xp6(1),e.Q6J("ngIf",t.availableFilters.includes(o.availableFilterEnum.Types)),e.xp6(2),e.Q6J("ngIf",!o.hideBillingStatus&&t.availableFilters.includes(o.availableFilterEnum.BillingStatus)),e.xp6(1),e.Q6J("ngIf",t.availableFilters.includes(o.availableFilterEnum.CheckSerialNumber)),e.xp6(6),e.Q6J("ngIf",t.transactionsFilterForm.dirty)}}function lT(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().$implicit.toggleFilter()}),e._UZ(1,"bb-icon-ui",18),e.TgZ(2,"span",19),e.SDv(3,20),e.qZA(),e.TgZ(4,"span",21),e.SDv(5,22),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.Q6J("color",t.isFilterApplied||t.isFilterOpen?"primary":"secondary"),e.uIk("aria-expanded",!!t.isFilterOpen),e.xp6(7),e.hij("\xa0(",t.activeFilters,")")}}function uT(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().$implicit.toggleFilter()}),e._UZ(1,"bb-icon-ui",18),e.ynx(2),e.SDv(3,23),e.BQk(),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("color",t.isFilterApplied||t.isFilterOpen?"primary":"secondary"),e.uIk("aria-expanded",!!t.isFilterOpen)}}const dT=function(n){return{"bb-block--lg":n}};function AT(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"label",7,8),e.SDv(6,9),e.qZA(),e.TgZ(7,"bb-search-box-ui",10),e.NdJ("submit",function(a){return e.CHM(t).$implicit.onSearch(a)})("clear",function(){return e.CHM(t).$implicit.onSearch("")}),e.qZA()()(),e.TgZ(8,"div",11)(9,"div",12)(10,"div",13),e.YNc(11,lT,8,3,"button",14),e.YNc(12,uT,4,2,"button",14),e.qZA(),e.GkF(13,15),e.qZA()()()(),e.TgZ(14,"bb-transactions-filter",16),e.NdJ("filter",function(a){return e.CHM(t).$implicit.onFilter(a)})("filterCount",function(a){return e.CHM(t).$implicit.onFilterCount(a)})("closeFilter",function(){return e.CHM(t).$implicit.onClose()}),e.qZA()}if(2&n){const t=i.$implicit,o=e.MAs(5);e.Q6J("ngClass",e.VKq(10,dT,t.isFilterOpen)),e.xp6(7),e.Q6J("showSearch",!0)("showClear",!0)("aria-labelledby",null==o?null:o.id),e.xp6(4),e.Q6J("ngIf",t.activeFilters),e.xp6(1),e.Q6J("ngIf",!t.activeFilters),e.xp6(1),e.Q6J("bbHostRef",t),e.xp6(1),e.Q6J("hidden",!t.isFilterOpen)("hideBillingStatus",t.hideBillingStatus)("availableFilters",t.availableFilters)}}function pT(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",30),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).$implicit.onExport(_)}),e.TgZ(1,"span"),e._uU(2),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.name)}}function mT(n,i){if(1&n&&e.YNc(0,pT,3,1,"a",29),2&n){const t=e.oxw(2).$implicit;e.Q6J("ngForOf",t.exportConfig)}}function ST(n,i){1&n&&(e.TgZ(0,"bb-dropdown-menu-ui",27),e.YNc(1,mT,1,1,"ng-template",28),e.qZA()),2&n&&e.Q6J("btnCircle",!0)}function gT(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){return e.CHM(t).$implicit.onPrint()}),e._UZ(1,"bb-icon-ui",25),e.qZA(),e.YNc(2,ST,2,1,"bb-dropdown-menu-ui",26)}if(2&n){const t=i.$implicit;e.Q6J("circle",!0),e.xp6(2),e.Q6J("ngIf",null==t.exportConfig?null:t.exportConfig.length)}}function bT(n,i){if(1&n&&e.GkF(0,5),2&n){const t=e.oxw(2);e.Q6J("bbHostRef",t.hostRef)}}function ET(n,i){if(1&n&&(e.ynx(0),e.YNc(1,bT,1,1,"ng-container",4),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.transactionsList||null==t.transactionsList.items?null:t.transactionsList.items.length)&&t.paginationOnTop())}}function TT(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"bb-transactions-list-item",17),e.NdJ("detailsOpen",function(a){return e.CHM(t),e.oxw().$implicit.onDetailOpen(a)}),e.qZA()()}if(2&n){const t=i.$implicit,o=e.oxw().$implicit;e.xp6(1),e.Q6J("transaction",t)("showBillingStatus",!0)("showChangeCategory",o.showChangeCategory)("inquireAndDisputeTopics",o.inquireAndDisputeTopics)}}function CT(n,i){if(1&n&&(e.TgZ(0,"div",6)(1,"strong",7)(2,"div",8)(3,"span",9),e.SDv(4,10),e.qZA(),e.TgZ(5,"span",11),e._UZ(6,"bb-icon-ui",12),e.qZA()()(),e.TgZ(7,"div",13)(8,"div",14),e.YNc(9,TT,2,4,"div",15),e.qZA(),e._UZ(10,"div",14),e.qZA()()),2&n){const t=i.$implicit;e.oxw();const o=e.MAs(3);e.xp6(6),e.Q6J("bbTooltip",o),e.xp6(3),e.Q6J("ngForOf",null==t.transactionsList?null:t.transactionsList.items)("ngForTrackBy",t.trackByFn)}}function NT(n,i){1&n&&(e.TgZ(0,"div",18),e.SDv(1,19),e.qZA())}function fT(n,i){1&n&&e._UZ(0,"bb-loading-indicator-ui",20)}const n_=function(){return[]};function IT(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"bb-alert-ui",11)(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"a",12),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).hostRef.retry()}),e._uU(4,"click here"),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Oqu(null==t?null:t.message),e.xp6(1),e.Q6J("routerLink",e.DdM(2,n_))}}function hT(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",9),e.YNc(2,IT,5,3,"bb-alert-ui",10),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.hostRef.errors)}}function OT(n,i){if(1&n&&(e.ynx(0),e.GkF(1,8),e.YNc(2,hT,3,1,"ng-container",0),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(17);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(3,ho,t.hostRef)),e.xp6(1),e.Q6J("ngIf",t.hostRef.errors)}}function RT(n,i){if(1&n&&(e.ynx(0),e.GkF(1,8),e.BQk()),2&n){const t=e.oxw(2),o=e.MAs(17);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,ho,t.hostRef))}}function DT(n,i){if(1&n&&(e.ynx(0),e._uU(1),e.ynx(2),e.SDv(3,18),e.BQk()()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",null==t.hostRef.storedExportType?null:t.hostRef.storedExportType.name," ")}}function MT(n,i){if(1&n&&(e.ynx(0),e._uU(1),e.ynx(2),e.SDv(3,19),e.BQk()()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",null==t.hostRef.storedExportType?null:t.hostRef.storedExportType.name," ")}}function yT(n,i){1&n&&(e.ynx(0),e.SDv(1,20),e.BQk())}function vT(n,i){1&n&&(e.ynx(0),e.SDv(1,21),e.BQk())}function UT(n,i){if(1&n&&(e.ynx(0,16),e.YNc(1,DT,4,1,"ng-container",17),e.YNc(2,MT,4,1,"ng-container",17),e.YNc(3,yT,2,0,"ng-container",17),e.YNc(4,vT,2,0,"ng-container",17),e.BQk()),2&n){const t=e.oxw(2);e.Q6J("ngSwitch",null==t.hostRef.storedExportType?null:t.hostRef.storedExportType.reason),e.xp6(1),e.Q6J("ngSwitchCase","MIXED_PRODUCT_KINDS"),e.xp6(1),e.Q6J("ngSwitchCase","UNSUPPORTED_PRODUCT_KIND"),e.xp6(1),e.Q6J("ngSwitchCase","TOO_MANY_ITEMS"),e.xp6(1),e.Q6J("ngSwitchCase","MULTIPLE_PRODUCTS")}}function BT(n,i){1&n&&(e.ynx(0),e.SDv(1,22),e.BQk())}function PT(n,i){1&n&&(e.ynx(0),e.SDv(1,23),e.BQk())}function LT(n,i){1&n&&(e.ynx(0),e.SDv(1,24),e.BQk())}function xT(n,i){1&n&&(e.ynx(0),e.SDv(1,25),e.BQk())}function GT(n,i){if(1&n&&(e.ynx(0,16),e.YNc(1,BT,2,0,"ng-container",17),e.YNc(2,PT,2,0,"ng-container",17),e.YNc(3,LT,2,0,"ng-container",17),e.YNc(4,xT,2,0,"ng-container",17),e.BQk()),2&n){const t=e.oxw(2);e.Q6J("ngSwitch",null==t.hostRef.storedExportType?null:t.hostRef.storedExportType.reason),e.xp6(1),e.Q6J("ngSwitchCase","MIXED_PRODUCT_KINDS"),e.xp6(1),e.Q6J("ngSwitchCase","UNSUPPORTED_PRODUCT_KIND"),e.xp6(1),e.Q6J("ngSwitchCase","TOO_MANY_ITEMS"),e.xp6(1),e.Q6J("ngSwitchCase","MULTIPLE_PRODUCTS")}}function wT(n,i){if(1&n&&(e.ynx(0),e.YNc(1,RT,2,4,"ng-container",13),e.YNc(2,UT,5,5,"ng-template",null,14,e.W1O),e.YNc(4,GT,5,5,"ng-template",null,15,e.W1O),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(9);e.xp6(1),e.Q6J("ngIf",!t.errors)("ngIfElse",o)}}function kT(n,i){if(1&n&&e.GkF(0,26),2&n){const t=e.oxw();e.Q6J("bbHostRef",t.hostRef)}}function KT(n,i){if(1&n&&e.GkF(0,27),2&n){const t=e.oxw();e.Q6J("bbHostRef",t.hostRef)}}function FT(n,i){1&n&&(e.TgZ(0,"div",28)(1,"div",29),e._UZ(2,"bb-empty-state-ui",30),e.qZA()())}function JT(n,i){if(1&n&&(e.TgZ(0,"p",37),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",null==t?null:t.message," ")}}function WT(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",31)(2,"div",32),e._UZ(3,"bb-empty-state-ui",33),e.YNc(4,JT,2,1,"p",34),e.qZA(),e.TgZ(5,"div")(6,"button",35),e.NdJ("click",function(){return e.CHM(t).$implicit.retry()}),e.SDv(7,36),e.qZA()()()()}if(2&n){const t=i.$implicit;e.xp6(4),e.Q6J("ngForOf",t.errors)}}function ZT(n,i){1&n&&e.SDv(0,38)}function HT(n,i){1&n&&e.SDv(0,39)}function YT(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"bb-transactions-controls",46),e.NdJ("search",function(a){return e.CHM(t),e.oxw().$implicit.onSearch(a)})("filter",function(a){return e.CHM(t),e.oxw().$implicit.onFilter(a)})("print",function(){return e.CHM(t),e.oxw().$implicit.onPrint()})("export",function(a){return e.CHM(t),e.oxw().$implicit.onExport(a)}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async"),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("isFilterApplied",e.lcZ(1,4,t.isFilterApplied))("hideBillingStatus",e.lcZ(2,6,t.showPendingTransactionsOnTop))("exportConfig",e.lcZ(3,8,t.exportConfig))("availableFilters",e.lcZ(4,10,t.availableFilters)||e.DdM(12,n_))}}function zT(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"bb-pending-transactions-list",47),e.NdJ("detailsOpen",function(a){return e.CHM(t),e.oxw().$implicit.onDetailOpen(a)}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async"),e.ALo(5,"async"),e.ALo(6,"async"),e.ALo(7,"async"),e.ALo(8,"async"),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("transactionsList",e.lcZ(1,8,t.pendingTransactionsList))("currentPage",e.lcZ(2,10,t.currentPage))("pageSize",e.lcZ(3,12,t.pageSize))("paginationType",e.lcZ(4,14,t.paginationType))("maxNavPages",e.lcZ(5,16,t.maxNavPages))("loadingState",e.lcZ(6,18,t.loadingPendingState))("showChangeCategory",e.lcZ(7,20,t.showChangeCategory))("inquireAndDisputeTopics",e.lcZ(8,22,t.inquireAndDisputeTopics))}}function QT(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",40),e.YNc(1,YT,5,13,"bb-transactions-controls",41),e.ALo(2,"async"),e._UZ(3,"bb-transactions-number-of-results-found",42),e.ALo(4,"async"),e.ALo(5,"async"),e.ALo(6,"async"),e.ALo(7,"async"),e.TgZ(8,"div",43),e.YNc(9,zT,9,24,"bb-pending-transactions-list",44),e.ALo(10,"async"),e.TgZ(11,"bb-transactions-list",45),e.NdJ("loadMore",function(){return e.CHM(t).$implicit.onLoadMore()})("pageChange",function(a){return e.CHM(t).$implicit.onPageChange(a)})("detailsOpen",function(a){return e.CHM(t).$implicit.onDetailOpen(a)}),e.ALo(12,"async"),e.ALo(13,"async"),e.ALo(14,"async"),e.ALo(15,"async"),e.ALo(16,"async"),e.ALo(17,"async"),e.ALo(18,"async"),e.ALo(19,"async"),e.ALo(20,"async"),e.ALo(21,"async"),e.ALo(22,"async"),e.qZA()()()}if(2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",e.lcZ(2,17,t.showControls)),e.xp6(2),e.Q6J("numberOfResultsFound",e.lcZ(4,19,t.numberOfResultsFound))("loadingState",e.lcZ(5,21,t.loadingState))("isFilterApplied",e.lcZ(6,23,t.isFilterApplied))("isSearchApplied",e.lcZ(7,25,t.isSearchApplied)),e.xp6(6),e.Q6J("ngIf",e.lcZ(10,27,t.showPendingTransactionsOnTop)),e.xp6(2),e.Q6J("transactionsList",e.lcZ(12,29,t.transactionsList))("checkImagesList",e.lcZ(13,31,t.checkImagesList))("currentPage",e.lcZ(14,33,t.currentPage))("pageSize",e.lcZ(15,35,t.pageSize))("maxNavPages",e.lcZ(16,37,t.maxNavPages))("loadingState",e.lcZ(17,39,t.loadingState))("paginationType",e.lcZ(18,41,t.paginationType))("numberOfResultsFound",e.lcZ(19,43,t.numberOfResultsDisplayed))("showChangeCategory",e.lcZ(20,45,t.showChangeCategory))("transactionDetailsLoadingStatus",e.lcZ(21,47,t.transactionDetailsLoadingStatus))("inquireAndDisputeTopics",e.lcZ(22,49,t.inquireAndDisputeTopics))}}let o_=(()=>{class n{constructor(t,o,a){this.fb=t,this.categoriesService=o,this.transactionUpdateService=a,this.categoryChange=new e.vpe,this.changeTransactionsCategoryForm=this.fb.group({categoryName:[]}),this.hostRef=this,this.categoriesList=this.categoriesService.getCategories()}cancelSaveCategory(){this.changeTransactionsCategoryForm.reset({categoryName:this.transaction&&this.transaction.category}),this.categoryChange.emit()}changeCategory(){const t=this.changeTransactionsCategoryForm.get("categoryName");this.transaction&&t&&this.transactionUpdateService.update(this.transaction,{category:t.value}).subscribe(()=>{this.transaction?(this.transaction.category=t.value,this.categoryChange.emit("success")):this.categoryChange.emit("error")},()=>this.categoryChange.emit("error"))}getCategoryIconClass(t){return`${t.toLowerCase().replace(/\W/g,"-").replace(/-{2,}/g,"-")||"uncategorized"}`}ngOnInit(){this.changeTransactionsCategoryForm.reset({categoryName:this.transaction&&this.transaction.category})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(I.qu),e.Y36(Ia),e.Y36(zn))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transactions-categories"]],inputs:{transaction:"transaction"},outputs:{categoryChange:"categoryChange"},decls:2,vars:1,consts:function(){let i,t,o,a;return i="Change Category",t="Close",o=" Cancel ",a=" Save ",[["bbTransactionsCategoryCustomizable","",3,"bbHostRef"],["bbTransactionsCategoryCustomizable",""],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"form-group","col-12","col-md-9"],["headingType","h3","heading",i],["type","button","color","muted","aria-label",t,1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","modal-body-scrollable"],[1,"bb-list"],["class","bb-list__item--no-separator",4,"ngFor","ngForOf"],[1,"modal-footer"],["bbButton","","data-role","cancel","color","secondary",3,"click"],o,["bbButton","","type","submit","color","primary",3,"disabled"],a,[1,"bb-list__item--no-separator"],[1,"bb-stack",3,"for"],["backgroundType","circle","size","sm",1,"bb-stack__item",3,"name"],[1,"font-weight-bold","bb-stack__item"],[1,"bb-stack__item","bb-stack__item--fill","bb-text-align-right"],["type","radio","name","categoryName","formControlName","categoryName",3,"id","value"]]},template:function(t,o){1&t&&(e.GkF(0,0),e.YNc(1,Pb,16,5,"ng-template",1)),2&t&&e.Q6J("bbHostRef",o.hostRef)},directives:function(){return[Ze.G,b.o,i_,I._Y,I.JL,I.sg,r.sg,I._,I.Fj,I.JJ,I.u,v.Hq]},pipes:function(){return[r.Ov]},encapsulation:2}),n})(),i_=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbTransactionsCategoryCustomizable",""]],features:[e.qOj]}),n})(),a_=(()=>{class n{constructor(t){this.transactionsIconCategoriesFactory=t,this.categoryChange=new e.vpe,this.hostRef=this,this.isTransactionsCategoryOpen=!1,this.transactionIconType=je}ngOnInit(){if(void 0===this.transaction)throw new Error(`"transaction" input is required in "${this.constructor.name}"`);this.transactionCategoryIcon=this.transactionsIconCategoriesFactory.create(this.transaction)}get categoryTitle(){return this.transactionCategoryIcon?this.transactionCategoryIcon.title:""}openTransactionsCategory(){this.isTransactionsCategoryOpen=!0}closeTransactionsCategory(t){this.categoryChange.emit(t),this.isTransactionsCategoryOpen=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(tn))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transaction-detail-category"]],inputs:{transaction:"transaction",displayChangeCategory:"displayChangeCategory"},outputs:{categoryChange:"categoryChange"},decls:2,vars:1,consts:function(){let i;return i=" Change category ",[["bbTransactionDetailCategoryCustomizable","",3,"bbHostRef"],["bbTransactionDetailCategoryCustomizable",""],[4,"ngIf"],[3,"isOpen","modalOptions","cancel"],[3,"transaction","categoryChange"],[4,"ngIf","ngIfElse"],["fallbackCategory",""],["bbButton","","buttonSize","sm",1,"bb-transaction-list-item-detail-header__category-badge",3,"click"],["data-role","list-details-category"],["name","edit","size","sm","color","muted",1,"bb-transactions-list-pending-header__tooltip"],[1,"sr-only"],i,[1,"bb-transaction-list-item-detail-header__category-badge-fallback","bb-transaction-list-item-detail-header__category-badge"]]},template:function(t,o){1&t&&(e.GkF(0,0),e.YNc(1,wb,3,5,"ng-template",1)),2&t&&e.Q6J("bbHostRef",o.hostRef)},directives:function(){return[b.o,H.zS,o_,__,r.O5,v.Hq]},pipes:function(){return[jp,r.rS]},encapsulation:2}),n})(),__=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbTransactionDetailCategoryCustomizable",""]],features:[e.qOj]}),n})(),s_=(()=>{class n{constructor(){this.isEditingNotes=!1,this.isSavingNotes=!1,this.isEditingNotesChange=new e.vpe,this.changeNotes=new e.vpe,this.deleteNote=new e.vpe,this.transactionNotesForm=new I.cw({notes:new I.NI})}toggleEdit(t){var o,a;const _="boolean"==typeof t?t:!this.isEditingNotes;_&&(null===(o=this.transactionNotesForm.get("notes"))||void 0===o||o.setValue(null===(a=this.transaction)||void 0===a?void 0:a.notes)),this.isEditingNotesChange.emit(_)}onSave(t){this.changeNotes.emit(t.notes)}triggerDeleteNote(){this.deleteNote.emit()}ngOnInit(){if(void 0===this.transaction)throw new Error(`"transaction" input is required in "${this.constructor.name}"`);this.transactionNotesForm.setValue({notes:this.transaction.notes||""})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transaction-notes"]],inputs:{transaction:"transaction",isEditingNotes:"isEditingNotes",isSavingNotes:"isSavingNotes"},outputs:{isEditingNotesChange:"isEditingNotesChange",changeNotes:"changeNotes",deleteNote:"deleteNote"},decls:13,vars:7,consts:function(){let i,t,o,a,_,s;return i=" Note ",t="Edit note",o="Delete note",a="Enter note",_=" Save ",s=" Cancel ",[[1,"bb-stack",3,"ngClass"],[1,"bb-stack__item"],["data-role","transaction-note-label","bbDynamicId","",1,"bb-block","bb-block--sm"],["noteLabel",""],i,["class","bb-stack__item--push-right",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["editIconSet",""],["editNotes",""],["displayNotes",""],[1,"bb-stack__item--push-right"],[4,"ngIf","ngIfThen"],[1,"bb-stack","bb-stack--density-sm","bb-transaction-notes-editIconSet"],["bbButton","","data-role","transaction-note-edit-button","color","link-dark","buttonSize","sm","aria-label",t,1,"bb-transaction-notes-editIconSet-button",3,"circle","click"],["name","edit"],["bbButton","","color","link-dark","data-role","transaction-note-delete-button","buttonSize","sm","aria-label",o,1,"bb-transaction-notes-editIconSet-button",3,"circle","click"],["name","delete"],[3,"formGroup","ngSubmit"],[1,"form-group"],["name","notes","data-role","transaction-note-textarea","placeholder",a,"formControlName","notes","maxlength","4000","bbFocus","",1,"form-control"],[1,"bb-button-bar"],["color","primary","data-role","transaction-note-save-button",1,"bb-button-bar__button",3,"isLoading","click"],_,["bbButton","","type","button","color","secondary","data-role","transaction-note-cancel-button","class","bb-button-bar__button",3,"click",4,"ngIf"],["bbButton","","type","button","color","secondary","data-role","transaction-note-cancel-button",1,"bb-button-bar__button",3,"click"],s,["data-role","transaction-note"]]},template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2,3),e.SDv(4,4),e.qZA()(),e.YNc(5,Kb,2,2,"div",5),e.qZA(),e.YNc(6,Fb,1,0,"ng-container",6),e.YNc(7,Jb,5,2,"ng-template",null,7,e.W1O),e.YNc(9,Zb,7,4,"ng-template",null,8,e.W1O),e.YNc(11,Hb,2,1,"ng-template",null,9,e.W1O)),2&t){const a=e.MAs(10),_=e.MAs(12);e.Q6J("ngClass",e.VKq(5,Yb,!(null==o.transaction||!o.transaction.notes))),e.xp6(5),e.Q6J("ngIf",!o.isEditingNotes),e.xp6(1),e.Q6J("ngIf",o.isEditingNotes)("ngIfThen",a)("ngIfElse",_)}},directives:[b.o,Fe.K,r.mk,$n,r.O5,v.Hq,I._Y,I.JL,I.sg,I.Fj,I.JJ,I.u,I.nD,rn.R],encapsulation:2,changeDetection:0}),n})(),r_=(()=>{class n{constructor(t,o,a,_){this.transactionUpdate=t,this.messagesService=o,this.transactionsInquireAndDispute=a,this.cd=_,this.hostRef=this,this.showAccountNumber=!1,this.isEditingNotes=!1,this.isPending=!1,this.showInquiryAndDispute=!1,this.inquireAndDisputeTopics={inquire:"",dispute:""},this.isEditingNotesChange=new e.vpe,this.showInquiryAndDisputeChange=new e.vpe,this.onNotesUpdateSuccess=new e.vpe,this.onNotesUpdateError=new e.vpe,this.unsubscribeSubject=new T.x,this.showReportForm=s=>{s&&(this.isEditingNotes=!1),this.showInquiryAndDisputeChange.emit(s)},this.isSavingNotes=!1,this.deleteNoteModalActive=!1,this.loadingStateEnum=D}get reportState(){return this.transactionsInquireAndDispute.reportState}get message(){return this.transactionsInquireAndDispute.message}set message(t){this.transactionsInquireAndDispute.message=t}onChangeNotes(t){void 0!==this.transaction&&this.updateNotes(this.transaction,t)}openEditNotes(){this.isEditingNotes=!0,this.transactionsInquireAndDispute.showReportForm(!1)}handleDelete(){this.deleteNoteModalActive=!0}closeModal(){this.deleteNoteModalActive=!1}submitDeleteNote(){this.transaction&&this.updateNotes(this.transaction,"")}updateNotes(t,o){this.isSavingNotes=!0,this.transactionUpdate.updateNotes(t,o).subscribe(()=>{t.notes=o,this.deleteNoteModalActive=!1,this.onNotesUpdateSuccess.emit(o),this.updateNotesState()},a=>{this.onNotesUpdateError.emit(a),this.updateNotesState()})}updateNotesState(){this.isSavingNotes=!1,this.isEditingNotes=!1,this.cd.markForCheck()}ngOnInit(){if(void 0===this.transaction)throw new Error(`"transaction" input is required in "${this.constructor.name}"`);this.inquireAndDisputeTopics&&this.transactionsInquireAndDispute.showReport.subscribe({next:this.showReportForm})}ngOnDestroy(){this.transactionsInquireAndDispute.removeAllFiles(),this.unsubscribeSubject.next(),this.unsubscribeSubject.complete()}saveReport(t){const o=this.transaction?this.messagesService.createDefaultBody(this.transaction):"";this.transactionsInquireAndDispute.saveReport(this.transactionsInquireAndDispute.formatMessage(t,o,this.inquireAndDisputeTopics,this.transaction)).pipe((0,ee.R)(this.unsubscribeSubject),(0,W.w)(()=>this.transaction&&"dispute"===t.topic?this.transactionUpdate.setDisputeStatus(this.transaction,"PENDING"):(0,R.of)(void 0))).subscribe({next:a=>{this.savedReportType=void 0!==a?t.topic:void 0,this.transaction&&"dispute"===t.topic&&(this.transaction.disputeStatus="PENDING"),this.transaction&&"inquire"===t.topic&&(this.savedReportType=t.topic),this.cd.markForCheck()}})}cancelReport(){this.transactionsInquireAndDispute.cancelReport()}fileChange(t){this.transactionsInquireAndDispute.fileChange(t).pipe((0,ee.R)(this.unsubscribeSubject)).subscribe({next:()=>{this.cd.markForCheck()}})}fileRemoved(t){this.transactionsInquireAndDispute.fileRemoved(t).pipe((0,ee.R)(this.unsubscribeSubject)).subscribe({next:()=>{this.cd.markForCheck()}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(zn),e.Y36(Vn),e.Y36(qn),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transaction-details"]],inputs:{transaction:"transaction",showAccountNumber:"showAccountNumber",isEditingNotes:"isEditingNotes",checkImagesList:"checkImagesList",transactionDetailsLoadingStatus:"transactionDetailsLoadingStatus",isPending:"isPending",showInquiryAndDispute:"showInquiryAndDispute",inquireAndDisputeTopics:"inquireAndDisputeTopics"},outputs:{isEditingNotesChange:"isEditingNotesChange",showInquiryAndDisputeChange:"showInquiryAndDisputeChange",onNotesUpdateSuccess:"onNotesUpdateSuccess",onNotesUpdateError:"onNotesUpdateError"},features:[e._Bn([qn])],decls:9,vars:3,consts:function(){let i,t,o,a,_,s,c,l,u,A,m,h,y,M,C,k,ue,ge,F,Pe,Le,J;return i="Add note",t="Edit note",o=" Report ",a="The bank is reviewing your transaction",_="Please go to Messages to view any responses to your request.",s=" Type ",c=" Currency exchange ",l=" Instructed amount ",u=" Counter party account number ",A=" Description ",m=" Original description ",h=" Running balance ",y=" Check images ",M=" Location ",C=" Delete note? ",k=" Are you sure you want to delete the attached note? Entered data will be lost. ",ue=" Delete note ",ge=" Cancel ",F=" Some images may not be available online if: ",Pe=" There is a scheduled maintenance in the Check Image Service. ",Le=" The check has been deposited earlier than 12 months ago. ",J=" The checks have been received or deposited within the past 48 hours. ",[["bbTransactionsListItemDetailsCustomizable","",3,"bbHostRef"],["bbTransactionsListItemDetailsCustomizable",""],[3,"isOpen","cancel"],["bbTransactionsListConfirmationModalCustomizable","",3,"bbHostRef"],["bbTransactionsListConfirmationModalCustomizable",""],["tipContent",""],["loadingState",""],[1,"bb-transaction-list-item-details"],[1,"bb-block","bb-block--lg"],[1,"bb-text-align-center","bb-stack","bb-stack--center"],[1,"bb-stack__item","bb-transaction-list-item-details-controls-container"],["bbButton","","data-role","control-note-btn",1,"bb-block","bb-block--md",3,"circle","click"],["name","subject"],[1,"bb-transaction-list-item-details-controls-label"],["data-role","add-note-label",4,"ngIf","ngIfElse"],["editNoteLabel",""],["class","bb-stack__item bb-transaction-list-item-details-controls-container",4,"ngIf"],[1,"bb-block","bb-block--lg","bb-text-align-left"],[3,"transaction"],[4,"ngIf"],[1,"bb-block--lg"],["class","bb-block--md","data-role","list-details-type-section",4,"ngIf"],["class","bb-block--md","data-role","list-details-currency-exchange-section",4,"ngIf"],["class","bb-block--md","data-role","list-details-instructed-amount-section",4,"ngIf"],["class","bb-block--md","data-role","list-details-counter-party-account-number-section",4,"ngIf"],["class","bb-block--md","data-role","list-details-description-section",4,"ngIf"],["class","bb-block--md","data-role","list-details-original-description-section",4,"ngIf"],["class","bb-block--md","data-role","list-details-running-balance-section",4,"ngIf"],["data-role","add-note-label"],i,["data-role","edit-note-label"],t,["bbButton","","data-role","report-button",1,"bb-block","bb-block--md",3,"circle","click"],["name","sms-failed"],["data-role","report-label"],o,["modifier","info","data-role","send-inquiry-success","title",a,"message",_,4,"ngIf"],["modifier","info","data-role","send-inquiry-success","title",a,"message",_],[3,"message","enableDispute","state","inquireAndDisputeTopics","messageChange","submitReport","cancelReport","fileChange","fileRemoved"],["data-role","list-details-type-section",1,"bb-block--md"],["data-role","section-title",1,"bb-text-bold"],s,["data-role","section-content",1,"break-word"],["data-role","list-details-currency-exchange-section",1,"bb-block--md"],c,["amount","1",3,"currency"],[3,"amount","currency","decimalPlaces","trailingZeroes"],["data-role","list-details-instructed-amount-section",1,"bb-block--md"],l,[1,"break-word"],["data-role","section-content",3,"amount","currency"],["data-role","list-details-counter-party-account-number-section",1,"bb-block--md"],u,["data-role","list-details-description-section",1,"bb-block--md"],A,["data-role","list-details-original-description-section",1,"bb-block--md"],m,["data-role","list-details-running-balance-section",1,"bb-block--md"],h,["data-role","section-content",3,"currency","amount"],["class","bb-block--lg",4,"ngIf"],[1,"bb-text-bold"],y,["role","tooltip","name","info","size","sm","triggers","hover click","placement","right","bbAccessibilityKeyboard","",1,"bb-transactions-list-pending-header__tooltip",3,"bbTooltip"],[3,"transaction","checkImagesList","transactionDetailsLoadingStatus"],[1,"bb-text-bold","bb-block","bb-block--sm"],M,[3,"transaction","loadingStatus"],[1,"bb-transaction-list-item-detail-additional-info"],["data-role","transaction-notes",3,"transaction","isEditingNotes","isSavingNotes","isEditingNotesChange","changeNotes","deleteNote"],[1,"modal-header"],["id","modal-basic-title","data-role","delete-note-modal-header",1,"modal-title"],C,[1,"modal-body"],["data-role","delete-note-modal-subHeader"],k,[1,"modal-footer"],[1,"bb-button-bar"],["bbButton","","color","danger","data-role","delete-note-modal-delete-button",1,"bb-button-bar__button",3,"click"],ue,["bbButton","","color","link","data-role","delete-note-modal-cancel-button",1,"bb-button-bar__button",3,"click"],ge,[1,"bb-text-align-left"],F,Pe,Le,J,["loaderSize","lg"]]},template:function(t,o){1&t&&(e.GkF(0,0),e.YNc(1,uE,26,18,"ng-template",1),e.TgZ(2,"bb-modal-ui",2),e.NdJ("cancel",function(){return o.closeModal()}),e.GkF(3,3),e.qZA(),e.YNc(4,dE,12,0,"ng-template",4),e.YNc(5,AE,10,0,"ng-template",null,5,e.W1O),e.YNc(7,pE,1,0,"ng-template",null,6,e.W1O)),2&t&&(e.Q6J("bbHostRef",o.hostRef),e.xp6(2),e.Q6J("isOpen",o.deleteNoteModalActive),e.xp6(1),e.Q6J("bbHostRef",o.hostRef))},directives:function(){return[b.o,Wp,Te.w,Fp,f.G4,Kp,am,s_,H.zS,Z.Q,c_,v.Hq,r.O5,st,w.i,l_]},encapsulation:2,changeDetection:0}),n})(),c_=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbTransactionsListItemDetailsCustomizable",""]],features:[e.qOj]}),n})(),l_=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbTransactionsListConfirmationModalCustomizable",""]],features:[e.qOj]}),n})(),Oo=(()=>{class n{constructor(){this.isDetailsOpen=!1,this.isEditingNotes=!1,this.inquireAndDisputeTopics={inquire:"",dispute:""},this.detailsOpen=new e.vpe,this.close=new e.vpe,this.showInquiryAndDispute=!1,this.alertOptions={displayAlert:!1,displayStatus:""}}onAlertDismiss(){this.alertOptions={displayAlert:!1,displayStatus:""}}closeTransactionsCategory(t){t?this.alertOptions={displayAlert:!0,displayStatus:t}:this.onAlertDismiss()}closeDetails(){this.showInquiryAndDispute=!1,this.close.emit()}get isPending(){let t=!1;if(this.transaction&&this.transaction.billingStatus){const o=this.transaction.billingStatus.toUpperCase();t=o===ve.pending||o===ve.unbilled}return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transaction-details-modal"]],inputs:{isDetailsOpen:"isDetailsOpen",transaction:"transaction",showBillingStatus:"showBillingStatus",showChangeCategory:"showChangeCategory",checkImagesList:"checkImagesList",transactionDetailsLoadingStatus:"transactionDetailsLoadingStatus",inquireAndDisputeTopics:"inquireAndDisputeTopics"},outputs:{detailsOpen:"detailsOpen",close:"close"},decls:8,vars:3,consts:function(){let i,t,o,a,_;return i="Close dialog",t="An exchange rate has been applied",o="Transaction category was not changed",a="Transaction category changed successfully",_=" An exchange rate has been applied ",[[3,"isOpen","modalOptions","cancel"],["role","dialog"],["bbCustomModalHeader",""],["bbCustomModalBody",""],["tipContent",""],["type","button","aria-label",i,1,"close","bb-transaction-list-item-detail-header__close-button",3,"click"],["color","muted","name","clear"],[1,"bb-text-align-center"],[1,"bb-block","bb-block--md"],[1,"bb-stack","bb-stack--center"],["backgroundType","circle","size","large",3,"transaction"],[1,"bb-heading-2","bb-block","bb-block--md"],["data-role","list-details-amount",3,"showPlusSign","currency","amount"],[4,"ngIf"],["class","bb-block bb-block--md",4,"ngIf"],[1,"bb-block","bb-block--lg"],[3,"displayChangeCategory","transaction","categoryChange"],[1,"bb-block","bb-block--md","bb-text-align-left"],[3,"ngSwitch",4,"ngIf"],[3,"transaction","isEditingNotes","showInquiryAndDispute","checkImagesList","transactionDetailsLoadingStatus","inquireAndDisputeTopics","isPending","isEditingNotesChange","showInquiryAndDisputeChange",4,"ngIf"],["role","tooltip","name","exchange","size","md","triggers","hover click","placement","right","bbAccessibilityKeyboard","",1,"bb-transaction-list-item-detail-header__exchange-icon",3,"bbTooltip"],[1,"sr-only"],t,["data-role","list-details-booking-date",1,"break-word","text-small"],["color","warning",3,"text","abbr","circle"],[3,"ngSwitch"],["title",o,3,"dismissible","close",4,"ngSwitchCase"],["modifier","success","title",a,3,"dismissible","close",4,"ngSwitchCase"],["title",o,3,"dismissible","close"],["modifier","success","title",a,3,"dismissible","close"],[3,"transaction","isEditingNotes","showInquiryAndDispute","checkImagesList","transactionDetailsLoadingStatus","inquireAndDisputeTopics","isPending","isEditingNotesChange","showInquiryAndDisputeChange"],[1,"bb-text-align-left"],_]},template:function(t,o){1&t&&(e.TgZ(0,"bb-modal-ui",0),e.NdJ("cancel",function(){return o.closeDetails()}),e.TgZ(1,"div",1)(2,"bb-modal-header-ui"),e.YNc(3,mE,2,0,"ng-template",2),e.qZA(),e.TgZ(4,"bb-modal-body-ui"),e.YNc(5,fE,17,12,"ng-template",3),e.qZA()()(),e.YNc(6,IE,3,0,"ng-template",null,4,e.W1O)),2&t&&e.Q6J("isOpen",o.isDetailsOpen)("modalOptions",e.DdM(2,t_))},directives:[H.zS,H.Rb,b.o,H.KF,Na,f.G4,a_,Ke.F,Te.w,r_,H.cA,H.Qd,r.O5,st,w.i,r.RF,r.n9],pipes:[r.uU],encapsulation:2,changeDetection:0}),n})(),u_=(()=>{class n{constructor(t){this.transactionsIconCategoriesFactory=t,this.showBillingStatus=!1,this.hostRef=this}get subtitle(){return void 0===this.transaction?"":this.transactionCategoryIcon?this.transactionCategoryIcon.title:""}get title(){return this.transaction?this.transaction.merchant&&this.transaction.merchant.name?this.transaction.merchant.name:this.transaction.counterPartyName||this.transaction.description||"":""}ngOnInit(){if(void 0===this.transaction)throw new Error(`"transaction" input is required in "${this.constructor.name}"`);this.transactionCategoryIcon=this.transactionsIconCategoriesFactory.create(this.transaction)}showCategory(){return!!this.transaction&&(this.transaction.isPending||!!this.ownCategory)}get ownCategory(){return this.transaction&&this.transaction.category}convertToNumber(t){return Number(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(tn))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transaction-header"]],inputs:{transaction:"transaction",showBillingStatus:"showBillingStatus"},decls:25,vars:16,consts:function(){let i;return i="Running balance",[[1,"bb-transaction-header","bb-stack","w-auto","row"],[1,"bb-stack__item","col-6","text-break"],[1,"bb-stack"],[1,"bb-transaction-item-category","bb-stack__item"],[4,"ngIf","ngIfElse"],["transactionIcon",""],[1,"bb-transaction-item-description","bb-stack__item"],[1,"bb-transaction-item-description__title"],[1,"bb-transaction-item-description__subtitle"],[1,"bb-stack__item","col-6"],[1,"bb-stack","bb-transaction-list-header-amount"],[1,"bb-stack__item","bb-stack__item--push-right","bb-text-align-right","bb-transaction-list-header-amount__wrapper"],[1,"bb-stack","bb-stack--wrap"],[1,"bb-stack__item","bb-stack__item--push-right"],[1,"bb-stack__item","bb-stack__item--push-right-lg-down","bb-transaction-list-header-dispute-status-tag"],[3,"status"],[1,"bb-stack__item","bb-stack__item--push-right","bb-transaction-list-header-amount__value",3,"ngClass"],[3,"showPlusSign","currency","amount"],["class","bb-text-support text-small",4,"ngIf"],["name","watch-later","color","inactive","backgroundType","square",1,"bb-transaction-category","bb-transaction-category--pending"],["backgroundType","circle",3,"transaction"],[1,"bb-text-support","text-small"],[1,"sr-only"],i,["bbTooltip","Running balance","placement","left","triggers","hover",3,"currency","amount"]]},template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,hE,2,0,"ng-container",4),e.YNc(5,OE,1,1,"ng-template",null,5,e.W1O),e.qZA(),e.TgZ(7,"div",6)(8,"div",7),e._uU(9),e.ALo(10,"titlecase"),e.qZA(),e.TgZ(11,"div",8),e._uU(12),e.ALo(13,"titlecase"),e.qZA()()()(),e.TgZ(14,"div",9)(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",12)(20,"div",14),e._UZ(21,"bb-dispute-status-tag",15),e.qZA(),e.TgZ(22,"div",16),e._UZ(23,"bb-amount-ui",17),e.qZA()()()(),e.YNc(24,RE,4,2,"div",18),e.qZA()()()()),2&t){const a=e.MAs(6);e.xp6(4),e.Q6J("ngIf","UNBILLED"===(null==o.transaction?null:o.transaction.billingStatus)||"PENDING"===(null==o.transaction?null:o.transaction.billingStatus))("ngIfElse",a),e.xp6(5),e.hij(" ",e.lcZ(10,10,o.title)," "),e.xp6(3),e.hij(" ",e.lcZ(13,12,o.subtitle)," "),e.xp6(9),e.Q6J("status",null==o.hostRef.transaction?null:o.hostRef.transaction.disputeStatus),e.xp6(1),e.Q6J("ngClass",e.VKq(14,DE,o.convertToNumber((null==o.transaction||null==o.transaction.transactionAmountCurrency?null:o.transaction.transactionAmountCurrency.amount)||"0")>0)),e.xp6(1),e.Q6J("showPlusSign",!0)("currency",(null==o.transaction||null==o.transaction.transactionAmountCurrency?null:o.transaction.transactionAmountCurrency.currencyCode)||"")("amount",(null==o.transaction||null==o.transaction.transactionAmountCurrency?null:o.transaction.transactionAmountCurrency.amount)||0),e.xp6(1),e.Q6J("ngIf",null==o.hostRef.transaction?null:o.hostRef.transaction.runningBalance)}},directives:[b.o,Na,Jp,f.G4,r.O5,r.mk,w.i],pipes:[r.rS],encapsulation:2}),n})(),Ro=(()=>{class n{constructor(t){this.showDetailsConfig=t,this.showBillingStatus=!1,this.detailsOpen=new e.vpe,this.hostRef=this,this.isDetailsOpen=!1,this.isEditingNotes=!1,this.alertOptions={displayAlert:!1,displayStatus:""},null==this.showDetailsConfig&&(this.showDetailsConfig=!0)}openDetails(){this.isDetailsOpen=!0,this.transaction&&this.detailsOpen.emit(this.transaction)}closeDetails(){this.isDetailsOpen=!1,this.onAlertDismiss()}ngOnInit(){if(void 0===this.transaction)throw new Error(`"transaction" input is required in "${this.constructor.name}"`)}showCategory(){return this.isPending||!!this.ownCategory}get isPending(){let t=!1;if(this.transaction&&this.transaction.billingStatus){const o=this.transaction.billingStatus.toUpperCase();t=o===ve.pending||o===ve.unbilled}return t}get ownCategory(){return this.transaction&&this.transaction.category}closeTransactionsCategory(t){t?this.alertOptions={displayAlert:!0,displayStatus:t}:this.onAlertDismiss()}onAlertDismiss(){this.alertOptions={displayAlert:!1,displayStatus:""}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Vt,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transactions-list-item"]],inputs:{transaction:"transaction",showBillingStatus:"showBillingStatus",showChangeCategory:"showChangeCategory",checkImagesList:"checkImagesList",transactionDetailsLoadingStatus:"transactionDetailsLoadingStatus",inquireAndDisputeTopics:"inquireAndDisputeTopics"},outputs:{detailsOpen:"detailsOpen"},decls:3,vars:1,consts:function(){let i;return i=" Select transaction ",[["bbTransactionsListItemCustomizable","",3,"bbHostRef"],["bbTransactionsListItemCustomizable",""],["bbTransactionsListItemHeaderCustomizable",""],["bbAccessibilityKeyboard","",3,"click"],["bbTransactionsListItemHeaderCustomizable","",3,"bbHostRef"],["role","button",1,"sr-only"],i,[3,"transaction","showBillingStatus","showChangeCategory","checkImagesList","transactionDetailsLoadingStatus","isDetailsOpen","inquireAndDisputeTopics","detailsOpen","close",4,"ngIf"],[3,"transaction","showBillingStatus","showChangeCategory","checkImagesList","transactionDetailsLoadingStatus","isDetailsOpen","inquireAndDisputeTopics","detailsOpen","close"],[3,"showBillingStatus","transaction"]]},template:function(t,o){1&t&&(e.GkF(0,0),e.YNc(1,yE,5,2,"ng-template",1),e.YNc(2,vE,1,2,"ng-template",2)),2&t&&e.Q6J("bbHostRef",o.hostRef)},directives:function(){return[Oo,u_,A_,st,d_,r.O5]},encapsulation:2}),n})(),d_=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbTransactionsListItemHeaderCustomizable",""]],features:[e.qOj]}),n})(),A_=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbTransactionsListItemCustomizable",""]],features:[e.qOj]}),n})(),p_=(()=>{class n{constructor(){this.detailsOpen=new e.vpe,this.hostRef=this}ngOnInit(){if(void 0===this.transactions)throw new Error(`"transactions" input is required in "${this.constructor.name}"`)}get daysElapsed(){if(void 0===this.transactionDate)return;let t=new Date(this.transactionDate);if(Number.isNaN(t.getTime()))return;const a=this.roundDate(new Date);return t=this.roundDate(t),Math.floor((a.getTime()-t.getTime())/864e5)}onDetailOpen(t){this.detailsOpen.emit(t)}roundDate(t){return t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t}trackByFn(t,o){return o.id}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transactions-list-item-group"]],inputs:{transactionDate:"transactionDate",transactions:"transactions",showChangeCategory:"showChangeCategory",checkImagesList:"checkImagesList",transactionDetailsLoadingStatus:"transactionDetailsLoadingStatus",inquireAndDisputeTopics:"inquireAndDisputeTopics"},outputs:{detailsOpen:"detailsOpen"},decls:2,vars:1,consts:function(){let i,t;return i="{VAR_PLURAL, plural, =0 {Today} =1 {Yesterday} other {{INTERPOLATION}}}",i=e.Zx4(i,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),t=" " + i + " ",[["bbTransactionsListItemGroupCustomizable","",3,"bbHostRef"],["bbTransactionsListItemGroupCustomizable",""],["role","list"],["class","bb-block--md","role","listitem","aria-live","polite","aria-relevant","all",4,"ngFor","ngForOf","ngForTrackBy"],["role","listitem","aria-live","polite","aria-relevant","all",1,"bb-block--md"],["role","heading","aria-level","2","class","bb-transaction-group__date bb-block--md bb-subheader","tabindex","0",4,"ngIf"],[3,"showChangeCategory","transaction","checkImagesList","transactionDetailsLoadingStatus","inquireAndDisputeTopics","detailsOpen"],["role","heading","aria-level","2","tabindex","0",1,"bb-transaction-group__date","bb-block--md","bb-subheader"],t]},template:function(t,o){1&t&&(e.GkF(0,0),e.YNc(1,PE,3,2,"ng-template",1)),2&t&&e.Q6J("bbHostRef",o.hostRef)},directives:function(){return[Ro,m_,r.sg,r.O5]},pipes:function(){return[r.uU]},encapsulation:2}),n})(),m_=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbTransactionsListItemGroupCustomizable",""]],features:[e.qOj]}),n})(),S_=(()=>{class n{constructor(t){this.showDetailsConfig=t,this.loadingState=$.Loaded,this.loadMore=new e.vpe,this.pageChange=new e.vpe,this.detailsOpen=new e.vpe,this.hostRef=this,this.isDetailsOpen=!1,this.unsubscribeSubject$=new T.x,null==this.showDetailsConfig&&(this.showDetailsConfig=!0)}hasItems(){return void 0!==this.numberOfResultsFound?this.numberOfResultsFound>0:this.transactionsGroupedByDate&&this.transactionsGroupedByDate.length>0}get isLoading(){return this.loadingState!==$.Loaded}get isLoadingMore(){return this.loadingState===$.LoadingMore||this.loadingState===$.LoadingPage}get isPaginationPaged(){return this.paginationType===fe.PAGINATION}get isPaginationLoadMore(){return this.paginationType===fe.LOAD_MORE}get isInfiniteScrollPagination(){return this.paginationType===fe.INFINITE_SCROLL}hasLoadedAll(){return this.transactionsList&&Ue.hasLoadedAll(this.transactionsList)}onLoadMore(){this.loadMore.emit()}onPageChange(t){this.pageChange.emit(t)}onDetailOpen(t){this.isDetailsOpen=!0,this.transaction=t,this.detailsOpen.emit(t)}closeDetails(){this.isDetailsOpen=!1}ngOnChanges(t){t.transactionsList&&(this.transactionsGroupedByDate=Object.entries(Xn.groupByDate(this.transactionsList)))}trackByFn(t,o){return o[0]}ngAfterViewInit(){this.isInfiniteScrollPagination&&(0,Ub.R)(window,"scroll").pipe((0,ee.R)(this.unsubscribeSubject$)).subscribe(()=>{if(!this.hasLoadedAll()&&!this.isLoading){const t=document.documentElement;1.5*t.offsetHeight+t.scrollTop>=t.scrollHeight&&this.onLoadMore()}})}ngOnDestroy(){this.unsubscribeSubject$.next(),this.unsubscribeSubject$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Vt,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transactions-list"]],inputs:{transactionsList:"transactionsList",currentPage:"currentPage",pageSize:"pageSize",loadingState:"loadingState",maxNavPages:"maxNavPages",paginationType:"paginationType",numberOfResultsFound:"numberOfResultsFound",showChangeCategory:"showChangeCategory",checkImagesList:"checkImagesList",inquireAndDisputeTopics:"inquireAndDisputeTopics",transactionDetailsLoadingStatus:"transactionDetailsLoadingStatus"},outputs:{loadMore:"loadMore",pageChange:"pageChange",detailsOpen:"detailsOpen"},features:[e.TTD],decls:10,vars:2,consts:function(){let i,t,o,a,_,s,c;return i=" All transactions have been loaded. ",t="Load more",o="All transactions have been loaded.",a="No Transactions Found",_="You don't have any transactions to be displayed.",s="No Results Found",c="We can\u2019t find what you\u2019re looking for. Please try a different criteria.",[[4,"ngIf","ngIfElse"],["emptyState",""],["loadingState",""],["bbTransactionsListWithInfiniteScroll",""],["bbTransactionsListListCustomizable",""],["bbTransactionsListPaginationCustomizable",""],["bbTransactionsListEmptyStateCustomizable",""],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf","ngIfElse"],["normalList",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["bbTransactionsListListCustomizable","",3,"bbHostRef"],["bbTransactionsListPaginationCustomizable","",3,"bbHostRef"],["bbTransactionsListEmptyStateCustomizable","",3,"bbHostRef"],["loaderSize","lg"],[1,"bb-list","bb-block--md"],["class","bb-list__item",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["class","bb-d-block bb-text-align-center","tabindex","0",4,"ngIf"],[1,"bb-list__item"],[3,"checkImagesList","transactions","transactionDate","showChangeCategory","transactionDetailsLoadingStatus","inquireAndDisputeTopics","detailsOpen"],["tabindex","0",1,"bb-d-block","bb-text-align-center"],i,[1,"bb-block","bb-text-align-center"],["class","bb-pagination",3,"page","boundaryLinks","directionLinks","totalItems","itemsPerPage","maxNavPages","pageChange",4,"ngIf"],["data-role","load-more",4,"ngIf"],[1,"bb-pagination",3,"page","boundaryLinks","directionLinks","totalItems","itemsPerPage","maxNavPages","pageChange"],["data-role","load-more"],["color","link",3,"isLoading","from","size","totalCount","paramChange",4,"ngIf"],["color","link",3,"isLoading","from","size","totalCount","paramChange"],t,o,[1,"card-body","bb-state-container"],["title",a,"subtitle",_,"iconSize","xl","iconModifier","swap-horiz",4,"ngIf","ngIfElse"],["filterSearchEmpty",""],["title",a,"subtitle",_,"iconSize","xl","iconModifier","swap-horiz"],["title",s,"subtitle",c,"iconSize","xl","iconModifier","search"]]},template:function(t,o){if(1&t&&(e.YNc(0,wE,2,2,"ng-container",0),e.YNc(1,kE,1,1,"ng-template",null,1,e.W1O),e.YNc(3,KE,1,0,"ng-template",null,2,e.W1O),e.YNc(5,ZE,4,4,"ng-template",null,3,e.W1O),e.YNc(7,YE,2,2,"ng-template",4),e.YNc(8,qE,3,2,"ng-template",5),e.YNc(9,eT,4,2,"ng-template",6)),2&t){const a=e.MAs(4);e.Q6J("ngIf",!o.hostRef.isLoading||o.hostRef.isLoadingMore)("ngIfElse",a)}},directives:function(){return[Z.Q,p_,It.Jb,Fe.K,ne.s,r.O5,r.tP,b_,g_,E_,r.sg]},encapsulation:2}),n})(),g_=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbTransactionsListPaginationCustomizable",""]],features:[e.qOj]}),n})(),b_=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbTransactionsListListCustomizable",""]],features:[e.qOj]}),n})(),E_=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbTransactionsListEmptyStateCustomizable",""]],features:[e.qOj]}),n})();const cn={name:"All"};let T_=(()=>{class n{constructor(t){this.enumValuesService=t,this.filter=new e.vpe,this.closeFilter=new e.vpe,this.filterCount=new e.vpe,this.hideBillingStatus=!1,this.availableFilters=[],this.hostRef=this,this.availableFilterEnum=E,this.transactionsFilterForm=new I.cw({creditDebitIndicator:new I.NI(Wn[0]),types:new I.NI,billingStatus:new I.NI,amount:new I.cw({from:new I.NI(void 0,I.kI.min(0)),to:new I.NI(void 0,I.kI.min(0))}),date:new I.cw({from:new I.NI(""),to:new I.NI("")}),categories:new I.NI,checkSerialNumber:new I.cw({from:new I.NI(void 0,I.kI.min(0)),to:new I.NI(void 0,I.kI.min(0))})}),this.creditDebitIndicatorOptions=Wn,this.subscriptions=new O.w0,this.setDefaultAllOption=a=>_=>{const s=this.transactionsFilterForm.get(a);s&&s.setValue(_[0])};const o=a=>[cn,...a];this.transactionTypeOptions=this.enumValuesService.getEnumValues("type").pipe((0,g.U)(o),(0,L.K)(()=>(0,R.of)(dp))),this.billingStatusOptions=this.enumValuesService.getEnumValues("billingStatus").pipe((0,g.U)(o),(0,L.K)(()=>(0,R.of)(Ap)))}ngOnInit(){var t,o;this.subscriptions.add(this.transactionTypeOptions.subscribe(this.setDefaultAllOption("types"))),this.subscriptions.add(this.billingStatusOptions.subscribe(this.setDefaultAllOption("billingStatus"))),this.subscriptions.add(null===(t=this.serialNumberFormGroup)||void 0===t?void 0:t.valueChanges.subscribe(()=>{var a,_,s,c,l,u;null===(a=this.fromSerialNumber)||void 0===a||a.setValidators(I.kI.max(null===(_=this.toSerialNumber)||void 0===_?void 0:_.value)),null===(s=this.toSerialNumber)||void 0===s||s.setValidators(I.kI.min((null===(c=this.fromSerialNumber)||void 0===c?void 0:c.value)||0)),null===(l=this.fromSerialNumber)||void 0===l||l.updateValueAndValidity({emitEvent:!1}),null===(u=this.toSerialNumber)||void 0===u||u.updateValueAndValidity({emitEvent:!1})})),this.subscriptions.add(null===(o=this.amountFormGroup)||void 0===o?void 0:o.valueChanges.subscribe(()=>{var a,_,s,c,l,u;null===(a=this.fromAmount)||void 0===a||a.setValidators(I.kI.max(null===(_=this.toAmount)||void 0===_?void 0:_.value)),null===(s=this.toAmount)||void 0===s||s.setValidators(I.kI.min((null===(c=this.fromAmount)||void 0===c?void 0:c.value)||0)),null===(l=this.fromAmount)||void 0===l||l.updateValueAndValidity({emitEvent:!1}),null===(u=this.toAmount)||void 0===u||u.updateValueAndValidity({emitEvent:!1})}))}ngOnDestroy(){this.subscriptions.unsubscribe()}compareByValue(t,o){if(t&&o)return t.value===o.value}onFilter(t){this.filterCount.emit(this.activeFilterCounter),this.filter.emit(t)}get activeFilterCounter(){return[this.fromDate,this.toDate,this.fromAmount,this.toAmount,this.fromSerialNumber,this.toSerialNumber,this.creditDebitIndicator,this.transactionType,this.billingStatus].reduce((a,_)=>this.isFilterApplied(_)?++a:a,0)}isFilterApplied(t){return"object"==typeof(null==t?void 0:t.value)&&null!==t.value?JSON.stringify(t.value)!==JSON.stringify(cn):(null==t?void 0:t.valid)&&(!!t.value||0===t.value)}onClearFilter(){this.transactionsFilterForm.reset({creditDebitIndicator:Wn[0],types:cn,billingStatus:cn,date:{from:"",to:""}}),this.transactionsFilterForm.markAsPristine(),this.onFilter({})}onCloseFilter(){this.closeFilter.emit()}get dateFormGroup(){return this.transactionsFilterForm.get("date")}get fromDate(){var t;return null===(t=this.dateFormGroup)||void 0===t?void 0:t.get("from")}get toDate(){var t;return null===(t=this.dateFormGroup)||void 0===t?void 0:t.get("to")}get amountFormGroup(){return this.transactionsFilterForm.get("amount")}get fromAmount(){var t;return null===(t=this.amountFormGroup)||void 0===t?void 0:t.get("from")}get toAmount(){var t;return null===(t=this.amountFormGroup)||void 0===t?void 0:t.get("to")}get serialNumberFormGroup(){return this.transactionsFilterForm.get("checkSerialNumber")}get fromSerialNumber(){var t;return null===(t=this.serialNumberFormGroup)||void 0===t?void 0:t.get("from")}get toSerialNumber(){var t;return null===(t=this.serialNumberFormGroup)||void 0===t?void 0:t.get("to")}get creditDebitIndicator(){return this.transactionsFilterForm.get("creditDebitIndicator")}get transactionType(){return this.transactionsFilterForm.get("types")}get billingStatus(){return this.transactionsFilterForm.get("billingStatus")}formatDateToString(t){if(t&&new Date(t).getTime()){const o=new Date(t);return new Date(o.getFullYear(),o.getMonth(),o.getDate()).toISOString()}}isFieldValid(t,o){var a;const _=null===(a=this.transactionsFilterForm.get(t))||void 0===a?void 0:a.get(o);return!!(null==_?void 0:_.valid)||!!(null==_?void 0:_.untouched)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(fa))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transactions-filter"]],inputs:{hideBillingStatus:"hideBillingStatus",availableFilters:"availableFilters"},outputs:{filter:"filter",closeFilter:"closeFilter",filterCount:"filterCount"},decls:2,vars:1,consts:function(){let i,t,o,a,_,s,c,l,u,A,m,h,y,M,C,k,ue,ge,F,Pe,Le;return i="Apply",t=" Apply ",o="Close",a=" Close ",_="Clear filters",s="Start date",c="End date",l="Credit or debit",u="" + "\ufffd#7\ufffd" + "Min." + "\ufffd/#7\ufffd" + " amount ",A="From",m="" + "\ufffd#13\ufffd" + "Max." + "\ufffd/#13\ufffd" + " amount ",h="To",y=" Maximum amount cannot be smaller than the minimum amount ",M="Transaction type",C="Billing status",k=" First check " + "\ufffd#7\ufffd" + "N\xBA" + "\ufffd/#7\ufffd" + "",ue="From",ge=" Last check " + "\ufffd#13\ufffd" + "N\xBA" + "\ufffd/#13\ufffd" + "",F="To",Pe=" Last check number cannot be smaller than first check number ",Le=" Clear filters ",[["bbTransactionsListFilterCustomizable","",3,"bbHostRef"],["bbTransactionsListFilterCustomizable",""],[1,"bb-transactions-list-filter"],["novalidate","","autocomplete","off",1,"card-body",3,"formGroup","ngSubmit"],[1,"bb-block","bb-block--sm"],[1,"row"],["class","col-lg-8",4,"ngIf"],["class","col-lg-4",4,"ngIf"],["class","col-lg-6 form-group","bbDynamicId","",4,"ngIf"],["class","col-lg-6",4,"ngIf"],["class","col-lg-6 form-group",4,"ngIf"],[1,"bb-button-bar","bb-button-bar--reverse"],["bbButton","","type","submit","color","primary","data-role","apply","title",i,1,"bb-button-bar__button"],t,["bbButton","","type","button","color","secondary","data-role","cancel","title",o,1,"bb-button-bar__button",3,"click"],a,["bbButton","","type","button","color","link","class","bb-button-bar__button","data-role","clear-all","title",_,3,"click",4,"ngIf"],[1,"col-lg-8"],["formGroupName","date",1,"row"],[1,"col-12","col-sm-6"],[1,"form-group"],["name","dateRange","data-role","start-date","label",s,"datepickerDescribedby","startDatepickerDescribedbyLabel","formControlName","from",3,"maxDate"],["name","dateRange","data-role","end-date","label",c,"datepickerDescribedby","endDatepickerDescribedbyLabel","formControlName","to",3,"minDate"],[1,"col-lg-4"],["label",l,"data-role","credit-debit-indicator-label","displayAttributePath","name","formControlName","creditDebitIndicator",3,"options","compareWithFn"],["bbDynamicId","",1,"col-lg-6","form-group"],["amountGroup",""],["formGroupName","amount",1,"bb-stack"],[1,"bb-stack__item","bb-transactions-list-filter__field"],["bbDynamicId",""],["fromAmountLabel",""],u,["title","Minimum"],["formControlName","from","data-role","amount-from","placeholder",A,3,"aria-labelledby","aria-describedby","min"],["toAmountLabel",""],m,["title","Maximum"],["formControlName","to","data-role","amount-to","placeholder",h,3,"aria-labelledby","aria-describedby","min"],[3,"showErrors","messageId"],y,[1,"col-lg-6"],["label",M,"data-role","transaction-type-label","displayAttributePath","name","formControlName","types",3,"options","compareWithFn"],["label",C,"data-role","billing-status-label","displayAttributePath","name","formControlName","billingStatus",3,"options","compareWithFn"],[1,"col-lg-6","form-group"],["formGroupName","checkSerialNumber","bbDynamicId","",1,"bb-stack"],["rangeGroup",""],["fromCheckLabel",""],k,["title","Number"],["formControlName","from","data-role","check-from","placeholder",ue,3,"aria-labelledby","aria-describedby","min"],["toCheckLabel",""],ge,["formControlName","to","data-role","check-to","placeholder",F,3,"aria-labelledby","aria-describedby","min"],Pe,["bbButton","","type","button","color","link","data-role","clear-all","title",_,1,"bb-button-bar__button",3,"click"],Le]},template:function(t,o){1&t&&(e.GkF(0,0),e.YNc(1,cT,18,8,"ng-template",1)),2&t&&e.Q6J("bbHostRef",o.hostRef)},directives:function(){return[Pt.sO,fo.Pp,Io.l,Rt.d,C_,I._Y,I.JL,I.sg,r.O5,I.x0,Pt.jC,I.JJ,I.u,Pt.Mt,$n,v.Hq]},pipes:function(){return[r.Ov]},encapsulation:2,changeDetection:0}),n})(),C_=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbTransactionsListFilterCustomizable",""]],features:[e.qOj]}),n})(),N_=(()=>{class n extends rm{constructor(){super(...arguments),this.print=new e.vpe,this.hideBillingStatus=!1,this.hostRef=this,this.activeFilters=0}onPrint(){this.print.emit()}onFilterCount(t){this.activeFilters=t}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transactions-controls"]],inputs:{hideBillingStatus:"hideBillingStatus"},outputs:{print:"print"},features:[e.qOj],decls:3,vars:1,consts:function(){let i,t,o,a,_,s,c,l;return i=" Search transaction filter ",t="Search",o="search",a="Filters applied",_="Filters",s="Filter",c="Print",l="available export types",[["bbTransactionsListControlsCustomizable","",3,"bbHostRef"],["bbTransactionsListControlsCustomizable",""],["bbTransactionsListControlsButtonsCustomizable",""],[1,"card-header",3,"ngClass"],[1,"bb-stack","bb-stack--wrap"],[1,"bb-transaction-list-controls__search-box","bb-stack__item"],[1,"input-group"],["bbDynamicId","",1,"sr-only"],["searchLabel",""],i,["placeholder",t,"searchLabel",o,3,"showSearch","showClear","aria-labelledby","submit","clear"],[1,"bb-stack__item","bb-stack__item--fill--md-up","align-self-start","bb-transaction-list-controls__filter-buttons"],[1,"bb-stack"],[1,"bb-stack__item","bb-stack__item--fill--md-up"],["bbButton","","data-role","filter",3,"color","click",4,"ngIf"],["bbTransactionsListControlsButtonsCustomizable","",3,"bbHostRef"],[3,"hidden","hideBillingStatus","availableFilters","filter","filterCount","closeFilter"],["bbButton","","data-role","filter",3,"color","click"],["name","filter"],[1,"bb-transaction-list-controls__long-button"],a,[1,"bb-transaction-list-controls__short-button"],_,s,["bbButton","","aria-label",c,"color","secondary",1,"bb-stack__item",3,"circle","click"],["name","print"],["container","body","icon","expand-more","btnColor","secondary","ariaLabel",l,"icon","get-app","iconSize","md",3,"btnCircle",4,"ngIf"],["container","body","icon","expand-more","btnColor","secondary","ariaLabel",l,"icon","get-app","iconSize","md",3,"btnCircle"],["bbDropdownMenuItem",""],["role","menuitem","class","dropdown-item","href","javaScript:void(0);",3,"click",4,"ngFor","ngForOf"],["role","menuitem","href","javaScript:void(0);",1,"dropdown-item",3,"click"]]},template:function(t,o){1&t&&(e.GkF(0,0),e.YNc(1,AT,15,12,"ng-template",1),e.YNc(2,gT,3,2,"ng-template",2)),2&t&&e.Q6J("bbHostRef",o.hostRef)},directives:function(){return[nt.B,b.o,T_,Se.N9,f_,r.mk,$n,r.O5,v.Hq,I_,Se.i4,r.sg]},encapsulation:2,changeDetection:0}),n})(),f_=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbTransactionsListControlsCustomizable",""]],features:[e.qOj]}),n})(),I_=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbTransactionsListControlsButtonsCustomizable",""]],features:[e.qOj]}),n})(),h_=(()=>{class n{constructor(){this.loadingState=$.Loaded,this.detailsOpen=new e.vpe,this.hostRef=this}get isLoading(){return this.loadingState!==$.Loaded}paginationOnTop(){if(0===this.currentPage)return!0;if(this.currentPage&&this.currentPage>0){if(this.paginationType===fe.PAGINATION)return!1;if(this.paginationType===fe.LOAD_MORE||this.paginationType===fe.INFINITE_SCROLL)return!0}return!1}onDetailOpen(t){this.detailsOpen.emit(t)}trackByFn(t,o){return o.id}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-pending-transactions-list"]],inputs:{transactionsList:"transactionsList",showPendingOnTop:"showPendingOnTop",currentPage:"currentPage",pageSize:"pageSize",paginationType:"paginationType",loadingState:"loadingState",maxNavPages:"maxNavPages",showChangeCategory:"showChangeCategory",inquireAndDisputeTopics:"inquireAndDisputeTopics"},outputs:{detailsOpen:"detailsOpen"},decls:6,vars:2,consts:function(){let i,t,o;return i=" A pending transaction is a payment that has been authorized but has not been processed. For\n      instance, a transaction that is still waiting for the merchant to process it or a transaction requiring overnight\n      processing because it was made after the cutoff time of the financial institution.",t="Pending",o=" A pending transaction is a payment that has been authorized but has not been processed. For instance, a transaction that is still waiting for the merchant to process it or a transaction requiring overnight processing because it was made after the cutoff time of the financial institution. ",[[4,"ngIf","ngIfElse"],["bbPendingTransactionsListCustomizable",""],["tipContent",""],["loadingState",""],["bbPendingTransactionsListCustomizable","",3,"bbHostRef",4,"ngIf"],["bbPendingTransactionsListCustomizable","",3,"bbHostRef"],[1,"bb-block","bb-block--md"],["role","heading","aria-level","2","aria-label",i,"tabindex","0",1,"bb-block","bb-block--md"],[1,"bb-transactions-list-pending-header","bb-block--md"],[1,"bb-subheader"],t,[1,"bb-transactions-list-pending-header__tooltip"],["role","tooltip","name","info","size","sm","placement","right","triggers","hover click","bbAccessibilityKeyboard","",3,"bbTooltip"],[1,"bb-list"],[1,"bb-list__item"],["class","bb-block--md",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bb-block--md"],[3,"transaction","showBillingStatus","showChangeCategory","inquireAndDisputeTopics","detailsOpen"],[1,"bb-text-align-left"],o,["loaderSize","lg"]]},template:function(t,o){if(1&t&&(e.YNc(0,ET,2,1,"ng-container",0),e.YNc(1,CT,11,3,"ng-template",1),e.YNc(2,NT,2,0,"ng-template",null,2,e.W1O),e.YNc(4,fT,1,0,"ng-template",null,3,e.W1O)),2&t){const a=e.MAs(5);e.Q6J("ngIf",!o.isLoading)("ngIfElse",a)}},directives:function(){return[b.o,Ro,Z.Q,r.O5,O_,st,w.i,r.sg]},encapsulation:2,changeDetection:0}),n})(),O_=(()=>{class n extends G.b{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbPendingTransactionsListCustomizable",""]],features:[e.qOj]}),n})(),R_=(()=>{class n extends $p{constructor(t,o,a,_,s,c,l,u,A){super(t,o,a,_,s,c,l,u,A),this.model=t,this.widgetProperties=o,this.cd=a,this.eventBusService=_,this.notificationService=s,this.pendingTransactionsService=c,this.transactionDetailsService=l,this.availableFiltersConfigService=u,this.showDetailsConfig=A,this.hostRef=this,this.PaginationType=fe,null==this.showDetailsConfig&&(this.showDetailsConfig=!0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Sa),e.Y36(Xt),e.Y36(e.sBO),e.Y36(tt.h),e.Y36(pe.gq),e.Y36(ba),e.Y36(en),e.Y36(Ca),e.Y36(Vt,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transactions-container"]],features:[e._Bn([Sa,ba,en]),e.qOj],decls:18,vars:13,consts:function(){let i,t,o,a,_,s,c,l,u,A,m,h,y;return i=" export not supported ",t=" export not supported ",o=" Maximum export threshold exceeded ",a=" Multiple products are selected ",_=" This export is not supported for your selection ",s=" This export is not supported for your selection ",c=" Please provide different filter\\search criteria ",l=" Please select only one product. For example, only one current account ",u="No Product Selected",A="Please select a product first.",m=" Retry ",h=" Transactions export is currently not available\n",y=" Please try again later\n",[[4,"ngIf"],["bbTransactionsNoAccountSelectedStateCustomizable","",3,"bbHostRef",4,"ngIf"],["errorState",""],["bbTransactionsNoAccountSelectedStateCustomizable",""],["bbTransactionsErrorStateCustomizable",""],["notificationServerErrorHeader",""],["notificationServerErrorMessage",""],["bbPaginatedTransactionsContainer",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mb-4"],["title","Couldn't load more transactions","modifier","error","attr.data-role","alert-error",4,"ngFor","ngForOf"],["title","Couldn't load more transactions","modifier","error","attr.data-role","alert-error"],[1,"alert-link",3,"routerLink","click"],[4,"ngIf","ngIfElse"],["notificationErrorUpdateHeader",""],["notificationErrorUpdateMessage",""],[3,"ngSwitch"],[4,"ngSwitchCase"],i,t,o,a,_,s,c,l,["bbTransactionsNoAccountSelectedStateCustomizable","",3,"bbHostRef"],["bbTransactionsErrorStateCustomizable","",3,"bbHostRef"],[1,"card"],[1,"card-body","bb-state-container"],["title",u,"subtitle",A,"iconSize","xl","iconModifier","list"],[1,"card-body","col-md-4","offset-md-4","bb-text-align-center"],[1,"bb-block","bb-block--md"],["title",""],["data-role","custom-error-state-message","class","bb-empty-state__message bb-empty-state",4,"ngFor","ngForOf"],["bbButton","",3,"click"],m,["data-role","custom-error-state-message",1,"bb-empty-state__message","bb-empty-state"],h,y,[1,"card","card-lg","bb-transactions-list-container"],[3,"isFilterApplied","hideBillingStatus","exportConfig","availableFilters","search","filter","print","export",4,"ngIf"],[3,"numberOfResultsFound","loadingState","isFilterApplied","isSearchApplied"],[1,"card-body"],[3,"transactionsList","currentPage","pageSize","paginationType","maxNavPages","loadingState","showChangeCategory","inquireAndDisputeTopics","detailsOpen",4,"ngIf"],[3,"transactionsList","checkImagesList","currentPage","pageSize","maxNavPages","loadingState","paginationType","numberOfResultsFound","showChangeCategory","transactionDetailsLoadingStatus","inquireAndDisputeTopics","loadMore","pageChange","detailsOpen"],[3,"isFilterApplied","hideBillingStatus","exportConfig","availableFilters","search","filter","print","export"],[3,"transactionsList","currentPage","pageSize","paginationType","maxNavPages","loadingState","showChangeCategory","inquireAndDisputeTopics","detailsOpen"]]},template:function(t,o){1&t&&(e.YNc(0,OT,3,5,"ng-container",0),e.ALo(1,"async"),e.ALo(2,"async"),e.YNc(3,wT,6,2,"ng-container",0),e.ALo(4,"async"),e.ALo(5,"async"),e.YNc(6,kT,1,1,"ng-container",1),e.ALo(7,"async"),e.YNc(8,KT,1,1,"ng-template",null,2,e.W1O),e.YNc(10,FT,3,0,"ng-template",3),e.YNc(11,WT,8,1,"ng-template",4),e.YNc(12,ZT,1,0,"ng-template",null,5,e.W1O),e.YNc(14,HT,1,0,"ng-template",null,6,e.W1O),e.YNc(16,QT,23,51,"ng-template",null,7,e.W1O)),2&t&&(e.Q6J("ngIf",e.lcZ(1,3,o.hostRef.paginationType)===o.PaginationType.INFINITE_SCROLL&&e.lcZ(2,5,o.selectedAccount)),e.xp6(3),e.Q6J("ngIf",e.lcZ(4,7,o.hostRef.paginationType)!==o.PaginationType.INFINITE_SCROLL&&e.lcZ(5,9,o.selectedAccount)),e.xp6(3),e.Q6J("ngIf",!e.lcZ(7,11,o.selectedAccount)))},directives:[Te.w,ne.s,N_,Ip,h_,S_,r.O5,r.tP,r.sg,S.yS,r.RF,r.n9,Vp,qp,v.Hq],pipes:[r.Ov],encapsulation:2,changeDetection:0}),n})(),D_=(()=>{class n extends sm{constructor(t,o){super(t,o),this.route=t,this.widgetProperties=o}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.gz),e.Y36(Xt))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transactions-list-widget"]],features:[e._Bn([_m,Xt]),e.qOj],decls:1,vars:20,consts:[[3,"googleAPIKey","selectedAccount","initialFilterOptions","initialSortOptions","pageSize","maxNavPages","paginationType","showControls","showChangeCategory","showPendingTransactionsOnTop","showCheckImage","showManageNotes","getOrPostEndpoints","enableDisputeAndInquiry","disputeByBillingStatus","disputeEligibilityDays","disputeTransactionTypes","inquireTopicId","disputeTopicId","availableFiltersConfig","transactionSelected","transactionsLoaded"]],template:function(t,o){1&t&&(e.TgZ(0,"bb-transactions-container",0),e.NdJ("transactionSelected",function(_){return o.onDetailOpen(_)})("transactionsLoaded",function(_){return o.onTransactionsLoaded(_)}),e.qZA()),2&t&&e.Q6J("googleAPIKey",o.googleAPIKey)("selectedAccount",o.selectedAccount)("initialFilterOptions",o.initialFilterOptions)("initialSortOptions",o.initialSortOptions)("pageSize",o.pageSize)("maxNavPages",o.maxNavPages)("paginationType",o.paginationType)("showControls",o.showControls)("showChangeCategory",o.showChangeCategory)("showPendingTransactionsOnTop",o.showPendingTransactionsOnTop)("showCheckImage",o.showCheckImage)("showManageNotes",o.showManageNotes)("getOrPostEndpoints",o.getOrPostEndpoints)("enableDisputeAndInquiry",o.enableDisputeAndInquiry)("disputeByBillingStatus",o.disputeByBillingStatus)("disputeEligibilityDays",o.disputeEligibilityDays)("disputeTransactionTypes",o.disputeTransactionTypes)("inquireTopicId",o.inquireTopicId)("disputeTopicId",o.disputeTopicId)("availableFiltersConfig",o.availableFiltersConfig)},directives:[R_],encapsulation:2}),n})();const VT=[jn,f.i7,v.hJ,fo.CS,ne.P,b.Q,Pt.tE,Io.L,Rt.w,Fe.C,Z.p,H.zk,It.UX,nt.F,rn.J,pe.PQ,Se.CK,w.z,v.hJ,Te.n,Ze.O,Ke.T,e_.J,Oe.IJ];let M_=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:Vt,useValue:t.showDetails}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[We.e4,X.IK,Ht.VC,Yt.c$,Zt.ML],imports:[[S.Bz,r.ez,I.UX,...VT],jn,f.i7,v.hJ,fo.CS,ne.P,b.Q,Pt.tE,Io.L,Rt.w,Fe.C,Z.p,H.zk,It.UX,nt.F,rn.J,pe.PQ,Se.CK,w.z,v.hJ,Te.n,Ze.O,Ke.T,e_.J,Oe.IJ]}),n})(),y_=(()=>{class n{constructor(t){this.arrangementsHttpService=t,this.refresh$=new N.X(!1),this.arrangementIdParameter$=new P.t(1),this.arrangementId$=this.arrangementIdParameter$.pipe((0,re.x)(),(0,B.h)(o=>!!o)),this.loadingError$=new N.X(void 0),this.isLoading$=new N.X(!1),this.details$=(0,K.a)([this.arrangementId$,this.refresh$]).pipe((0,U.b)(()=>{this.loadingError$.next(void 0),this.isLoading$.next(!0)}),(0,W.w)(([o])=>this.arrangementsHttpService.getArrangementById({arrangementId:o}).pipe((0,L.K)(a=>(this.loadingError$.next(a),(0,R.of)(void 0))))),(0,U.b)(()=>this.isLoading$.next(!1)),(0,lt.d)(1))}setRequestParameters(t){t.subscribe(this.arrangementIdParameter$)}getDetails$(t){return this.arrangementIdParameter$.next(t),this.details$}refreshDetails(){this.refresh$.next(!0)}ngOnDestroy(){this.refresh$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(X.X4))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const ln=n=>void 0!==n.financialInstitutionId;let v_=(()=>{class n{constructor(t){this.financialInstitutionsHttpService=t}getAccountsWithExternalInfo$(t){const o=Array.isArray(t)?t:[t],a=this.getAssignedFinancialInstitutionIds(o);return a.length?this.getFinancialInstitutions$(a).pipe((0,g.U)(_=>Array.isArray(t)?o.map(s=>this.addExternalInfoToAccount(s,_)):this.addExternalInfoToAccount(t,_)),(0,L.K)(()=>(0,R.of)(t))):(0,R.of)(t)}getAssignedFinancialInstitutionIds(t){const a=t.filter(ln).map(_=>_.financialInstitutionId);return a.filter((_,s)=>-1===a.indexOf(_,s+1))}addExternalInfoToAccount(t,o){return Object.assign(Object.assign({},t),this.getExternalInfo(t,o))}getExternalInfo(t,o){return ln(t)?{financialInstitution:o.find(_=>_.id===t.financialInstitutionId)}:{}}getFinancialInstitutions$(t){return this.financialInstitutionsHttpService.getFinancialInstitutions({ids:t}).pipe((0,ei.j)("financialInstitutions"))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Gt.R6))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();p(8449);var Do=p(8451);function qT(n,i){if(1&n&&(e.TgZ(0,"div",4)(1,"div",5)(2,"span",6),e.SDv(3,7),e.qZA(),e._UZ(4,"bb-icon-ui",8),e.qZA(),e._UZ(5,"bb-amount-ui",9),e.qZA()),2&n){const t=e.oxw().ngIf;e.xp6(5),e.Q6J("currency",t.total.currency)("amount",t.total.aggregatedBalance)}}function jT(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"bb-product-kind-collapsible-ui",12),e.NdJ("isExpandedChange",function(a){e.CHM(t);const _=e.oxw(2).$implicit;return e.oxw(2).isExpanded[_.name||""]=a})("selectAccount",function(a){return e.CHM(t),e.oxw(4).selectAccount(a)})("selectProduct",function(a){return e.CHM(t),e.oxw(4).selectProduct.emit(a)}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=e.oxw(2).$implicit,o=e.oxw(2);e.Q6J("isExpanded",o.isExpanded[t.name||""])("showIcons",!0===e.lcZ(1,4,o.showIcons))("productKind",t),e.uIk("data-role",t.id)}}function XT(n,i){if(1&n&&(e.ynx(0),e.YNc(1,jT,2,6,"bb-product-kind-collapsible-ui",11),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",null==t||null==t.products?null:t.products.length)}}function eC(n,i){if(1&n&&(e.ynx(0),e.YNc(1,XT,2,1,"ng-container",10),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",t)}}function tC(n,i){if(1&n&&(e.ynx(0),e.YNc(1,qT,6,2,"div",2),e.YNc(2,eC,2,1,"ng-container",3),e.BQk()),2&n){const t=i.ngIf;e.xp6(1),e.Q6J("ngIf",t.total),e.xp6(1),e.Q6J("ngForOf",t.productKinds)}}function nC(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"bb-empty-state-ui",14),e.BQk()),2&n){const t=i.ngIf,o=e.oxw(2);e.xp6(1),e.Q6J("subtitle",o.processErrorMessages(t.messages))}}function oC(n,i){1&n&&e._UZ(0,"bb-loading-indicator-ui",15),2&n&&e.Q6J("text","Loading Accounts...")}function iC(n,i){if(1&n&&(e.YNc(0,nC,2,1,"ng-container",0),e.ALo(1,"async"),e.YNc(2,oC,1,1,"ng-template",null,13,e.W1O)),2&n){const t=e.MAs(3),o=e.oxw();e.Q6J("ngIf",e.lcZ(1,2,o.error))("ngIfElse",t)}}function aC(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",3),e._UZ(2,"bb-header-ui",4),e.TgZ(3,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().navigateToAccountManagement()}),e._UZ(4,"i",6),e.TgZ(5,"span"),e._uU(6),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("heading",t.myAccounts),e.xp6(4),e.Oqu(t.manageAccounts)}}function _C(n,i){if(1&n&&(e.TgZ(0,"div",7),e._UZ(1,"bb-header-ui",4),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("heading",t.myAccounts)}}function sC(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",14)(2,"bb-account-graphical-header",15),e.NdJ("repayInitiated",function(a){return e.CHM(t),e.oxw(2).onRepayInitiated(a)})("cashAdvanceInitiated",function(a){return e.CHM(t),e.oxw(2).onCashAdvanceInitiated(a)}),e.qZA()()()}if(2&n){const t=e.oxw().ngIf,o=e.oxw();e.xp6(2),e.Q6J("account",t)("canEditAlias",!1)("useShortCurrency",!0)("creditLimitViewMode",o.config.creditLimitViewMode)("canRepay",o.canInitiateRepay(t))("canCashInAdvance",o.canInitiateCashInAdvance(t))("creditCardBackgroundType","darkred-card")("aliasLevel",o.accountAliasDisplayingLevel)("isLogoVisible",!1)("showExternalInfo",void 0!==t.financialInstitutionId)("externalTitle",null==t.financialInstitution?null:t.financialInstitution.name)("externalLogo",null==t.financialInstitution?null:t.financialInstitution.logo)}}function rC(n,i){if(1&n&&e._UZ(0,"bb-account-header",16),2&n){const t=e.oxw().ngIf,o=e.oxw();e.Q6J("account",t)("showBalanceType",!1)("useShortCurrency",!0)("aliasLevel",o.accountAliasDisplayingLevel)("canEditAlias",!1)("showLogo",o.config.showAccountIcons)("showExternalInfo",void 0!==t.financialInstitutionId)("externalTitle",null==t.financialInstitution?null:t.financialInstitution.name)("externalLogo",null==t.financialInstitution?null:t.financialInstitution.logo)}}function cC(n,i){if(1&n&&(e.ynx(0),e.YNc(1,sC,3,12,"div",11),e.ALo(2,"bbIsProductKind"),e.YNc(3,rC,1,9,"ng-template",null,12,e.W1O),e.BQk()),2&n){const t=i.ngIf,o=e.MAs(4),a=e.oxw();e.xp6(1),e.Q6J("ngIf",e.xi3(2,2,t,a.config.productKindsWithGraphicalRepresentation))("ngIfElse",o)}}const lC=function(n){return[n]};function uC(n,i){if(1&n&&(e.TgZ(0,"a",17)(1,"span",18),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.Q6J("routerLink",e.VKq(2,lC,t.route)),e.xp6(2),e.Oqu(null==t?null:t.title)}}function fC(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"bb-account-info-property",9),e.NdJ("masked",function(a){const s=e.CHM(t).$implicit;return e.oxw(3).onPropertyMasked(s,a)}),e.qZA()()}if(2&n){const t=i.$implicit,o=e.oxw(3);e.uIk("data-role","account-info-container-"+t.type),e.xp6(1),e.Q6J("account",o.account)("property",t)("currencyFormat",o.currencyFormat)("dateFormat",o.dateFormat)("isMaskable",o.isPropertyMaskable(t))("isMasked",o.isPropertyMasked(t))}}function IC(n,i){if(1&n&&(e.TgZ(0,"div",6),e.YNc(1,fC,2,7,"div",7),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}const hC=function(n,i){return{"card-header":n,"bb-block bb-block--lg":i}};function OC(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",2)(2,"div",3)(3,"h3"),e._uU(4),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,IC,2,1,"div",5),e.ALo(7,"bbSplitArray"),e.qZA()(),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.ekj("card",!t.hideCard),e.xp6(1),e.Q6J("ngClass",e.WLB(10,hC,!t.hideCard,t.hideCard)),e.xp6(2),e.Oqu(t.title),e.xp6(1),e.ekj("card-body",!t.hideCard),e.xp6(1),e.Q6J("ngForOf",e.xi3(7,7,t.properties,2))}}const RC=["errorNotificationTemplate"];function DC(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"h2",5),e._uU(3),e.qZA(),e.TgZ(4,"button",6),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).print()}),e._UZ(5,"bb-icon-ui",7),e.TgZ(6,"span",8),e.SDv(7,9),e.qZA()()(),e.TgZ(8,"bb-account-info-container",10),e.NdJ("mask",function(a){const s=e.CHM(t).ngIf,c=e.oxw(3);return a.masked?c.onMaskAttribute(a.attributeName,s):c.onUnmaskAttribute(a.attributeName,s)}),e.qZA(),e.BQk()}if(2&n){const t=i.ngIf,o=e.oxw(3);e.xp6(3),e.hij(" ",t.displayName," "),e.xp6(1),e.Q6J("circle",!0),e.xp6(4),e.Q6J("account",t)("propertiesConfiguration",o.getAccountProperties(t))("attributesConfiguration",o.maskableAttributes)}}function MC(n,i){if(1&n&&(e.ynx(0),e.YNc(1,DC,9,5,"ng-container",0),e.ALo(2,"async"),e.ALo(3,"bbIsDefined"),e.ALo(4,"async"),e.ALo(5,"async"),e.BQk()),2&n){const t=e.oxw(2),o=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!1===e.lcZ(2,2,t.isLoading)&&!e.lcZ(3,4,e.lcZ(4,6,t.error))&&e.lcZ(5,8,t.item))("ngIfElse",o)}}function yC(n,i){if(1&n&&(e.ynx(0),e.YNc(1,MC,6,10,"ng-container",0),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(5);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.productId))("ngIfElse",o)}}function vC(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"bb-empty-state-ui",12),e.BQk()),2&n){const t=i.ngIf,o=e.oxw(2);e.xp6(1),e.Q6J("title","")("subtitle",o.processErrorMessages(t.messages))}}function UC(n,i){1&n&&e._UZ(0,"bb-loading-indicator-ui",13),2&n&&e.Q6J("text","Loading Accounts...")}function BC(n,i){if(1&n&&(e.YNc(0,vC,2,2,"ng-container",0),e.ALo(1,"async"),e.YNc(2,UC,1,1,"ng-template",null,11,e.W1O)),2&n){const t=e.MAs(3),o=e.oxw();e.Q6J("ngIf",e.lcZ(1,2,o.error))("ngIfElse",t)}}function PC(n,i){1&n&&e._UZ(0,"bb-empty-state-ui",14),2&n&&e.Q6J("title","No account(s) selected.")("subtitle","Please select an account first.")}function LC(n,i){1&n&&e._UZ(0,"bb-empty-state-ui",15)}function xC(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"bb-transaction-details-modal",1),e.NdJ("close",function(){return e.CHM(t),e.oxw().closeDialog()}),e.qZA()}if(2&n){const t=i.ngIf,o=e.oxw();e.Q6J("isDetailsOpen",o.isDetailsOpen)("transaction",t)("showChangeCategory",!0)("checkImagesList",o.checkImagesList)("transactionDetailsLoadingStatus",o.transactionDetailsLoadingStatus)("inquireAndDisputeTopics",o.inquireAndDisputeTopics)}}function kC(n,i){1&n&&e.GkF(0)}const U_=function(n){return{withLogo:n}};function KC(n,i){if(1&n&&(e.ynx(0),e.YNc(1,kC,1,0,"ng-container",10),e.BQk()),2&n){e.oxw(2);const t=e.MAs(8),o=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(2,U_,o.showIcon))}}function FC(n,i){1&n&&e.GkF(0)}function JC(n,i){1&n&&e.GkF(0)}function WC(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",8)(2,"div",9),e.YNc(3,KC,2,4,"ng-container",0),e.YNc(4,FC,1,0,"ng-container",10),e._UZ(5,"div",11),e.qZA(),e.TgZ(6,"div",12),e._UZ(7,"div",13),e.YNc(8,JC,1,0,"ng-container",14),e.qZA()(),e.BQk()),2&n){e.oxw();const t=e.MAs(10),o=e.MAs(12),a=e.oxw();e.xp6(3),e.Q6J("ngIf",a.hasExternalInfo(a.item)),e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.VKq(4,U_,a.showIcon&&!a.hasExternalInfo(a.item))),e.xp6(4),e.Q6J("ngTemplateOutlet",o)}}function ZC(n,i){1&n&&e.GkF(0)}function HC(n,i){1&n&&e.GkF(0)}function YC(n,i){if(1&n&&(e.ynx(0),e.YNc(1,HC,1,0,"ng-container",14),e.BQk()),2&n){e.oxw(2);const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function zC(n,i){1&n&&e.GkF(0)}function QC(n,i){1&n&&e.GkF(0)}const $C=function(){return{withProductKindName:!0}};function VC(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",15)(2,"div",16),e.YNc(3,ZC,1,0,"ng-container",14),e.qZA(),e.TgZ(4,"div",17)(5,"div",18),e.YNc(6,YC,2,1,"ng-container",0),e.YNc(7,zC,1,0,"ng-container",10),e.qZA(),e.TgZ(8,"div",19),e._UZ(9,"div",13),e.YNc(10,QC,1,0,"ng-container",14),e.qZA()()(),e.BQk()),2&n){e.oxw();const t=e.MAs(6),o=e.MAs(10),a=e.MAs(12),_=e.oxw();e.xp6(3),e.Q6J("ngTemplateOutlet",t),e.xp6(3),e.Q6J("ngIf",_.hasExternalInfo(_.item)),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.DdM(5,$C)),e.xp6(3),e.Q6J("ngTemplateOutlet",a)}}function qC(n,i){1&n&&e.GkF(0)}function jC(n,i){1&n&&e.GkF(0)}function XC(n,i){if(1&n&&(e.ynx(0),e.YNc(1,jC,1,0,"ng-container",14),e.BQk()),2&n){e.oxw(2);const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function e1(n,i){1&n&&e.GkF(0)}function t1(n,i){1&n&&e.GkF(0)}function n1(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",15)(2,"div",16),e.YNc(3,qC,1,0,"ng-container",14),e.qZA(),e.TgZ(4,"div",17)(5,"div",18),e.YNc(6,XC,2,1,"ng-container",0),e.YNc(7,e1,1,0,"ng-container",14),e.qZA(),e.TgZ(8,"div",20),e._UZ(9,"bb-product-kind-name",21),e.qZA(),e.TgZ(10,"div",19),e.YNc(11,t1,1,0,"ng-container",14),e.qZA()()(),e.BQk()),2&n){e.oxw();const t=e.MAs(6),o=e.MAs(10),a=e.MAs(12),_=e.oxw();e.xp6(3),e.Q6J("ngTemplateOutlet",t),e.xp6(3),e.Q6J("ngIf",_.hasExternalInfo(_.item)),e.xp6(1),e.Q6J("ngTemplateOutlet",o),e.xp6(2),e.Q6J("name",_.item.productKindName||""),e.xp6(2),e.Q6J("ngTemplateOutlet",a)}}function o1(n,i){if(1&n&&e._UZ(0,"bb-product-summary-account-logo",23),2&n){const t=e.oxw(3);e.Q6J("logoSrc",(null==t.item||null==t.item.financialInstitution?null:t.item.financialInstitution.logo)||"")("productKindName",t.item.productKindName||"")}}function a1(n,i){if(1&n&&e.YNc(0,o1,1,2,"bb-product-summary-account-logo",22),2&n){const t=e.oxw(2);e.Q6J("ngIf",t.showIcon)}}function _1(n,i){if(1&n&&(e.TgZ(0,"div",28),e._UZ(1,"bb-product-summary-account-logo",29),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("logoSrc",(null==t.item.financialInstitution?null:t.item.financialInstitution.logo)||"")("productKindName",t.item.productKindName||"")}}function s1(n,i){if(1&n&&(e.TgZ(0,"span",30),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Oqu(null==t.item.financialInstitution?null:t.item.financialInstitution.name)}}function r1(n,i){1&n&&(e.TgZ(0,"span",30),e.SDv(1,31),e.qZA())}function c1(n,i){if(1&n&&(e.TgZ(0,"div",24),e.YNc(1,_1,2,2,"div",25),e.YNc(2,s1,2,1,"span",26),e.YNc(3,r1,2,0,"ng-template",null,27,e.W1O),e.qZA()),2&n){const t=i.withLogo,o=e.MAs(4),a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("ngIf",null==a.item.financialInstitution?null:a.item.financialInstitution.name)("ngIfElse",o)}}function l1(n,i){if(1&n&&(e.TgZ(0,"div",39),e._UZ(1,"bb-product-kind-name",21),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("name",t.item.productKindName||"")}}function u1(n,i){if(1&n&&e._UZ(0,"bb-product-summary-account-logo",40),2&n){const t=e.oxw(3);e.Q6J("productKindName",t.item.productKindName||"")}}function d1(n,i){if(1&n&&e._UZ(0,"bb-arrangement-state-indicator",41),2&n){const t=e.oxw(3);let o;e.Q6J("state",null!==(o=t.item.state.state)&&void 0!==o?o:"")("hideStateTextForMobile",!1)}}function A1(n,i){if(1&n){const t=e.EpF();e.YNc(0,l1,2,1,"div",32),e.TgZ(1,"div",33),e.YNc(2,u1,1,1,"bb-product-summary-account-logo",34),e.TgZ(3,"bb-input-inline-edit-ui",35),e.DtL(4,36),e.NdJ("accept",function(a){return e.CHM(t),e.oxw(2).onAliasUpdate(a)}),e.qZA()(),e._UZ(5,"bb-product-number",37),e.YNc(6,d1,1,2,"bb-arrangement-state-indicator",38)}if(2&n){const t=i.withLogo,o=i.withProductKindName,a=e.oxw(2);let _;e.Q6J("ngIf",o),e.xp6(2),e.Q6J("ngIf",t),e.xp6(1),e.pQV(a.getAlias(a.item)),e.QtT(4),e.Q6J("inputText",a.getAlias(a.item))("maxLength",null!==(_=a.productAliasMaxLength)&&void 0!==_?_:0)("required",!1),e.xp6(2),e.Q6J("product",a.item),e.xp6(1),e.Q6J("ngIf",a.item.state)}}function p1(n,i){if(1&n&&e._UZ(0,"bb-amount-ui",46),2&n){const t=i.ngIf,o=e.oxw(3);e.Q6J("amount",t)("currency",o.item.currency||"")}}function m1(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",42),e.YNc(1,p1,1,2,"bb-amount-ui",43),e.TgZ(2,"div",28)(3,"bb-switch-ui",44),e.DtL(4,45),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return a.updateVisibility(a.item)}),e.qZA()()()}if(2&n){const t=e.oxw(2);let o;e.xp6(1),e.Q6J("ngIf",null!==(o=null!==(o=t.item.bookedBalance)&&void 0!==o?o:t.item.principalAmount)&&void 0!==o?o:t.item.currentInvestmentValue),e.xp6(2),e.pQV(t.getAlias(t.item)),e.QtT(4),e.Q6J("ngModel",t.checkItemVisibility(t.item))}}function S1(n,i){if(1&n&&(e.ynx(0)(1,1),e.YNc(2,WC,9,6,"ng-container",2),e.YNc(3,VC,11,6,"ng-container",2),e.YNc(4,n1,12,5,"ng-container",3),e.BQk(),e.YNc(5,a1,1,1,"ng-template",null,4,e.W1O),e.YNc(7,c1,5,3,"ng-template",null,5,e.W1O),e.YNc(9,A1,7,8,"ng-template",null,6,e.W1O),e.YNc(11,m1,5,3,"ng-template",null,7,e.W1O),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngSwitch",t.responsiveView),e.xp6(1),e.Q6J("ngSwitchCase","mobile"),e.xp6(1),e.Q6J("ngSwitchCase","tablet")}}const g1=["notificationError"],b1=["notificationSuccess"];function E1(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"bb-manage-account-item",14),e.NdJ("toggleVisibility",function(a){return e.CHM(t),e.oxw(3).toggleVisibility(a)})("updateAlias",function(a){const s=e.CHM(t).$implicit;return e.oxw(3).updateAlias(s.id,a)}),e.qZA()()}if(2&n){const t=i.$implicit,o=e.oxw(3);e.xp6(1),e.Q6J("item",t)("productAliasMaxLength",o.aliasMaxLength)("showIcon",o.showIcons)}}function T1(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"bb-product-summary-footer-ui",15),e.NdJ("pageChange",function(a){return e.CHM(t),e.oxw(3).onPageChange(a)})("loadMore",function(){return e.CHM(t),e.oxw(3).onLoadMore()}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=i.ngIf,o=e.oxw(2).ngIf,a=e.oxw();let _,s,c;e.Q6J("page",null!==(_=t.from)&&void 0!==_?_:0)("count",null!==(s=null==o?null:o.count)&&void 0!==s?s:0)("hasMore",(null==o||null==o.items?null:o.items.length)!==(null==o?null:o.count))("loading",!0===e.lcZ(1,6,a.loading))("paginationType",t.paginationType)("itemsPerPage",null!==(c=t.size)&&void 0!==c?c:0)}}function C1(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",5),e.SDv(2,6),e.qZA(),e.TgZ(3,"div",7)(4,"div",8)(5,"div",9),e.YNc(6,E1,2,3,"div",10),e.qZA()(),e.TgZ(7,"div",11),e.YNc(8,T1,2,8,"bb-product-summary-footer-ui",12),e.ALo(9,"async"),e.qZA()(),e.BQk()),2&n){const t=e.oxw().ngIf,o=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.items),e.xp6(2),e.Q6J("ngIf",e.lcZ(9,2,o.paginationParams))}}function N1(n,i){if(1&n&&(e.ynx(0),e.YNc(1,C1,10,4,"ng-container",1),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(10);e.xp6(1),e.Q6J("ngIf",!1===e.lcZ(2,2,t.loading))("ngIfElse",o)}}function f1(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=i.ngIf,o=e.oxw(2);e.xp6(1),e.hij(" ",o.processErrorMessages(t.messages)," ")}}function I1(n,i){if(1&n&&(e.TgZ(0,"span"),e.SDv(1,16),e.qZA(),e.YNc(2,f1,2,1,"span",17),e.ALo(3,"async")),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",e.lcZ(3,1,t.updateError))}}function h1(n,i){1&n&&(e.TgZ(0,"span"),e.SDv(1,18),e.qZA())}function O1(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"bb-empty-state-ui",20),e.BQk()),2&n){const t=i.ngIf,o=e.oxw(2);e.xp6(1),e.Q6J("subtitle",o.processErrorMessages(t.messages))}}function R1(n,i){1&n&&e._UZ(0,"bb-loading-indicator-ui",21)}function D1(n,i){if(1&n&&(e.YNc(0,O1,2,1,"ng-container",1),e.ALo(1,"async"),e.YNc(2,R1,1,0,"ng-template",null,19,e.W1O)),2&n){const t=e.MAs(3),o=e.oxw();e.Q6J("ngIf",e.lcZ(1,2,o.error))("ngIfElse",t)}}let M1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-accounts-transactions-journey"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[S.lC],encapsulation:2}),n})();class B_{constructor(i){this.response=i,this.kind="ProductKindsAccessDenied",this.messages=((i.error||{}).errors||[]).map(t=>t.message)}}class y1{constructor(i){this.response=i,this.kind="ProductKindsBadRequest",this.messages=((i.error||{}).errors||[]).map(t=>t.message)}}class P_{constructor(i){this.response=i,this.kind="ProductKindsUnknownError",this.messages=[i.message]}}let Mo=(()=>{class n{constructor(){this.listParams=new N.X({}),this.productKindsRefresh=new N.X(!1),this.error=new N.X(void 0),this.isLoading=new N.X(!1)}ngOnDestroy(){this.error.complete(),this.productKindsRefresh.complete()}refreshProductKinds(){this.productKindsRefresh.next(!0)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const U1=n=>({aggregatedBalance:n.value||"",currency:n.currency||""}),P1=n=>{switch(n){case"currentAccounts":return q.CURRENT_ACCOUNT;case"savingsAccounts":return q.SAVINGS_ACCOUNT;case"termDeposits":return q.TERM_DEPOSIT;case"loans":return q.LOAN;case"creditCards":return q.CREDIT_CARD;case"debitCards":return q.DEBIT_CARD;case"investmentAccounts":return q.INVESTMENT_ACCOUNT;default:return n}},x_=(n,i)=>{if(i&&i.products&&i.products.length>0&&(n=>n.some(i=>i&&Si(i)))(i.products))return Object.assign({id:n,name:i.name,aggregatedBalance:i.aggregatedBalance?i.aggregatedBalance.value:void 0,currency:i.aggregatedBalance?i.aggregatedBalance.currency:void 0,products:i.products.filter(Si).map(a=>Object.assign(Object.assign({},a),{kind:n,productKindUri:P1(n)}))},i.additions?{additions:i.additions}:{})},G1=n=>{const i=Object.entries(n).filter(([t])=>"aggregatedBalance"!==t).map(([t,o])=>Array.isArray(o)?(n=>n.map(i=>i&&x_(i.name,i)).filter(Boolean))(o):x_(t,o)).filter(Boolean);return(n=>[].concat(...n))(i)};let G_=(()=>{class n extends Mo{constructor(t){super(),this.productSummaryDataService=t,this.productKinds=(0,K.a)(this.listParams.pipe((0,re.x)()),this.productKindsRefresh).pipe((0,U.b)(()=>{this.isLoading.next(!0)}),(n=>i=>i.pipe((0,W.w)(n),(0,ut._)(1),(0,dt.x)()))(([o])=>this.productSummaryDataService.getProductSummary(o).pipe((0,g.U)(a=>(n=>(n=>JSON.parse(JSON.stringify(n)))(Object.assign({total:n&&n.aggregatedBalance?U1(n.aggregatedBalance):void 0,productKinds:n?G1(n):[]},n&&n.additions?{additions:n.additions}:{})))(a)),(0,L.K)(a=>(this.error.next((n=>{if(n.error instanceof ErrorEvent)return new P_(n);switch(n.status){case 400:return new y1(n);case 401:case 403:return new B_(n);default:return new P_(n)}})(a)),(0,R.of)(void 0))))),(0,U.b)(()=>{this.isLoading.next(!1)}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(X.IK))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),w_=(()=>{class n{constructor(t,o,a){this.service=t,this.productsExternalInfoService=o,this.eventBusService=a,this.hostRef=this,this.error=this.service.error,this.items=(0,Re.T)(this.service.productKinds,this.service.productKinds.pipe((0,B.h)(_=>this.getProductsFromProductKinds(_).some(Ye)),(0,W.w)(_=>this.getProductKindsWithExternalInfo(_)))),this.isLoading=this.service.isLoading,this.widgetPropertiesSubscription=new O.w0,this.isExpanded={},this.showIcons=new N.X(!0),this.selectedAccount=new e.vpe,this.selectProduct=new e.vpe,this.refreshAccountsEventNames=[],this.refreshAccountsHandler=this.refreshAccounts.bind(this),this.processErrorMessages=gn,this.getProductsFromProductKinds=_=>_?_.productKinds.reduce((s,c)=>s.concat(c.products||[]),[]):[],this.addProductsToProductKinds=(_,s)=>Object.assign(Object.assign({},s),{productKinds:s.productKinds.map(c=>{var l;return Object.assign(Object.assign({},c),{products:null===(l=c.products)||void 0===l?void 0:l.map(u=>Object.assign(Object.assign({},u),_.find(A=>A.id===u.id)||{}))})})})}set showIconsValue(t){this.showIcons.next(t)}set refreshAccountListEvent(t){t&&"string"==typeof t&&(this.refreshAccountsEventNames=t.replace(/ /g,"").split(","),this.handleEvents(this.refreshAccountsEventNames,this.refreshAccountsHandler,!1),this.handleEvents(this.refreshAccountsEventNames,this.refreshAccountsHandler))}getProductKindsWithExternalInfo(t){return this.productsExternalInfoService.getProductsWithExternalInfo(this.getProductsFromProductKinds(t)).pipe((0,g.U)(o=>this.addProductsToProductKinds(o,t)))}ngOnDestroy(){this.handleEvents(this.refreshAccountsEventNames,this.refreshAccountsHandler,!1),this.showIcons.unsubscribe()}selectAccount(t){this.selectedAccount.emit(t)}refreshAccounts(){this.service.refreshProductKinds()}handleEvents(t,o,a=!0){t.forEach(_=>{var s,c;a?null===(s=this.eventBusService)||void 0===s||s.subscribe(_,o):null===(c=this.eventBusService)||void 0===c||c.unsubscribe(_,o)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Mo),e.Y36(we),e.Y36(tt.h))},n.\u0275dir=e.lG2({type:n,inputs:{showIconsValue:["showIcons","showIconsValue"],refreshAccountListEvent:["event.refreshAccountsList","refreshAccountListEvent"]},outputs:{selectedAccount:"selectedAccount",selectProduct:"selectProduct"}}),n})(),yo=(()=>{class n extends w_{constructor(t,o,a){super(t,o,a),this.service=t,this.productsExternalInfoService=o,this.eventBusService=a}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(G_),e.Y36(we),e.Y36(tt.h))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-product-summary-list-widget"]],features:[e._Bn([G_]),e.qOj],decls:5,vars:6,consts:function(){let i,t,o;return i=" Total balance ",t="Toggle tooltip for Total balance",o="Total balance",[[4,"ngIf","ngIfElse"],["loadingTemplate",""],["class","bb-product-summary-balance",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"bb-product-summary-balance"],[1,"bb-product-summary-balance__tooltip"],["data-role","label-total-validation",1,"bb-product-summary-balance__title"],i,["data-role","toggle-tooltip-icon","tabindex","0","size","sm","name","info","aria-label",t,"bbTooltip",o,"triggers","focus hover",1,"bb-text-support"],["data-role","total-validation-amount",1,"bb-product-summary-balance__amount",3,"currency","amount"],[4,"ngIf"],[3,"isExpanded","showIcons","productKind","isExpandedChange","selectAccount","selectProduct",4,"ngIf"],[3,"isExpanded","showIcons","productKind","isExpandedChange","selectAccount","selectProduct"],["loading",""],["title","","iconModifier","error","iconSize","xxl","iconColor","gray","iconClasses","text-muted",3,"subtitle"],[3,"text"]]},template:function(t,o){if(1&t&&(e.YNc(0,tC,3,2,"ng-container",0),e.ALo(1,"async"),e.ALo(2,"async"),e.YNc(3,iC,4,4,"ng-template",null,1,e.W1O)),2&t){const a=e.MAs(4);e.Q6J("ngIf",!1===e.lcZ(1,2,o.isLoading)&&e.lcZ(2,4,o.items))("ngIfElse",a)}},directives:[b.o,f.G4,Ln,ne.s,Z.Q,r.O5,w.i,r.sg],pipes:[r.Ov],encapsulation:2}),n})();const k1=[{title:"General",properties:[{type:d.TEXT,label:"Account Type",key:"productTypeName"},{type:d.ACCOUNT_NUMBER,label:"Account Number",key:"IBAN",numberType:"iban"},{type:d.AMOUNT,label:"Account Balance",key:"bookedBalance",tooltip:"Account Balance"},{type:d.TEXT,label:"Account Owner(s)",key:"accountHolderNames"},{type:d.TEXT,label:"ACH Routing Number",key:"bankBranchCode"},{type:d.TEXT,label:"FedWire Routing Number",key:"bankBranchCode2"},{type:d.ACCOUNT_STATE,label:"Account Status",key:"state.state"},{type:d.TEXT,label:"Bank Name",key:"financialInstitution.name"},{type:d.UPDATE_TIME,label:"Last sync",key:"lastSyncDate"}]},{title:"Interest Details",properties:[{type:d.PERCENT,label:"Interest Rate",key:"accountInterestRate",tooltip:"The annualized cost of credit or debt-capital computed as the percentage ratio of interest to the principal"},{type:d.AMOUNT,label:"Accrued Interest",key:"accruedInterest",tooltip:"The interest that is earned (credit interest) or due (debit interest) but not settled yet"}]},{title:"Other",properties:[{type:d.DATE,label:"Account Opening Date",key:"accountOpeningDate",tooltip:"Account Opening Date"},{type:d.DATE,label:"Last Updated Date",key:"lastUpdateDate",tooltip:"Last date of parameter update for the product"}]}],K1=[{title:"General",properties:[{type:d.TEXT,label:"Account Type",key:"productTypeName"},{type:d.ACCOUNT_NUMBER,label:"Account Number",key:"number",numberType:"cardNumber"},{type:d.TEXT,label:"Account Owner(s)",key:"accountHolderNames"},{type:d.TEXT,label:"Card Provider",key:"cardDetails.cardProvider",tooltip:"Card Provider"},{type:d.DATE,label:"Valid thru",key:"validThru",tooltip:"Expiration date of a credit card, after which is no longer valid"},{type:d.ACCOUNT_STATE,label:"Account Status",key:"state.state"},{type:d.TEXT,label:"Bank Name",key:"financialInstitution.name"},{type:d.UPDATE_TIME,label:"Last sync",key:"lastSyncDate"}]},{title:"Status",properties:[{type:d.AMOUNT,label:"Consumed Amount",key:"bookedBalance",tooltip:"Consumed Amount"},{type:d.AMOUNT,label:"Remaining Amount",key:"remainingCredit",tooltip:"Remaining Amount"},{type:d.AMOUNT,label:"Credit Limit",key:"creditLimit",tooltip:"Monetary amount of the used overdraft"},{type:d.AMOUNT,label:"Statement Balance",key:"cardDetails.statementBalance",tooltip:"Statement Balance"},{type:d.AMOUNT,label:"Available Cash Credit Limit",key:"cardDetails.availableCashCredit",tooltip:"Available Cash Credit Limit"},{type:d.AMOUNT,label:"Cash Credit Limit",key:"cardDetails.cashCreditLimit",tooltip:"Cash Credit Limit"}]},{title:"Payment and Interest Details",properties:[{type:d.AMOUNT,label:"Minimum Payment",key:"minimumPayment",tooltip:"The minimum payment set a percentage of balance, or a fixed cash amount"},{type:d.DATE,label:"Minimum Payment Due Date",key:"minimumPaymentDueDate",tooltip:"Minimum Payment Due Date shown on your monthly statement to remain in good standing"},{type:d.PERCENT,label:"Cash Advance APR",key:"interestDetails.cashAdvanceInterestRate",tooltip:"Cash Advance APR"},{type:d.PERCENT,label:"Interest Rate",key:"applicableInterestRate",tooltip:"The annualized cost of credit or debt-capital computed as the percentage ratio of interest to the principal"},{type:d.AMOUNT,label:"Last Payment Amount",key:"cardDetails.lastPaymentAmount",tooltip:"Last Payment Amount"},{type:d.DATE,label:"Last Payment Date",key:"cardDetails.lastPaymentDate",tooltip:"Last Payment Date"},{type:d.AMOUNT,label:"Last Statement Balance",key:"cardDetails.previousStatementBalance",tooltip:"Last Statement Balance"},{type:d.DATE,label:"Last Statement Date",key:"cardDetails.previousStatementDate",tooltip:"Last Statement Date"},{type:d.PERCENT,label:"Penalty APR",key:"interestDetails.penaltyInterestRate",tooltip:"Penalty APR"},{type:d.AMOUNT,label:"Late Fee",key:"cardDetails.latePaymentFee",tooltip:"Late Fee"}]},{title:"Other",properties:[{type:d.DATE,label:"Account Opening Date",key:"accountOpeningDate",tooltip:"The date of activation of the account in the bank's system"},{type:d.DATE,label:"Last Updated Date",key:"lastUpdateDate",tooltip:"Last date of parameter update for the product"}]}],F1=[{title:"General",properties:[{type:d.TEXT,label:"Account Type",key:"productTypeName"},{type:d.ACCOUNT_NUMBER,label:"IBAN",key:"IBAN",numberType:"iban"},{type:d.AMOUNT,label:"Available Balance",key:"availableBalance"},{type:d.TEXT,label:"Account Owner(s)",key:"accountHolderNames"},{type:d.TEXT,label:"ACH Routing Number",key:"bankBranchCode"},{type:d.TEXT,label:"FedWire Routing Number",key:"bankBranchCode2"},{type:d.ACCOUNT_STATE,label:"Account Status",key:"state.state"},{type:d.TEXT,label:"Bank Name",key:"financialInstitution.name"},{type:d.UPDATE_TIME,label:"Last sync",key:"lastSyncDate"}]},{title:"Interest Details",properties:[{type:d.PERCENT,label:"Interest Rate",tooltip:"The annualized cost of credit or debt-capital computed as the percentage ratio of interest to the principal",key:"accountInterestRate"},{type:d.AMOUNT,label:"Accrued Interest",tooltip:"The interest that is earned (credit interest) or due (debit interest) but not settled yet",key:"accruedInterest"},{type:d.AMOUNT,label:"Last year\u2019s accrued interest",tooltip:"Last year\u2019s accrued interest",key:"interestDetails.lastYearAccruedInterest"}]},{title:"Overdraft Details",properties:[{type:d.AMOUNT,label:"Overdraft Limit",tooltip:"Overdraft Limit",key:"creditLimit"},{type:d.DATE,label:"Overdraft Expiry Date",tooltip:"Expiration date of the overdraft limit",key:"creditLimitExpiryDate"}]},{title:"Other",properties:[{type:d.DATE,label:"Account Opening Date",tooltip:"Account Opening Date",key:"accountOpeningDate"},{type:d.DATE,label:"Last Updated Date",tooltip:"Last date of parameter update for the product",key:"lastUpdateDate"}]},{title:"Associated Debit Cards",hideCard:!0,properties:[{type:d.DEBIT_CARDS,key:"debitCards"}]}],J1=[{title:"General",properties:[{type:d.TEXT,label:"Account Type",key:"productTypeName"},{type:d.ACCOUNT_NUMBER,label:"IBAN",key:"IBAN",numberType:"iban"},{type:d.AMOUNT,label:"Available Balance",key:"availableBalance"},{type:d.TEXT,label:"Account Owner(s)",key:"accountHolderNames"},{type:d.TEXT,label:"ACH Routing Number",key:"bankBranchCode"},{type:d.TEXT,label:"FedWire Routing Number",key:"bankBranchCode2"},{type:d.ACCOUNT_STATE,label:"Account Status",key:"state.state"},{type:d.TEXT,label:"Bank Name",key:"financialInstitution.name"},{type:d.UPDATE_TIME,label:"Last sync",key:"lastSyncDate"}]},{title:"Other",properties:[{type:d.DATE,label:"Account Opening Date",key:"accountOpeningDate",tooltip:"Account Opening Date"},{type:d.DATE,label:"Last Updated Date",key:"lastUpdateDate",tooltip:"Last date of parameter update for the product"}]}],W1=[{title:"General",properties:[{type:d.TEXT,label:"Account Type",key:"productTypeName"},{type:d.ACCOUNT_NUMBER,label:"Account Number",key:"BBAN",numberType:"bban"},{type:d.AMOUNT,label:"Total Investment Value",key:"totalInvestmentValue",tooltip:"Total Investment Value"},{type:d.TEXT,label:"Account Owner(s)",key:"accountHolderNames"},{type:d.TEXT,label:"ACH Routing Number",key:"bankBranchCode"},{type:d.TEXT,label:"FedWire Routing Number",key:"bankBranchCode2"},{type:d.ACCOUNT_STATE,label:"Account Status",key:"state.state"},{type:d.TEXT,label:"Bank Name",key:"financialInstitution.name"},{type:d.UPDATE_TIME,label:"Last sync",key:"lastSyncDate"}]},{title:"Other",properties:[{type:d.DATE,label:"Account Opening Date",key:"accountOpeningDate",tooltip:"Account Opening Date"},{type:d.DATE,label:"Last Updated Date",key:"lastUpdateDate",tooltip:"Last date of parameter update for the product"}]}],Z1=[{title:"General",properties:[{type:d.TEXT,label:"Account Type",key:"productTypeName"},{type:d.ACCOUNT_NUMBER,label:"Account Number",key:"BBAN",numberType:"bban"},{type:d.AMOUNT,label:"Outstanding Amount",key:"bookedBalance",tooltip:"Outstanding Amount"},{type:d.TEXT,label:"Account Owner(s)",key:"accountHolderNames"},{type:d.TEXT,label:"ACH Routing Number",key:"bankBranchCode"},{type:d.TEXT,label:"FedWire Routing Number",key:"bankBranchCode2"},{type:d.ACCOUNT_STATE,label:"Account Status",key:"state.state"},{type:d.TEXT,label:"Bank Name",key:"financialInstitution.name"},{type:d.UPDATE_TIME,label:"Last sync",key:"lastSyncDate"}]},{title:"Loan Details",properties:[{type:d.AMOUNT,label:"Monthly Instalment Amount",key:"monthlyInstalmentAmount",tooltip:"A fixed payment amount paid by a borrower to the bank at a specified date each calendar month"},{type:d.AMOUNT,label:"Principal Amount",key:"principalAmount",tooltip:"The amount that was (originally) contracted for the respective product"},{type:d.PERCENT,label:"Interest Rate",key:"accountInterestRate",tooltip:"The annualized cost of credit or debt-capital computed as the percentage ratio of interest to the principal"},{type:d.FREQUENCY,label:"Term",key:"termNumber",unitKey:"termUnit",tooltip:"The period of time and/or the interest rate arranged between Bank and customer"}]},{title:"Other",properties:[{type:d.DATE,label:"Account Opening Date",key:"accountOpeningDate",tooltip:"Account Opening Date"},{type:d.DATE,label:"Last Updated Date",key:"lastUpdateDate",tooltip:"Last date of parameter update for the product"}]}],H1=[{title:"General",properties:[{type:d.TEXT,label:"Account Type",key:"productTypeName"},{type:d.ACCOUNT_NUMBER,label:"Account Number",key:"BBAN",numberType:"bban"},{type:d.AMOUNT,label:"Account Balance",key:"bookedBalance",tooltip:"Account Balance"},{type:d.TEXT,label:"Account Owner(s)",key:"accountHolderNames"},{type:d.TEXT,label:"ACH Routing Number",key:"bankBranchCode"},{type:d.TEXT,label:"FedWire Routing Number",key:"bankBranchCode2"},{type:d.ACCOUNT_STATE,label:"Account Status",key:"state.state"},{type:d.TEXT,label:"Bank Name",key:"financialInstitution.name"},{type:d.NUMBER,label:"Remaining Periodic Transfers",key:"remainingPeriodicTransfers",tooltip:"Remaining Periodic Transfers",decimalPlaces:0},{type:d.UPDATE_TIME,label:"Last sync",key:"lastSyncDate"}]},{title:"Interest Details",properties:[{type:d.PERCENT,label:"Interest Rate",key:"accountInterestRate",tooltip:"The annualized cost of credit or debt-capital computed as the percentage ratio of interest to the principal"},{type:d.AMOUNT,label:"Accrued Interest",key:"accruedInterest",tooltip:"The interest that is earned (credit interest) or due (debit interest) but not settled yet"},{type:d.AMOUNT,label:"Minimum Required Balance",key:"minimumRequiredBalance",tooltip:"Minimum amount that a customer must have in an account in order to receive some sort of service, such as keeping the account open or receive interest"},{type:d.AMOUNT,label:"Last year\u2019s accrued interest",key:"interestDetails.lastYearAccruedInterest",tooltip:"Last year\u2019s accrued interest"},{type:d.AMOUNT,label:"Interest/Dividend Withheld YTD",key:"interestDetails.dividendWithheldYTD",tooltip:"Interest/Dividend Withheld YTD"},{type:d.PERCENT,label:"Annual Percentage Yield",key:"interestDetails.annualPercentageYield",tooltip:"Annual Percentage Yield"}]},{title:"Other",properties:[{type:d.DATE,label:"Account Opening Date",key:"accountOpeningDate",tooltip:"Account Opening Date"},{type:d.DATE,label:"Last Updated Date",key:"lastUpdateDate",tooltip:"Last date of parameter update for the product"}]}],Y1=[{title:"General",properties:[{type:d.TEXT,label:"Account Type",key:"productTypeName"},{type:d.ACCOUNT_NUMBER,label:"Account Number",key:"BBAN",numberType:"bban"},{type:d.ACCOUNT_NUMBER,label:"IBAN",key:"IBAN",numberType:"iban"},{type:d.AMOUNT,label:"Principal Amount",key:"principalAmount",tooltip:"The amount that was (originally) contracted for the respective product"},{type:d.TEXT,label:"ACH Routing Number",key:"bankBranchCode"},{type:d.TEXT,label:"FedWire Routing Number",key:"bankBranchCode2"},{type:d.TEXT,label:"Account Owner(s)",key:"accountHolderNames"},{type:d.ACCOUNT_STATE,label:"Account Status",key:"state.state"},{type:d.TEXT,label:"Bank Name",key:"financialInstitution.name"},{type:d.UPDATE_TIME,label:"Last sync",key:"lastSyncDate"}]},{title:"Interest Details",properties:[{type:d.PERCENT,label:"Interest Rate",key:"accountInterestRate",tooltip:"The annualized cost of credit or debt-capital computed as the percentage ratio of interest to the principal"},{type:d.AMOUNT,label:"Accrued Interest",key:"accruedInterest",tooltip:"The interest that is earned (credit interest) or due (debit interest) but not settled yet"},{type:d.FREQUENCY,label:"Interest Payment Frequency",key:"interestPaymentFrequencyNumber",unitKey:"interestPaymentFrequencyUnit",tooltip:"Number of times per year when the accumulated interest is settled to the product on a regular basis"},{type:d.RENEWAL_STATUS,label:"Auto Renewal Indicator",key:"autoRenewalIndicator",tooltip:"Indicates whether or not a product is to be continued after maturity automatically"}]},{title:"Maturity Details",properties:[{type:d.AMOUNT,label:"Maturity Balance",key:"maturityAmount",tooltip:"Amount payable at the end of a holding period of a product"},{type:d.FREQUENCY,label:"Term",key:"termNumber",unitKey:"termUnit",tooltip:"The period of time and/or the interest rate arranged between Bank and customer"},{type:d.DATE,label:"Start Date",key:"startDate",tooltip:"Start Date"},{type:d.DATE,label:"Maturity Date",key:"maturityDate",tooltip:"End term of a holding period"}]},{title:"Other",properties:[{type:d.DATE,label:"Account Opening Date",key:"accountOpeningDate",tooltip:"Account Opening Date"},{type:d.DATE,label:"Last Updated Date",key:"lastUpdateDate",tooltip:"Last date of parameter update for the product"}]}],z1={default:k1,[Q.CREDIT_CARD]:K1,[Q.CURRENT_ACCOUNT]:F1,[Q.DEBIT_CARD]:J1,[Q.INVESTMENT_ACCOUNT]:W1,[Q.LOAN]:Z1,[Q.SAVINGS_ACCOUNT]:H1,[Q.TERM_DEPOSIT]:Y1},vo=new e.OlP("AccountsTransactionsJourneyConfiguration injection token"),k_={apiKey:"",itemsPerPage:10,transactionsMaxPages:3,paginationType:"load-more",pendingOnTop:!1,transactionsFilterParameters:"",transactionsSortOptions:"bookingDate DESC",showControls:!0,showChangeCategory:!0,showCheckImages:!1,getOrPostEndpoints:Ne.GET_REQUEST,enableDisputeAndInquiry:!0,disputeEligibilityDays:120,disputeTransactionTypes:"Credit/Debit Card",disputeByBillingStatus:!0,disputeTopicId:"",inquireTopicId:"",availableFiltersConfig:{"Current Account":[E.Date,E.CreditDebitIndicator,E.Amount,E.Types,E.BillingStatus,E.CheckSerialNumber],"Savings Account":[E.Date,E.CreditDebitIndicator,E.Amount,E.Types,E.BillingStatus,E.CheckSerialNumber],"Credit Card":[E.Date,E.CreditDebitIndicator,E.Amount,E.Types,E.BillingStatus],Loan:[E.Date,E.CreditDebitIndicator,E.Amount],"Term Deposit":[E.Date,E.CreditDebitIndicator,E.Amount],"Debit Card":[E.Date,E.CreditDebitIndicator,E.Amount],"Investment Account":[E.Date,E.CreditDebitIndicator,E.Amount]},showAccountIcons:!0,enableManageAccounts:!0,enableTransferButton:!0,productKindsWithGraphicalRepresentation:Q.CREDIT_CARD,productKindsWithExternalDetailsPage:[],creditLimitViewMode:"emptied",accountAliasDisplayLevel:Be.USER,accountInfoProperties:z1,arrangementViewsName:void 0};let Ie=(()=>{class n{constructor(t){t=t||{},this._config=Object.assign(Object.assign({},k_),t)}get defaults(){return k_}get apiKey(){return this._config.apiKey}get itemsPerPage(){return this._config.itemsPerPage}get transactionsMaxPages(){return this._config.transactionsMaxPages}get paginationType(){return this._config.paginationType}get pendingOnTop(){return this._config.pendingOnTop}get transactionsFilterParameters(){return this._config.transactionsFilterParameters}get transactionsSortOptions(){return this._config.transactionsSortOptions}get showControls(){return this._config.showControls}get showChangeCategory(){return this._config.showChangeCategory}get showCheckImages(){return this._config.showCheckImages}get getOrPostEndpoints(){return this._config.getOrPostEndpoints}get enableDisputeAndInquiry(){return this._config.enableDisputeAndInquiry}get disputeEligibilityDays(){return this._config.disputeEligibilityDays}get disputeTransactionTypes(){return this._config.disputeTransactionTypes}get disputeByBillingStatus(){return this._config.disputeByBillingStatus}get disputeTopicId(){return this._config.disputeTopicId}get inquireTopicId(){return this._config.inquireTopicId}get availableFiltersConfig(){return this._config.availableFiltersConfig}get enableManageAccounts(){return this._config.enableManageAccounts}get showAccountIcons(){return this._config.showAccountIcons}get enableTransferButton(){return this._config.enableTransferButton}get productKindsWithGraphicalRepresentation(){return this._config.productKindsWithGraphicalRepresentation}get productKindsWithExternalDetailsPage(){return this._config.productKindsWithExternalDetailsPage}get creditLimitViewMode(){return this._config.creditLimitViewMode}get accountAliasDisplayLevel(){return this._config.accountAliasDisplayLevel}get accountInfoProperties(){return this._config.accountInfoProperties}get arrangementViewsName(){return this._config.arrangementViewsName}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(vo,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();class un{}let K_=(()=>{class n{constructor(t,o,a,_){this.config=t,this.router=o,this.route=a,this.accountsCommunicationService=_,this.myAccounts="My Accounts",this.manageAccounts="Manage Accounts"}onProductSelect(t){const o=t.id,a=this.getProductKind(t);this.accountsCommunicationService&&this.productKindsWithExternalDetailsPage.includes(a)?this.accountsCommunicationService.navigateToExternalAccountDetails({id:o,kind:a}):this.navigateToAccountDetails(o)}onAccountSelect(t){this.navigateToAccountDetails(t)}navigateToAccountManagement(){this.router.navigate(["../manage"],{relativeTo:this.route})}navigateToAccountDetails(t){this.router.navigate(["../transactions",{selectedAccount:t}],{relativeTo:this.route})}get productKindsWithExternalDetailsPage(){return Array.isArray(this.config.productKindsWithExternalDetailsPage)?this.config.productKindsWithExternalDetailsPage:[this.config.productKindsWithExternalDetailsPage]}getProductKind(t){switch(t.kind){case"currentAccounts":return Q.CURRENT_ACCOUNT;case"savingsAccounts":return Q.SAVINGS_ACCOUNT;case"termDeposits":return Q.TERM_DEPOSIT;case"loans":return Q.LOAN;case"creditCards":return Q.CREDIT_CARD;case"debitCards":return Q.DEBIT_CARD;case"investmentAccounts":return Q.INVESTMENT_ACCOUNT;default:return t.kind}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ie),e.Y36(S.F0),e.Y36(S.gz),e.Y36(un,8))},n.\u0275dir=e.lG2({type:n}),n})();class Uo{}let F_=(()=>{class n extends K_{constructor(t,o,a,_,s){super(t,o,a,_),this.accountsStateCommunication=s}ngOnInit(){var t;null===(t=this.accountsStateCommunication)||void 0===t||t.setupAccountsState({refreshAccounts:()=>{var o;return null===(o=this.accountsList)||void 0===o?void 0:o.refreshAccounts()}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ie),e.Y36(S.F0),e.Y36(S.gz),e.Y36(un),e.Y36(Uo,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-accounts-list"]],viewQuery:function(t,o){if(1&t&&e.Gf(yo,5),2&t){let a;e.iGM(a=e.CRH())&&(o.accountsList=a.first)}},features:[e.qOj],decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["titleOnly",""],[3,"showIcons","selectProduct"],[1,"bb-heading-widget","heading-widget","px-0","flex-row","align-items-center"],["headingType","h1","headingClasses","bb-heading-widget__heading",3,"heading"],[1,"bb-heading-widget__button","btn","btn-link","w-auto","bb-button","bb-button--xs-hide-text","m-0",3,"click"],["aria-hidden","true",1,"bb-icon","bb-icon-settings"],[1,"bb-heading-widget","heading-widget"]],template:function(t,o){if(1&t&&(e.YNc(0,aC,7,2,"ng-container",0),e.YNc(1,_C,2,1,"ng-template",null,1,e.W1O),e.TgZ(3,"bb-product-summary-list-widget",2),e.NdJ("selectProduct",function(_){return o.onProductSelect(_)}),e.qZA()),2&t){const a=e.MAs(2);e.Q6J("ngIf",o.config.enableManageAccounts)("ngIfElse",a),e.xp6(3),e.Q6J("showIcons",o.config.showAccountIcons)}},directives:[Ze.G,yo,r.O5],encapsulation:2}),n})(),Bo=(()=>{class n{constructor(){this.transactionIdSubject=new N.X(""),this.transactionsSubject=new N.X(void 0),this.onCloseDetailSubject=new T.x,this.currentTransaction=this.transactionIdSubject.pipe((0,x.z)(t=>this.transactionsSubject.pipe((0,g.U)(o=>null==o?void 0:o.find(a=>t===a.id))))),this.onCloseDetail=this.onCloseDetailSubject.asObservable()}setCloseDetail(){this.onCloseDetailSubject.next(!0)}setTransactions(t){this.transactionsSubject.next(t)}setTransactionId(t){this.transactionIdSubject.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),J_=(()=>{class n{constructor(t,o,a,_){this.config=t,this.router=o,this.route=a,this.shared=_,this.shared.onCloseDetail.subscribe(s=>{s&&this.router.navigate(["../list"],{relativeTo:this.route})})}getTransaction(t){this.shared.setTransactionId(t.id||""),this.router.navigate(["./detail",{transactionId:t.id}],{relativeTo:this.route})}transactionsLoaded(t){t&&this.shared.setTransactions(t.items)}ngOnInit(){this.route.snapshot.children[0]&&this.route.snapshot.children[0].params.transactionId&&this.shared.setTransactionId(this.route.snapshot.children[0].params.transactionId)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ie),e.Y36(S.F0),e.Y36(S.gz),e.Y36(Bo))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transactions-list-view"]],decls:2,vars:18,consts:[[3,"googleAPIKey","pageSize","maxNavPages","paginationType","showPendingTransactionsOnTop","initialFilterOptions","initialSortOptions","showControls","showChangeCategory","showCheckImage","getOrPostEndpoints","enableDisputeAndInquiry","disputeEligibilityDays","disputeTransactionTypes","disputeByBillingStatus","inquireTopicId","disputeTopicId","availableFiltersConfig","transactionSelected","transactionsLoaded"]],template:function(t,o){1&t&&(e.TgZ(0,"bb-transactions-list-widget",0),e.NdJ("transactionSelected",function(_){return o.getTransaction(_)})("transactionsLoaded",function(_){return o.transactionsLoaded(_)}),e.qZA(),e._UZ(1,"router-outlet")),2&t&&e.Q6J("googleAPIKey",o.config.apiKey)("pageSize",o.config.itemsPerPage)("maxNavPages",o.config.transactionsMaxPages)("paginationType",o.config.paginationType)("showPendingTransactionsOnTop",o.config.pendingOnTop)("initialFilterOptions",o.config.transactionsFilterParameters)("initialSortOptions",o.config.transactionsSortOptions)("showControls",!0)("showChangeCategory",!0)("showCheckImage",o.config.showCheckImages)("getOrPostEndpoints",o.config.getOrPostEndpoints)("enableDisputeAndInquiry",o.config.enableDisputeAndInquiry)("disputeEligibilityDays",o.config.disputeEligibilityDays)("disputeTransactionTypes",o.config.disputeTransactionTypes)("disputeByBillingStatus",o.config.disputeByBillingStatus)("inquireTopicId",o.config.inquireTopicId)("disputeTopicId",o.config.disputeTopicId)("availableFiltersConfig",o.config.availableFiltersConfig)},directives:[D_,S.lC],encapsulation:2}),n})();const Q1=new e.OlP("ACCOUNT_ALIAS_DISPLAYING_LEVEL");class Po{}let W_=(()=>{class n{constructor(t,o,a,_,s,c,l){this.accountAliasDisplayingLevel=t,this.config=o,this.accountsPaymentsCommunication=a,this.route=_,this.router=s,this.accountDetailsService=c,this.externalInfoService=l,this.accountArrangementItem$=(0,Re.T)(this.accountDetailsService.details$,this.accountDetailsService.details$.pipe((0,B.h)(A=>void 0!==A&&ln(A)),(0,W.w)(A=>this.externalInfoService.getAccountsWithExternalInfo$(A)))),this.isCommunicationProvided=!1;const{routeConfig:u}=this.route.snapshot;this.tabs=(null==u?void 0:u.children)?this.initializeTabs(u):[],this.accountAliasDisplayingLevel=t||o.accountAliasDisplayLevel,this.isCommunicationProvided=!!a}ngOnInit(){this.accountDetailsService.setRequestParameters((0,R.of)(this.getSelectedAccount()))}canInitiateRepay(t){return this.isQuickActionsAllowed(t)&&!0===t.creditAccount}canInitiateCashInAdvance(t){return this.isQuickActionsAllowed(t)&&!0===t.debitAccount}onRepayInitiated(t){t&&this.accountsPaymentsCommunication&&this.accountsPaymentsCommunication.repayEvent(t)}onCashAdvanceInitiated(t){t&&this.accountsPaymentsCommunication&&this.accountsPaymentsCommunication.cashAdvanceEvent(t)}onNavigateBack(){this.router.navigate([".."],{relativeTo:this.route})}isQuickActionsAllowed(t){return this.isCommunicationProvided&&!ln(t)}initializeTabs({children:t=[]}){return t.filter(o=>o.path&&o.data).map((o,a)=>{var _;return{title:(null===(_=o.data)||void 0===_?void 0:_.title)||`Tab${a+1}`,route:o.path||`${a+1}`}})}getSelectedAccount(){return this.route.snapshot.params.selectedAccount}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q1,8),e.Y36(Ie),e.Y36(Po,8),e.Y36(S.gz),e.Y36(S.F0),e.Y36(y_),e.Y36(v_))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-accounts-details-tab-container"]],features:[e._Bn([y_,v_])],decls:13,vars:4,consts:function(){let i;return i=" Back to my accounts ",[[1,"pt-5","bb-block","bb-block--xl"],["bbButton","","data-role","account-details-tab__back-navigation-button","buttonSize","md","color","link-text",1,"bb-stack","justify-content-start","bb-stack--density-sm",3,"click"],["size","md","name","arrow-back",1,"bb-stack__item"],[1,"bb-stack__item"],i,[4,"ngIf"],[1,"d-block"],[1,"d-block","mx-4","pt-5"],["role","tablist",1,"bb-tab-container__tabs","nav","nav-tabs"],["class","nav-link","role","tab","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["role","tabpanel",1,"bb-tab-container__content","tab-content"],["class","bb-card bb-card--lg",4,"ngIf","ngIfElse"],["accountHeader",""],[1,"bb-card","bb-card--lg"],[1,"bb-card__body"],["data-role","accounts-details-tab__account-graphical-header",3,"account","canEditAlias","useShortCurrency","creditLimitViewMode","canRepay","canCashInAdvance","creditCardBackgroundType","aliasLevel","isLogoVisible","showExternalInfo","externalTitle","externalLogo","repayInitiated","cashAdvanceInitiated"],["data-role","accounts-details-tab__account-header",3,"account","showBalanceType","useShortCurrency","aliasLevel","canEditAlias","showLogo","showExternalInfo","externalTitle","externalLogo"],["role","tab","routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"bb-stack__item","bb-stack__item--spacing-xs"]]},template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return o.onNavigateBack()}),e._UZ(2,"bb-icon-ui",2),e.TgZ(3,"span",3),e.SDv(4,4),e.qZA()()(),e.YNc(5,cC,5,5,"ng-container",5),e.ALo(6,"async"),e.TgZ(7,"div",6)(8,"div",7)(9,"div",8),e.YNc(10,uC,3,4,"a",9),e.qZA()(),e.TgZ(11,"div",10),e._UZ(12,"router-outlet"),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("ngIf",e.lcZ(6,2,o.accountArrangementItem$)),e.xp6(5),e.Q6J("ngForOf",o.tabs))},directives:[b.o,qa,Va,v.Hq,r.O5,r.sg,S.yS,S.Od,S.lC],pipes:[r.Ov,hb],encapsulation:2}),n})();const tN=[Ot,xn,b.Q,f.i7,ne.P,Z.p,w.z,wn];let nN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[we],imports:[[r.ez,...tN],Ot,xn,b.Q,f.i7,ne.P,Z.p,w.z,wn]}),n})();class Q_{constructor(i){this.response=i,this.kind="AccountAccessDenied",this.messages=((i.error||{}).errors||[]).map(t=>t.message)}}class oN{constructor(i){this.response=i,this.kind="ProductKindsBadRequest",this.messages=((i.error||{}).errors||[]).map(t=>t.message)}}class iN{constructor(i){this.response=i,this.kind="ProductKindstNotFound",this.messages=((i.error||{}).errors||[]).map(t=>t.message)}}class aN{constructor(i){this.response=i,this.kind="ProductKindsConnectivityError",this.messages=((i.error||{}).errors||[]).map(t=>t.message)}}class $_{constructor(i){this.response=i,this.kind="ProductKindsUnknownError",this.messages=[i.message]}}let V_=(()=>{class n{constructor(t){this.productSummaryAccountService=t,this.arrangementId=new P.t(1),this.error=new N.X(void 0),this.isLoading=new N.X(!1),this.productDetailsById=this.arrangementId.pipe((0,re.x)((o,a)=>bn(o,a)&&!this.error.value),(0,B.h)(o=>!!o),(0,U.b)(()=>this.error.next(void 0)),(0,U.b)(()=>this.isLoading.next(!0)),(0,W.w)(o=>this.productSummaryAccountService.getAccountById(o).pipe((0,L.K)(a=>(this.error.next((n=>{if(n.error instanceof ErrorEvent)return new $_(n);switch(n.status){case 0:return new aN(n);case 400:return new oN(n);case 401:case 403:return new Q_(n);case 404:return new iN(n);default:return new $_(n)}})(a)),(0,R.of)(void 0))))),(0,U.b)(()=>this.isLoading.next(!1)))}loadProductDetailsFrom(t){t.subscribe(this.arrangementId)}getUnmaskedAttribute(t){return this.productSummaryAccountService.getUnmaskedAttribute(t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(mi))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),q_=(()=>{class n{constructor(){this.propertiesConfiguration=[],this.currencyFormat="symbol",this.dateFormat="longDate",this.attributesConfiguration=[],this.mask=new e.vpe,this.propertyGroups=[]}ngOnChanges(t){(t.account||t.propertiesConfiguration)&&(this.propertyGroups=this.getDefinedPropertyGroups())}isPropertyMaskable(t){var o,a,_;const s=this.getMaskableAttributeName(t),c=(null!==(a=null===(o=this.account)||void 0===o?void 0:o.unmaskableAttributes)&&void 0!==a?a:[]).includes(s),l=void 0!==(null===(_=this.account)||void 0===_?void 0:_.financialInstitutionId);return c&&!l}isPropertyMasked(t){var o;return null===(o=this.getMaskableAttribute(t).masked)||void 0===o||o}onPropertyMasked(t,o){const a=this.getMaskableAttribute(t);this.mask.emit(Object.assign(Object.assign({},a),{masked:o}))}getMaskableAttribute(t){const o=this.getMaskableAttributeName(t);return this.attributesConfiguration.find(a=>a.attributeName===o)||{attributeName:o}}getMaskableAttributeName(t,o="IBAN"){return t.type===d.ACCOUNT_NUMBER?(n=>{switch(n){case"bban":return"BBAN";case"iban":return"IBAN";default:return"number"}})(t.numberType):o}getDefinedPropertyGroups(){return this.propertiesConfiguration.map(t=>{const o=t.properties.filter(a=>this.hasValue(a));return Object.assign(Object.assign({},t),{properties:o})}).filter(t=>t.properties.length>0)}hasValue(t){var o;const a=Oa(this.account,null!==(o=t.key)&&void 0!==o?o:"");return Array.isArray(a)?a.length>0:so(a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-account-info-container"]],inputs:{account:"account",propertiesConfiguration:"propertiesConfiguration",currencyFormat:"currencyFormat",dateFormat:"dateFormat",attributesConfiguration:"attributesConfiguration"},outputs:{mask:"mask"},features:[e.TTD],decls:2,vars:2,consts:[[1,"bb-list"],[4,"ngFor","ngForOf"],["data-role","account-info-container-group",1,"bb-product-summary-details"],["data-role","account-info-container-header",3,"ngClass"],["data-role","account-info-container-body"],["class","bb-account-details-row bb-stack bb-stack--wrap bb-stack--align-top",4,"ngFor","ngForOf"],[1,"bb-account-details-row","bb-stack","bb-stack--wrap","bb-stack--align-top"],["class","bb-account-details-item bb-stack__item bb-stack__item--fill",4,"ngFor","ngForOf"],[1,"bb-account-details-item","bb-stack__item","bb-stack__item--fill"],[3,"account","property","currencyFormat","dateFormat","isMaskable","isMasked","masked"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,OC,8,13,"ng-container",1),e.qZA()),2&t&&(e.uIk("data-role","account-info-container-"+(null==o.account||null==o.account.product||null==o.account.product.productKind?null:o.account.product.productKind.kindUri)),e.xp6(1),e.Q6J("ngForOf",o.propertyGroups))},directives:[Ha,r.sg,r.mk],pipes:[Ma],encapsulation:2,changeDetection:0}),n})(),j_=(()=>{class n{constructor(t,o,a,_,s,c){this.route=t,this.service=o,this.notificationService=a,this.localWindow=_,this.productsExternalInfoService=s,this.configurationService=c,this.errorNotificationTemplate="",this.subscriptions=new O.w0,this.productId=this.getRouteParam(this.route,"selectedAccount").pipe((0,B.h)(l=>{const u=!!l&&l.split(",").length>1;return this.multiple.next(u),!u}),(0,g.U)(l=>l||"")),this.error=this.service.error,this.isLoading=this.service.isLoading,this.unmaskedProductEvent=new N.X(void 0),this.maskableAttributes=[],this.item=new An.y(l=>{const u=[];return u.push(this._item$.subscribe(A=>{l.next(A),A&&Ye(A)&&u.push(this.productsExternalInfoService.getProductsWithExternalInfo([A]).pipe((0,g.U)(([m])=>m)).subscribe(l))},l.error)),()=>u.forEach(A=>A.unsubscribe())}),this._item$=(0,K.a)([this.service.productDetailsById.pipe((0,U.b)(()=>{this.maskableAttributes=[],this.unmaskedProductEvent.next(void 0)})),this.unmaskedProductEvent.pipe((0,W.w)(l=>l&&!l.attributeValue?this.getUnmaskedAttribute(l).pipe((0,B.h)(u=>!!u),(0,U.b)(u=>{const A=this.maskableAttributes.find(m=>m.attributeName===l.attributeName);A&&(A.masked=!1,A.unmaskedValue=u)}),(0,g.U)(u=>({attributeName:l.attributeName,attributeValue:u,product:l.product}))):(0,R.of)(l)),(0,g.U)(l=>{if(l){const{product:u,attributeName:A,attributeValue:m}=l;return this.updateUnmaskedAttributes(u,A,m||"")}return l}))]).pipe((0,g.U)(this.mapProductDetails.bind(this))),this.multiple=new N.X(!1),this.productKindNames=Ae,this.processErrorMessages=gn,this.updateUnmaskedAttributes=Bs}onMaskAttribute(t,o){const a=this.maskableAttributes.find(_=>_.attributeName===t&&_.maskedValue);a&&(this.unmaskedProductEvent.next({attributeName:t,product:o,attributeValue:a.maskedValue}),a.masked=!0)}onUnmaskAttribute(t,o){const a=this.maskableAttributes.find(s=>s.attributeName===t&&s.unmaskedValue),_={attributeName:t,product:o};a?(_.attributeValue=a.unmaskedValue,a.masked=!1):this.maskableAttributes.push({attributeName:t,maskedValue:o[t]}),this.unmaskedProductEvent.next(_)}mapProductDetails(t){const[o,a]=t;return a||o}getRouteParam(t,o){const a=t.paramMap.pipe((0,g.U)(_=>_.get(o)));return t.parent?(0,K.a)([a,this.getRouteParam(t.parent,o)]).pipe((0,g.U)(_=>_[0]||_[1])):a}ngOnInit(){this.service.loadProductDetailsFrom(this.productId)}print(){this.localWindow.print()}ngOnDestroy(){this.subscriptions.unsubscribe()}getUnmaskedAttribute(t){const{attributeName:o,product:a}=t;return this.service.getUnmaskedAttribute({attributeName:o,arrangementId:a.id}).pipe((0,L.K)(s=>(this.notificationService.showNotification({header:this.errorNotificationTemplate,message:this.processErrorMessages(null==s?void 0:s.messages),modifier:"error"}),(0,R.of)(""))))}getAccountProperties(t){var o,a;const _=this.configurationService.accountInfoProperties,s=(null===(a=null===(o=t.product)||void 0===o?void 0:o.productKind)||void 0===a?void 0:a.kindUri)||"default";return s in _?_[s]:_.default}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.gz),e.Y36(V_),e.Y36(pe.gq),e.Y36(oi),e.Y36(we),e.Y36(Ie))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-product-summary-details"]],viewQuery:function(t,o){if(1&t&&e.Gf(RC,7),2&t){let a;e.iGM(a=e.CRH())&&(o.errorNotificationTemplate=a.first)}},decls:8,vars:4,consts:function(){let i,t,o;return i="Print",t="You have selected multiple accounts",o="Please select only one account to display the account information",[[4,"ngIf","ngIfElse"],["loadingTemplate",""],["noAccountSelected",""],["multipleAccounts",""],["data-role","product-summary-details-header",1,"bb-stack","bb-block","bb-block--xl"],["data-role","product-summary-details-header-name",1,"bb-stack__item","bb-stack__item--fill"],["bbButton","","type","button","color","secondary","data-role","print","buttonSize","md",1,"bb-stack__item",3,"circle","click"],["name","print"],["data-role","button-print",1,"sr-only"],i,[3,"account","propertiesConfiguration","attributesConfiguration","mask"],["loading",""],["iconSize","xxl","iconModifier","error-outline","iconClasses","text-muted",3,"title","subtitle"],[3,"text"],[3,"title","subtitle"],["data-role","product-summary-details-error-multi-selection","iconSize","xxl","iconModifier","error-outline","iconClasses","text-muted","title",t,"subtitle",o]]},template:function(t,o){if(1&t&&(e.YNc(0,yC,3,4,"ng-container",0),e.ALo(1,"async"),e.YNc(2,BC,4,4,"ng-template",null,1,e.W1O),e.YNc(4,PC,1,2,"ng-template",null,2,e.W1O),e.YNc(6,LC,1,0,"ng-template",null,3,e.W1O)),2&t){const a=e.MAs(7);e.Q6J("ngIf",!1===e.lcZ(1,2,o.multiple))("ngIfElse",a)}},directives:[b.o,q_,ne.s,Z.Q,r.O5,v.Hq],pipes:[r.Ov,nn],encapsulation:2}),n})(),xo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-product-summary-details-widget"]],features:[e._Bn([V_,mi])],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"bb-product-summary-details")},directives:[j_],encapsulation:2}),n})();const sN=[f.i7,v.hJ,ne.P,b.Q,Z.p,ce.nj,Ee.w,w.z,$e,se,De,pe.PQ,gt,Eo,no],rN=[we];let Go=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[...rN],imports:[[r.ez,ii,gt,...sN],f.i7,v.hJ,ne.P,b.Q,Z.p,ce.nj,Ee.w,w.z,$e,se,De,pe.PQ,gt,Eo,no]}),n})(),X_=(()=>{class n{constructor(t){this.config=t}canActivate(){var t;return void 0===(null===(t=this.config)||void 0===t?void 0:t.enableManageAccounts)||!!this.config.enableManageAccounts}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(vo,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),es=(()=>{class n{constructor(t,o,a,_){this.config=t,this.shared=o,this.transactionDetailsService=a,this.isDetailsOpen=!0,this.unsubscribeSubject=new T.x,this.transactionDetailsService.fromCheckImages((0,R.of)(this.config.showCheckImages)).pipe((0,ee.R)(this.unsubscribeSubject)).subscribe(s=>{this.checkImagesList=s}),this.transactionDetailsService.fromInquiryAndDispute((0,R.of)(t.enableDisputeAndInquiry),(0,R.of)(t.disputeByBillingStatus),(0,R.of)(t.disputeEligibilityDays),(0,R.of)(t.disputeTransactionTypes.split(","))),this.transactionDetailsService.loadingState.pipe((0,ee.R)(this.unsubscribeSubject)).subscribe(s=>{this.transactionDetailsLoadingStatus=s,_.markForCheck()}),this.transactionDetailsService.fromGeolocation((0,R.of)(this.config.apiKey)).pipe((0,ee.R)(this.unsubscribeSubject)).subscribe(),this.inquireAndDisputeTopics={inquire:this.config.inquireTopicId,dispute:this.config.disputeTopicId}}ngOnInit(){this.currentTransaction=this.shared.currentTransaction.pipe((0,U.b)(t=>{t&&this.transactionDetailsService.selectTransaction(t)}))}ngOnDestroy(){this.unsubscribeSubject.next(),this.unsubscribeSubject.complete()}closeDialog(){this.isDetailsOpen=!1,this.shared.setCloseDetail()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ie),e.Y36(Bo),e.Y36(en),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-transactions-details"]],features:[e._Bn([en])],decls:2,vars:3,consts:[[3,"isDetailsOpen","transaction","showChangeCategory","checkImagesList","transactionDetailsLoadingStatus","inquireAndDisputeTopics","close",4,"ngIf"],[3,"isDetailsOpen","transaction","showChangeCategory","checkImagesList","transactionDetailsLoadingStatus","inquireAndDisputeTopics","close"]],template:function(t,o){1&t&&(e.YNc(0,xC,1,6,"bb-transaction-details-modal",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,o.currentTransaction))},directives:[Oo,r.O5],pipes:[r.Ov],encapsulation:2}),n})(),ts=(()=>{class n{constructor(t){this.configurationService=t}getAccountProperties(t){var o,a;const _=this.configurationService.accountInfoProperties,s=(null===(a=null===(o=t.product)||void 0===o?void 0:o.productKind)||void 0===a?void 0:a.kindUri)||"default";return s in _?_[s]:_.default}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ie))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-account-info"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"bb-product-summary-details-widget")},directives:[xo],encapsulation:2}),n})();const lN=[Go,f.i7,w.z,z.G,Ee.w];let uN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,...lN],Go,f.i7,w.z,z.G,Ee.w]}),n})();class AN{constructor(i){this.response=i,this.kind="ManageAccountNotFound",this.messages=((i.error||{}).errors||[]).map(t=>t.message)}}class pN{constructor(i){this.response=i,this.kind="ManageAccountBadRequest",this.messages=((i.error||{}).errors||[]).map(t=>t.message)}}class ns{constructor(i){this.response=i,this.kind="ManageAccountAccessDenied",this.messages=((i.error||{}).errors||[]).map(t=>t.message)}}class os{constructor(i){this.response=i,this.kind="ManageAccountUnknownError",this.messages=[i.message]}}class mN{constructor(i){this.response=i,this.kind="ManageAccountConnectivityError",this.messages=((i.error||{}).errors||[]).map(t=>t.message)}}const is=n=>{if(n.error instanceof ErrorEvent)return new os(n);switch(n.status){case 0:return new mN(n);case 401:case 403:return new ns(n);case 400:return new pN(n);case 404:return new AN(n);default:return new os(n)}};let as=(()=>{class n{constructor(t,o,a){this.productSummaryDataService=t,this.manageAccountDataService=o,this.notification=a,this.error=new N.X(void 0),this.updateError=new N.X(void 0),this.loading=new N.X(!0),this.revokingComplete=new N.X(!0),this.requestObject=new P.t(1),this.accountList=(0,K.a)(this.requestObject,this.revokingComplete).pipe((0,re.x)(),(0,U.b)(()=>this.error.next(void 0)),(0,U.b)(()=>this.loading.next(!0)),(0,W.w)(([_])=>this.getAccountList(_)),(0,xe.R)((_,s)=>({count:s.count,items:this.mergeResponses(_,s),params:s.params})),(0,L.K)(_=>(this.error.next(_),(0,R.of)(void 0))),(0,U.b)(()=>this.loading.next(!1)))}getAccountList(t){const o=t.from||0,a=t.paginationType||"",_=Object.assign({},t);return delete _.paginationType,this.productSummaryDataService.getArrangementsByBusinessFunction(_,pt.RESPONSE).pipe((0,g.U)(s=>this.mapResponseWithCount(s,{from:o,paginationType:a})),(0,L.K)(s=>{throw is(s)}))}patchArrangementsRecord(t,o,a){return this.manageAccountDataService.updateUserPreferences({accountUserPreferences:t}).pipe((0,Xo.q)(1),(0,U.b)(()=>this.revokingComplete.next(!0)),(0,U.b)(()=>this.showNotification(a,"success")),(0,L.K)(_=>(this.updateError.next(is(_)),this.revokingComplete.next(!0),this.showNotification(o,"error"),(0,R.of)(void 0))))}toggleVisibility(t,o,a){this.patchArrangementsRecord((n=>{let i=n.userPreferences?n.userPreferences.visible:n.visible;return i=void 0!==i?i:n.visible,{arrangementId:n.id,visible:!i}})(t),o,a).subscribe()}updateAlias(t,o,a,_){const s=((n,i)=>({arrangementId:i,alias:n}))(o,t);this.patchArrangementsRecord(s,a,_).subscribe()}getAccountsFrom(t){t.subscribe(this.requestObject)}showNotification(t,o){this.notification.showNotification({header:t,message:"",modifier:o})}mergeResponses(t,o){return t&&t.items&&o&&o.items&&t.params.paginationType===he.LOAD_MORE&&0!==o.params.from?[...t.items,...o.items]:o.items}mapResponseWithCount(t,{from:o,paginationType:a}){if(null===t.body)throw new Error;const _=t.headers?t.headers.get("x-total-count"):void 0;return{count:_?parseInt(_,10):t.body&&t.body.length||0,items:t.body||[],params:{from:o,paginationType:a}}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(X.IK),e.LFG(X.X4),e.LFG(pe.gq))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const Lt={businessFunction:"Product Summary",resourceName:"Product Summary",privilege:"view",size:20};let _s=(()=>{class n{constructor(){this.propertiesConfig$=new N.X(Lt)}get widgetProperties(){return this.propertiesConfig$}setConfig(t){this.propertiesConfig$.next({businessFunction:t.businessFunction||Lt.businessFunction,resourceName:t.resourceName||Lt.resourceName,privilege:t.privilege||Lt.privilege,size:t.size||Lt.size})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),ss=(()=>{class n extends At{constructor(t,o){super(t,o),this.getAlias=bi,this.hasExternalInfo=Ye,this.showIcon=!0,this.toggleVisibility=new e.vpe,this.updateAlias=new e.vpe}updateVisibility(t){this.toggleVisibility.emit(t)}onAliasUpdate(t){this.updateAlias.emit(t)}checkItemVisibility(t){const o=t.userPreferences?t.userPreferences.visible:t.visible;return void 0!==o?o:t.visible}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-manage-account-item"]],inputs:{item:"item",productAliasMaxLength:"productAliasMaxLength",showIcon:"showIcon"},outputs:{toggleVisibility:"toggleVisibility",updateAlias:"updateAlias"},features:[e.qOj],decls:1,vars:1,consts:function(){let i,t,o,a;return i=" External account ",t="Edit alias for " + "\ufffd0\ufffd" + "",o="Manage Visibility",a="" + "\ufffd0\ufffd" + " Visibility",[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["accountLogo",""],["accountExternalInfo",""],["accountInternalInfo",""],["changeVisibilityColumn",""],[1,"row","d-flex"],["data-role","product-kind-info",1,"col-12"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"bb-block","bb-block--xs"],[1,"col-12"],[1,"bb-block","bb-block--sm"],[4,"ngTemplateOutlet"],[1,"row","d-flex","align-items-center","flex-nowrap"],[1,"col","p-0","pl-3","d-flex","flex-basis-0","flex-grow-0"],[1,"col","flex-grow-1","row","align-items-center","flex-wrap"],["data-role","product-kind-info",1,"col-12","col-md-6"],[1,"col-12","col-md-auto","flex-grow-1"],["data-role","account-kind-name",1,"col"],[3,"name"],["data-role","manage-account-item__logo","iconColor","secondary",3,"logoSrc","productKindName",4,"ngIf"],["data-role","manage-account-item__logo","iconColor","secondary",3,"logoSrc","productKindName"],[1,"bb-block","bb-block--xs","bb-stack","bb-stack--density-sm"],["class","bb-stack__item",4,"ngIf"],["class","bb-stack__item bb-text-support bb-subtitle bb-text-bold",4,"ngIf","ngIfElse"],["externalBankNameDefault",""],[1,"bb-stack__item"],["data-role","manage-account-item__logo","iconSize","sm","logoSize","sm","iconColor","secondary",3,"logoSrc","productKindName"],[1,"bb-stack__item","bb-text-support","bb-subtitle","bb-text-bold"],i,["class","bb-text-support bb-subtitle","data-role","account-kind-name",4,"ngIf"],["data-role","account-name",1,"bb-block","bb-block--xs","bb-stack","bb-stack--density-sm","bb-text-bold","break-word"],["data-role","manage-account-item__logo","class","bb-stack__item","iconSize","sm","logoSize","sm","iconColor","secondary",3,"productKindName",4,"ngIf"],[3,"inputText","maxLength","required","accept",6,"ariaLabelEdit"],["ariaLabelEdit",t],["data-role","account-number",1,"bb-text-support","bb-subtitle",3,"product"],["data-role","arrangement-state",3,"state","hideStateTextForMobile",4,"ngIf"],["data-role","account-kind-name",1,"bb-text-support","bb-subtitle"],["data-role","manage-account-item__logo","iconSize","sm","logoSize","sm","iconColor","secondary",1,"bb-stack__item",3,"productKindName"],["data-role","arrangement-state",3,"state","hideStateTextForMobile"],[1,"bb-stack"],["data-role","account-amount","class","bb-stack__item bb-stack__item--push-right bb-highlight bb-stack__item--fill--md-down",3,"amount","currency",4,"ngIf"],["bbTooltip",o,"triggers","hover, focus","aria-pressed","true",1,"bb-stack",3,"ngModel","click",6,"aria-label"],["aria-label",a],["data-role","account-amount",1,"bb-stack__item","bb-stack__item--push-right","bb-highlight","bb-stack__item--fill--md-down",3,"amount","currency"]]},template:function(t,o){1&t&&e.YNc(0,S1,13,3,"ng-container",0),2&t&&e.Q6J("ngIf",o.item)},directives:[Bn,ot,Me.Oj,it,Mn,f.G4,Do.q,r.O5,r.RF,r.n9,r.tP,r.ED,w.i,I.JJ,I.On],encapsulation:2}),n})(),rs=(()=>{class n{constructor(t,o,a,_){this.service=t,this.widgetPropertiesService=o,this.productsExternalInfoService=a,this.el=_,this.gc$=new T.x,this.notificationErrorTemplate="",this.notificationSuccessTemplate="",this.error=this.service.error,this.updateError=this.service.updateError,this.accounts=new An.y(s=>{const c=[];return c.push(this.service.accountList.subscribe(l=>{const u=(null==l?void 0:l.items)||[];s.next(l),u.some(Ye)&&c.push(this.productsExternalInfoService.getProductsWithExternalInfo(u).pipe((0,g.U)(A=>Object.assign(Object.assign({},l),{items:A}))).subscribe(s))},s.error)),()=>c.forEach(l=>l.unsubscribe())}),this.loading=this.service.loading,this.aliasMaxLength=50,this.isSmallScreen=!1,this.businessFunction="Product Summary",this.resourceName="Product Summary",this.privilege="view",this.size=20,this.showIcons=!0,this.paginationParams=new N.X({from:0,size:0,businessFunction:"",resourceName:"",privilege:"",paginationType:he.PAGINATION}),this.requestParams=(0,K.a)(this.paginationParams,this.widgetPropertiesService.widgetProperties).pipe((0,ee.R)(this.gc$),(0,g.U)(([s,c])=>({from:s.from||0,size:c.size,businessFunction:c.businessFunction,resourceName:c.resourceName,privilege:c.privilege,paginationType:s.paginationType}))),this.processErrorMessages=gn}ngAfterViewInit(){this.widgetPropertiesService.setConfig({businessFunction:this.businessFunction,resourceName:this.resourceName,privilege:this.privilege,size:this.size});const t=this.el.nativeElement.children[0].getBoundingClientRect().width;this.isSmallScreen=t<=640,this.widgetPropertiesService.widgetProperties.pipe((0,ee.R)(this.gc$)).subscribe(o=>this.initWidgetProperties(o))}ngOnDestroy(){this.gc$.next(),this.gc$.complete()}initWidgetProperties(t){const o=this.isSmallScreen?he.LOAD_MORE:he.PAGINATION;this.paginationParams.next(Object.assign(Object.assign({},this.paginationParams.getValue()),{size:t.size,paginationType:o})),this.service.getAccountsFrom(this.requestParams)}toggleVisibility(t){this.service.toggleVisibility(t,this.notificationErrorTemplate,this.notificationSuccessTemplate)}updateAlias(t,o=""){this.service.updateAlias(t,o,this.notificationErrorTemplate,this.notificationSuccessTemplate)}onPageChange(t){this.paginationParams.next(Object.assign(Object.assign({},this.paginationParams.getValue()),{from:t}))}onLoadMore(){this.loading.getValue()||this.paginationParams.next(Object.assign(Object.assign({},this.paginationParams.value),{from:this.paginationParams.value.from?this.paginationParams.value.from+1:1}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(as),e.Y36(_s),e.Y36(we),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-product-summary-manage-accounts-widget"]],viewQuery:function(t,o){if(1&t&&(e.Gf(g1,7),e.Gf(b1,7)),2&t){let a;e.iGM(a=e.CRH())&&(o.notificationErrorTemplate=a.first),e.iGM(a=e.CRH())&&(o.notificationSuccessTemplate=a.first)}},inputs:{businessFunction:"businessFunction",resourceName:"resourceName",privilege:"privilege",size:"size",showIcons:"showIcons"},features:[e._Bn([_s])],decls:11,vars:8,consts:function(){let i,t,o,a;return i=" Below you can define which products will be shown in \"My accounts\" and/or edit their account names. ",t=" Failed to update Product ",o=" Successfully Updated ",a="Loading Accounts...",[[1,"bb-block","bb-block--full-width"],[4,"ngIf","ngIfElse"],["notificationError",""],["notificationSuccess",""],["loadingTemplate",""],["data-role","product-summary-manage-accounts-initial-message",1,"bb-block","bb-block--xl"],i,[1,"card","card-lg"],[1,"card-body"],[1,"bb-list","bb-list--density-md"],["class","bb-list__item",4,"ngFor","ngForOf"],[1,"card-footer"],[3,"page","count","hasMore","loading","paginationType","itemsPerPage","pageChange","loadMore",4,"ngIf"],[1,"bb-list__item"],[3,"item","productAliasMaxLength","showIcon","toggleVisibility","updateAlias"],[3,"page","count","hasMore","loading","paginationType","itemsPerPage","pageChange","loadMore"],t,[4,"ngIf"],o,["loading",""],["iconSize","xxl","iconModifier","error-outline","iconClasses","text-muted","title","",3,"subtitle"],["text",a]]},template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,N1,3,4,"ng-container",1),e.ALo(2,"bbIsDefined"),e.ALo(3,"async"),e.ALo(4,"async"),e.qZA(),e.YNc(5,I1,4,3,"ng-template",null,2,e.W1O),e.YNc(7,h1,2,0,"ng-template",null,3,e.W1O),e.YNc(9,D1,4,4,"ng-template",null,4,e.W1O)),2&t){const a=e.MAs(10);e.xp6(1),e.Q6J("ngIf",!e.lcZ(2,2,e.lcZ(3,4,o.error))&&e.lcZ(4,6,o.accounts))("ngIfElse",a)}},directives:[ss,tA,ne.s,Z.Q,r.O5,r.sg],pipes:[St,r.Ov],encapsulation:2}),n})();const bN=[ne.P,Z.p,Me.Ne,ce.nj,f.i7,Do.o,pe.PQ,$e,Ce,kn,Ve,se,w.z,De];let cs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[as,we],imports:[[r.ez,I.u5,ii,...bN],ne.P,Z.p,Me.Ne,ce.nj,f.i7,Do.o,pe.PQ,$e,Ce,kn,Ve,se,w.z,De]}),n})(),ls=(()=>{class n{constructor(t,o,a){this.router=t,this.route=o,this.config=a,this.manageMyAccounts="Manage my Accounts",this.backToAccounts="Back to my Accounts"}onNavigateBack(){this.router.navigate([".."],{relativeTo:this.route})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.F0),e.Y36(S.gz),e.Y36(Ie))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-accounts-manage-list"]],decls:7,vars:3,consts:[[1,"px-0","pt-4","pb-5","flex-column-reverse","align-items-start"],[1,"bb-heading-widget__button","btn","btn-link","pl-0","ml-0","mb-3",3,"click"],["aria-hidden","true",1,"bb-icon","bb-icon-arrow-back"],["headingType","h1","headingClasses","bb-heading-widget__heading",3,"heading"],[3,"showIcons"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return o.onNavigateBack()}),e._UZ(2,"i",2),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e._UZ(5,"bb-header-ui",3),e.qZA(),e._UZ(6,"bb-product-summary-manage-accounts-widget",4)),2&t&&(e.xp6(4),e.Oqu(o.backToAccounts),e.xp6(1),e.Q6J("heading",o.manageMyAccounts),e.xp6(1),e.Q6J("showIcons",o.config.showAccountIcons))},directives:[Ze.G,rs],encapsulation:2}),n})();const EN=[cs,Ze.O,v.hJ];let TN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,S.Bz,...EN],cs,Ze.O,v.hJ]}),n})();const CN={path:"",component:M1,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:F_,data:{title:"My Accounts"}},{path:"manage",component:ls,canActivate:[X_]},{path:"transactions",component:W_,data:{title:"Transactions"},children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:J_,data:{title:"List"},children:[{path:"detail",component:es}]},{path:"details",component:ts,data:{title:"Details"}}]}]},NN=[uN,TN,M_,jn,Go,nN,sn,Xa,$a,M_.forRoot({showDetails:!1})];let fN=(()=>{class n{static forRoot(t={route:CN}){return{ngModule:n,providers:[(0,S.co)([t.route])]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[X_,Bo,X.X4,X.LQ,X.IK,Gt.R6,We.e4,Ht.VC,Yt.c$,Zt.ML,Ie,X.mz],imports:[[r.ez,S.Bz,...NN]]}),n})();var us=p(3109),IN=p(6899);let RN=(()=>{class n{constructor(t,o){this.routableModal=t,this.router=o}init(t){this.initiatePaymentApi=t,this.setPaymentConfiguration()}reset(){this.paymentPayload=void 0}closeEvent(){this.routableModal.closeModal()}headerNavigationAction(t){this.routableModal.openModal(t)}repayEvent(t){this.paymentPayload=this.getPaymentPayload({counterparty:t}),this.setPaymentConfiguration(),this.routableModal.openModal("quick-action-repay")}cashAdvanceEvent(t){this.paymentPayload=this.getPaymentPayload({originator:t}),this.setPaymentConfiguration(),this.routableModal.openModal("quick-action-cash-advance")}payNowEvent(t){this.router.navigate(["transfers","make-a-transfer",{transferTo:t}])}setPaymentConfiguration(){this.initiatePaymentApi&&this.paymentPayload&&this.initiatePaymentApi.setupData(this.paymentPayload)}getPaymentPayload(t){return{payment:{version:void 0,id:void 0,status:void 0,paymentType:us.W3C.paymentType,requestedExecutionDate:(new Date).toISOString(),originatorAccount:{arrangementId:t.originator,identification:void 0},transferTransactionInformation:{counterpartyAccount:{arrangementId:t.counterparty,identification:void 0},instructedAmount:{amount:"",currencyCode:""},counterparty:void 0}},options:{paymentMode:us.x66.CREATE_PAYMENT}}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(IN.v9),e.LFG(S.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DN=(()=>{class n{constructor(t,o){this.router=t,this.route=o}navigateToExternalAccountDetails(t){t.kind===Q.LOAN?this.navigateToLoansInfoPage(t.id):console.error("Not configured navigation to account external details: ",t)}navigateToLoansInfoPage(t){this.router.navigate([`my-accounts/loans/details/${t}/info`],{relativeTo:this.route}),window.scrollTo(0,0)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(S.F0),e.LFG(S.gz))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var MN=p(314),ct=p(570),yN=p(1520);const vN={provide:vo,useValue:{apiKey:yN.N.googleApiKey,showCheckImages:!0,disputeTopicId:"",inquireTopicId:"",productKindsWithExternalDetailsPage:Q.LOAN,accountAliasDisplayLevel:Be.USER}};let UN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[vN,{provide:Po,useExisting:RN},{provide:un,useExisting:DN},{provide:Uo,useExisting:MN.K},tt.h,{provide:X.xd,useExisting:ct.MI},{provide:Ht.Af,useExisting:ct.GT},{provide:Gt.p5,useExisting:ct.vj},{provide:Yt.SV,useExisting:ct.xr},{provide:We.Bn,useExisting:ct.ao},{provide:Zt.P8,useExisting:ct.N2}],imports:[[fN.forRoot()]]}),n})()},8449:()=>{},8310:()=>{},892:()=>{},8847:()=>{},3079:()=>{},780:()=>{},8625:()=>{},7921:(jo,et,p)=>{"use strict";p.d(et,{Jb:()=>B,UX:()=>W,u3:()=>W});var e=p(9808),r=p(5e3),S=p(7656),N=p(9287);function K(O,T){if(1&O&&(r.TgZ(0,"span",8),r._uU(1),r.qZA(),r.TgZ(2,"span",9),r.SDv(3,10),r.qZA()),2&O){const x=T.$implicit;r.xp6(1),r.Oqu(x),r.xp6(2),r.pQV(x),r.QtT(3)}}function re(O,T){1&O&&r._UZ(0,"bb-icon-ui",11)}function U(O,T){1&O&&r._UZ(0,"bb-icon-ui",12)}function g(O,T){1&O&&r._UZ(0,"bb-icon-ui",13)}function L(O,T){1&O&&r._UZ(0,"bb-icon-ui",14)}function R(O,T){1&O&&(r.TgZ(0,"span",15),r._uU(1,"..."),r.qZA())}function Re(O,T){if(1&O){const x=r.EpF();r.TgZ(0,"ngb-pagination",1),r.NdJ("pageChange",function(lt){return r.CHM(x),r.oxw().onPageChange(lt)}),r.YNc(1,K,4,2,"ng-template",2),r.YNc(2,re,1,0,"ng-template",3),r.YNc(3,U,1,0,"ng-template",4),r.YNc(4,g,1,0,"ng-template",5),r.YNc(5,L,1,0,"ng-template",6),r.YNc(6,R,2,0,"ng-template",7),r.qZA()}if(2&O){const x=r.oxw();r.Q6J("boundaryLinks",x.boundaryLinks)("collectionSize",x.totalItems)("directionLinks",x.directionLinks)("maxSize",x.maxNavPages)("pageSize",x.itemsPerPage)("page",x.page+1)("rotate",!0)}}let B=(()=>{class O{constructor(){this.page=1,this.boundaryLinks=!1,this.directionLinks=!1,this.totalItems=0,this.itemsPerPage=10,this.maxNavPages=5,this.pageChange=new r.vpe}onPageChange(x){this.pageChange.emit(x-1)}}return O.\u0275fac=function(x){return new(x||O)},O.\u0275cmp=r.Xpm({type:O,selectors:[["bb-pagination-ui"]],inputs:{page:"page",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",totalItems:"totalItems",itemsPerPage:"itemsPerPage",maxNavPages:"maxNavPages"},outputs:{pageChange:"pageChange"},features:[r._Bn([S.pM])],decls:1,vars:1,consts:function(){let T;return T="page " + "\ufffd0\ufffd" + "",[["class","d-flex justify-content-center bb-pagination",3,"boundaryLinks","collectionSize","directionLinks","maxSize","pageSize","page","rotate","pageChange",4,"ngIf"],[1,"d-flex","justify-content-center","bb-pagination",3,"boundaryLinks","collectionSize","directionLinks","maxSize","pageSize","page","rotate","pageChange"],["ngbPaginationNumber",""],["ngbPaginationFirst",""],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["ngbPaginationLast",""],["ngbPaginationEllipsis",""],["aria-hidden","true"],[1,"sr-only"],T,["data-role","pagination-icon-first","size","md","name","first-page"],["data-role","pagination-icon-previous","size","md","name","chevron-left"],["data-role","pagination-icon-next","size","md","name","chevron-right"],["data-role","pagination-icon-last","size","md","name","last-page"],["data-role","pagination-ellipsis",1,"bb-pagination__ellipsis"]]},template:function(x,P){1&x&&r.YNc(0,Re,7,7,"ngb-pagination",0),2&x&&r.Q6J("ngIf",+P.itemsPerPage<+P.totalItems)},directives:[S.N9,N.o,e.O5,S.LD,S.eC,S.ju,S.GZ,S.pV,S.tg],encapsulation:2}),O})(),W=(()=>{class O{}return O.\u0275fac=function(x){return new(x||O)},O.\u0275mod=r.oAB({type:O}),O.\u0275inj=r.cJS({imports:[[e.ez,S.jF,N.Q]]}),O})()},8451:(jo,et,p)=>{"use strict";p.d(et,{o:()=>Re,q:()=>R});var e=p(9808),r=p(3075),S=p(5e3),N=p(9144),K=p(4619);function re(B,W){if(1&B&&(S.TgZ(0,"label",5),S._uU(1),S.qZA()),2&B){const O=S.oxw();S.uIk("for",O.id),S.xp6(1),S.hij(" ",O.label," ")}}const U=function(B){return{"bb-switch--align-end":B}},g=function(B,W,O){return{"bb-switch__element--checked":B,"bb-switch__element--disabled":W,"bb-switch__element--focused":O}};var L=(()=>{return(B=L||(L={})).left="left",B.right="right",L;var B})();let R=(()=>{class B extends N.rA{constructor(O,T){super(O),this.cd=O,this.el=T,this.labelPosition=L.left,this.keyboardFocus=!1,this.focused=!1}ngOnInit(){super.ngOnInit(),this.role=this.role||"switch"}toggleSwitch(O){var T;if("LABEL"!==(null===(T=O.target)||void 0===T?void 0:T.tagName))if(window.MSInputMethodContext&&document.documentMode){"checkbox"===O.target.type?this.onValueChange():this.onValueChange(!this.value);const P=document.createEvent("Event");P.initEvent("change",!0,!1),this.el.nativeElement.dispatchEvent(P)}else this.onValueChange(!this.value),this.el.nativeElement.dispatchEvent(new Event("change",{bubbles:!0}))}onBlur(O){this.focused=!1,super.onBlur(O)}isLabelLeft(){return this.labelPosition===L.left}isLabelRight(){return this.labelPosition===L.right}}return B.\u0275fac=function(O){return new(O||B)(S.Y36(S.sBO),S.Y36(S.SBq))},B.\u0275cmp=S.Xpm({type:B,selectors:[["bb-switch-ui"]],inputs:{labelPosition:"labelPosition"},features:[S._Bn([{provide:r.JU,multi:!0,useExisting:(0,S.Gpc)(()=>B)}]),S.qOj],decls:5,vars:21,consts:[[1,"bb-switch",3,"ngClass","click"],["class","bb-switch__label",4,"ngIf"],[1,"bb-switch__checkbox","sr-only","sr-only-focusable",3,"id","ngModel","disabled","aria-label","required","aria-describedby","aria-labelledby","aria-expanded","role","aria-invalid","aria-owns","aria-activedescendant","ngModelChange","change","focus","blur"],[1,"bb-switch__element",3,"ngClass","focus","blur"],[1,"bb-switch__slider","slider"],[1,"bb-switch__label"]],template:function(O,T){1&O&&(S.TgZ(0,"div",0),S.NdJ("click",function(P){return!T.disabled&&T.toggleSwitch(P)}),S.YNc(1,re,2,2,"label",1),S.TgZ(2,"bb-input-checkbox-ui",2),S.NdJ("ngModelChange",function(P){return T.value=P})("change",function(P){return P.stopPropagation()&&!T.disabled&&T.toggleSwitch(P)})("focus",function(){return T.focused=!0})("blur",function(P){return T.onBlur(P)}),S.qZA(),S.TgZ(3,"span",3),S.NdJ("focus",function(){return T.keyboardFocus=!0})("blur",function(){return T.keyboardFocus=!1}),S._UZ(4,"span",4),S.qZA()()),2&O&&(S.Q6J("ngClass",S.VKq(15,U,T.isLabelRight())),S.xp6(1),S.Q6J("ngIf",T.label),S.xp6(1),S.Q6J("id",T.id)("ngModel",T.value)("disabled",T.disabled)("aria-label",T.ariaLabel)("required",T.required)("aria-describedby",T.ariaDescribedby)("aria-labelledby",T.ariaLabelledby)("aria-expanded",T.ariaExpanded)("role",T.role)("aria-invalid",T.ariaInvalid)("aria-owns",T.ariaOwns)("aria-activedescendant",T.ariaActivedescendant),S.xp6(1),S.Q6J("ngClass",S.kEZ(17,g,T.value,T.disabled,T.focused)))},directives:[K.r,e.mk,e.O5,r.JJ,r.On,r.Q7],encapsulation:2,changeDetection:0}),B})(),Re=(()=>{class B{}return B.\u0275fac=function(O){return new(O||B)},B.\u0275mod=S.oAB({type:B}),B.\u0275inj=S.cJS({imports:[[e.ez,r.u5,K.b]]}),B})()}}]);