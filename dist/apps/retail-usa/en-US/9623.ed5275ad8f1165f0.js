(self.webpackChunkretail_usa=self.webpackChunkretail_usa||[]).push([[9623],{1686:(ce,w,l)=>{"use strict";l.r(w),l.d(w,{CardsManagementJourneyBundleModule:()=>Do});var R=l(7420),o=l(9808),e=l(5e3),A=l(3075),L=l(6888),Y=l(7555),H=l(3533),U=l(7605),y=l(5622),B=l(3203),O=l(9287),p=l(5612),C=l(8519),m=l(7504),d=l(8639),N=l(7287),g=l(4951),D=l(429),x=l(4265),W=l(5556),M=(()=>{return(n=M||(M={})).Success="SUCCESS",n.Pending="PENDING",n.Failed="FAILED",M;var n})(),h=(()=>{return(n=h||(h={})).Lost="LOST",n.Stolen="STOLEN",n.Damaged="DAMAGED",h;var n})(),s=(()=>{return(n=s||(s={})).Active="ACTIVE",n.Inactive="INACTIVE",n.Canceled="CANCELED",n.Expired="EXPIRED",s;var n})(),S=(()=>{return(n=S||(S={})).NotUnderReplacement="NOT_UNDER_REPLACEMENT",n.UnderReplacement="UNDER_REPLACEMENT",n.Replaced="REPLACED",S;var n})(),b=(()=>{return(n=b||(b={})).Locked="LOCKED",n.Unlocked="UNLOCKED",b;var n})();const E={Active:s.Active,Inactive:s.Inactive,Cancelled:s.Canceled,Expired:s.Expired},T={NotUnderReplacement:S.NotUnderReplacement,ReplacementRequested:S.UnderReplacement,ReplacementInTransit:S.UnderReplacement,ReplacementUnderCancellation:S.UnderReplacement,Replaced:S.Replaced},u={LOCKED:b.Locked,UNLOCKED:b.Unlocked},J={SUCCESS:M.Success,PENDING:M.Pending,FAILED:M.Failed},Q={[h.Lost]:"Lost",[h.Stolen]:"Stolen",[h.Damaged]:"Damaged"},Z={ATM:{name:"withdrawals",description:"The amount you can withdraw from cash machines"},ONLINE:{name:"online purchases",description:"The limit for when using your card for payments online"},POS:{name:"terminal payments",description:"The limit for physical payments with your card (e.g. supermarkets, restaurants, etc.)"}},Je=n=>a=>{const t=a.value;if(!t)return null;const _=t.replace(/\s/g,"");return new RegExp(`^\\d{${n}}$`).test(_)?null:{cvv:!0}};function Ke(n=new Date){return n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),n.toISOString().slice(0,10)}var Me;!function(n){const a=t=>{const _=t.error;if(Array.isArray(_&&_.errors))return _.errors.map(i=>{const r=i.context||{},c=i.message.replace(/{[_a-zA-Z][_a-zA-Z0-9]*}/g,f=>{const v=r[f.replace(/[{}']+/g,"")];return void 0!==v?v:f});return`Error ${t.status}: ${c}`})};n.fromHttpErrorResponse=t=>t.error instanceof ErrorEvent||!t.status?{message:"An unexpected error occurred"}:{message:(a(t)||[])[0]||`Error ${t.status}`},n.fromHttpErrorsResponse=t=>t.error instanceof ErrorEvent||!t.status?[{message:"An unexpected error occurred"}]:(a(t)||[`Error ${t.status}`]).map(i=>({message:i}))}(Me||(Me={}));var De,te=(()=>{return(n=te||(te={})).Reset="RESET",n.Request="REQUEST",n.Empty="",te;var n})();function Ge(n,{country:a,region:t}){if(!n)return a;const _=n.find(i=>i.code===a);if(_&&t){const i=_.regions&&_.regions.find(r=>r.code===t);return i?`${i.name} (${_.code})`:_.name}return _?_.name:a}(De||(De={})).buildPostCreateTravelNoticeHttpRequest=function a(t){var _;const i=(null===(_=t.cards)||void 0===_?void 0:_.map(f=>f.id))||[],r=t.departureDate instanceof Date?Ke(t.departureDate):t.departureDate,c=t.arrivalDate instanceof Date?Ke(t.arrivalDate):t.arrivalDate;return{travelNotice:{id:t.id,cardIds:i,departureDate:r,arrivalDate:c,destinations:t.destinations,contact:t.contact,additions:t.additions}}};let pe=(()=>{class n{isPastDate(t){const _=new Date(t);return this.trucanteDate(_)<this.trucanteDate(new Date)}isPastDateOrToday(t){return this.isPastDate(t)||this.areDateEqual(new Date,new Date(t))}isUpcomingDate(t){const _=new Date(t);return this.trucanteDate(_)>this.trucanteDate(new Date)}isUpcomingDateOrToday(t){return this.isUpcomingDate(t)||this.areDateEqual(new Date,new Date(t))}isDateInBetween(t,_){return this.isPastDateOrToday(t)&&this.isUpcomingDateOrToday(_)}areDateEqual(t,_){return this.trucanteDate(t)===this.trucanteDate(_)}trucanteDate(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getTime()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function Gt(n,a){if(1&n&&(e.TgZ(0,"div",7),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,2,t.stepDateTime)," at ",e.xi3(3,4,t.stepDateTime,"shortTime")," ")}}const ke=function(n,a){return[n,a]},kt=function(n){return{"bb-text-support":n}};function xt(n,a){if(1&n&&(e.TgZ(0,"div",2)(1,"div",3),e._UZ(2,"bb-icon-ui",4),e.qZA(),e.TgZ(3,"div",5),e._uU(4),e.qZA(),e.YNc(5,Gt,4,7,"div",6),e.qZA()),2&n){const t=a.$implicit,_=e.oxw();e.Q6J("ngClass",e.WLB(7,ke,t===_.currentStep?"active":"",_.getStepClassName(t))),e.xp6(1),e.Q6J("ngClass",e.WLB(10,ke,_.stepColorClassName,"SUCCESS"!==t.status?"bb-delivery-tracker__step-icon--disabled":"")),e.xp6(1),e.Q6J("name",_.getStepIconClassName("SUCCESS"===t.status?"ordered":t.name))("color","SUCCESS"===t.status?_.color:"light"),e.xp6(1),e.Q6J("ngClass",e.VKq(13,kt,"SUCCESS"!==t.status)),e.xp6(1),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.stepDateTime)}}function Ft(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,31),e.qZA())}function Ht(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,32),e.qZA())}function wt(n,a){if(1&n&&(e.ynx(0,28),e.YNc(1,Ft,2,0,"span",29),e.YNc(2,Ht,2,0,"span",30),e.BQk()),2&n){const t=e.oxw().$implicit;e.Q6J("ngSwitch",t.key),e.xp6(1),e.Q6J("ngSwitchCase","cvv")}}function Yt(n,a){if(1&n&&(e.ynx(0),e.YNc(1,wt,3,2,"ng-container",27),e.BQk()),2&n){const t=a.last;e.xp6(1),e.Q6J("ngIf",t)}}function Zt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"form",7),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return i.form.valid&&i.onSubmit(i.form.value)}),e.TgZ(1,"div",8)(2,"div",9)(3,"div",10),e._UZ(4,"div",11),e.qZA(),e.TgZ(5,"div",12)(6,"h3"),e.SDv(7,13),e.qZA(),e.TgZ(8,"p",14),e.SDv(9,15),e.qZA(),e.TgZ(10,"div",9)(11,"div",16),e._UZ(12,"bb-input-password-ui",17),e.qZA(),e.TgZ(13,"div",18)(14,"bb-input-validation-message-ui",19),e.YNc(15,Yt,2,1,"ng-container",20),e.ALo(16,"keyvalue"),e.qZA()()()()()(),e.TgZ(17,"div",21)(18,"div",22)(19,"bb-button-ui",23),e.SDv(20,24),e.qZA(),e.TgZ(21,"bb-button-ui",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().onModalClose()}),e.SDv(22,26),e.qZA()()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(12),e.Q6J("autofocus",!0)("maxLength",3),e.xp6(2),e.Q6J("showErrors",!t.isFieldValid("token")),e.xp6(1),e.Q6J("ngForOf",e.lcZ(16,5,t.form.controls.token.errors))}}const Ne=function(){return{centered:!0}};function Wt(n,a){1&n&&(e.ynx(0),e.TgZ(1,"p",9),e.SDv(2,10),e.qZA(),e.BQk())}function Qt(n,a){1&n&&(e.TgZ(0,"strong"),e.SDv(1,25),e.qZA(),e._UZ(2,"br"),e.TgZ(3,"p",26),e.SDv(4,27),e.qZA())}function qt(n,a){1&n&&(e.TgZ(0,"strong"),e.SDv(1,28),e.qZA(),e._UZ(2,"br"),e.TgZ(3,"p",26),e.SDv(4,29),e.qZA())}function zt(n,a){1&n&&(e.TgZ(0,"strong"),e.SDv(1,30),e.qZA(),e._UZ(2,"br"),e.TgZ(3,"p",26),e.SDv(4,31),e.qZA())}function $t(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"bb-input-radio-group-ui",12),e._UZ(3,"bb-input-radio-ui",13)(4,"bb-input-radio-ui",14)(5,"bb-input-radio-ui",15),e.qZA(),e.YNc(6,Qt,5,0,"ng-template",null,16,e.W1O),e.YNc(8,qt,5,0,"ng-template",null,17,e.W1O),e.YNc(10,zt,5,0,"ng-template",null,18,e.W1O),e.qZA(),e.TgZ(12,"div",19)(13,"div",20)(14,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().modalStep=1}),e.SDv(15,22),e.qZA(),e.TgZ(16,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().onModalClose()}),e.SDv(17,24),e.qZA()()(),e.BQk()}if(2&n){const t=e.MAs(7),_=e.MAs(9),i=e.MAs(11);e.xp6(2),e.Q6J("required",!0),e.xp6(1),e.Q6J("labelTemplate",t),e.xp6(1),e.Q6J("labelTemplate",_),e.xp6(1),e.Q6J("labelTemplate",i)}}function Vt(n,a){1&n&&(e.TgZ(0,"button",38),e.SDv(1,39),e.qZA()),2&n&&e.Q6J("bbFocus",!0)}function jt(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"h5",32),e.SDv(3,33),e.qZA(),e.TgZ(4,"p",34),e.SDv(5,35),e.qZA()(),e.TgZ(6,"div",19)(7,"div",20),e.YNc(8,Vt,2,1,"button",36),e.TgZ(9,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().onModalClose()}),e.SDv(10,37),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngIf",1===t.modalStep)}}function Xt(n,a){if(1&n&&(e.TgZ(0,"strong",10),e._UZ(1,"bb-amount-ui",11),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("currency",t.currency)("amount",null==t.limit?null:t.limit.amount)("mapCurrency",!0)("decimalPlaces",0)}}function en(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"bb-payment-card-limit",10),e.NdJ("updateLimit",function(i){return e.CHM(t),e.oxw(3).onUpdateLimit(i)}),e.qZA()()}if(2&n){const t=a.$implicit,_=e.oxw(3);e.xp6(1),e.Q6J("limit",t)("currency",null==_.paymentCard?null:_.paymentCard.currency)}}function tn(n,a){if(1&n&&(e.TgZ(0,"div",7),e.YNc(1,en,2,2,"div",8),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==t.paymentCard?null:t.paymentCard.limits)}}function nn(n,a){if(1&n&&(e.TgZ(0,"div",2)(1,"div",3)(2,"h2"),e.SDv(3,4),e.qZA()(),e.TgZ(4,"div",5),e.YNc(5,tn,2,1,"div",6),e.qZA()()),2&n){const t=e.oxw(),_=e.MAs(2);e.xp6(5),e.Q6J("ngIf",!t.isLimitsLoading)("ngIfElse",_)}}function _n(n,a){1&n&&e._UZ(0,"bb-loading-indicator-ui",11)}function an(n,a){if(1&n&&(e.TgZ(0,"p",3),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",null==t?null:t.message," ")}}function on(n,a){1&n&&(e.ynx(0),e.SDv(1,5),e.BQk())}function rn(n,a){1&n&&(e.ynx(0),e.SDv(1,6),e.BQk())}function sn(n,a){1&n&&(e.ynx(0),e.TgZ(1,"h2"),e.SDv(2,7),e.qZA(),e.BQk())}function cn(n,a){1&n&&(e.ynx(0),e.TgZ(1,"h2"),e.SDv(2,8),e.qZA(),e.BQk())}function ln(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,35),e.qZA())}function dn(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,36),e.qZA())}function En(n,a){if(1&n&&(e.ynx(0,32),e.YNc(1,ln,2,0,"span",33),e.YNc(2,dn,2,0,"span",34),e.BQk()),2&n){const t=e.oxw().$implicit;e.Q6J("ngSwitch",t.key),e.xp6(1),e.Q6J("ngSwitchCase","cvv")}}function An(n,a){if(1&n&&(e.ynx(0),e.YNc(1,En,3,2,"ng-container",31),e.BQk()),2&n){const t=a.last;e.xp6(1),e.Q6J("ngIf",t)}}function Sn(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",9,10),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.MAs(2),r=e.oxw();return i.valid&&r.gotoNextStep()}),e.TgZ(3,"div",11)(4,"div",12)(5,"div",13),e._UZ(6,"div",14),e.qZA(),e.TgZ(7,"div",15)(8,"h3"),e.SDv(9,16),e.qZA(),e.TgZ(10,"p",17),e.SDv(11,18),e.qZA(),e.TgZ(12,"div",12)(13,"div",19)(14,"bb-input-password-ui",20,21),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().model.token=i}),e.qZA()(),e.TgZ(16,"div",22)(17,"bb-input-validation-message-ui",23),e.YNc(18,An,2,1,"ng-container",24),e.ALo(19,"keyvalue"),e.qZA()()()()()(),e.TgZ(20,"div",25)(21,"div",26)(22,"bb-button-ui",27),e.SDv(23,28),e.qZA(),e.TgZ(24,"bb-button-ui",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().onModalClose()}),e.SDv(25,30),e.qZA()()()(),e.BQk()}if(2&n){const t=e.MAs(15),_=e.oxw();e.xp6(14),e.Q6J("bbCvvValidator",_.defaultCvvLengthRef)("autofocus",!0)("ngModel",_.model.token)("required",!0)("minlength",_.defaultCvvLengthRef)("maxLength",_.defaultCvvLengthRef),e.xp6(3),e.Q6J("showErrors",!!t.errors&&!!t.touched),e.xp6(1),e.Q6J("ngForOf",e.lcZ(19,8,t.errors))}}function un(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",11),e._UZ(2,"bb-alert-ui",37),e.TgZ(3,"div")(4,"h5",38),e.SDv(5,39),e.qZA(),e.TgZ(6,"p",17),e.SDv(7,40),e.qZA()()(),e.TgZ(8,"div",25)(9,"div",26)(10,"bb-button-ui",41),e.NdJ("click",function(){return e.CHM(t),e.oxw().onSubmit()}),e.SDv(11,42),e.qZA(),e.TgZ(12,"bb-button-ui",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().onModalClose()}),e.SDv(13,43),e.qZA()()(),e.BQk()}}function pn(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,54),e.qZA())}function Cn(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,55),e.qZA())}function mn(n,a){if(1&n&&(e.ynx(0,32),e.YNc(1,pn,2,0,"span",33),e.YNc(2,Cn,2,0,"span",34),e.BQk()),2&n){const t=e.oxw().$implicit;e.Q6J("ngSwitch",t.key),e.xp6(1),e.Q6J("ngSwitchCase","cvv")}}function gn(n,a){if(1&n&&(e.ynx(0),e.YNc(1,mn,3,2,"ng-container",31),e.BQk()),2&n){const t=a.last;e.xp6(1),e.Q6J("ngIf",t)}}function Rn(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-input-password-ui",52,53),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).model.pin=i}),e.qZA(),e.TgZ(3,"bb-input-validation-message-ui",23),e.YNc(4,gn,2,1,"ng-container",24),e.ALo(5,"keyvalue"),e.qZA(),e.BQk()}if(2&n){const t=e.MAs(2),_=e.oxw(3);e.xp6(1),e.Q6J("bbCvvValidator",_.cardPinLength)("minlength",_.cardPinLength)("maxLength",_.cardPinLength)("ngModel",_.model.pin)("autofocus",!0)("required",!0),e.xp6(2),e.Q6J("showErrors",!!t.errors&&!!t.touched),e.xp6(1),e.Q6J("ngForOf",e.lcZ(5,8,t.errors))}}function Mn(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Rn,6,10,"ng-container",1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.cardPinLength)}}function Dn(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,58),e.qZA())}function Nn(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,59),e.qZA())}function fn(n,a){if(1&n&&(e.ynx(0,32),e.YNc(1,Dn,2,0,"span",33),e.YNc(2,Nn,2,0,"span",34),e.BQk()),2&n){const t=e.oxw().$implicit;e.Q6J("ngSwitch",t.key),e.xp6(1),e.Q6J("ngSwitchCase","cvv")}}function bn(n,a){if(1&n&&(e.ynx(0),e.YNc(1,fn,3,2,"ng-container",31),e.BQk()),2&n){const t=a.last;e.xp6(1),e.Q6J("ngIf",t)}}function Un(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-input-password-ui",56,57),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).modelExclude.pin2=i}),e.qZA(),e.TgZ(3,"bb-input-validation-message-ui",23),e.YNc(4,bn,2,1,"ng-container",24),e.ALo(5,"keyvalue"),e.qZA(),e.BQk()}if(2&n){const t=e.MAs(2),_=e.oxw(3);e.xp6(1),e.Q6J("bbCvvValidator",_.cardPinLength)("maxLength",_.cardPinLength)("minlength",_.cardPinLength)("ngModel",_.modelExclude.pin2)("autofocus",!0)("required",!0),e.xp6(2),e.Q6J("showErrors",!!t.errors&&!!t.touched),e.xp6(1),e.Q6J("ngForOf",e.lcZ(5,8,t.errors))}}function In(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Un,6,10,"ng-container",1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.cardPinLength)}}function Tn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"bb-button-ui",41),e.NdJ("click",function(){e.CHM(t),e.oxw();const i=e.MAs(2),r=e.oxw();return i.valid&&r.gotoNextStep()}),e.SDv(1,60),e.qZA()}}function vn(n,a){1&n&&(e.TgZ(0,"bb-button-ui",61),e.SDv(1,62),e.qZA())}function Bn(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",9,10),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.MAs(2),r=e.oxw();return i.valid&&r.onSubmit()}),e.TgZ(3,"div",11)(4,"div",12)(5,"div",44)(6,"div",45)(7,"div",46),e._UZ(8,"bb-payment-card-ui",47),e.qZA()()(),e.TgZ(9,"div",48),e.YNc(10,Mn,2,1,"ng-container",1),e.YNc(11,In,2,1,"ng-container",1),e.qZA()()(),e.TgZ(12,"div",25)(13,"div",26),e.YNc(14,Tn,2,0,"bb-button-ui",49),e.YNc(15,vn,2,0,"bb-button-ui",50),e.TgZ(16,"bb-button-ui",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().onModalClose()}),e.SDv(17,51),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("paymentCard",t.paymentCard),e.xp6(2),e.Q6J("ngIf",2===t.modalStep),e.xp6(1),e.Q6J("ngIf",3===t.modalStep),e.xp6(3),e.Q6J("ngIf",2===t.modalStep),e.xp6(1),e.Q6J("ngIf",3===t.modalStep)}}function yn(n,a){1&n&&(e.ynx(0),e._UZ(1,"bb-icon-ui",5)(2,"bb-badge-ui",6),e.BQk())}function On(n,a){1&n&&(e.ynx(0),e._UZ(1,"bb-icon-ui",7)(2,"bb-badge-ui",8),e.BQk())}function hn(n,a){1&n&&(e.ynx(0),e._UZ(1,"bb-icon-ui",9)(2,"bb-badge-ui",10),e.BQk())}function Pn(n,a){1&n&&(e.ynx(0),e._UZ(1,"bb-icon-ui",11)(2,"bb-badge-ui",12),e.BQk())}function Ln(n,a){if(1&n&&(e.TgZ(0,"div",3),e.YNc(1,yn,3,0,"ng-container",4),e.YNc(2,On,3,0,"ng-container",4),e.YNc(3,hn,3,0,"ng-container",4),e.YNc(4,Pn,3,0,"ng-container",4),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","INACTIVE"===t.state),e.xp6(1),e.Q6J("ngIf","LOCKED"===t.state),e.xp6(1),e.Q6J("ngIf","CANCELLED"===t.state),e.xp6(1),e.Q6J("ngIf","EXPIRED"===t.state)}}const Jn=function(n){return{"bb-payment-card-state__overlay":n}},Kn=["*"],xe={header:"",message:"",dismissible:!0,modifier:"success"};let fe=(()=>{class n{constructor(t,_){this.cd=t,this.notificationService=_,this.localizations={activationErrorHeader:"",activationErrorMessage:"",activationSuccessHeader:"",lockErrorHeader:"",lockErrorMessage:"",lockSuccessHeader:"",lockSuccessMessage:"",replacementErrorHeader:"",replacementErrorMessage:"",replacementSuccessHeader:"",replacementSuccessMessage:"",requestNewPinSuccessMessage:"",requestPinErrorMessage:"",resetPinSuccessMessage:"",resetPinErrorMessage:"",resetInvalidPinMessage:"",unlockErrorHeader:"",unlockErrorMessage:"",unlockSuccessHeader:"",unlockSuccessMessage:"",updateLimitErrorHeader:"",updateLimitErrorMessage:"",updateLimitSuccessHeader:"",updateLimitSuccessMessage:""},this.selectCard=new e.vpe,this.isLockLoading=!1,this.isInitiateReplacementLoading=!1,this.isInitiateActivationLoading=!1,this.isResetPinLoading=!1,this.isLimitsLoading=!1,this.onInitiateReplacementSuccess=i=>{void 0!==this.paymentCard&&(this.paymentCard=i,this.showNotification({header:this.localizations.replacementSuccessHeader,message:this.localizations.replacementSuccessMessage}))},this.onInitiateReplacementError=()=>{void 0!==this.paymentCard&&this.showNotification({header:this.localizations.replacementErrorHeader,message:this.localizations.replacementErrorMessage,modifier:"error"}),this.isInitiateReplacementLoading=!1,this.cd.markForCheck()},this.onInitiateReplacementComplete=()=>{this.isInitiateReplacementLoading=!1,this.cd.markForCheck()},this.onInitiateActivationSuccess=i=>{void 0!==this.paymentCard&&(this.paymentCard=i,this.showNotification({header:this.localizations.activationSuccessHeader}))},this.onInitiateActivationError=()=>{void 0!==this.paymentCard&&this.showNotification({header:this.localizations.activationErrorHeader,message:this.localizations.activationErrorMessage,modifier:"error"}),this.isInitiateActivationLoading=!1,this.cd.markForCheck()},this.onInitiateActivationComplete=()=>{this.isInitiateActivationLoading=!1,this.cd.markForCheck()},this.onUpdateLimitSuccess=i=>{void 0!==this.paymentCard&&(this.paymentCard=i,this.showNotification({header:this.localizations.updateLimitSuccessHeader,message:this.localizations.updateLimitSuccessMessage}))},this.onUpdateLimitError=()=>{void 0!==this.paymentCard&&this.notificationService.showNotification(Object.assign(Object.assign({},xe),{header:this.localizations.updateLimitErrorHeader,message:this.localizations.updateLimitErrorMessage,modifier:"error"})),this.isLimitsLoading=!1,this.cd.markForCheck()},this.onUpdateLimitComplete=()=>{this.isLimitsLoading=!1,this.cd.markForCheck()},this.onResetPinSuccess=i=>{void 0!==this.paymentCard&&(this.paymentCard=i,this.showNotification({message:this.localizations.resetPinSuccessMessage}))},this.onResetPinError=()=>{void 0!==this.paymentCard&&this.showNotification({message:this.localizations.resetPinErrorMessage,modifier:"error"}),this.isResetPinLoading=!1,this.cd.markForCheck()},this.onResetPinComplete=()=>{this.isResetPinLoading=!1,this.cd.markForCheck()},this.onRequestPinSuccess=i=>{void 0!==this.paymentCard&&(this.paymentCard=i,this.showNotification({message:this.localizations.requestNewPinSuccessMessage}))},this.onRequestPinError=()=>{void 0!==this.paymentCard&&this.showNotification({message:this.localizations.requestPinErrorMessage,modifier:"error"}),this.isResetPinLoading=!1,this.cd.markForCheck()},this.onRequestPinComplete=()=>{this.isResetPinLoading=!1,this.cd.markForCheck()}}showNotification(t){this.notificationService.showNotification(Object.assign(Object.assign(Object.assign({},xe),{ttl:this.notificationTtl}),t))}ngOnInit(){if(void 0===this.paymentCard)throw new Error(`"paymentCard" input is required in "${this.constructor.name}"`)}onOpenDetails(){void 0!==this.paymentCard&&this.selectCard.emit(this.paymentCard)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(W.gq))},n.\u0275dir=e.lG2({type:n,selectors:[["bb-payment-card-base"]],inputs:{paymentCard:"paymentCard",notificationTtl:"notificationTtl",updateAllLimits:"updateAllLimits",cardPinLength:"cardPinLength"},outputs:{selectCard:"selectCard"}}),n})(),be=(()=>{class n{constructor(){this.isLockLoading=!1,this.isInitiateReplacementLoading=!1,this.isInitiateActivationLoading=!1,this.isResetPinLoading=!1,this.updateLockStatus=new e.vpe,this.initiateReplacement=new e.vpe,this.initiateActivation=new e.vpe,this.resetPin=new e.vpe,this.requestPin=new e.vpe,this.hostRef=this}ngOnInit(){if(void 0===this.paymentCard)throw new Error(`"paymentCard" input is required in "${this.constructor.name}"`)}onLock(){this.updateLockStatus.emit(b.Locked)}onUnlock(){this.updateLockStatus.emit(b.Unlocked)}get isLocked(){return this.paymentCard&&this.paymentCard.lockStatus===b.Locked}get resetPinMode(){return this.paymentCard?"Credit"===this.paymentCard.type?te.Request:te.Reset:te.Empty}onInitiateReplacement(t){this.initiateReplacement.emit(t)}onInitiateActivation(t){this.initiateActivation.emit(t)}onResetPin(t){this.resetPin.emit(t)}onRequestPin(t){this.requestPin.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["bb-payment-card-controls-base"]],inputs:{paymentCard:"paymentCard",isLockLoading:"isLockLoading",isInitiateReplacementLoading:"isInitiateReplacementLoading",isInitiateActivationLoading:"isInitiateActivationLoading",isResetPinLoading:"isResetPinLoading",cardPinLength:"cardPinLength"},outputs:{updateLockStatus:"updateLockStatus",initiateReplacement:"initiateReplacement",initiateActivation:"initiateActivation",resetPin:"resetPin",requestPin:"requestPin"}}),n})(),Fe=(()=>{class n{constructor(){this.steps=[],this.color="primary"}get currentStep(){const t=this.steps.filter(_=>_.status===M.Success);if(t.length>0)return t[t.length-1]}get stepColorClassName(){return`bb-delivery-tracker__step-icon-${this.color}`}getStepClassName(t){return`bb-delivery-tracker__step--${t.name.toLowerCase().replace(/\W/g,"-").replace(/-{2,}/g,"-")}`}getStepIconClassName(t){return`delivery-tracker__step--${t.toLowerCase().replace(/\W/g,"-").replace(/-{2,}/g,"-")}`}ngOnInit(){if(void 0===this.steps)throw new Error(`"steps" input is required in "${this.constructor.name}"`)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-delivery-tracker"]],inputs:{steps:"steps",color:"color"},decls:2,vars:1,consts:[[1,"bb-delivery-tracker"],["class","bb-delivery-tracker__step",3,"ngClass",4,"ngFor","ngForOf"],[1,"bb-delivery-tracker__step",3,"ngClass"],[1,"bb-delivery-tracker__step-icon",3,"ngClass"],["backgroundType","circle","size","md",3,"name","color"],[1,"bb-delivery-tracker__step-text",3,"ngClass"],["class","bb-delivery-tracker__step-date bb-subtitle",4,"ngIf"],[1,"bb-delivery-tracker__step-date","bb-subtitle"]],template:function(t,_){1&t&&(e.TgZ(0,"div",0),e.YNc(1,xt,6,15,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",_.steps))},directives:[O.o,o.sg,o.mk,o.O5],pipes:[o.uU],encapsulation:2}),n})(),He=(()=>{class n{constructor(){this.deliveryStatus={transitSteps:[]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card-delivery-status"]],inputs:{deliveryStatus:"deliveryStatus"},decls:2,vars:1,consts:[[1,"bb-block","bb-block--lg"],["color","success",3,"steps"]],template:function(t,_){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-delivery-tracker",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("steps",_.deliveryStatus.transitSteps))},directives:[Fe],encapsulation:2}),n})(),Ue=(()=>{class n{constructor(){this.isInitiateActivationLoading=!1,this.initiateActivation=new e.vpe,this.isModalOpen=!1,this.form=new A.cw({token:new A.NI("",[A.kI.required,A.kI.minLength(3),Je(3)])})}ngOnInit(){if(void 0===this.paymentCard)throw new Error(`"paymentCard" input is required in "${this.constructor.name}"`)}onSubmit(t){this.isModalOpen=!1,this.initiateActivation.emit(t.token)}onModalOpen(){this.isModalOpen=!0}onModalClose(){this.isModalOpen=!1,this.form.reset({token:""})}isFieldValid(t){const _=this.form.get(t);return!!_&&(_.valid||_.untouched)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card-initiate-activation"]],inputs:{paymentCard:"paymentCard",isInitiateActivationLoading:"isInitiateActivationLoading"},outputs:{initiateActivation:"initiateActivation"},decls:8,vars:7,consts:function(){let a,t,_,i,r,c,f,v,F;return a="Activate card\n",t=" Activate card ",_=" Enter your CVV code ",i=" To activate your card, please enter your CVV code at the back of your card as shown. ",r="CVV code",c="Activate Card ",f="Cancel ",v=" Invalid CVV code ",F=" Full CVV code required ",[["data-role","activate-card-button","color","primary",3,"block","isLoading","disabled","click"],a,[3,"isOpen","modalOptions","cancel"],[1,"modal-header"],[1,"bb-block","bb-block--xs"],t,[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"row"],[1,"col-12","col-sm-6","order-sm-2"],["data-role","modal-card-img",1,"bb-block","bb-block--md","bb-payment-card-back","bb-payment-card-icon-dialog"],[1,"col-12","col-sm-6"],_,[1,"bb-text-support"],i,[1,"col-6"],["data-role","card-details-cvv-input","formControlName","token","label",r,3,"autofocus","maxLength"],[1,"col-12"],[3,"showErrors"],[4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"bb-button-bar"],["type","submit","color","primary",1,"bb-button-bar__button"],c,["type","button","color","link",1,"bb-button-bar__button",3,"click"],f,[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],v,F]},template:function(t,_){1&t&&(e.TgZ(0,"bb-load-button-ui",0),e.NdJ("click",function(){return!_.isInitiateActivationLoading&&"INACTIVE"===(null==_.paymentCard?null:_.paymentCard.status)&&_.onModalOpen()}),e.SDv(1,1),e.qZA(),e.TgZ(2,"bb-modal-ui",2),e.NdJ("cancel",function(){return _.onModalClose()}),e.TgZ(3,"div",3)(4,"div",4)(5,"h2"),e.SDv(6,5),e.qZA()()(),e.YNc(7,Zt,23,7,"form",6),e.qZA()),2&t&&(e.Q6J("block",!0)("isLoading",_.isInitiateActivationLoading)("disabled","INACTIVE"!==(null==_.paymentCard?null:_.paymentCard.status)),e.xp6(2),e.Q6J("isOpen",_.isModalOpen)("modalOptions",e.DdM(6,Ne)),e.xp6(5),e.Q6J("ngIf",_.isModalOpen))},directives:[N.K,D.zS,C.P,d.d,U.r0,o.O5,A._Y,A.JL,A.sg,A.JJ,A.u,o.sg,o.RF,o.n9,o.ED],pipes:[o.Nd],encapsulation:2}),n})(),Ie=(()=>{class n{constructor(){this.isInitiateReplacementLoading=!1,this.initiateReplacement=new e.vpe,this.isModalOpen=!1,this.modalStep=0,this.form=new A.cw({replacementReason:new A.NI})}ngOnInit(){if(void 0===this.paymentCard)throw new Error(`"paymentCard" input is required in "${this.constructor.name}"`)}onSubmit(t){this.isModalOpen=!1,this.initiateReplacement.emit(t.replacementReason)}onModalOpen(){this.modalStep=0,this.isModalOpen=!0}onModalClose(){this.isModalOpen=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card-initiate-replacement"]],inputs:{paymentCard:"paymentCard",isInitiateReplacementLoading:"isInitiateReplacementLoading"},outputs:{initiateReplacement:"initiateReplacement"},decls:12,vars:10,consts:function(){let a,t,_,i,r,c,f,v,F,k,q,z,P,ne,_e,ae,oe,ie,X,re,se;return a="Replace payment card, Replace lost, stolen or damaged cards",t="Replace",_=" Replace card ",i=" Tell us why you want to replace your card. ",r="Tell us why you want to replace your card, select a reason",c="Card lost, Report a missing card and get a new one. Your current card will be locked automatically",f="Card stolen, Report a stolen card and get a new one. Your current card will be locked automatically",v="Card broken, Report a broken card and get a new one",F=" Continue ",k=" Cancel ",q=" Card lost ",z=" Report a missing card and get a new one. Your current card will be locked automatically. ",P=" Card stolen ",ne=" Report a stolen card and get a new one. Your current card will be locked automatically. ",_e=" Card broken ",ae=" Report a broken card and get a new one. ",oe=" Delivery address ",ie=" The new card will be delivered at your currently registered address. ",X="order new payment card to the provided delivery address",re=" Cancel ",se=" Order New ",[["data-role","replace-card-button","color","secondary","aria-label",a,3,"block","isLoading","disabled","click"],t,[3,"isOpen","modalOptions","cancel"],["role","dialog"],[1,"modal-header"],[1,"bb-block"],_,[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"bb-text-support","bb-block","bb-block--no-margin"],i,[1,"modal-body"],["aria-label",r,"formControlName","replacementReason",3,"required"],["value","LOST","aria-label",c,3,"labelTemplate"],["value","STOLEN","aria-label",f,3,"labelTemplate"],["value","BROKEN","aria-label",v,3,"labelTemplate"],["cardLostLabel",""],["cardStolenLabel",""],["cardBrokenLabel",""],[1,"modal-footer"],[1,"bb-button-bar"],["bbButton","","type","submit","color","primary",1,"bb-button-bar__button",3,"click"],F,["bbButton","","type","button","color","link",1,"bb-button-bar__button",3,"click"],k,q,[1,"bb-text-support","bb-text-default"],z,P,ne,_e,ae,[1,"bb-text-semi-bold"],oe,[1,"bb-text-support"],ie,["bbButton","","class","bb-button-bar__button","type","submit","color","primary","aria-label",X,3,"bbFocus",4,"ngIf"],re,["bbButton","","type","submit","color","primary","aria-label",X,1,"bb-button-bar__button",3,"bbFocus"],se]},template:function(t,_){1&t&&(e.TgZ(0,"bb-load-button-ui",0),e.NdJ("click",function(){return!_.isInitiateReplacementLoading&&"NOT_UNDER_REPLACEMENT"===(null==_.paymentCard?null:_.paymentCard.replacementStatus)&&_.onModalOpen()}),e.SDv(1,1),e.qZA(),e.TgZ(2,"bb-modal-ui",2),e.NdJ("cancel",function(){return _.onModalClose()}),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),e.SDv(7,6),e.qZA(),e.YNc(8,Wt,3,0,"ng-container",7),e.qZA()(),e.TgZ(9,"form",8),e.NdJ("ngSubmit",function(){return _.onSubmit(_.form.value)}),e.YNc(10,$t,18,4,"ng-container",7),e.YNc(11,jt,11,1,"ng-container",7),e.qZA()()()),2&t&&(e.Q6J("block",!0)("isLoading",_.isInitiateReplacementLoading)("disabled","NOT_UNDER_REPLACEMENT"!==(null==_.paymentCard?null:_.paymentCard.replacementStatus)),e.xp6(2),e.Q6J("isOpen",_.isModalOpen)("modalOptions",e.DdM(9,Ne)),e.xp6(6),e.Q6J("ngIf",0===_.modalStep),e.xp6(1),e.Q6J("formGroup",_.form),e.xp6(1),e.Q6J("ngIf",0===_.modalStep),e.xp6(1),e.Q6J("ngIf",1===_.modalStep))},directives:[N.K,D.zS,m.Af,m.f2,o.O5,A._Y,A.JL,A.sg,A.JJ,A.u,A.Q7,U.Hq,B.R],encapsulation:2}),n})(),we=(()=>{class n{constructor(){this.updateLimit=new e.vpe}onUpdateLimit(t){this.limit&&this.updateLimit.emit({amount:t,cardLimit:this.limit})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card-limit"]],viewQuery:function(t,_){if(1&t&&e.Gf(p.Oj,5),2&t){let i;e.iGM(i=e.CRH())&&(_.inputEdit=i.first)}},inputs:{currency:"currency",limit:"limit"},outputs:{updateLimit:"updateLimit"},decls:18,vars:13,consts:function(){let a;return a=" Max: ",[[1,"row"],[1,"col-12","col-sm-8"],["data-role","limit-title",1,"bb-block--no-margin"],["data-role","limit-description",1,"bb-text-support","text-small"],[1,"col-12","col-sm-4"],["amountTemplateRef",""],["pattern","[0-9]+",3,"inputText","maxValue","minValue","inputInlineTemplate","accept"],["data-role","limit-max-allowed-amount",1,"bb-text-support","bb-text-align-end","text-small"],a,[3,"currency","amount","mapCurrency","decimalPlaces"],[1,"bb-stack__item","bb-stack__item--push-right","bb-stack__item--spacing-sm"],["data-role","limit-max-amount",3,"currency","amount","mapCurrency","decimalPlaces"]]},template:function(t,_){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2)(3,"span"),e._uU(4),e.ALo(5,"titlecase"),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA()(),e.TgZ(8,"span",3),e._uU(9),e.qZA()(),e.TgZ(10,"div",4),e.YNc(11,Xt,2,4,"ng-template",null,5,e.W1O),e.TgZ(13,"bb-input-inline-edit-ui",6),e.NdJ("accept",function(r){return _.onUpdateLimit(r)}),e.qZA(),e.TgZ(14,"p",7)(15,"span"),e.SDv(16,8),e.qZA(),e._UZ(17,"bb-amount-ui",9),e.qZA()()()),2&t){const i=e.MAs(12);e.xp6(4),e.hij("",e.lcZ(5,11,null==_.limit?null:_.limit.frequency),"\xa0"),e.xp6(3),e.Oqu(null==_.limit||null==_.limit.channel?null:_.limit.channel.name),e.xp6(2),e.Oqu(null==_.limit||null==_.limit.channel?null:_.limit.channel.description),e.xp6(4),e.Q6J("inputText",null==_.limit||null==_.limit.amount?null:_.limit.amount.toString())("maxValue",null==_.limit?null:_.limit.maxAmount)("minValue",null==_.limit?null:_.limit.minAmount)("inputInlineTemplate",i),e.xp6(4),e.Q6J("currency",_.currency)("amount",null==_.limit?null:_.limit.maxAmount)("mapCurrency",!0)("decimalPlaces",0)}},directives:[Y.G4,p.Oj],pipes:[o.rS],encapsulation:2}),n})(),Ye=(()=>{class n{constructor(){this.updateLimit=new e.vpe}onUpdateLimit(t){if(this.paymentCard){const _=this.paymentCard.limits;_&&this.updateLimit.emit(_.map(i=>{let r=i.amount;return t.cardLimit&&i.id===t.cardLimit.id&&(r=+t.amount),{amount:r,id:i.id,frequency:i.frequency}}))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card-limits"]],inputs:{paymentCard:"paymentCard",isLimitsLoading:"isLimitsLoading"},outputs:{updateLimit:"updateLimit"},decls:3,vars:1,consts:function(){let a;return a="Limits",[["class","card bb-list",4,"ngIf"],["loadingTemplate",""],[1,"card","bb-list"],[1,"card-header"],a,[1,"card-body"],["class","bb-list",4,"ngIf","ngIfElse"],[1,"bb-list"],["class","bb-list__item",4,"ngFor","ngForOf"],[1,"bb-list__item"],[3,"limit","currency","updateLimit"],["loaderSize","lg"]]},template:function(t,_){1&t&&(e.YNc(0,nn,6,2,"div",0),e.YNc(1,_n,1,0,"ng-template",null,1,e.W1O)),2&t&&e.Q6J("ngIf",null==_.paymentCard?null:_.paymentCard.limits)},directives:[we,g.Q,o.O5,o.sg],encapsulation:2}),n})(),Te=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card-multiple-error-state"]],inputs:{errors:"errors"},decls:3,vars:1,consts:function(){let a;return a="Unknown Error",[[1,"card","bb-state-container"],["title",a,"iconModifier","error","iconSize","xxl","iconClasses","text-muted"],["data-role","custom-error-state-message","class","bb-empty-state__message bb-empty-state",4,"ngFor","ngForOf"],["data-role","custom-error-state-message",1,"bb-empty-state__message","bb-empty-state"]]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-empty-state-ui",1),e.YNc(2,an,2,1,"p",2),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngForOf",_.errors))},directives:[y.s,o.sg],encapsulation:2}),n})(),Ze=(()=>{class n{validate(t){return Je(this.cvvLength||3)(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","bbCvvValidator",""]],inputs:{cvvLength:["bbCvvValidator","cvvLength"]},features:[e._Bn([{provide:A.Cf,useExisting:n,multi:!0}])]}),n})(),We=(()=>{class n{constructor(){this.isResetPinLoading=!1,this.resetPin=new e.vpe,this.requestPin=new e.vpe,this.isModalOpen=!1,this.modalStep=1,this.model={},this.modelExclude={},this.defaultCvvLengthRef=3}onModalOpen(){this.isModalOpen=!0}onSubmit(){const t=Object.assign({},this.model),_=Object.assign(Object.assign({},this.model),this.modelExclude);this.mode===te.Reset?this.resetPin.emit({raw:_,model:t}):this.mode===te.Request&&this.requestPin.emit({raw:_,model:t}),this.onModalClose()}onModalClose(){this.modalStep=1,this.model={},this.modelExclude={},this.isModalOpen=!1}gotoNextStep(){this.modalStep=this.modalStep+1}ngOnInit(){if(void 0===this.paymentCard)throw new Error(`"paymentCard" input is required in "${this.constructor.name}"`)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card-reset-pin"]],inputs:{paymentCard:"paymentCard",mode:"mode",isResetPinLoading:"isResetPinLoading",cardPinLength:"cardPinLength"},outputs:{resetPin:"resetPin",requestPin:"requestPin"},decls:11,vars:12,consts:function(){let a,t,_,i,r,c,f,v,F,k,q,z,P,ne,_e,ae,oe,ie,X,re,se,G,Ae,Se,ue;return a=" Request ",t="Reset ",_=" Request new PIN ",i="Reset PIN",r=" Enter your CVV code ",c=" Continue by entering your CVV code found on the back of your card as shown in the image. ",f="CVV code",v="Continue ",F="Cancel ",k=" Invalid CVV code ",q=" Full CVV code required ",z="Your new PIN will be delivered to your address within approximately 3 to 5 working days.",P=" Delivery address ",ne=" The card will be delivered at your address currently known by us. ",_e="Request new PIN ",ae="Cancel ",oe="Cancel ",ie="Enter new PIN",X=" Invalid PIN code ",re=" Full PIN code required ",se="Re-enter new PIN",G=" Invalid PIN code ",Ae=" Full PIN code required ",Se="Continue ",ue="Reset PIN ",[["color","secondary",3,"block","isLoading","click"],[4,"ngIf"],[3,"isOpen","modalOptions","cancel"],[1,"modal-header"],[1,"bb-block","bb-block--xs"],a,t,_,i,[3,"ngSubmit"],["pinForm","ngForm"],[1,"modal-body"],[1,"row"],[1,"col-12","col-sm-6","order-sm-2"],["data-role","modal-card-img",1,"bb-block","bb-block--md","bb-payment-card-back","bb-payment-card-icon-dialog"],[1,"col-12","col-sm-6"],r,[1,"bb-text-support"],c,[1,"col-6"],["data-role","card-details-cvv-input","name","token","label",f,3,"bbCvvValidator","autofocus","ngModel","required","minlength","maxLength","ngModelChange"],["cvvToken","ngModel"],[1,"col-12"],[3,"showErrors"],[4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"bb-button-bar"],["type","submit","color","primary",1,"bb-button-bar__button"],v,["type","button","color","link",1,"bb-button-bar__button",3,"click"],F,[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],k,q,["modifier","warning","title",z],[1,"bb-text-semi-bold"],P,ne,["color","primary",1,"bb-button-bar__button",3,"click"],_e,ae,[1,"bb-block","bb-block--md","col-12","col-sm-8","order-sm-2"],[1,"bb-stack"],[1,"bb-stack__item","bb-stack__item--push-right"],[3,"paymentCard"],[1,"col-6","col-sm-4"],["class","bb-button-bar__button","color","primary",3,"click",4,"ngIf"],["class","bb-button-bar__button","color","primary","type","submit",4,"ngIf"],oe,["label",ie,"name","pin",3,"bbCvvValidator","minlength","maxLength","ngModel","autofocus","required","ngModelChange"],["resetPin","ngModel"],X,re,["label",se,"name","pin2",3,"bbCvvValidator","maxLength","minlength","ngModel","autofocus","required","ngModelChange"],["resetPinConfirm","ngModel"],G,Ae,Se,["color","primary","type","submit",1,"bb-button-bar__button"],ue]},template:function(t,_){1&t&&(e.TgZ(0,"bb-load-button-ui",0),e.NdJ("click",function(){return _.onModalOpen()}),e.YNc(1,on,2,0,"ng-container",1),e.YNc(2,rn,2,0,"ng-container",1),e.qZA(),e.TgZ(3,"bb-modal-ui",2),e.NdJ("cancel",function(){return _.onModalClose()}),e.TgZ(4,"div",3)(5,"div",4),e.YNc(6,sn,3,0,"ng-container",1),e.YNc(7,cn,3,0,"ng-container",1),e.qZA()(),e.YNc(8,Sn,26,10,"ng-container",1),e.YNc(9,un,14,0,"ng-container",1),e.YNc(10,Bn,18,5,"ng-container",1),e.qZA()),2&t&&(e.Q6J("block",!0)("isLoading",_.isResetPinLoading),e.xp6(1),e.Q6J("ngIf","REQUEST"===_.mode),e.xp6(1),e.Q6J("ngIf","RESET"===_.mode),e.xp6(1),e.Q6J("isOpen",_.isModalOpen)("modalOptions",e.DdM(11,Ne)),e.xp6(3),e.Q6J("ngIf","REQUEST"===_.mode),e.xp6(1),e.Q6J("ngIf","RESET"===_.mode),e.xp6(1),e.Q6J("ngIf",1===_.modalStep&&_.isModalOpen),e.xp6(1),e.Q6J("ngIf",2===_.modalStep&&"REQUEST"===_.mode&&_.isModalOpen),e.xp6(1),e.Q6J("ngIf",(2===_.modalStep||3===_.modalStep)&&"RESET"===_.mode&&_.isModalOpen))},directives:[N.K,D.zS,C.P,d.d,U.r0,L.w,x.u,o.O5,A._Y,A.JL,A.F,Ze,A.JJ,A.On,A.Q7,A.wO,o.sg,o.RF,o.n9,o.ED],pipes:[o.Nd],encapsulation:2}),n})(),Ce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card-state-wrapper"],["bb-payment-card-state-wrapper-ui"]],inputs:{state:"state"},ngContentSelectors:Kn,decls:4,vars:4,consts:function(){let a,t,_,i;return a="Inactive",t="Locked",_="Cancelled",i="Expired",[[1,"bb-payment-card-state"],["class","bb-payment-card-state__container",4,"ngIf"],[3,"ngClass"],[1,"bb-payment-card-state__container"],[4,"ngIf"],["name","warning","size","xxl","color","white",1,"bb-payment-card-state__icon"],["text",a,"color","secondary"],["name","lock","size","xxl","color","white",1,"bb-payment-card-state__icon"],["text",t,"color","secondary"],["name","not-interested","size","xxl","color","white",1,"bb-payment-card-state__icon"],["text",_,"color","secondary"],["name","access-time","size","xxl","color","white",1,"bb-payment-card-state__icon"],["text",i,"color","secondary"]]},template:function(t,_){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.YNc(1,Ln,5,4,"div",1),e.TgZ(2,"div",2),e.Hsn(3),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf",_.state),e.xp6(1),e.Q6J("ngClass",e.VKq(2,Jn,_.state)))},directives:[O.o,H.F,o.O5,o.mk],encapsulation:2}),n})(),le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,H.T,U.hJ,O.Q,C.M,m.m8,N.C,D.zk,p.Ne,d.w,L.n,x.w,Y.i7,B.J,y.P,g.p,A.u5,A.UX]]}),n})();var Qe=l(8451),Gn=l(1089),kn=l(3508),xn=l(8612),qe=l(4619),ze=l(9565),$e=l(4291),Fn=l(3759),ve=l(3623),Ve=l(7656),Be=l(4376);function Hn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"bb-switch-ui",26),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw(3).lockStatus=i}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("id",t.lockStatus.toString())("ngModel",t.lockStatus)}}function wn(n,a){1&n&&e._UZ(0,"bb-loading-indicator-ui",27)}function Yn(n,a){1&n&&(e.ynx(0),e.TgZ(1,"h5",11),e.SDv(2,28),e.qZA(),e.TgZ(3,"span",13),e.SDv(4,29),e.qZA(),e.BQk())}function Zn(n,a){1&n&&(e.ynx(0),e.TgZ(1,"h5",11),e.SDv(2,30),e.qZA(),e.TgZ(3,"span",13),e.SDv(4,31),e.qZA(),e.BQk())}function Wn(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",3)(2,"h2"),e.SDv(3,4),e.qZA()(),e.TgZ(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8),e._UZ(8,"bb-icon-ui",9),e.TgZ(9,"div",10)(10,"h5",11),e.SDv(11,12),e.qZA(),e.TgZ(12,"span",13),e.SDv(13,14),e.qZA()()(),e.TgZ(14,"form"),e.YNc(15,Hn,1,2,"bb-switch-ui",15),e.YNc(16,wn,1,0,"bb-loading-indicator-ui",16),e.qZA()(),e.TgZ(17,"div",17)(18,"div",18),e._UZ(19,"bb-icon-ui",19),e.TgZ(20,"div",10)(21,"h5",11),e.SDv(22,20),e.qZA(),e.TgZ(23,"span",13),e.SDv(24,21),e.qZA()()(),e.TgZ(25,"div",22)(26,"bb-payment-card-initiate-replacement",23),e.NdJ("initiateReplacement",function(i){return e.CHM(t),e.oxw(2).onInitiateReplacement(i)}),e.qZA()()(),e.TgZ(27,"div",17)(28,"div",18),e._UZ(29,"bb-icon-ui",24),e.TgZ(30,"div",10),e.YNc(31,Yn,5,0,"ng-container",2),e.YNc(32,Zn,5,0,"ng-container",2),e.qZA()(),e.TgZ(33,"div",22)(34,"bb-payment-card-reset-pin",25),e.NdJ("resetPin",function(i){return e.CHM(t),e.oxw(2).onResetPin(i)})("requestPin",function(i){return e.CHM(t),e.oxw(2).onRequestPin(i)}),e.qZA()()()()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(15),e.Q6J("ngIf",!t.isLockLoading),e.xp6(1),e.Q6J("ngIf",t.isLockLoading),e.xp6(10),e.Q6J("paymentCard",t.paymentCard)("isInitiateReplacementLoading",t.isInitiateReplacementLoading),e.xp6(5),e.Q6J("ngIf","RESET"===t.resetPinMode),e.xp6(1),e.Q6J("ngIf","REQUEST"===t.resetPinMode),e.xp6(2),e.Q6J("cardPinLength",t.cardPinLength)("paymentCard",t.paymentCard)("mode",t.resetPinMode)("isResetPinLoading",t.isResetPinLoading)}}function Qn(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",5)(2,"div",32)(3,"h2"),e.SDv(4,33),e.qZA(),e.TgZ(5,"p",34),e.SDv(6,35),e.qZA()(),e.TgZ(7,"div",36)(8,"bb-payment-card-initiate-activation",37),e.NdJ("initiateActivation",function(i){return e.CHM(t),e.oxw(2).onInitiateActivation(i)}),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(8),e.Q6J("paymentCard",t.paymentCard)("isInitiateActivationLoading",t.isInitiateActivationLoading)}}function qn(n,a){if(1&n&&(e.TgZ(0,"div",1),e.YNc(1,Wn,35,10,"ng-container",2),e.YNc(2,Qn,9,2,"ng-container",2),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","ACTIVE"===t.paymentCard.status),e.xp6(1),e.Q6J("ngIf","INACTIVE"===t.paymentCard.status)}}function zn(n,a){1&n&&(e.TgZ(0,"div",2),e._UZ(1,"bb-alert-ui",13),e.qZA())}function $n(n,a){1&n&&(e.TgZ(0,"div",2),e._UZ(1,"bb-alert-ui",14),e.qZA())}function Vn(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-payment-card-delivery-status",15),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("deliveryStatus",t.paymentCard.deliveryStatus)}}function jn(n,a){if(1&n&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"bb-payment-card-state-wrapper-ui",6),e._UZ(6,"bb-payment-card-ui",7),e.qZA()()(),e.TgZ(7,"div",8)(8,"div",2)(9,"h2"),e.SDv(10,9),e.ALo(11,"lowercase"),e.qZA()()()()(),e.ynx(12,10),e.YNc(13,zn,2,0,"div",11),e.YNc(14,$n,2,0,"div",11),e.BQk(),e.YNc(15,Vn,2,1,"ng-container",12),e.qZA()),2&n){const t=e.oxw();e.xp6(5),e.Q6J("state",t.getDisplayState()),e.xp6(1),e.Q6J("paymentCard",t.paymentCard),e.xp6(5),e.pQV(t.paymentCard.name)(e.lcZ(11,8,t.paymentCard.type)),e.QtT(10),e.xp6(1),e.Q6J("ngSwitch",t.paymentCard.replacementStatus),e.xp6(1),e.Q6J("ngSwitchCase",t.paymentCardReplacementStatus.UnderReplacement),e.xp6(1),e.Q6J("ngSwitchCase",t.paymentCardReplacementStatus.Replaced),e.xp6(1),e.Q6J("ngIf",t.paymentCard.deliveryStatus)}}function __(n,a){if(1&n&&(e.TgZ(0,"div",4)(1,"h2"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.heading," ")}}function a_(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"bb-payment-card",6),e.NdJ("selectCard",function(i){return e.CHM(t),e.oxw().onSelectCard(i)}),e.qZA()()}if(2&n){const t=a.$implicit,_=e.oxw();e.xp6(1),e.Q6J("paymentCard",t)("notificationTtl",_.notificationTtl)("updateAllLimits",_.updateAllLimits)}}function o_(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"bb-payment-card-group",5),e.NdJ("selectCard",function(i){return e.CHM(t),e.oxw(4).onSelectCard(i)}),e.qZA()}if(2&n){const t=e.oxw().$implicit,_=e.oxw(3);e.Q6J("heading",t.heading)("paymentCards",t.paymentCards)("notificationTtl",_.notificationTtl)("updateAllLimits",_.updateAllLimits)}}function i_(n,a){if(1&n&&(e.ynx(0),e.YNc(1,o_,1,4,"bb-payment-card-group",4),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",t.paymentCards.length)}}function r_(n,a){if(1&n&&(e.ynx(0),e.YNc(1,i_,2,1,"ng-container",3),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.paymentCardGroups)}}function s_(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-payment-card-group",6),e.NdJ("selectCard",function(i){return e.CHM(t),e.oxw(2).onSelectCard(i)}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("paymentCards",t.paymentCards)("notificationTtl",t.notificationTtl)}}function c_(n,a){if(1&n&&(e.ynx(0),e.YNc(1,r_,2,1,"ng-container",2),e.YNc(2,s_,2,2,"ng-container",2),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.paymentCardGroups.length),e.xp6(1),e.Q6J("ngIf",!t.paymentCardGroups.length)}}function l_(n,a){1&n&&(e.TgZ(0,"div",7),e._UZ(1,"bb-empty-state-ui",8),e.qZA())}function d_(n,a){1&n&&(e.ynx(0),e._UZ(1,"bb-badge-ui",2),e.BQk())}function E_(n,a){1&n&&(e.ynx(0),e._UZ(1,"bb-badge-ui",3),e.BQk())}function A_(n,a){1&n&&(e.ynx(0),e._UZ(1,"bb-badge-ui",4),e.BQk())}function S_(n,a){1&n&&(e.ynx(0),e._uU(1,", "),e.BQk())}function u_(n,a){1&n&&(e.ynx(0),e._uU(1,"\xa0"),e.BQk())}function p_(n,a){1&n&&(e.ynx(0),e.SDv(1,34),e.BQk())}function C_(n,a){1&n&&(e.ynx(0),e._uU(1,"\xa0"),e.BQk())}function m_(n,a){if(1&n&&(e.ynx(0),e.YNc(1,S_,2,0,"ng-container",33),e.YNc(2,u_,2,0,"ng-container",33),e.YNc(3,p_,2,0,"ng-container",33),e.YNc(4,C_,2,0,"ng-container",33),e.ynx(5),e._uU(6),e.BQk()()),2&n){const t=a.$implicit,_=a.first,i=a.last,r=e.oxw();e.xp6(1),e.Q6J("ngIf",!i&&!_),e.xp6(1),e.Q6J("ngIf",!_&&i),e.xp6(1),e.Q6J("ngIf",!_&&i),e.xp6(1),e.Q6J("ngIf",!_&&i),e.xp6(2),e.Oqu(r.getCountryName(t))}}function g_(n,a){if(1&n&&(e.TgZ(0,"div",10)(1,"div"),e._UZ(2,"bb-icon-ui",35),e.TgZ(3,"span",12),e.SDv(4,36),e.qZA()(),e.TgZ(5,"div")(6,"div"),e._uU(7),e.qZA()()()),2&n){const t=e.oxw();e.xp6(7),e.Oqu(null==t.travelNoticeItem||null==t.travelNoticeItem.contact?null:t.travelNoticeItem.contact.phoneNumber)}}function R_(n,a){if(1&n&&(e.TgZ(0,"div",37),e._UZ(1,"bb-cards-travel-notice-payment-card",38),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("paymentCard",t)}}function M_(n,a){1&n&&(e.TgZ(0,"span",39),e.SDv(1,40),e.qZA())}function D_(n,a){1&n&&(e.TgZ(0,"span",39),e.SDv(1,41),e.qZA())}function N_(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"h2"),e.SDv(1,42),e.qZA(),e.TgZ(2,"div")(3,"button",6),e.NdJ("click",function(){return e.CHM(t),e.oxw().onCancel()}),e._UZ(4,"bb-icon-ui",43),e.qZA()()}}function f_(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,44),e.qZA())}function b_(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw().onCancel()}),e.TgZ(1,"span"),e.SDv(2,46),e.qZA()(),e.TgZ(3,"button",47),e.NdJ("click",function(){return e.CHM(t),e.oxw().onConfirm()}),e.TgZ(4,"span"),e.SDv(5,48),e.qZA()()}}const U_=function(n){return{"bb-travel-notice-list-item--expired":n}};function I_(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"bb-cards-travel-notice-list-item",10),e.NdJ("delete",function(i){return e.CHM(t),e.oxw().onDeleteListItem(i)}),e.qZA()()}if(2&n){const t=a.$implicit,_=e.oxw();e.xp6(1),e.Q6J("travelNoticeItem",t)("destinationList",_.destinationList)}}function T_(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",7)(2,"div",2)(3,"div",8)(4,"div",9)(5,"bb-input-checkbox-ui",10)(6,"div",11),e._UZ(7,"bb-cards-travel-notice-payment-card",12),e.qZA()()()()()(),e.BQk()),2&n){const t=a.$implicit;e.xp6(5),e.Q6J("formControlName",t.id),e.xp6(2),e.Q6J("paymentCard",t)}}function v_(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,", "),e.qZA())}function B_(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"\xa0"),e.qZA())}function y_(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,23),e.qZA())}function O_(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"\xa0"),e.qZA())}function h_(n,a){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,v_,2,0,"span",22),e.YNc(2,B_,2,0,"span",22),e.YNc(3,y_,2,0,"span",22),e.YNc(4,O_,2,0,"span",22),e.TgZ(5,"span"),e._uU(6),e.qZA()()),2&n){const t=a.$implicit,_=a.first,i=a.last,r=e.oxw();e.xp6(1),e.Q6J("ngIf",!i&&!_),e.xp6(1),e.Q6J("ngIf",!_&&i),e.xp6(1),e.Q6J("ngIf",!_&&i),e.xp6(1),e.Q6J("ngIf",!_&&i),e.xp6(2),e.Oqu(r.getCountryName(t))}}function P_(n,a){if(1&n&&(e.TgZ(0,"div",24)(1,"div")(2,"span",3),e._UZ(3,"bb-icon-ui",25),e.TgZ(4,"span",5),e.SDv(5,26),e.qZA()()(),e.TgZ(6,"div")(7,"div",27),e._uU(8),e.qZA()()()),2&n){const t=e.oxw();e.xp6(8),e.hij(" ",null==t.travelNoticeItem||null==t.travelNoticeItem.contact?null:t.travelNoticeItem.contact.phoneNumber," ")}}function L_(n,a){if(1&n&&(e.TgZ(0,"div",28)(1,"div",29),e._UZ(2,"bb-cards-travel-notice-payment-card",30),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Q6J("paymentCard",t)}}const J_=function(n,a){return{"bb-block bb-block--lg":n,"bb-block bb-block--xl":a}};function K_(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"h2"),e.SDv(1,15),e.qZA(),e.TgZ(2,"div")(3,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeConfirmationDialog()}),e._UZ(4,"bb-icon-ui",17),e.qZA()()}}function G_(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,18),e.qZA())}function k_(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().closeConfirmationDialog()}),e.TgZ(1,"span"),e.SDv(2,20),e.qZA()(),e.TgZ(3,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmCancel()}),e.TgZ(4,"span"),e.SDv(5,22),e.qZA()()}}function x_(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,64),e.qZA())}function F_(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,68),e.qZA())}function H_(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,69),e.qZA())}function w_(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,70),e.qZA())}function Y_(n,a){if(1&n&&(e.ynx(0,66),e.YNc(1,F_,2,0,"span",67),e.YNc(2,H_,2,0,"span",67),e.YNc(3,w_,2,0,"span",67),e.BQk()),2&n){const t=e.oxw().$implicit;e.Q6J("ngSwitch",t.key),e.xp6(1),e.Q6J("ngSwitchCase","required"),e.xp6(1),e.Q6J("ngSwitchCase","invalidDate"),e.xp6(1),e.Q6J("ngSwitchCase","invalidDateFormat")}}function Z_(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Y_,4,4,"ng-container",65),e.BQk()),2&n){const t=a.last;e.xp6(1),e.Q6J("ngIf",t)}}function W_(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,71),e.qZA())}function Q_(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,72),e.qZA())}function q_(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,73),e.qZA())}function z_(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,74),e.qZA())}function $_(n,a){if(1&n&&(e.ynx(0,66),e.YNc(1,W_,2,0,"span",67),e.YNc(2,Q_,2,0,"span",67),e.YNc(3,q_,2,0,"span",67),e.YNc(4,z_,2,0,"span",67),e.BQk()),2&n){const t=e.oxw().$implicit;e.Q6J("ngSwitch",t.key),e.xp6(1),e.Q6J("ngSwitchCase","required"),e.xp6(1),e.Q6J("ngSwitchCase","invalidDate"),e.xp6(1),e.Q6J("ngSwitchCase","invalidCurrentDate"),e.xp6(1),e.Q6J("ngSwitchCase","invalidDateFormat")}}function V_(n,a){if(1&n&&(e.ynx(0),e.YNc(1,$_,5,5,"ng-container",65),e.BQk()),2&n){const t=a.last;e.xp6(1),e.Q6J("ngIf",t)}}function j_(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"bb-alert-ui",75),e.NdJ("close",function(){return e.CHM(t),e.oxw(2).onAlertDismiss()}),e.qZA()}2&n&&e.Q6J("dismissible",!0)}function X_(n,a){if(1&n&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" ",t.cardIdsGroup.value.length," of ",null==t.paymentCards?null:t.paymentCards.length," selected ")}}function ea(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"h2",26),e.SDv(2,77),e.qZA(),e.TgZ(3,"div",26),e._UZ(4,"bb-cards-travel-notice-confirm-step",78),e.qZA(),e.TgZ(5,"div",50)(6,"button",79),e.SDv(7,80),e.qZA(),e.TgZ(8,"button",59),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return i.backForCardIds(i.cardIdsGroup)}),e.SDv(9,81),e.qZA(),e.TgZ(10,"button",53),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onCancel()}),e.SDv(11,82),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("travelNoticeItem",t.travelNoticeItem)("selectedCards",null==t.cardIdsGroup?null:t.cardIdsGroup.value)("destinationList",t.destinationList)}}const ta=function(n){return{"bb-block--sm":n}};function na(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"form",23),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().onSubmitTravelNotice()}),e.TgZ(1,"form",24)(2,"div",25)(3,"h2",26),e.SDv(4,27),e.qZA(),e.TgZ(5,"div",26)(6,"div",0)(7,"div",28)(8,"div",29)(9,"div",30)(10,"label"),e.SDv(11,31),e.qZA(),e._UZ(12,"ng-select",32),e.qZA()()(),e.TgZ(13,"bb-input-validation-message-ui",33),e.YNc(14,x_,2,0,"span",34),e.qZA()(),e.TgZ(15,"div",28)(16,"div",35),e._UZ(17,"bb-input-datepicker-ui",36),e.TgZ(18,"bb-input-validation-message-ui",33),e.YNc(19,Z_,2,1,"ng-container",37),e.ALo(20,"keyvalue"),e.qZA()(),e.TgZ(21,"div",35),e._UZ(22,"bb-input-datepicker-ui",38),e.TgZ(23,"bb-input-validation-message-ui",33),e.YNc(24,V_,2,1,"ng-container",37),e.ALo(25,"keyvalue"),e.qZA()()(),e.TgZ(26,"div",39)(27,"label")(28,"strong"),e.SDv(29,40),e.qZA()(),e.TgZ(30,"span",41),e.SDv(31,42),e.qZA(),e.TgZ(32,"div",43)(33,"div",28)(34,"div",29)(35,"div",44),e._UZ(36,"bb-input-phone-ui",45),e.TgZ(37,"bb-input-validation-message-ui",33)(38,"div",46)(39,"span"),e.SDv(40,47),e.qZA()()()()()()(),e.TgZ(41,"span",48),e.SDv(42,49),e.qZA()()(),e.TgZ(43,"div",50)(44,"button",51),e.NdJ("click",function(){return e.CHM(t),e.oxw().checkFormValid()}),e.SDv(45,52),e.qZA(),e.TgZ(46,"button",53),e.NdJ("click",function(){return e.CHM(t),e.oxw().onCancel()}),e.SDv(47,54),e.qZA()()()(),e.TgZ(48,"div",25)(49,"h2",26),e.SDv(50,55),e.qZA(),e.YNc(51,j_,1,1,"bb-alert-ui",56),e.TgZ(52,"div",0),e._UZ(53,"bb-cards-travel-notice-checkbox-cards",57),e.qZA(),e.TgZ(54,"div",50)(55,"button",51),e.NdJ("click",function(){return e.CHM(t),e.oxw().checkFormValid()}),e.SDv(56,58),e.qZA(),e.TgZ(57,"button",59),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.back(i.detailsGroup)}),e.SDv(58,60),e.qZA(),e.YNc(59,X_,2,2,"div",61),e.TgZ(60,"div",62)(61,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().onCancel()}),e.SDv(62,63),e.qZA()()()(),e.YNc(63,ea,12,3,"div",34),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.createTravelNoticeForm),e.xp6(1),e.Q6J("formGroup",t.detailsGroup),e.xp6(1),e.Q6J("hidden",1!==t.currentStep),e.xp6(10),e.Q6J("items",t.destinationListDisplay)("hideSelected",!0)("multiple",!0)("formControl",t.destinations),e.xp6(1),e.Q6J("showErrors",!t.isFieldValid("destinations")),e.xp6(1),e.Q6J("ngIf",t.destinations.hasError("required")),e.xp6(3),e.Q6J("overrideDateFormat","longDate"),e.xp6(1),e.Q6J("showErrors",!t.isFieldValid("departureDate")),e.xp6(1),e.Q6J("ngForOf",e.lcZ(20,23,t.departureDate.errors)),e.xp6(3),e.Q6J("overrideDateFormat","longDate"),e.xp6(1),e.Q6J("showErrors",!t.isFieldValid("arrivalDate")),e.xp6(1),e.Q6J("ngForOf",e.lcZ(25,25,t.arrivalDate.errors)),e.xp6(8),e.Q6J("ngClass",e.VKq(27,ta,t.isFieldValid("contactNumber"))),e.xp6(5),e.Q6J("showErrors",!t.isFieldValid("contactNumber")),e.xp6(11),e.Q6J("hidden",2!==t.currentStep),e.xp6(3),e.Q6J("ngIf",t.displayAlert),e.xp6(2),e.Q6J("paymentCards",t.paymentCards)("formControl",t.cardIdsGroup),e.xp6(6),e.Q6J("ngIf",0!==t.cardIdsGroup.value.length),e.xp6(4),e.Q6J("ngIf",3===t.currentStep)}}function _a(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-cards-travel-notice-list",3),e.NdJ("create",function(i){return e.CHM(t),e.oxw(2).setPage(i)})("deleteListItem",function(i){return e.CHM(t),e.oxw(2).onRemove(i)}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("travelNoticeList",t.travelNoticeList)("destinationList",t.destinationList)}}function aa(n,a){if(1&n&&(e.ynx(0),e.YNc(1,_a,2,2,"ng-container",2),e.BQk()),2&n){const t=e.oxw(),_=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.hasItems)("ngIfElse",_)}}function oa(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-cards-travel-notice-create",4),e.NdJ("abortCreation",function(i){return e.CHM(t),e.oxw().setPage(i)})("save",function(i){return e.CHM(t),e.oxw().saveTravelNotice(i)}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("paymentCards",t.paymentCards)("destinationList",t.destinationList)}}function ia(n,a){if(1&n&&e._UZ(0,"img",19),2&n){const t=e.oxw(2);e.Q6J("src",t.imageUrl,e.LSH)}}function ra(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"div",7),e.YNc(3,ia,1,1,"img",8),e.qZA(),e.TgZ(4,"h2",9),e.SDv(5,10),e.qZA(),e.TgZ(6,"div",11)(7,"div",12)(8,"div",13)(9,"p",14),e.SDv(10,15),e.qZA()()()(),e.TgZ(11,"div")(12,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().setPage({goToPage:"create"})}),e._UZ(13,"bb-icon-ui",17),e.TgZ(14,"span"),e.SDv(15,18),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",""!==t.imageUrl)}}let je=(()=>{class n extends be{get lockStatus(){return this.isLocked||!1}set lockStatus(t){t?this.onLock():this.onUnlock()}}return n.\u0275fac=function(){let a;return function(_){return(a||(a=e.n5z(n)))(_||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-card-details-payment-card-controls"]],features:[e.qOj],decls:1,vars:1,consts:function(){let a,t,_,i,r,c,f,v,F,k,q,z;return a=" Self service ",t=" Lock card ",_=" Freeze your card temporarily ",i="lock/unlock your payment card, Freeze your card temporarily",r=" Replace card ",c=" Replace lost, stolen or damaged cards ",f=" Reset PIN ",v=" Change your PIN online ",F=" Request new PIN ",k=" Request a new PIN by mail ",q=" Card activation ",z=" In order to use this card you need to activate it first. ",[["class","bb-block--lg bb-list card",4,"ngIf"],[1,"bb-block--lg","bb-list","card"],[4,"ngIf"],[1,"card-header"],a,[1,"card-body"],[1,"bb-list"],[1,"bb-list__item","bb-stack"],[1,"bb-stack","bb-stack--align-top"],["name","lock","size","md",1,"bb-stack__item"],[1,"bb-stack__item"],[1,"bb-block--no-margin"],t,[1,"bb-text-support","text-small"],_,["aria-label",i,"name","lockStatus",3,"id","ngModel","ngModelChange",4,"ngIf"],["loaderSize","sm",4,"ngIf"],[1,"bb-list__item","bb-stack","bb-payment-card-self-service-row"],[1,"bb-stack","bb-stack--align-top","bb-stack__item","bb-payment-card-self-service-row__description"],["name","autorenew","size","md",1,"bb-stack__item"],r,c,[1,"bb-stack__item","bb-payment-card-self-service-row__button"],[3,"paymentCard","isInitiateReplacementLoading","initiateReplacement"],["name","dialpad","size","md",1,"bb-stack__item"],[3,"cardPinLength","paymentCard","mode","isResetPinLoading","resetPin","requestPin"],["aria-label",i,"name","lockStatus",3,"id","ngModel","ngModelChange"],["loaderSize","sm"],f,v,F,k,[1,"bb-block","bb-block--lg"],q,[1,"bb-text-support"],z,[1,"bb-payment-card-self-service__inactive-container"],[3,"paymentCard","isInitiateActivationLoading","initiateActivation"]]},template:function(t,_){1&t&&e.YNc(0,qn,3,2,"div",0),2&t&&e.Q6J("ngIf",_.paymentCard)},directives:[O.o,Qe.q,g.Q,Ie,We,Ue,o.O5,A._Y,A.JL,A.F,A.JJ,A.On],encapsulation:2}),n})(),Xe=(()=>{class n{constructor(){this.paymentCardReplacementStatus=S}getDisplayState(){return this.paymentCard&&this.paymentCard.status===s.Inactive?"INACTIVE":this.paymentCard&&this.paymentCard.status===s.Canceled?"CANCELLED":this.paymentCard&&this.paymentCard.status===s.Expired?"EXPIRED":this.paymentCard&&this.paymentCard.lockStatus===b.Locked?"LOCKED":void 0}ngOnInit(){if(void 0===this.paymentCard)throw new Error(`"paymentCard" input is required in "${this.constructor.name}"`)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card-summary"]],inputs:{paymentCard:"paymentCard"},decls:1,vars:1,consts:function(){let a,t,_,i,r;return a=" " + "\ufffd0\ufffd" + " " + "\ufffd1\ufffd" + " card ",t="Cancelled Card",_="New cards are usually delivered within 3-5 business days",i="Cancelled Card",r="New cards are usually delivered within 3-5 business days",[["class","bb-payment-card-summary",4,"ngIf"],[1,"bb-payment-card-summary"],[1,"bb-block","bb-block--xl"],[1,"row"],[1,"col-auto"],[1,"bb-payment-card-component"],[3,"state"],[3,"paymentCard"],[1,"col-12","order-first","col-sm","order-sm-last"],a,[3,"ngSwitch"],["class","bb-block bb-block--xl",4,"ngSwitchCase"],[4,"ngIf"],["modifier","warning","title",t,"message",_],["modifier","warning","title",i,"message",r],[3,"deliveryStatus"]]},template:function(t,_){1&t&&e.YNc(0,jn,16,10,"div",0),2&t&&e.Q6J("ngIf",_.paymentCard)},directives:[Ce,x.u,L.w,He,o.O5,o.RF,o.n9],pipes:[o.i8],encapsulation:2}),n})(),sa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,A.u5,Qe.o,g.p,y.P,x.w,L.n,O.Q,le]]}),n})(),et=(()=>{class n extends fe{constructor(t,_){super(t,_),this.cd=t,this.notificationService=_}ngOnInit(){var t,_,i,r;const c={activationErrorHeader:"Error",activationErrorMessage:"Failed to Activate Card. Unable to proceed, please try again.",activationSuccessHeader:"Card Activated.",lockErrorHeader:"Error",lockErrorMessage:"Card number ending with " + (null === (t = this.paymentCard) || void 0 === t ? void 0 : t.number) + " cannot be locked! Try again later.",lockSuccessHeader:"Card locked",lockSuccessMessage:"Card number ending with " + (null === (_ = this.paymentCard) || void 0 === _ ? void 0 : _.number) + " has been locked.",replacementErrorHeader:"Error",replacementErrorMessage:"Unable to request a card replacement. Try again later.",replacementSuccessHeader:"New card ordered",replacementSuccessMessage:"A new card has been ordered.",requestNewPinSuccessMessage:"New PIN requested",requestPinErrorMessage:"Can't request PIN.  Please try again later.",resetPinSuccessMessage:"PIN successfully reset",resetPinErrorMessage:"Unable to change PIN.  Please try again later.",resetInvalidPinMessage:"Unable to change PIN. New PIN and confirm don't match",unlockErrorHeader:"Error",unlockErrorMessage:"Card number ending with " + (null === (i = this.paymentCard) || void 0 === i ? void 0 : i.number) + " cannot be unlocked! Try again later.",unlockSuccessHeader:"Card unlocked",unlockSuccessMessage:"Card number ending with " + (null === (r = this.paymentCard) || void 0 === r ? void 0 : r.number) + " has been unlocked.",updateLimitErrorHeader:"",updateLimitErrorMessage:"Unable to change card limit",updateLimitSuccessHeader:"Limit changed",updateLimitSuccessMessage:"Card limit changed successfully"};this.localizations=Object.assign({},c)}getDisplayState(){return this.paymentCard&&this.paymentCard.status===s.Inactive?"INACTIVE":this.paymentCard&&this.paymentCard.status===s.Canceled?"CANCELLED":this.paymentCard&&this.paymentCard.status===s.Expired?"EXPIRED":this.paymentCard&&this.paymentCard.lockStatus===b.Locked?"LOCKED":void 0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(W.gq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card"]],features:[e.qOj],decls:3,vars:2,consts:[[1,"bb-payment-card-component"],[2,"cursor","pointer",3,"state","click"],["bbAccessibilityKeyboard","",3,"paymentCard"]],template:function(t,_){1&t&&(e.TgZ(0,"div",0)(1,"bb-payment-card-state-wrapper-ui",1),e.NdJ("click",function(){return _.onOpenDetails()}),e._UZ(2,"bb-payment-card-ui",2),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("state",_.getDisplayState()),e.xp6(1),e.Q6J("paymentCard",_.paymentCard))},directives:[Ce,x.u],encapsulation:2}),n})(),tt=(()=>{class n{constructor(){this.selectCard=new e.vpe}ngOnInit(){if(void 0===this.paymentCards)throw new Error(`"paymentCards" input is required in "${this.constructor.name}"`)}onSelectCard(t){this.selectCard.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card-group"]],inputs:{heading:"heading",paymentCards:"paymentCards",notificationTtl:"notificationTtl",updateAllLimits:"updateAllLimits"},outputs:{selectCard:"selectCard"},decls:4,vars:2,consts:[[1,"bb-block","bb-block--sm"],["class","bb-payment-card-group-header bb-block bb-block--lg",4,"ngIf"],[1,"bb-stack","bb-stack--wrap","bb-stack--density-lg"],["class","bb-stack__item bb-block--lg",4,"ngFor","ngForOf"],[1,"bb-payment-card-group-header","bb-block","bb-block--lg"],[1,"bb-stack__item","bb-block--lg"],[3,"paymentCard","notificationTtl","updateAllLimits","selectCard"]],template:function(t,_){1&t&&(e.TgZ(0,"div",0),e.YNc(1,__,3,1,"div",1),e.TgZ(2,"div",2),e.YNc(3,a_,2,3,"div",3),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf",_.heading),e.xp6(2),e.Q6J("ngForOf",_.paymentCards))},directives:[et,o.O5,o.sg],encapsulation:2}),n})(),nt=(()=>{class n{constructor(){this._groupByPaymentCardTypes=[],this.paymentCardTypes=[],this.selectCard=new e.vpe,this.paymentCardGroups=[]}set groupByPaymentCardTypesValue(t){this._groupByPaymentCardTypes=t,Array.isArray(t)&&(this.paymentCardTypes=t.map(_=>({type:_,heading:_+" "+"cards"})))}get hasItems(){return void 0!==this.paymentCards&&this.paymentCards.length>0}get groupByPaymentCardTypes(){return this._groupByPaymentCardTypes}ngOnChanges(t){this.paymentCardGroups=((n,a)=>a.reduce((t,_)=>{const i=((n,a)=>({type:a.type,paymentCards:n.filter(t=>t.type===a.type),heading:a.heading}))(n,_);return i.paymentCards.length?[...t,i]:t},[]))(t.paymentCards?t.paymentCards.currentValue:this.paymentCards,t.paymentCardTypes?t.paymentCardTypes.currentValue:this.paymentCardTypes)}onSelectCard(t){this.selectCard.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-cards-container"]],inputs:{paymentCards:"paymentCards",groupByPaymentCardTypesValue:["groupByPaymentCardTypes","groupByPaymentCardTypesValue"],paymentCardTypes:"paymentCardTypes",notificationTtl:"notificationTtl",updateAllLimits:"updateAllLimits"},outputs:{selectCard:"selectCard"},features:[e.TTD],decls:3,vars:2,consts:function(){let a,t;return a="No Cards Found",t="You don't have any cards to be displayed.",[[4,"ngIf","ngIfElse"],["emptyState",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","bb-block bb-block--sm",3,"heading","paymentCards","notificationTtl","updateAllLimits","selectCard",4,"ngIf"],[1,"bb-block","bb-block--sm",3,"heading","paymentCards","notificationTtl","updateAllLimits","selectCard"],[3,"paymentCards","notificationTtl","selectCard"],[1,"card","bb-state-container"],["title",a,"subtitle",t,"iconSize","xxl","iconModifier","credit-card"]]},template:function(t,_){if(1&t&&(e.YNc(0,c_,3,2,"ng-container",0),e.YNc(1,l_,2,0,"ng-template",null,1,e.W1O)),2&t){const i=e.MAs(2);e.Q6J("ngIf",_.hasItems)("ngIfElse",i)}},directives:[tt,y.s,o.O5,o.sg],encapsulation:2}),n})(),Ea=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,A.u5,N.C,le,x.w,y.P]]}),n})(),_t=(()=>{class n{constructor(t){this.helper=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(pe))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-travel-notice-status-badge"]],inputs:{travelNoticeItem:"travelNoticeItem"},features:[e._Bn([pe])],decls:4,vars:3,consts:function(){let a,t,_;return a="Active",t="Scheduled",_="Expired",[[1,"bb-stack","bb-block","bb-block--md"],[4,"ngIf"],["text",a,"color","success"],["text",t,"color","info"],["text",_,"color","danger"]]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e.YNc(1,d_,2,0,"ng-container",1),e.YNc(2,E_,2,0,"ng-container",1),e.YNc(3,A_,2,0,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",_.helper.isDateInBetween(_.travelNoticeItem.departureDate,_.travelNoticeItem.arrivalDate)),e.xp6(1),e.Q6J("ngIf",_.helper.isUpcomingDate(_.travelNoticeItem.departureDate)&&_.helper.isUpcomingDate(_.travelNoticeItem.arrivalDate)),e.xp6(1),e.Q6J("ngIf",_.helper.isPastDate(_.travelNoticeItem.departureDate)&&_.helper.isPastDate(_.travelNoticeItem.arrivalDate)))},directives:[H.F,o.O5],encapsulation:2}),n})(),me=(()=>{class n{getDisplayState(){return this.paymentCard&&this.paymentCard.status===s.Inactive?"INACTIVE":this.paymentCard&&this.paymentCard.status===s.Canceled?"CANCELLED":this.paymentCard&&this.paymentCard.status===s.Expired?"EXPIRED":this.paymentCard&&this.paymentCard.lockStatus===b.Locked?"LOCKED":void 0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-travel-notice-payment-card"]],inputs:{paymentCard:"paymentCard"},decls:2,vars:2,consts:[[3,"state"],[3,"paymentCard"]],template:function(t,_){1&t&&(e.TgZ(0,"bb-payment-card-state-wrapper-ui",0),e._UZ(1,"bb-payment-card-ui",1),e.qZA()),2&t&&(e.Q6J("state",_.getDisplayState()),e.xp6(1),e.Q6J("paymentCard",_.paymentCard))},directives:[Ce,x.u],encapsulation:2}),n})(),at=(()=>{class n{constructor(t){this.helper=t,this.delete=new e.vpe,this.dialogOpen=!1,this.areCardsOpen=!1,this.onCancel=()=>{this.dialogOpen=!1},this.onConfirm=()=>{this.delete.emit(this.travelNoticeItem),this.dialogOpen=!1}}getCountryName(t){return Ge(this.destinationList,t)}onDelete(){this.dialogOpen=!0}toggleCardsVisibility(){this.areCardsOpen=!this.areCardsOpen}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(pe))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-travel-notice-list-item"]],inputs:{travelNoticeItem:"travelNoticeItem",destinationList:"destinationList"},outputs:{delete:"delete"},features:[e._Bn([pe])],decls:49,vars:18,consts:function(){let a,t,_,i,r,c,f,v,F,k,q,z;return a="Delete travel notice",t=" Departure date: ",_=" Return date: ",i=" Selected cards ",r="and",c=" Contact number: ",f=" Show less ",v=" Show more ",F=" Delete travel notice? ",k=" This travel notice information will be permanently deleted. ",q=" Keep it ",z=" Delete travel notice ",[[1,"bb-travel-notice-list-item",3,"ngClass"],[3,"travelNoticeItem"],[1,"bb-stack","bb-block","bb-block--md","bb-stack--align-top"],[1,"bb-stack__item","bb-travel-notice-header"],[4,"ngFor","ngForOf"],[1,"bb-stack__item","bb-stack__item--push-right"],["bbButton","","color","unstyled",3,"click"],["name","delete","aria-label",a],[1,"row"],[1,"col-md-3"],[1,"bb-block","bb-block--md"],["name","flight-takeoff","size","sm"],[1,"bb-text-support","bb-travel-notice-list__label"],t,[1,"bb-travel-notice-list-item__departure-date"],["name","flight-land","size","sm"],_,[1,"bb-travel-notice-list-item__return-date"],[1,"bb-block","bb-block--sm",3,"ngbCollapse"],["class","bb-block bb-block--md",4,"ngIf"],["data-role","selectCards header",1,"bb-block","bb-block--md"],[1,"bb-text-bold"],i,[1,"bb-stack","bb-stack--wrap"],["class","bb-stack__item bb-block bb-block--md",4,"ngFor","ngForOf"],["bbButton","","data-role","see-details-button","buttonSize","sm","color","link-text",3,"click"],["class","bb-travel-notice-list__label",4,"ngIf"],["size","md",3,"name"],[3,"isOpen","cancel"],["bbCustomModalHeader",""],["bbCustomModalBody",""],["footerRef",""],["bbCustomModalFooter",""],[4,"ngIf"],r,["name","local-phone","size","sm"],c,[1,"bb-stack__item","bb-block","bb-block--md"],[3,"paymentCard"],[1,"bb-travel-notice-list__label"],f,v,F,["color","muted","name","clear"],k,["bbButton","","color","link",3,"click"],q,["bbButton","","color","danger",3,"click"],z]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-cards-travel-notice-status-badge",1),e.TgZ(2,"div",2)(3,"h3",3)(4,"div"),e.YNc(5,m_,7,5,"ng-container",4),e.qZA()(),e.TgZ(6,"div",5)(7,"button",6),e.NdJ("click",function(){return _.onDelete()}),e._UZ(8,"bb-icon-ui",7),e.qZA()()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10)(12,"div"),e._UZ(13,"bb-icon-ui",11),e.TgZ(14,"span",12),e.SDv(15,13),e.qZA()(),e.TgZ(16,"div",14),e._uU(17),e.ALo(18,"date"),e.qZA()()(),e.TgZ(19,"div",9)(20,"div",10)(21,"div"),e._UZ(22,"bb-icon-ui",15),e.TgZ(23,"span",12),e.SDv(24,16),e.qZA()(),e.TgZ(25,"div",17),e._uU(26),e.ALo(27,"date"),e.qZA()()()(),e.TgZ(28,"div",18),e.YNc(29,g_,8,1,"div",19),e.TgZ(30,"div")(31,"div",20)(32,"div",21),e.SDv(33,22),e.qZA()(),e.TgZ(34,"div",23),e.YNc(35,R_,2,1,"div",24),e.qZA()()(),e.TgZ(36,"div")(37,"button",25),e.NdJ("click",function(){return _.toggleCardsVisibility()}),e.YNc(38,M_,2,0,"span",26),e.YNc(39,D_,2,0,"span",26),e._UZ(40,"bb-icon-ui",27),e.qZA()()(),e.TgZ(41,"bb-modal-ui",28),e.NdJ("cancel",function(){return _.onCancel()}),e.TgZ(42,"bb-modal-header-ui"),e.YNc(43,N_,5,0,"ng-template",29),e.qZA(),e.TgZ(44,"bb-modal-body-ui"),e.YNc(45,f_,2,0,"ng-template",30),e.qZA(),e.TgZ(46,"bb-modal-footer-ui",null,31),e.YNc(48,b_,6,0,"ng-template",32),e.qZA()()),2&t&&(e.Q6J("ngClass",e.VKq(16,U_,_.helper.isPastDate(_.travelNoticeItem.arrivalDate))),e.xp6(1),e.Q6J("travelNoticeItem",_.travelNoticeItem),e.xp6(4),e.Q6J("ngForOf",null==_.travelNoticeItem?null:_.travelNoticeItem.destinations),e.xp6(12),e.hij(" ",e.lcZ(18,12,null==_.travelNoticeItem?null:_.travelNoticeItem.departureDate)," "),e.xp6(9),e.hij(" ",e.lcZ(27,14,null==_.travelNoticeItem?null:_.travelNoticeItem.arrivalDate)," "),e.xp6(2),e.Q6J("ngbCollapse",!_.areCardsOpen),e.xp6(1),e.Q6J("ngIf",null==_.travelNoticeItem||null==_.travelNoticeItem.contact?null:_.travelNoticeItem.contact.phoneNumber),e.xp6(6),e.Q6J("ngForOf",null==_.travelNoticeItem?null:_.travelNoticeItem.cards),e.xp6(3),e.Q6J("ngIf",_.areCardsOpen),e.xp6(1),e.Q6J("ngIf",!_.areCardsOpen),e.xp6(1),e.Q6J("name",_.areCardsOpen?"toggle-up":"toggle-down"),e.xp6(1),e.Q6J("isOpen",_.dialogOpen))},directives:[_t,O.o,me,D.zS,D.Rb,D.KF,D.YI,o.mk,o.sg,o.O5,U.Hq,Ve._D,D.cA,D.Qd,D.yk],pipes:[o.uU],encapsulation:2}),n})(),ot=(()=>{class n{constructor(){this.create=new e.vpe,this.deleteListItem=new e.vpe}onShowCreateForm(){this.create.emit({goToPage:"create"})}onDeleteListItem(t){this.deleteListItem.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-travel-notice-list"]],inputs:{travelNoticeList:"travelNoticeList",destinationList:"destinationList"},outputs:{create:"create",deleteListItem:"deleteListItem"},decls:11,vars:1,consts:function(){let a;return a=" Create New",[[1,"bb-text-align-right","bb-block","bb-block--xl","bb-stack"],[1,"bb-stack__item","bb-stack__item--push-right"],["bbButton","","data-role","add-button",3,"click"],["name","add"],a,[1,"card","card-lg"],[1,"card-body"],[1,"bb-travel-notice-list","bb-list"],["class","bb-list__item",4,"ngFor","ngForOf"],[1,"bb-list__item"],[3,"travelNoticeItem","destinationList","delete"]]},template:function(t,_){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"button",2),e.NdJ("click",function(){return _.onShowCreateForm()}),e._UZ(4,"bb-icon-ui",3),e.TgZ(5,"span"),e.SDv(6,4),e.qZA()()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7),e.YNc(10,I_,2,2,"div",8),e.qZA()()()()),2&t&&(e.xp6(10),e.Q6J("ngForOf",_.travelNoticeList))},directives:[O.o,at,U.Hq,o.sg],encapsulation:2}),n})(),it=(()=>{class n{constructor(t){this.fb=t,this.checkBoxCardsForm=new A.cw({}),this.indeterminate=!1,this.onChange=()=>{},this.onTouched=()=>{},this.isIndeterminate=()=>{if(this.checkBoxCardsForm){const _=this.checkBoxCardsForm.controls.cardIds.controls,i=Object.keys(_),r=i.reduce((c,f)=>_[f].value?c+1:c,0);return 0!==r&&r<i.length}return!1},this.parentChange=_=>{if(this.checkBoxCardsForm){const i=this.checkBoxCardsForm.controls.cardIds,r=this.createCardsObjectWithDefaultValue(Object.keys(i.controls),c=>c,_);i.setValue(r)}},this.childChange=_=>{this.indeterminate=this.isIndeterminate();const i=Object.keys(_||{}).filter(r=>!0===_[r]);this.onChange(i.map(r=>this.paymentCards&&this.paymentCards.find(c=>c.id===r)))}}createCardsObjectWithDefaultValue(t=[],_,i){return t.reduce((r,c)=>Object.assign(Object.assign({},r),{[_(c)]:i}),{})}hasCardsSelected(t){return Object.keys(t.controls).find(i=>!0===t.controls[i].value)?null:{empty:!0}}createForm(){const t=this.createCardsObjectWithDefaultValue(this.paymentCards,_=>_.id,[!1]);this.checkBoxCardsForm=this.fb.group({parent:[!1],cardIds:this.fb.group(t)}),this.checkBoxCardsForm.controls.cardIds.setValidators(this.hasCardsSelected)}writeValue(t){if(this.checkBoxCardsForm&&t&&this.paymentCards){const _=this.checkBoxCardsForm.controls.cardIds;t.forEach(i=>_.controls[i.id].setValue(!0)),t.length===this.paymentCards.length&&this.checkBoxCardsForm.patchValue({parent:!0})}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}ngOnInit(){if(this.createForm(),this.checkBoxCardsForm){const _=this.checkBoxCardsForm.controls.cardIds;this.parentSubscription=this.checkBoxCardsForm.controls.parent.valueChanges.subscribe(this.parentChange),this.childrenSubscription=_.valueChanges.subscribe(this.childChange)}}ngOnDestroy(){this.parentSubscription&&this.parentSubscription.unsubscribe(),this.childrenSubscription&&this.childrenSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-travel-notice-checkbox-cards"]],inputs:{paymentCards:"paymentCards"},features:[e._Bn([{provide:A.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}])],decls:8,vars:3,consts:function(){let a,t;return a="Select all cards",t=" label=\"Select all cards\" ",[[3,"formGroup"],[1,"list-unstyled"],[1,"bb-block","bb-block--xl"],["formControlName","parent","label",a,3,"indeterminate"],t,["formGroupName","cardIds",1,"row","bb-create-travel-notice-card-group"],[4,"ngFor","ngForOf"],[1,"col-lg-6"],[1,"bb-stack"],[1,"bb-stack__item"],[3,"formControlName"],[1,"bb-create-travel-notice-card-group__payment-card"],[3,"paymentCard"]]},template:function(t,_){1&t&&(e.TgZ(0,"form",0)(1,"ul",1)(2,"li")(3,"div",2)(4,"bb-input-checkbox-ui",3),e.SDv(5,4),e.qZA()(),e.TgZ(6,"div",5),e.YNc(7,T_,8,2,"ng-container",6),e.qZA()()()()),2&t&&(e.Q6J("formGroup",_.checkBoxCardsForm),e.xp6(4),e.Q6J("indeterminate",_.indeterminate),e.xp6(3),e.Q6J("ngForOf",_.paymentCards))},directives:[qe.r,me,A._Y,A.JL,A.sg,A.JJ,A.u,A.x0,o.sg],encapsulation:2}),n})(),rt=(()=>{class n{getCountryName(t){return Ge(this.destinationList,t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-travel-notice-confirm-step"]],inputs:{travelNoticeItem:"travelNoticeItem",selectedCards:"selectedCards",destinationList:"destinationList"},decls:38,vars:14,consts:function(){let a,t,_,i,r,c,f;return a=" Travel details ",t="Destination(s):",_="Departure date: ",i="Return date:",r=" Selected cards ",c="and",f="Contact number: ",[[1,"bb-create-travel-notice-review"],[1,"bb-block","bb-block--lg"],a,[1,"bb-inline-stack"],["name","location-on","size","sm",1,"bb-inline-stack__item"],[1,"bb-text-support","bb-inline-stack__item","bb-travel-notice-list__label"],t,["data-role","countries-label"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-3"],["name","flight-takeoff","size","sm",1,"bb-inline-stack__item",3,"cropped"],_,["data-role","departure-date-label"],[3,"ngClass"],["name","flight-land","size","sm",1,"bb-inline-stack__item"],i,["data-role","arrival-date-label"],["class","bb-block bb-block--xl",4,"ngIf"],r,[1,"bb-stack","bb-stack--wrap"],["class","bb-stack__item",4,"ngFor","ngForOf"],[4,"ngIf"],c,[1,"bb-block","bb-block--xl"],["name","local-phone","size","sm",1,"bb-inline-stack__item"],f,["data-role","contact-number-label"],[1,"bb-stack__item"],[1,"bb-block","bb-block--md"],[3,"paymentCard"]]},template:function(t,_){1&t&&(e.TgZ(0,"div",0)(1,"h3",1),e.SDv(2,2),e.qZA(),e.TgZ(3,"div",1)(4,"div")(5,"span",3),e._UZ(6,"bb-icon-ui",4),e.TgZ(7,"span",5),e.SDv(8,6),e.qZA()()(),e.TgZ(9,"div",7),e.YNc(10,h_,7,5,"span",8),e.qZA()(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",1)(14,"div")(15,"span",3),e._UZ(16,"bb-icon-ui",11),e.TgZ(17,"span",5),e.SDv(18,12),e.qZA()()(),e.TgZ(19,"div",13),e._uU(20),e.ALo(21,"date"),e.qZA()()(),e.TgZ(22,"div",10)(23,"div",14)(24,"div")(25,"span",3),e._UZ(26,"bb-icon-ui",15),e.TgZ(27,"span",5),e.SDv(28,16),e.qZA()()(),e.TgZ(29,"div",17),e._uU(30),e.ALo(31,"date"),e.qZA()()()(),e.YNc(32,P_,9,1,"div",18),e.TgZ(33,"div")(34,"h3",1),e.SDv(35,19),e.qZA(),e.TgZ(36,"div",20),e.YNc(37,L_,3,1,"div",21),e.qZA()()()),2&t&&(e.xp6(10),e.Q6J("ngForOf",null==_.travelNoticeItem?null:_.travelNoticeItem.destinations),e.xp6(6),e.Q6J("cropped",!0),e.xp6(4),e.hij(" ",e.lcZ(21,7,null==_.travelNoticeItem?null:_.travelNoticeItem.departureDate)," "),e.xp6(3),e.Q6J("ngClass",e.WLB(11,J_,null==_.travelNoticeItem||null==_.travelNoticeItem.contact?null:_.travelNoticeItem.contact.phoneNumber,!(null!=_.travelNoticeItem&&null!=_.travelNoticeItem.contact&&_.travelNoticeItem.contact.phoneNumber))),e.xp6(7),e.hij(" ",e.lcZ(31,9,null==_.travelNoticeItem?null:_.travelNoticeItem.arrivalDate)," "),e.xp6(2),e.Q6J("ngIf",null==_.travelNoticeItem||null==_.travelNoticeItem.contact?null:_.travelNoticeItem.contact.phoneNumber),e.xp6(5),e.Q6J("ngForOf",_.selectedCards))},directives:[O.o,me,o.sg,o.O5,o.mk],pipes:[o.uU],encapsulation:2}),n})(),st=(()=>{class n{constructor(t,_){this.fb=t,this.datePipe=_,this.abortCreation=new e.vpe,this.save=new e.vpe,this.currentStep=1,this.createTravelNoticeForm=new A.cw({}),this.dialogOpen=!1,this.displayAlert=!1,this.travelNoticeItem={arrivalDate:"",cards:[],departureDate:"",destinations:[]},this.closeConfirmationDialog=()=>{this.dialogOpen=!1},this.confirmCancel=()=>{this.closeConfirmationDialog(),this.abortCreation.emit({goToPage:"list"})},this.updateTravelNoticeValue=i=>{const r=i.details,c=i.cardIds;c&&(this.travelNoticeItem=Object.assign(Object.assign({},this.travelNoticeItem),{cards:c})),r&&(this.travelNoticeItem=Object.assign(Object.assign({},this.travelNoticeItem),{destinations:r.destinations.map(f=>({country:f.parent?f.parent:f.value,region:f.parent&&f.value})),contact:{phoneNumber:r.contactNumber+""}})),this.departureDate.valid&&(this.travelNoticeItem=Object.assign(Object.assign({},this.travelNoticeItem),{departureDate:this.datePipe.transform(r.departureDate,"yyyy-MM-dd")})),this.arrivalDate.valid&&(this.travelNoticeItem=Object.assign(Object.assign({},this.travelNoticeItem),{arrivalDate:this.datePipe.transform(r.arrivalDate,"yyyy-MM-dd")})),this.displayAlert=!1},this.currentDateValidator=i=>{const r=new Date(i.value),c=this.truncateDate();return r.getTime()<c.getTime()?{invalidCurrentDate:!0}:null}}set destinationList(t){t&&(this.destinationsDisplay=[...t.map(_=>({name:_.name,value:_.code})),...t.filter(_=>void 0!==_.regions).reduce((_,{regions:i=[],code:r})=>[..._,...i.map(c=>({name:`${c.name} (${r})`,value:c.code,parent:r}))],[])].sort((_,i)=>_.name===i.name?0:_.name>i.name?1:-1),this.fullDestinationList=t)}get destinationList(){return this.fullDestinationList}checkFormValid(){1===this.currentStep?(this.detailsGroup.markAllAsTouched(),this.detailsGroup.updateValueAndValidity(),this.detailsGroup.valid&&(this.currentStep+=1,this.currentControl=this.cardIdsGroup)):2===this.currentStep&&(this.cardIdsGroup.markAllAsTouched(),this.cardIdsGroup.updateValueAndValidity(),this.displayAlert=this.cardIdsGroup.invalid,this.cardIdsGroup.valid&&(this.currentStep+=1,this.currentForm=void 0))}back(t){this.currentStep-=1,this.currentForm=t}backForCardIds(t){this.currentStep-=1,this.currentControl=t}onCancel(){this.dialogOpen=!0}onSubmitTravelNotice(){this.save.emit(this.travelNoticeItem)}isFieldValid(t){const _=this.detailsGroup.get(t);return!!_&&(_.valid||_.untouched)}onAlertDismiss(){this.displayAlert=!1}ngOnInit(){!this.paymentCards||(this.createTravelNoticeForm=this.fb.group({details:this.fb.group({destinations:[[],t=>t.value&&t.value.length>0?null:{required:"item required"}],departureDate:[""],arrivalDate:[""],contactNumber:["",A.kI.pattern("^[0-9()-+ ]*$")]}),cardIds:[this.paymentCards?this.paymentCards:[]]}),this.createTravelNoticeForm.markAsPristine(),this.travelNoticeSubscription=this.createTravelNoticeForm.valueChanges.subscribe(this.updateTravelNoticeValue),this.currentForm=this.detailsGroup,this.currentControl=this.cardIdsGroup,this.cardIdsGroup.setValidators(this.hasCardsSelected),this.addDateValidators())}addDateValidators(){this.createTravelNoticeForm&&this.departureDate&&this.arrivalDate&&(this.departureDate.setValidators([A.kI.required,this.dateValidator("arrivalDate","departureDate")]),this.arrivalDate.setValidators([A.kI.required,this.currentDateValidator,this.dateValidator("arrivalDate","departureDate")]),this.departureDateSubscription=this.departureDate.valueChanges.subscribe(()=>{this.arrivalDate.updateValueAndValidity({emitEvent:!1})}),this.arrivalDateSubcription=this.arrivalDate.valueChanges.subscribe(()=>{this.departureDate.updateValueAndValidity({emitEvent:!1})}))}ngOnDestroy(){this.travelNoticeSubscription&&this.travelNoticeSubscription.unsubscribe(),this.arrivalDateSubcription&&this.arrivalDateSubcription.unsubscribe(),this.departureDateSubscription&&this.departureDateSubscription.unsubscribe()}dateValidator(t,_){return()=>{const i=this.detailsGroup.get(t),r=this.detailsGroup.get(_);return new Date(i.value).getTime()<new Date(r.value).getTime()?{invalidDate:!0}:null}}truncateDate(t=new Date){const _=new Date(t);return _.setHours(0,0,0,0),_}hasCardsSelected(t){return 0===t.value.length?{empty:!0}:null}get detailsGroup(){return this.createTravelNoticeForm.get("details")}get cardIdsGroup(){return this.createTravelNoticeForm.get("cardIds")}get destinations(){return this.detailsGroup.get("destinations")}get arrivalDate(){return this.detailsGroup.get("arrivalDate")}get departureDate(){return this.detailsGroup.get("departureDate")}get contactNumber(){return this.detailsGroup.get("contactNumber")}get destinationListDisplay(){return this.destinationsDisplay||[]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.qu),e.Y36(o.uU))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-travel-notice-create"]],inputs:{paymentCards:"paymentCards",destinationList:"destinationList"},outputs:{abortCreation:"abortCreation",save:"save"},features:[e._Bn([o.uU])],decls:19,vars:7,consts:function(){let a,t,_,i,r,c,f,v,F,k,q,z,P,ne,_e,ae,oe,ie,X,re,se,G,Ae,Se,ue,K,Dt,Le,Nt,ft,bt,Ut,It,Tt,vt,Bt,yt,Ot,ht,Pt,Lt,Jt,Kt;return a=" Create travel notice\n",t="Travel details",_="Step 1 out of 3",i="Card selection",r="Step 2 out of 3",c="Confirmation",f="Step 3 out of 3",v=" Discard travel notice? ",F=" All entered information for this travel notice will be permanently lost. ",k=" Keep it ",q=" Discard travel notice ",z=" Tell us about your travel details ",P=" Destination(s) ",ne="Search or select countries",_e="Search or select countries",ae="MM/DD/YYYY",oe="Departure date",ie="MM/DD/YYYY",X="Return date",re=" Contact number ",se=" (Optional) ",G="e.g. +(1) 541 754 3010",Ae=" Invalid contact number ",Se=" We will reach you on this number in case of any suspicious activity. ",ue=" Continue ",K=" Cancel ",Dt=" Select the cards you are travelling with ",Le="You need to select at least one card in order to create a travel notice",Nt=" Continue ",ft=" Back ",bt=" Cancel ",Ut=" Please select one or more destinations ",It=" Please choose a departure date ",Tt=" The return date cannot be before the departure date ",vt=" Please enter a valid format. For example, 10/08/2020 ",Bt=" Please choose a return date ",yt=" The return date cannot be before the departure date ",Ot=" Please do not choose a past return date ",ht=" Please enter a valid format. For example, 10/08/2020 ",Pt=" Review your travel notice ",Lt=" Confirm ",Jt=" Back ",Kt=" Cancel ",[[1,"bb-block","bb-block--lg"],a,[1,"card","card-lg","bb-create-travel-notice"],[1,"card-body"],[1,"row","bb-stack--center"],[1,"col-12","col-md-10","col-lg-8"],["label",t,"ariaLabel",_,3,"isChecked","isActive"],["label",i,"ariaLabel",r,1,"bb-stack__item",3,"isChecked","isActive"],["label",c,"ariaLabel",f,1,"bb-stack__item",3,"isActive"],[3,"isOpen","cancel"],["bbCustomModalHeader",""],["bbCustomModalBody",""],["footerRef",""],["bbCustomModalFooter",""],[3,"formGroup","ngSubmit",4,"ngIf"],v,["bbButton","","color","unstyled",3,"click"],["color","muted","name","clear"],F,["bbButton","","color","link",3,"click"],k,["bbButton","","color","danger",3,"click"],q,[3,"formGroup","ngSubmit"],[3,"formGroup"],[3,"hidden"],[1,"bb-block","bb-block--xl"],z,[1,"row"],[1,"col-md-6"],[1,"bb-create-travel-notice__country-selector"],P,["bindLabel","name","aria-label",ne,"placeholder",_e,1,"bb-country-selector",3,"items","hideSelected","multiple","formControl"],[3,"showErrors"],[4,"ngIf"],[1,"col-md-6","bb-block","bb-block--lg"],["placeholder",ae,"label",oe,"name","departureDate","formControlName","departureDate",3,"overrideDateFormat"],[4,"ngFor","ngForOf"],["placeholder",ie,"label",X,"name","arrivalDate","formControlName","arrivalDate",3,"overrideDateFormat"],[1,"bb-block"],re,[1,"bb-text-support"],se,[1,"bb-block",3,"ngClass"],[1,"bb-create-travel-notice__contact-number"],["formControlName","contactNumber","placeholder",G],[1,"bb-block","bb-block--sm"],Ae,[1,"bb-create-travel-notice__disclaimer"],Se,[1,"bb-button-bar"],["bbButton","",1,"bb-button-bar__button",3,"click"],ue,["bbButton","","color","link",1,"bb-button-bar__button","bb-button-bar__button--across",3,"click"],K,Dt,["title",Le,3,"dismissible","close",4,"ngIf"],[3,"paymentCards","formControl"],Nt,["bbButton","","color","secondary",1,"bb-button-bar__button",3,"click"],ft,["class","bb-button-bar__button bb-text-support bb-create-travel-notice__cards-count bb-create-travel-notice__cards-count--xs-top",4,"ngIf"],[1,"bb-button-bar__button","bb-button-bar__button--across"],bt,Ut,[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],It,Tt,vt,Bt,yt,Ot,ht,["title",Le,3,"dismissible","close"],[1,"bb-button-bar__button","bb-text-support","bb-create-travel-notice__cards-count","bb-create-travel-notice__cards-count--xs-top"],Pt,[3,"travelNoticeItem","selectedCards","destinationList"],["bbButton","","type","submit",1,"bb-button-bar__button"],Lt,Jt,Kt]},template:function(t,_){1&t&&(e.TgZ(0,"h1",0),e.SDv(1,1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",0)(5,"div",4)(6,"bb-stepper-ui",5),e._UZ(7,"bb-stepper-step-ui",6)(8,"bb-stepper-step-ui",7)(9,"bb-stepper-step-ui",8),e.qZA()()(),e.TgZ(10,"bb-modal-ui",9),e.NdJ("cancel",function(){return _.closeConfirmationDialog()}),e.TgZ(11,"bb-modal-header-ui"),e.YNc(12,K_,5,0,"ng-template",10),e.qZA(),e.TgZ(13,"bb-modal-body-ui"),e.YNc(14,G_,2,0,"ng-template",11),e.qZA(),e.TgZ(15,"bb-modal-footer-ui",null,12),e.YNc(17,k_,6,0,"ng-template",13),e.qZA()(),e.YNc(18,na,64,29,"form",14),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("isChecked",_.currentStep>1)("isActive",_.currentStep>=1),e.xp6(1),e.Q6J("isChecked",_.currentStep>2)("isActive",_.currentStep>=2),e.xp6(1),e.Q6J("isActive",_.currentStep>=3),e.xp6(1),e.Q6J("isOpen",_.dialogOpen),e.xp6(8),e.Q6J("ngIf",_.paymentCards))},directives:[ve.vO,ve.Ml,D.zS,D.Rb,O.o,D.KF,D.YI,Be.w9,d.d,ze.sO,$e.W,L.w,it,rt,D.cA,U.Hq,D.Qd,D.yk,o.O5,A._Y,A.JL,A.sg,A.JJ,A.oH,A.u,o.sg,o.RF,o.n9,o.mk],pipes:[o.Nd],encapsulation:2}),n})(),ct=(()=>{class n{constructor(){this.createTravelNotice=new e.vpe,this.remove=new e.vpe,this.page="list"}get hasItems(){return this.travelNoticeList&&this.travelNoticeList.length>0}saveTravelNotice(t){this.createTravelNotice.emit(t),this.page="list"}setPage(t){this.page=t.goToPage}onRemove(t){this.remove.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-travel-notice-container"]],inputs:{imageUrl:"imageUrl",travelNoticeList:"travelNoticeList",destinationList:"destinationList",paymentCards:"paymentCards"},outputs:{createTravelNotice:"createTravelNotice",remove:"remove"},decls:4,vars:2,consts:function(){let a,t,_;return a=" Setup your travel notice ",t=" A travel notice alerts us that you\u2019re planning to use your cards abroad and it helps avoid interpreting any unusual activity as potential fraud. ",_="Create new",[[4,"ngIf"],["emptyState",""],[4,"ngIf","ngIfElse"],[3,"travelNoticeList","destinationList","create","deleteListItem"],[3,"paymentCards","destinationList","abortCreation","save"],[1,"bb-travel-notice-empty-state","card"],[1,"card-body","bb-text-align-center"],[1,"bb-block","bb-block--xl"],["class","img-fluid","alt","empty state background",3,"src",4,"ngIf"],[1,"bb-block","bb-block--md"],a,[1,"row"],[1,"col-md-8","offset-md-2"],[1,"bb-block","bb-block--lg"],[1,"bb-travel-notice-empty-state__message"],t,["bbButton","","color","primary",3,"click"],["name","add"],_,["alt","empty state background",1,"img-fluid",3,"src"]]},template:function(t,_){1&t&&(e.YNc(0,aa,2,2,"ng-container",0),e.YNc(1,oa,2,2,"ng-container",0),e.YNc(2,ra,16,1,"ng-template",null,1,e.W1O)),2&t&&(e.Q6J("ngIf","list"===_.page),e.xp6(1),e.Q6J("ngIf","create"===_.page))},directives:[ot,st,O.o,o.O5,U.Hq],encapsulation:2}),n})(),Aa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,U.hJ,H.T,O.Q,kn.d8,g.p,ve.BX,ze.tE,Gn.J,qe.b,d.w,D.zk,Fn.j,$e.F,xn.Bj,L.n,W.PQ,Ve.lQ,A.UX,Be.A0,le,x.w]]}),n})();var Sa=l(4707),lt=l(1135),ua=l(9841),de=l(9646),dt=l(3900),Et=l(1543),At=l(8343),ye=l(1884),pa=l(9300),V=l(4004),$=l(262);const Ca=new e.OlP("statusMapping injection token"),ma=new e.OlP("replacementStatusMapping injection token"),ga=new e.OlP("replacementReasonMapping injection token"),Ra=new e.OlP("limitChannelMapping injection token"),St=new e.OlP("coutriesService injection token");function Ma(n){return n.replace(/\s/g,"")}function Da(n,a){return a.hasOwnProperty(n)?a[n]:n}function Na(n="",a){return a.hasOwnProperty(n)?a[n]:{name:n,description:""}}function fa(n,a){return void 0===n?S.NotUnderReplacement:a.hasOwnProperty(n)?a[n]:n}function ba(n,a){return n&&a.hasOwnProperty(n)?a[n]:b.Unlocked}function Ua(n,a){return a.hasOwnProperty(n)?a[n]:n}function Ia(n){return n&&J.hasOwnProperty(n)?J[n]:M.Pending}function Ta(n){return Object.assign({name:n.name,status:Ia(n.status)},n.stepDateTime?{stepDateTime:new Date(n.stepDateTime)}:{})}function va(n){return{transitSteps:n.transitSteps.map(Ta)}}function Ba(n){return new Date(Number(n.year),Number(n.month)-1)}let Oe=(()=>{class n{constructor(t,_,i,r){this.itemToModel=c=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({id:c.id,name:c.holder&&c.holder.name||"",number:Ma(c.maskedNumber),vendor:c.brand,type:c.type,status:Da(c.status,this.statusMapping),replacementStatus:fa(c.replacement&&c.replacement.status,this.replacementStatusMapping),lockStatus:ba(c.lockStatus,this.lockStatusMapping),expirationDate:Ba(c.expiryDate||{year:"",month:""}),cardName:c.name||""},c.delivery?{deliveryStatus:va(c.delivery)}:{}),c.subType?{subType:c.subType}:{}),c.currency?{currency:c.currency}:{}),c.additions?{additions:c.additions}:{}),c.limits?{limits:c.limits.map(f=>Object.assign(Object.assign({},f),{channel:Na(f.channel,this.limitChannelMapping)}))}:{}),this.travelNoticeToModel=(c,f)=>({id:c.id,cards:c.cardIds.map(v=>f.find(F=>F.id===v)).filter(v=>void 0!==v),departureDate:new Date(c.departureDate),arrivalDate:new Date(c.arrivalDate),destinations:c.destinations,contact:c.contact}),this.getLockStatusUpdate=c=>({lockStatus:c===b.Unlocked?"UNLOCKED":"LOCKED"}),this.getReplacementUpdate=c=>({replacementReason:Ua(c,this.replacementReasonMapping)}),this.statusMapping=Object.assign(Object.assign({},E),t),this.replacementStatusMapping=Object.assign(Object.assign({},T),_),this.lockStatusMapping=Object.assign({},u),this.replacementReasonMapping=Object.assign(Object.assign({},Q),i),this.limitChannelMapping=Object.assign(Object.assign({},Z),r)}itemListToModel(t){return(t||[]).map(this.itemToModel)}parseError(t){return Me.fromHttpErrorsResponse(t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Ca,8),e.LFG(ma,8),e.LFG(ga,8),e.LFG(Ra,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),he=(()=>{class n{constructor(t,_){this.cardsDataHttpService=t,this.cardsBackendService=_,this.paymentCardId=new Sa.t(1),this.paymentCard=this.paymentCardId.pipe((0,ye.x)(),(0,pa.h)(i=>void 0!==i),(n=>a=>a.pipe((0,dt.w)(n),(0,Et._)(1),(0,At.x)()))(i=>this.cardsDataHttpService.getCardById({id:i},"response").pipe((0,V.U)(r=>{if(null===r.body)throw new Error("Some error message");return this.cardsBackendService.itemToModel(r.body)}),(0,$.K)(r=>{throw this.cardsBackendService.parseError(r)}))))}getPaymentCardFrom(t){t.subscribe(this.paymentCardId)}getPaymentCard(){return this.paymentCard}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(R.q1),e.LFG(Oe))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const Oa={},Pe=(n,a)=>n&&a&&"object"==typeof n&&typeof n==typeof a?Object.keys(n).length===Object.keys(a).length&&Object.keys(n).every(t=>Pe(n[t],a[t])):n===a;let Ee=(()=>{class n{constructor(t,_,i){this.cardsDataHttpService=t,this.cardsBackendService=_,this.cardsTravelNotice=i,this.getParams=new lt.X(Oa),this.paymentCards=this.getParams.pipe((0,ye.x)(Pe),(n=>a=>a.pipe((0,dt.w)(n),(0,Et._)(1),(0,At.x)()))(r=>this.cardsDataHttpService.getCards(r,"response").pipe((0,V.U)(c=>this.cardsBackendService.itemListToModel(c.body)),(0,$.K)(c=>{throw this.cardsBackendService.parseError(c)})))),this.travelNotice=this.cardsTravelNotice.getTravelNotices("response").pipe((0,ye.x)(Pe),(0,V.U)(r=>null===r.body?[]:r.body),(0,$.K)(r=>{throw this.cardsBackendService.parseError(r)}))}getCards(){return this.paymentCards}setParameters(t){this.getParams.next({types:t})}updateLockStatus(t,_){const i=this.cardsBackendService.getLockStatusUpdate(_);return this.cardsDataHttpService.updateLockStatus({id:t.id,lockStatusPost:i},"response").pipe((0,V.U)(r=>null===r.body?Object.assign(Object.assign({},t),{lockStatus:_}):this.cardsBackendService.itemToModel(r.body)),(0,$.K)(r=>{throw this.cardsBackendService.parseError(r)}))}initiateReplacement(t,_){const i=this.cardsBackendService.getReplacementUpdate(_);return this.cardsDataHttpService.requestReplacement({id:t.id,requestReplacementPost:i},"response").pipe((0,V.U)(r=>null===r.body?Object.assign(Object.assign({},t),{replacementStatus:S.UnderReplacement}):this.cardsBackendService.itemToModel(r.body)),(0,$.K)(r=>{throw this.cardsBackendService.parseError(r)}))}initiateActivation(t,_){return this.cardsDataHttpService.activate({id:t.id,activatePost:{token:_}},"response").pipe((0,V.U)(r=>null===r.body?Object.assign(Object.assign({},t),{status:s.Active}):this.cardsBackendService.itemToModel(r.body)),(0,$.K)(r=>{throw this.cardsBackendService.parseError(r)}))}updateLimit(t,_,i){const r=i?_:_.filter((c,f)=>{var v;return c.amount!==(null===(v=t.limits)||void 0===v?void 0:v[f].amount)});return this.cardsDataHttpService.changeLimits({id:t.id,changeLimitsPostItem:r},"response").pipe((0,V.U)(c=>{const f=t.limits&&t.limits.map((v,F)=>Object.assign(Object.assign({},v),{amount:_[F].amount}));return null===c.body?Object.assign(Object.assign({},t),{limits:f}):this.cardsBackendService.itemToModel(c.body)}),(0,$.K)(c=>{throw this.cardsBackendService.parseError(c)}))}resetPIN(t,_){return this.cardsDataHttpService.resetPin({id:t.id,resetPinPost:_},"response").pipe((0,V.U)(i=>null===i.body?Object.assign({},t):this.cardsBackendService.itemToModel(i.body)),(0,$.K)(i=>{throw this.cardsBackendService.parseError(i)}))}requestPIN(t,_){return this.cardsDataHttpService.requestPin({id:t.id,requestPinPost:_},"response").pipe((0,V.U)(i=>null===i.body?Object.assign({},t):this.cardsBackendService.itemToModel(i.body)),(0,$.K)(i=>{throw this.cardsBackendService.parseError(i)}))}getTravelNotice(){const t=this.paymentCards.pipe((0,V.U)(_=>_.filter(i=>i.status===s.Active)));return(0,ua.a)([t,this.travelNotice]).pipe((0,V.U)(([_,i])=>({travelNoticeList:i.map(r=>this.cardsBackendService.travelNoticeToModel(r,_)),paymentCards:_})))}postTravelNotice(t){const _=De.buildPostCreateTravelNoticeHttpRequest(t);return this.cardsTravelNotice.createTravelNotice(_)}deleteTravelNotice(t){const _=t.id;if(!_)throw new Error("Error no matching id");return this.cardsTravelNotice.deleteTravelNoticeById({id:_},"response")}ngOnDestroy(){this.getParams.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(R.q1),e.LFG(Oe),e.LFG(R.lP))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var Pa=[{code:"ABW",name:"Aruba"},{code:"AFG",name:"Afghanistan"},{code:"AGO",name:"Angola"},{code:"ALB",name:"Albania"},{code:"AND",name:"Andorra"},{code:"ARE",name:"United Arab Emirates"},{code:"ARG",name:"Argentina"},{code:"ARM",name:"Armenia"},{code:"ASM",name:"American Samoa"},{code:"ATG",name:"Antigua and Barbuda"},{code:"AUS",name:"Australia"},{code:"AUT",name:"Austria"},{code:"AZE",name:"Azerbaijan"},{code:"BDI",name:"Burundi"},{code:"BEL",name:"Belgium"},{code:"BEN",name:"Benin"},{code:"BFA",name:"Burkina Faso"},{code:"BGD",name:"Bangladesh"},{code:"BGR",name:"Bulgaria"},{code:"BHR",name:"Bahrain"},{code:"BHS",name:"The Bahamas"},{code:"BIH",name:"Bosnia and Herzegovina"},{code:"BLR",name:"Belarus"},{code:"BLZ",name:"Belize"},{code:"BMU",name:"Bermuda"},{code:"BOL",name:"Bolivia"},{code:"BRA",name:"Brazil"},{code:"BRB",name:"Barbados"},{code:"BRN",name:"Brunei Darussalam"},{code:"BTN",name:"Bhutan"},{code:"BWA",name:"Botswana"},{code:"CAF",name:"Central African Republic"},{code:"CAN",name:"Canada",regions:[{code:"CA-AB",name:"Alberta"},{code:"CA-BC",name:"British Columbia"},{code:"CA-MB",name:"Manitoba"},{code:"CA-NB",name:"New Brunswick"},{code:"CA-NL",name:"Newfoundland and Labrador"},{code:"CA-NS",name:"Nova Scotia"},{code:"CA-ON",name:"Ontario"},{code:"CA-PE",name:"Prince Edward Island"},{code:"CA-QC",name:"Quebec"},{code:"CA-SK",name:"Saskatchewan"},{code:"CA-NT",name:"Northwest Territories"},{code:"CA-NU",name:"Nunavut"},{code:"CA-YT",name:"Yukon"}]},{code:"CHE",name:"Switzerland"},{code:"CHL",name:"Chile"},{code:"CHN",name:"China"},{code:"CIV",name:"Cote d'Ivoire"},{code:"CMR",name:"Cameroon"},{code:"COD",name:"Democratic Republic of Congo"},{code:"COG",name:"Republic of Congo"},{code:"COL",name:"Colombia"},{code:"COM",name:"Comoros"},{code:"CPV",name:"Cabo Verde"},{code:"CRI",name:"Costa Rica"},{code:"CUB",name:"Cuba"},{code:"CUW",name:"Curacao"},{code:"CYM",name:"Cayman Islands"},{code:"CYP",name:"Cyprus"},{code:"CZE",name:"Czech Republic"},{code:"DEU",name:"Germany"},{code:"DJI",name:"Djibouti"},{code:"DMA",name:"Dominica"},{code:"DNK",name:"Denmark"},{code:"DOM",name:"Dominican Republic"},{code:"DZA",name:"Algeria"},{code:"ECU",name:"Ecuador"},{code:"EGY",name:"Egypt"},{code:"ERI",name:"Eritrea"},{code:"ESP",name:"Spain"},{code:"EST",name:"Estonia"},{code:"ETH",name:"Ethiopia"},{code:"FIN",name:"Finland"},{code:"FJI",name:"Fiji"},{code:"FRA",name:"France"},{code:"FRO",name:"Faroe Islands"},{code:"GAB",name:"Gabon"},{code:"GBR",name:"United Kingdom"},{code:"GEO",name:"Georgia"},{code:"GHA",name:"Ghana"},{code:"GIB",name:"Gibraltar"},{code:"GIN",name:"Guinea"},{code:"GMB",name:"The Gambia"},{code:"GNB",name:"Guinea-Bissau"},{code:"GNQ",name:"Equatorial Guinea"},{code:"GRC",name:"Greece"},{code:"GRD",name:"Grenada"},{code:"GRL",name:"Greenland"},{code:"GTM",name:"Guatemala"},{code:"GUM",name:"Guam"},{code:"GUY",name:"Guyana"},{code:"HKG",name:"Hong Kong"},{code:"HND",name:"Honduras"},{code:"HRV",name:"Croatia"},{code:"HTI",name:"Haiti"},{code:"HUN",name:"Hungary"},{code:"IDN",name:"Indonesia"},{code:"IMN",name:"Isle of Man"},{code:"IND",name:"India"},{code:"IRL",name:"Ireland"},{code:"IRN",name:"Islamic Republic of Iran"},{code:"IRQ",name:"Iraq"},{code:"ISL",name:"Iceland"},{code:"ISR",name:"Israel"},{code:"ITA",name:"Italy"},{code:"JAM",name:"Jamaica"},{code:"JOR",name:"Jordan"},{code:"JPN",name:"Japan"},{code:"KAZ",name:"Kazakhstan"},{code:"KEN",name:"Kenya"},{code:"KGZ",name:"Kyrgyz Republic"},{code:"KHM",name:"Cambodia"},{code:"KIR",name:"Kiribati"},{code:"KNA",name:"St. Kitts and Nevis"},{code:"KOR",name:"Republic of Korea"},{code:"KWT",name:"Kuwait"},{code:"LBN",name:"Lebanon"},{code:"LBR",name:"Liberia"},{code:"LKA",name:"Sri Lanka"},{code:"LBY",name:"Libya"},{code:"LCA",name:"St. Lucia"},{code:"LIE",name:"Liechtenstein"},{code:"LSO",name:"Lesotho"},{code:"LTU",name:"Lithuania"},{code:"LUX",name:"Luxembourg"},{code:"LVA",name:"Latvia"},{code:"MAF",name:"St. Martin (French part)"},{code:"MAR",name:"Morocco"},{code:"MCO",name:"Monaco"},{code:"MDA",name:"Moldova"},{code:"MRT",name:"Mauritania"},{code:"MUS",name:"Mauritius"},{code:"MWI",name:"Malawi"},{code:"MYS",name:"Malaysia"},{code:"NAM",name:"Namibia"},{code:"NCL",name:"New Caledonia"},{code:"NER",name:"Niger"},{code:"NGA",name:"Nigeria"},{code:"NIC",name:"Nicaragua"},{code:"NLD",name:"Netherlands"},{code:"NOR",name:"Norway"},{code:"NPL",name:"Nepal"},{code:"NRU",name:"Nauru"},{code:"NZL",name:"New Zealand"},{code:"OMN",name:"Oman"},{code:"PAK",name:"Pakistan"},{code:"PAN",name:"Panama"},{code:"PER",name:"Peru"},{code:"PHL",name:"Philippines"},{code:"PLW",name:"Palau"},{code:"PNG",name:"Papua New Guinea"},{code:"POL",name:"Poland"},{code:"PRI",name:"Puerto Rico"},{code:"PRK",name:"Democratic People's Republic of Korea"},{code:"PRT",name:"Portugal"},{code:"PRY",name:"Paraguay"},{code:"PSE",name:"West Bank and Gaza"},{code:"QAT",name:"Qatar"},{code:"ROU",name:"Romania"},{code:"RUS",name:"Russian Federation"},{code:"RWA",name:"Rwanda"},{code:"SAU",name:"Saudi Arabia"},{code:"SDN",name:"Sudan"},{code:"SEN",name:"Senegal"},{code:"SGP",name:"Singapore"},{code:"SLB",name:"Solomon Islands"},{code:"SLE",name:"Sierra Leone"},{code:"SLV",name:"El Salvador"},{code:"SMR",name:"San Marino"},{code:"SOM",name:"Somalia"},{code:"SRB",name:"Serbia"},{code:"SSD",name:"South Sudan"},{code:"STP",name:"Sao Tome and Principe"},{code:"SUR",name:"Suriname"},{code:"SVK",name:"Slovak Republic"},{code:"SVN",name:"Slovenia"},{code:"SWE",name:"Sweden"},{code:"SWZ",name:"Eswatini"},{code:"SXM",name:"Sint Maarten (Dutch part)"},{code:"SYC",name:"Seychelles"},{code:"SYR",name:"Syrian Arab Republic"},{code:"TCA",name:"Turks and Caicos Islands"},{code:"TCD",name:"Chad"},{code:"TGO",name:"Togo"},{code:"THA",name:"Thailand"},{code:"TJK",name:"Tajikistan"},{code:"TKM",name:"Turkmenistan"},{code:"TLS",name:"Timor-Leste"},{code:"TON",name:"Tonga"},{code:"TTO",name:"Trinidad and Tobago"},{code:"TUN",name:"Tunisia"},{code:"TUR",name:"Turkey"},{code:"TUV",name:"Tuvalu"},{code:"TWN",name:"Taiwan"},{code:"TZA",name:"Tanzania"},{code:"UGA",name:"Uganda"},{code:"UKR",name:"Ukraine"},{code:"URY",name:"Uruguay"},{code:"USA",name:"United States",regions:[{code:"US-AL",name:"Alabama"},{code:"US-AK",name:"Alaska"},{code:"US-AZ",name:"Arizona"},{code:"US-AR",name:"Arkansas"},{code:"US-CA",name:"California"},{code:"US-CO",name:"Colorado"},{code:"US-CT",name:"Connecticut"},{code:"US-DE",name:"Delaware"},{code:"US-FL",name:"Florida"},{code:"US-GA",name:"Georgia"},{code:"US-HI",name:"Hawaii"},{code:"US-ID",name:"Idaho"},{code:"US-IL",name:"Illinois"},{code:"US-IN",name:"Indiana"},{code:"US-IA",name:"Iowa"},{code:"US-KS",name:"Kansas"},{code:"US-KY",name:"Kentucky"},{code:"US-LA",name:"Louisiana"},{code:"US-ME",name:"Maine"},{code:"US-MD",name:"Maryland"},{code:"US-MA",name:"Massachusetts"},{code:"US-MI",name:"Michigan"},{code:"US-MN",name:"Minnesota"},{code:"US-MS",name:"Mississippi"},{code:"US-MO",name:"Missouri"},{code:"US-MT",name:"Montana"},{code:"US-NE",name:"Nebraska"},{code:"US-NV",name:"Nevada"},{code:"US-NH",name:"New Hampshire"},{code:"US-NJ",name:"New Jersey"},{code:"US-NM",name:"New Mexico"},{code:"US-NY",name:"New York"},{code:"US-NC",name:"North Carolina"},{code:"US-ND",name:"North Dakota"},{code:"US-OH",name:"Ohio"},{code:"US-OK",name:"Oklahoma"},{code:"US-OR",name:"Oregon"},{code:"US-PA",name:"Pennsylvania"},{code:"US-RI",name:"Rhode Island"},{code:"US-SC",name:"South Carolina"},{code:"US-SD",name:"South Dakota"},{code:"US-TN",name:"Tennessee"},{code:"US-TX",name:"Texas"},{code:"US-UT",name:"Utah"},{code:"US-VT",name:"Vermont"},{code:"US-VA",name:"Virginia"},{code:"US-WA",name:"Washington"},{code:"US-WV",name:"West Virginia"},{code:"US-WI",name:"Wisconsin"},{code:"US-WY",name:"Wyoming"},{code:"US-DC",name:"District of Columbia"},{code:"US-AS",name:"American Samoa"},{code:"US-GU",name:"Guam"},{code:"US-MP",name:"Northern Mariana Islands"},{code:"US-PR",name:"Puerto Rico"},{code:"US-UM",name:"United States Minor Outlying Islands"},{code:"US-VI",name:"Virgin Islands"}]},{code:"UZB",name:"Uzbekistan"},{code:"VCT",name:"St. Vincent and the Grenadines"},{code:"VEN",name:"Venezuela"},{code:"VGB",name:"British Virgin Islands"},{code:"VNM",name:"Vietnam"},{code:"VUT",name:"Vanuatu"},{code:"WSM",name:"Samoa"},{code:"XKX",name:"Kosovo"},{code:"YEM",name:"Yemen, Rep."},{code:"ZMB",name:"Zambia"},{code:"ZWE",name:"Zimbabwe"},{code:"MEX",name:"Mexico"}];let La=(()=>{class n{getDestinations(){return(0,de.of)(Pa)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Ja=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[he,Oe,Ee,{provide:St,useClass:La}],imports:[[o.ez]]}),n})();var Ka=l(8505),j=l(5357);function Ga(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"bb-card-details-payment-card-controls",3),e.NdJ("updateLockStatus",function(i){return e.CHM(t),e.oxw().onUpdateLockStatus(i)})("initiateReplacement",function(i){return e.CHM(t),e.oxw().onInitiateReplacement(i)})("initiateActivation",function(i){return e.CHM(t),e.oxw().onInitiateActivation(i)})("resetPin",function(i){return e.CHM(t),e.oxw().onResetPin(i)})("requestPin",function(i){return e.CHM(t),e.oxw().onRequestPin(i)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("cardPinLength",t.cardPinLength)("paymentCard",t.paymentCard)("isLockLoading",t.isLockLoading)("isInitiateReplacementLoading",t.isInitiateReplacementLoading)("isInitiateActivationLoading",t.isInitiateActivationLoading)("isResetPinLoading",t.isResetPinLoading)}}function ka(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"bb-payment-card-limits",4),e.NdJ("updateLimit",function(i){return e.CHM(t),e.oxw().onUpdateLimit(i)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("paymentCard",t.paymentCard)("isLimitsLoading",t.isLimitsLoading)}}function xa(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-payment-card",4),e.BQk()),2&n){const t=a.ngIf,_=e.oxw(3);e.xp6(1),e.Q6J("cardPinLength",_.cardPinLength)("paymentCard",t)("notificationTtl",_.notificationTtl)("updateAllLimits",_.updateAllLimits)}}function Fa(n,a){if(1&n&&(e.ynx(0),e.YNc(1,xa,2,4,"ng-container",0),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(2),_=e.MAs(5);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.paymentCard))("ngIfElse",_)}}function Ha(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Fa,3,4,"ng-container",0),e.BQk()),2&n){const t=e.oxw(),_=e.MAs(7);e.xp6(1),e.Q6J("ngIf",!t.errors)("ngIfElse",_)}}function wa(n,a){1&n&&e._UZ(0,"bb-empty-state-ui",5)}function Ya(n,a){1&n&&e._UZ(0,"bb-loading-indicator-ui",6)}function Za(n,a){if(1&n&&e._UZ(0,"bb-payment-card-multiple-error-state",7),2&n){const t=e.oxw();e.Q6J("errors",t.errors)}}function Wa(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-payment-cards-container",3),e.NdJ("selectCard",function(i){return e.CHM(t),e.oxw(2).onSelectCard(i)}),e.qZA(),e.BQk()}if(2&n){const t=a.ngIf,_=e.oxw(2);e.xp6(1),e.Q6J("paymentCards",t)("groupByPaymentCardTypes",_.groupByPaymentCardTypes)("paymentCardTypes",_.paymentCardTypes)("notificationTtl",_.notificationTtl)("updateAllLimits",_.updateAllLimits)}}function Qa(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Wa,2,5,"ng-container",0),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(),_=e.MAs(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.paymentCards))("ngIfElse",_)}}function qa(n,a){1&n&&(e.TgZ(0,"div",4),e._UZ(1,"bb-loading-indicator-ui",5),e.qZA())}function za(n,a){if(1&n&&e._UZ(0,"bb-payment-card-multiple-error-state",6),2&n){const t=e.oxw();e.Q6J("errors",t.errors)}}const $a=["notificationOnCreate"],Va=["notificationOnDelete"];function ja(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-cards-travel-notice-container",5),e.NdJ("createTravelNotice",function(i){return e.CHM(t),e.oxw(2).submitTravelNotice(i)})("remove",function(i){return e.CHM(t),e.oxw(2).onRemoveItem(i)}),e.ALo(2,"async"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("imageUrl",t.emptyStateImage)("travelNoticeList",t.travelNoticeList)("destinationList",e.lcZ(2,4,t.destinationList)||void 0)("paymentCards",t.paymentCards)}}function Xa(n,a){if(1&n&&(e.ynx(0),e.YNc(1,ja,3,6,"ng-container",0),e.BQk()),2&n){const t=e.oxw(),_=e.MAs(2);e.xp6(1),e.Q6J("ngIf",!t.isLoading)("ngIfElse",_)}}function eo(n,a){1&n&&e._UZ(0,"bb-loading-indicator-ui",6)}function to(n,a){if(1&n&&e._UZ(0,"bb-empty-state-ui",7),2&n){const t=e.oxw();e.Q6J("subtitle",null==t.error?null:t.error.message)}}function no(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,8),e.qZA())}function _o(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,9),e.qZA())}let ut=(()=>{class n extends fe{constructor(t,_,i){super(_,i),this.cardsService=t,this.cd=_,this.notificationService=i}ngOnInit(){var t,_,i,r;const c={activationErrorHeader:"Error",activationErrorMessage:"Failed to Activate Card. Unable to proceed, please try again.",activationSuccessHeader:"Card Activated.",lockErrorHeader:"Error",lockErrorMessage:"Card number ending with " + (null === (t = this.paymentCard) || void 0 === t ? void 0 : t.number) + " cannot be locked! Try again later.",lockSuccessHeader:"Card locked",lockSuccessMessage:"Card number ending with " + (null === (_ = this.paymentCard) || void 0 === _ ? void 0 : _.number) + " has been locked.",replacementErrorHeader:"Error",replacementErrorMessage:"Unable to request a card replacement. Try again later.",replacementSuccessHeader:"New card ordered",replacementSuccessMessage:"A new card has been ordered.",requestNewPinSuccessMessage:"New PIN requested",requestPinErrorMessage:"Can't request PIN.  Please try again later.",resetPinSuccessMessage:"PIN successfully reset",resetPinErrorMessage:"Unable to change PIN.  Please try again later.",resetInvalidPinMessage:"Unable to change PIN. New PIN and confirm don't match",unlockErrorHeader:"Error",unlockErrorMessage:"Card number ending with " + (null === (i = this.paymentCard) || void 0 === i ? void 0 : i.number) + " cannot be unlocked! Try again later.",unlockSuccessHeader:"Card unlocked",unlockSuccessMessage:"Card number ending with " + (null === (r = this.paymentCard) || void 0 === r ? void 0 : r.number) + " has been unlocked.",updateLimitErrorHeader:"",updateLimitErrorMessage:"Unable to change card limit",updateLimitSuccessHeader:"Limit changed",updateLimitSuccessMessage:"Card limit changed successfully"};this.localizations=Object.assign({},c)}onUpdateLockStatusSuccess(t){void 0!==this.paymentCard&&(this.paymentCard=t,this.showNotification({header:this.lockStatus===b.Locked?this.localizations.lockSuccessHeader:this.localizations.unlockSuccessHeader,message:this.lockStatus===b.Locked?this.localizations.lockSuccessMessage:this.localizations.unlockSuccessMessage}))}onUpdateLockStatusError(){void 0!==this.paymentCard&&this.showNotification({header:this.lockStatus===b.Locked?this.localizations.lockErrorHeader:this.localizations.unlockErrorHeader,message:this.lockStatus===b.Locked?this.localizations.lockErrorMessage:this.localizations.unlockErrorMessage,modifier:"error"}),this.isLockLoading=!1,this.cd.markForCheck()}onUpdateLockStatusComplete(){this.isLockLoading=!1,this.cd.markForCheck()}onUpdateLockStatus(t){this.lockStatus=t,void 0!==this.paymentCard&&(this.isLockLoading=!0,this.cardsService.updateLockStatus(this.paymentCard,this.lockStatus).subscribe({next:this.onUpdateLockStatusSuccess.bind(this),error:this.onUpdateLockStatusError.bind(this),complete:this.onUpdateLockStatusComplete.bind(this)}))}onInitiateReplacement(t){void 0!==this.paymentCard&&(this.isInitiateReplacementLoading=!0,this.cardsService.initiateReplacement(this.paymentCard,t).subscribe(this.onInitiateReplacementSuccess,this.onInitiateReplacementError,this.onInitiateReplacementComplete))}onInitiateActivation(t){void 0!==this.paymentCard&&(this.isInitiateActivationLoading=!0,this.cardsService.initiateActivation(this.paymentCard,t).subscribe(this.onInitiateActivationSuccess,this.onInitiateActivationError,this.onInitiateActivationComplete))}onUpdateLimit(t){void 0!==this.paymentCard&&(this.isLimitsLoading=!0,this.cardsService.updateLimit(this.paymentCard,t,this.updateAllLimits).subscribe(this.onUpdateLimitSuccess,this.onUpdateLimitError,this.onUpdateLimitComplete))}onResetPin(t){if(void 0!==this.paymentCard){if(this.isResetPinLoading=!0,void 0!==t.raw.pin2&&t.raw.pin!==t.raw.pin2)return this.isResetPinLoading=!1,void this.showNotification({message:this.localizations.resetInvalidPinMessage,modifier:"error"});this.cardsService.resetPIN(this.paymentCard,t.model).subscribe(this.onResetPinSuccess,this.onResetPinError,this.onResetPinComplete)}}onRequestPin(t){void 0!==this.paymentCard&&(this.isResetPinLoading=!0,this.cardsService.requestPIN(this.paymentCard,t.model).subscribe(this.onRequestPinSuccess,this.onRequestPinError,this.onRequestPinComplete))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ee),e.Y36(e.sBO),e.Y36(W.gq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-card"]],features:[e.qOj],decls:3,vars:3,consts:[[3,"paymentCard"],[3,"cardPinLength","paymentCard","isLockLoading","isInitiateReplacementLoading","isInitiateActivationLoading","isResetPinLoading","updateLockStatus","initiateReplacement","initiateActivation","resetPin","requestPin",4,"ngIf"],[3,"paymentCard","isLimitsLoading","updateLimit",4,"ngIf"],[3,"cardPinLength","paymentCard","isLockLoading","isInitiateReplacementLoading","isInitiateActivationLoading","isResetPinLoading","updateLockStatus","initiateReplacement","initiateActivation","resetPin","requestPin"],[3,"paymentCard","isLimitsLoading","updateLimit"]],template:function(t,_){1&t&&(e._UZ(0,"bb-payment-card-summary",0),e.YNc(1,Ga,1,6,"bb-card-details-payment-card-controls",1),e.YNc(2,ka,1,2,"bb-payment-card-limits",2)),2&t&&(e.Q6J("paymentCard",_.paymentCard),e.xp6(1),e.Q6J("ngIf","CANCELED"!==(null==_.paymentCard?null:_.paymentCard.status)),e.xp6(1),e.Q6J("ngIf","ACTIVE"===(null==_.paymentCard?null:_.paymentCard.status)))},directives:[Xe,je,Ye,o.O5],encapsulation:2}),n})(),pt=(()=>{class n{constructor(t,_){this.cardService=t,this.cd=_,this.handleError=i=>(this.errors=i,(0,de.of)(void 0))}ngOnInit(){if(void 0===this.paymentCardId)throw new Error(`"paymentCardId" input is required in "${this.constructor.name}"`);this.cardService.getPaymentCardFrom(this.paymentCardId),this.paymentCard=this.cardService.getPaymentCard().pipe((0,Ka.b)(()=>{this.cd.markForCheck()}),(0,$.K)(this.handleError))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(he),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-card-details-container"]],inputs:{paymentCardId:"paymentCardId",notificationTtl:"notificationTtl",updateAllLimits:"updateAllLimits",cardPinLength:"cardPinLength"},features:[e._Bn([he])],decls:8,vars:4,consts:function(){let a;return a="No Card Selected",[[4,"ngIf","ngIfElse"],["emptyState",""],["loadingState",""],["errorState",""],[3,"cardPinLength","paymentCard","notificationTtl","updateAllLimits"],["title",a],["loaderSize","lg"],[3,"errors"]]},template:function(t,_){if(1&t&&(e.YNc(0,Ha,2,2,"ng-container",0),e.ALo(1,"async"),e.YNc(2,wa,1,0,"ng-template",null,1,e.W1O),e.YNc(4,Ya,1,0,"ng-template",null,2,e.W1O),e.YNc(6,Za,1,1,"ng-template",null,3,e.W1O)),2&t){const i=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,_.paymentCardId))("ngIfElse",i)}},directives:[ut,y.s,g.Q,Te,o.O5],pipes:[o.Ov],encapsulation:2}),n})(),Ct=(()=>{class n{constructor(t){this.route=t,this.paymentCardId=this.route.paramMap.pipe((0,V.U)(_=>_.get("selectedCard")||""))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-card-details"]],inputs:{notificationTtl:"notificationTtl",updateAllLimits:"updateAllLimits",cardPinLength:"cardPinLength"},decls:1,vars:4,consts:[[3,"paymentCardId","notificationTtl","updateAllLimits","cardPinLength"]],template:function(t,_){1&t&&e._UZ(0,"bb-card-details-container",0),2&t&&e.Q6J("paymentCardId",_.paymentCardId)("notificationTtl",_.notificationTtl)("updateAllLimits",_.updateAllLimits)("cardPinLength",_.cardPinLength)},directives:[pt],encapsulation:2}),n})(),ao=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,y.P,g.p,sa,le]]}),n})();const oo=n=>({type:n,heading:n+" "+"cards"});let io=(()=>{class n{constructor(t){this.cardsService=t,this.groupByPaymentCardTypesSubject=new lt.X(void 0),this.selectedCard=new e.vpe,this.handleError=_=>(this.errors=_,(0,de.of)([]))}set groupByPaymentCardTypesValue(t){const _=null==t?void 0:t.split(",").filter(i=>i.length>0);this.groupByPaymentCardTypesSubject.next(_),_&&_.length&&(this.paymentCardTypes=_.map(oo))}ngOnInit(){const t=void 0!==this.paymentCardTypes?this.paymentCardTypes.map(_=>_.type):[];this.cardsService.setParameters(t),this.paymentCards=this.cardsService.getCards().pipe((0,$.K)(this.handleError))}get groupByPaymentCardTypes(){return this.groupByPaymentCardTypesSubject.value}onSelectCard(t){this.selectedCard.emit(t.id)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ee))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-list"]],inputs:{notificationTtl:"notificationTtl",updateAllLimits:"updateAllLimits",paymentCardTypes:"paymentCardTypes",groupByPaymentCardTypesValue:["groupByPaymentCardTypes","groupByPaymentCardTypesValue"]},outputs:{selectedCard:"selectedCard"},features:[e._Bn([Ee])],decls:5,vars:2,consts:function(){let a;return a="Loading cards..",[[4,"ngIf","ngIfElse"],["loadingState",""],["errorState",""],[1,"bb-block",3,"paymentCards","groupByPaymentCardTypes","paymentCardTypes","notificationTtl","updateAllLimits","selectCard"],[1,"card","bb-state-container"],["loaderSize","lg","text",a],[3,"errors"]]},template:function(t,_){if(1&t&&(e.YNc(0,Qa,3,4,"ng-container",0),e.YNc(1,qa,2,0,"ng-template",null,1,e.W1O),e.YNc(3,za,1,1,"ng-template",null,2,e.W1O)),2&t){const i=e.MAs(4);e.Q6J("ngIf",!_.errors)("ngIfElse",i)}},directives:[nt,g.Q,Te,o.O5],pipes:[o.Ov],encapsulation:2}),n})(),ro=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,g.p,le,Ea]]}),n})(),so=(()=>{class n{constructor(t,_,i,r){this.cardsService=t,this.notificationService=_,this.destinationsService=i,this.cd=r,this.isLoading=!0}get imageEmptyStateUrl(){return(0,de.of)(this.emptyStateImage)}get emptyStateImage(){return"./assets/cards-management-journey/travel-notice-empty-state-img.svg"}ngOnInit(){this.loadTravelNotice(),this.destinationList=this.destinationsService&&this.destinationsService.getDestinations().pipe((0,$.K)(t=>(this.error=t,(0,de.of)([]))))}submitTravelNotice(t){this.isLoading=!0,this.cardsService.postTravelNotice(t).subscribe(()=>{this.travelNoticeList&&(this.loadTravelNotice(),this.pushNotification(this.notificationOnCreate,"success"))})}onRemoveItem(t){this.isLoading=!0,this.cardsService.deleteTravelNotice(t).subscribe(()=>{this.travelNoticeList&&(this.loadTravelNotice(),this.pushNotification(this.notificationOnDelete,"success"))})}loadTravelNotice(){this.cardsService.getTravelNotice().pipe((0,$.K)(t=>(this.error=t,(0,de.of)({})))).subscribe(t=>{this.travelNoticeList=t.travelNoticeList,this.paymentCards=t.paymentCards,this.isLoading=!1,this.cd.detectChanges()})}pushNotification(t="",_){this.notificationService.showNotification({header:t,message:"",modifier:_,dismissible:!0,ttl:this.notificationTtl})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ee),e.Y36(W.gq),e.Y36(St),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-travel-notice"]],viewQuery:function(t,_){if(1&t&&(e.Gf($a,7,e.Rgc),e.Gf(Va,7,e.Rgc)),2&t){let i;e.iGM(i=e.CRH())&&(_.notificationOnCreate=i.first),e.iGM(i=e.CRH())&&(_.notificationOnDelete=i.first)}},inputs:{notificationTtl:"notificationTtl"},decls:9,vars:2,consts:function(){let a,t;return a=" Travel notice successfully created! ",t=" Travel notice successfully deleted! ",[[4,"ngIf","ngIfElse"],["loadingState",""],["errorState",""],["notificationOnCreate",""],["notificationOnDelete",""],[3,"imageUrl","travelNoticeList","destinationList","paymentCards","createTravelNotice","remove"],["loaderSize","lg"],["title","","iconModifier","error","iconSize","xxl","iconClasses","text-muted",3,"subtitle"],a,t]},template:function(t,_){if(1&t&&(e.YNc(0,Xa,2,2,"ng-container",0),e.YNc(1,eo,1,0,"ng-template",null,1,e.W1O),e.YNc(3,to,1,1,"ng-template",null,2,e.W1O),e.YNc(5,no,2,0,"ng-template",null,3,e.W1O),e.YNc(7,_o,2,0,"ng-template",null,4,e.W1O)),2&t){const i=e.MAs(4);e.Q6J("ngIf",!_.error)("ngIfElse",i)}},directives:[ct,g.Q,y.s,o.O5],pipes:[o.Ov],encapsulation:2}),n})(),co=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[o.ez,y.P,g.p,le,Aa]]}),n})();var ge=l(5460);function lo(n,a){if(1&n&&(e.TgZ(0,"div",7)(1,"div",8)(2,"div",9),e.GkF(3,10),e.qZA()()()),2&n){e.oxw();const t=e.MAs(8);e.xp6(3),e.Q6J("ngTemplateOutlet",t)}}function Eo(n,a){if(1&n&&e._UZ(0,"bb-card-details",11),2&n){const t=e.oxw();e.Q6J("cardPinLength",t.configService.cardPinLength)("notificationTtl",t.configService.notificationTtl)}}function Ao(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().onNavigateTravelNotice()}),e._UZ(1,"i",6),e.TgZ(2,"span"),e.SDv(3,7),e.qZA()()}}function So(n,a){if(1&n&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10),e.GkF(3,11),e.qZA()()()),2&n){e.oxw();const t=e.MAs(5);e.xp6(3),e.Q6J("ngTemplateOutlet",t)}}function uo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"bb-cards-list",12),e.NdJ("selectedCard",function(i){return e.CHM(t),e.oxw().selectedCard(i)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("notificationTtl",t.configService.notificationTtl)("paymentCardTypes",t.configService.paymentCardTypes)("groupByPaymentCardTypes",t.configService.groupByPaymentCardTypes)}}function po(n,a){if(1&n&&(e.TgZ(0,"div",7)(1,"div",8)(2,"div",9),e.GkF(3,10),e.qZA()()()),2&n){e.oxw();const t=e.MAs(8);e.xp6(3),e.Q6J("ngTemplateOutlet",t)}}function Co(n,a){if(1&n&&e._UZ(0,"bb-cards-travel-notice",11),2&n){const t=e.oxw();e.Q6J("notificationTtl",t.configService.notificationTtl)}}const mt=new e.OlP("CardsManagementJourneyConfiguration injection token"),gt={notificationTtl:5e3,groupByPaymentCardTypes:"",enableTravelNotice:!0,deElevatedHeader:!1,cardPinLength:4,paymentCardTypes:[{type:"Credit",heading:"Credit cards"},{type:"Debit",heading:"Debit cards"}]},Rt=n=>Object.assign(Object.assign({},gt),n||{});let Re=(()=>{class n{constructor(t){this._config=Rt(t)}get defaults(){return gt}get notificationTtl(){return this._config.notificationTtl}get groupByPaymentCardTypes(){return this._config.groupByPaymentCardTypes}get enableTravelNotice(){return this._config.enableTravelNotice}get deElevatedHeader(){return this._config.deElevatedHeader}get paymentCardTypes(){return this._config.paymentCardTypes}get cardPinLength(){return this._config.cardPinLength}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(mt,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),mo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-management-journey"]],features:[e._Bn([Re])],decls:1,vars:0,template:function(t,_){1&t&&e._UZ(0,"router-outlet")},directives:[j.lC],encapsulation:2}),n})(),Mt=(()=>{class n{constructor(t){this.config=t,this._config=Rt(this.config)}canActivate(){return this._config.enableTravelNotice}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(mt,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const go={path:"",component:mo,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:(()=>{class n{constructor(t,_,i){this.router=t,this.route=_,this.configService=i}selectedCard(t){this.router.navigate(["../details",{selectedCard:t}],{relativeTo:this.route})}onNavigateTravelNotice(){this.router.navigate(["../travel-notice"],{relativeTo:this.route})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j.F0),e.Y36(j.gz),e.Y36(Re))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-list-view"]],decls:6,vars:4,consts:function(){let a,t;return a="Manage Cards",t=" Travel Notice ",[[1,"heading-widget","bb-heading-widget",3,"ngClass"],["headingType","h1","headingClasses","bb-heading-widget__heading","heading",a],["class","bb-heading-widget__button btn btn-link",3,"click",4,"ngIf"],["class","container--drag-up container-fluid",4,"ngIf","ngIfElse"],["cardListView",""],[1,"bb-heading-widget__button","btn","btn-link",3,"click"],["aria-hidden","true",1,"bb-icon","bb-icon-flight"],t,[1,"container--drag-up","container-fluid"],[1,"bb-card","bb-card--lg"],[1,"bb-card__body"],[3,"ngTemplateOutlet"],[3,"notificationTtl","paymentCardTypes","groupByPaymentCardTypes","selectedCard"]]},template:function(t,_){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-header-ui",1),e.YNc(2,Ao,4,0,"button",2),e.qZA(),e.YNc(3,So,4,1,"div",3),e.YNc(4,uo,1,3,"ng-template",null,4,e.W1O)),2&t){const i=e.MAs(5);e.Q6J("ngClass",_.configService.deElevatedHeader?"bb-heading-widget bb-heading-widget--de-elevated":"bb-cards-management-journey__heading"),e.xp6(2),e.Q6J("ngIf",_.configService.enableTravelNotice),e.xp6(1),e.Q6J("ngIf",_.configService.deElevatedHeader)("ngIfElse",i)}},directives:[ge.G,io,o.mk,o.O5,o.tP],encapsulation:2}),n})()},{path:"details",component:(()=>{class n{constructor(t,_,i){this.router=t,this.route=_,this.configService=i}onNavigateBack(){this.router.navigate(["../list"],{relativeTo:this.route})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j.F0),e.Y36(j.gz),e.Y36(Re))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-card-details-view"]],decls:9,vars:3,consts:function(){let a,t;return a="Cards Details",t=" Back to Manage cards ",[[1,"heading-widget","bb-heading-widget",3,"ngClass"],["headingType","h1","headingClasses","bb-heading-widget__heading","heading",a],[1,"bb-heading-widget__button","btn","btn-link",3,"click"],["aria-hidden","true",1,"bb-icon","bb-icon-keyboard-backspace"],t,["class","container--drag-up container-fluid",4,"ngIf","ngIfElse"],["cardDetailsView",""],[1,"container--drag-up","container-fluid"],[1,"bb-card","bb-card--lg"],[1,"bb-card__body"],[3,"ngTemplateOutlet"],[3,"cardPinLength","notificationTtl"]]},template:function(t,_){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-header-ui",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return _.onNavigateBack()}),e._UZ(3,"i",3),e.TgZ(4,"span"),e.SDv(5,4),e.qZA()()(),e.YNc(6,lo,4,1,"div",5),e.YNc(7,Eo,1,2,"ng-template",null,6,e.W1O)),2&t){const i=e.MAs(8);e.Q6J("ngClass",_.configService.deElevatedHeader?"bb-heading-widget bb-heading-widget--de-elevated":"bb-cards-management-journey__heading"),e.xp6(6),e.Q6J("ngIf",_.configService.deElevatedHeader)("ngIfElse",i)}},directives:[ge.G,Ct,o.mk,o.O5,o.tP],encapsulation:2}),n})()},{path:"travel-notice",component:(()=>{class n{constructor(t,_,i){this.router=t,this.route=_,this.configService=i}onNavigateBack(){this.router.navigate(["../list"],{relativeTo:this.route})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j.F0),e.Y36(j.gz),e.Y36(Re))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-cards-travel-notice-view"]],decls:9,vars:3,consts:function(){let a,t;return a="Travel Notice",t=" Back to Manage cards ",[[1,"heading-widget","bb-heading-widget",3,"ngClass"],["headingType","h1","headingClasses","bb-heading-widget__heading","heading",a],[1,"bb-heading-widget__button","btn","btn-link",3,"click"],["aria-hidden","true",1,"bb-icon","bb-icon-keyboard-backspace"],t,["class","container--drag-up container-fluid",4,"ngIf","ngIfElse"],["travelNoticeView",""],[1,"container--drag-up","container-fluid"],[1,"bb-card","bb-card--lg"],[1,"bb-card__body"],[3,"ngTemplateOutlet"],[3,"notificationTtl"]]},template:function(t,_){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-header-ui",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return _.onNavigateBack()}),e._UZ(3,"i",3),e.TgZ(4,"span"),e.SDv(5,4),e.qZA()()(),e.YNc(6,po,4,1,"div",5),e.YNc(7,Co,1,1,"ng-template",null,6,e.W1O)),2&t){const i=e.MAs(8);e.Q6J("ngClass",_.configService.deElevatedHeader?"bb-heading-widget bb-heading-widget--de-elevated":"bb-cards-management-journey__heading"),e.xp6(6),e.Q6J("ngIf",_.configService.deElevatedHeader)("ngIfElse",i)}},directives:[ge.G,so,o.mk,o.O5,o.tP],encapsulation:2}),n})(),canActivate:[Mt]}]};let Ro=(()=>{class n{static forRoot(t={route:go}){return{ngModule:n,providers:[(0,j.co)([t.route])]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[Mt,R.q1],imports:[[o.ez,j.Bz,A.UX,ge.O,Ja,ro,ao,co]]}),n})();var Mo=l(570);let Do=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[{provide:R.xT,useExisting:Mo.a6}],imports:[[Ro.forRoot()]]}),n})()},8625:()=>{},4747:(ce,w,l)=>{"use strict";l.d(w,{Le:()=>L,cY:()=>H,kU:()=>Y});var R=l(5e3),o=l(682);const e={segments:4},A=new R.OlP("ACCOUNTS_DISPLAYING_FORMAT_TOKEN");let L=(()=>{class U{constructor(B){this.accountsDisplayingFormat=B}getDefaultFormat(B,O){var p,C;return"cardNumber"===B?this.getCardNumberFormat(O):null!==(C=null===(p=this.accountsDisplayingFormat)||void 0===p?void 0:p[B])&&void 0!==C?C:e}getCardNumberFormat(B){var O;const p=null===(O=this.accountsDisplayingFormat)||void 0===O?void 0:O.cardNumber,C=Object.entries((null==p?void 0:p.cardProviders)||{}).reduce((m,d)=>Object.assign(Object.assign({},m),{[d[0].toLowerCase()]:d[1]}),{});return B&&C[B.toLowerCase()]?C[B.toLowerCase()]:null!=p?p:e}}return U.\u0275fac=function(B){return new(B||U)(R.LFG(A,8))},U.\u0275prov=R.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),Y=(()=>{class U{constructor(B){this.accountsDisplayingFormatService=B}transform(B,O,p){const C=B.toString(),m="object"==typeof O?O:this.accountsDisplayingFormatService.getDefaultFormat(O,p);return(0,o.EX)(C,m.segments)}}return U.\u0275fac=function(B){return new(B||U)(R.Y36(L,16))},U.\u0275pipe=R.Yjl({name:"bbAccountNumber",type:U,pure:!0}),U})(),H=(()=>{class U{}return U.\u0275fac=function(B){return new(B||U)},U.\u0275mod=R.oAB({type:U}),U.\u0275inj=R.cJS({}),U})()},1089:(ce,w,l)=>{"use strict";l.d(w,{A:()=>C,J:()=>m});var R=l(5e3),o=l(3075),e=l(9300),A=l(2722),L=l(9144),Y=l(1135),H=l(7579),U=l(9841),y=l(4619),B=l(9808);function O(d,N){1&d&&R.Hsn(0,0,["*ngIf","!label"])}const p=["*"];let C=(()=>{class d extends L.rA{constructor(g,D){super(g),this.cd=g,this.controlContainer=D,this.indeterminate=!1,this.skip$=new Y.X(!1),this.unsubscribe$=new H.x}ngAfterContentChecked(){this.controlContainer.control&&this.control!==this.controlContainer.control&&(this.control=this.controlContainer.control,this.checkState(this.control.value),(0,U.a)(this.control.valueChanges,this.skip$).pipe((0,e.h)(([g,D])=>!D),(0,A.R)(this.unsubscribe$)).subscribe({next:([g])=>this.checkState(g)}))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}onValueChange(){const g=D=>{Object.keys(D.value).forEach(x=>D.controls[x]instanceof o.cw?g(D.controls[x]):D.controls[x].setValue(this.value))};this.control&&(this.skip$.next(!0),g(this.control),this.skip$.next(!1)),super.onValueChange()}isDisabled(){return!!this.control&&Object.keys(this.control.controls).every(g=>this.control&&this.control.controls&&this.control.controls[g]&&this.control.controls[g].disabled||!1)}checkState(g){const D=M=>{const h=s=>"object"==typeof s&&null!==s?M.call(Object.keys(s).map(S=>s[S]),h):!!s;return s=>M.call(Object.keys(s).map(S=>s[S]),h)},x=D(Array.prototype.every)(g),W=D(Array.prototype.some)(g);this.indeterminate=W&&!x,this.writeValue(x)}}return d.\u0275fac=function(g){return new(g||d)(R.Y36(R.sBO),R.Y36(o.gN))},d.\u0275cmp=R.Xpm({type:d,selectors:[["bb-checkbox-group-ui"]],features:[R._Bn([{provide:o.JU,useExisting:(0,R.Gpc)(()=>d),multi:!0}]),R.qOj],ngContentSelectors:p,decls:2,vars:6,consts:[[3,"label","aria-label","indeterminate","ngModel","disabled","indeterminateChange","ngModelChange","change"],[4,"ngIf"]],template:function(g,D){1&g&&(R.F$t(),R.TgZ(0,"bb-input-checkbox-ui",0),R.NdJ("indeterminateChange",function(W){return D.indeterminate=W})("ngModelChange",function(W){return D.value=W})("change",function(){return D.onValueChange()}),R.YNc(1,O,1,0,"ng-content",1),R.qZA()),2&g&&(R.Q6J("label",D.label)("aria-label",!D.label&&D.ariaLabel||null)("indeterminate",D.indeterminate)("ngModel",D.value)("disabled",D.isDisabled()),R.xp6(1),R.Q6J("ngIf",!D.label))},directives:[y.r,o.JJ,o.On,B.O5],encapsulation:2,changeDetection:0}),d})(),m=(()=>{class d{}return d.\u0275fac=function(g){return new(g||d)},d.\u0275mod=R.oAB({type:d}),d.\u0275inj=R.cJS({imports:[[B.ez,y.b,o.u5,L.$B]]}),d})()},4291:(ce,w,l)=>{"use strict";l.d(w,{F:()=>W,W:()=>x});var R=l(9808),o=l(5e3),e=l(4376),A=l(9287),L=l(3075),Y=l(9144),H=l(4483),U=l(5413),y=l(3203);const B=["inputPhone"];function O(M,h){if(1&M&&(o.TgZ(0,"label",6),o._uU(1),o.qZA()),2&M){const s=o.oxw();o.s9C("for",s.id),o.xp6(1),o.Oqu(s.label)}}function p(M,h){if(1&M&&(o._UZ(0,"i",12),o.ALo(1,"countryFlag"),o._uU(2)),2&M){const s=h.item;o.Q6J("ngClass",o.lcZ(1,2,s.isoCode)),o.xp6(2),o.hij(" ",s.countryCode," ")}}function C(M,h){if(1&M){const s=o.EpF();o.TgZ(0,"bb-search-box-ui",13),o.NdJ("clear",function(){return o.CHM(s),o.oxw(2).onClear()})("valueChange",function(b){return o.CHM(s),o.oxw(2).onFilterChange(b)}),o.qZA(),o.TgZ(1,"div",14),o.SDv(2,15),o.qZA()}if(2&M){const s=o.oxw(2);o.Q6J("showSearch",!0)("showClear",!0)("autofocus",!0)("aria-controls",s.statusId)("aria-expanded",null==s.ngSelect?null:s.ngSelect.isOpen)("aria-owns",null!=s.ngSelect&&s.ngSelect.isOpen?null==s.ngSelect?null:s.ngSelect.dropdownId:null)("aria-activedescendant",null!=s.ngSelect&&s.ngSelect.isOpen?null==s.ngSelect||null==s.ngSelect.itemsList||null==s.ngSelect.itemsList.markedItem?null:s.ngSelect.itemsList.markedItem.htmlId:null),o.xp6(1),o.Q6J("id",s.statusId),o.xp6(1),o.pQV(s.resultCount),o.QtT(2)}}function m(M,h){1&M&&o._UZ(0,"bb-icon-ui",21)}function d(M,h){if(1&M&&(o.TgZ(0,"div",16),o._UZ(1,"i",17),o.ALo(2,"countryFlag"),o.TgZ(3,"span",18),o._uU(4),o.qZA(),o._uU(5,"\xa0 "),o.TgZ(6,"span",19),o._uU(7),o.qZA(),o.YNc(8,m,1,0,"bb-icon-ui",20),o.qZA()),2&M){const s=h.item,S=h.index,b=o.oxw(2);o.xp6(1),o.Q6J("ngClass",o.lcZ(2,4,s.isoCode)),o.xp6(3),o.Oqu(s.countryCode),o.xp6(3),o.Oqu(s.countryName),o.xp6(1),o.Q6J("ngIf",null==b.ngSelect?null:b.ngSelect.itemsList.items[S].selected)}}function N(M,h){if(1&M){const s=o.EpF();o.TgZ(0,"ng-select",7,8),o.NdJ("change",function(b){return o.CHM(s),o.oxw().onChanges(b)})("close",function(){return o.CHM(s),o.oxw().onClose()})("ngModelChange",function(b){return o.CHM(s),o.oxw().defaultCountryCode=b}),o.YNc(2,p,3,4,"ng-template",9),o.YNc(3,C,3,9,"ng-template",10),o.YNc(4,d,9,6,"ng-template",11),o.qZA()}if(2&M){const s=o.oxw();o.Q6J("dropdownPosition",s.dropdownPosition)("clearable",s.clearable)("searchable",s.searchable)("items",s.countryList)("ngModel",s.defaultCountryCode)("searchFn",s.searchFunc)("readonly",s.countryDropdowndisabled),o.uIk("aria-label",s.defaultCountryCode+" "+s.defaultCountryName)}}function g(M,h){if(1&M&&(o.TgZ(0,"div",22)(1,"span"),o.SDv(2,23),o.qZA(),o._uU(3),o.TgZ(4,"span"),o.SDv(5,24),o.qZA(),o._uU(6),o.qZA()),2&M){const s=o.oxw();o.MGl("id","",s.id,"-country-code"),o.xp6(3),o.hij("",s.defaultCountryName," "),o.xp6(3),o.hij("",s.defaultCountryCode," ")}}let D=(()=>{class M{transform(s){return"flag-icon-"+s.toLowerCase()}}return M.\u0275fac=function(s){return new(s||M)},M.\u0275pipe=o.Yjl({name:"countryFlag",type:M,pure:!0}),M})(),x=(()=>{class M extends Y.rA{constructor(s,S,b,E){super(E),this.domAttrService=s,this.elem=S,this.renderer2=b,this.cd=E,this.placeholder="",this.readonly=!1,this.ariaLabel="Phone Input",this.clearable=!1,this.searchable=!1,this.enableCountryCode=!1,this.resultCount=0,this._statusId=this.domAttrService.generateId()}get statusId(){return this._statusId}constructCountryData(){if(this.enableCountryCode&&this.countryList)if(this.countryDropdowndisabled=1===this.countryList.length,this.countryDropdowndisabled)this.defaultCountryCode=this.countryList[0].countryCode,this.defaultCountryName=this.countryList[0].countryName;else{const s=this.countryList.find(S=>S.isoCode===this.defaultCountryIsoCode);this.defaultCountryCode=null==s?void 0:s.countryCode,this.defaultCountryName=null==s?void 0:s.countryName}}ngAfterViewInit(){this.ariaLabel||this.domAttrService.moveAriaAttributes(this.elem.nativeElement,this.inputEl&&this.inputEl.nativeElement,this.renderer2),this.constructCountryData()}onChanges(s){this.defaultCountryName=s.countryName}onClose(){this.ngSelect&&!this.ngSelect.isOpen&&this.ngSelect.constructor.prototype.focus.call(this.ngSelect)}onClear(){this.onFilterChange(void 0)}onFilterChange(s){this.ngSelect&&this.ngSelect.filter(s||""),this.updateResultCount()}updateResultCount(){var s;this.resultCount=(null===(s=this.ngSelect)||void 0===s?void 0:s.itemsList.filteredItems.filter(({children:S})=>!S).length)||0}searchFunc(s,S){return s=s.toLocaleLowerCase(),S.countryCode.toLocaleLowerCase().indexOf(s)>-1||S.countryName.toLocaleLowerCase().indexOf(s)>-1||S.isoCode.toLocaleLowerCase().indexOf(s)>-1}}return M.\u0275fac=function(s){return new(s||M)(o.Y36(H.JE),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO))},M.\u0275cmp=o.Xpm({type:M,selectors:[["bb-input-phone-ui"]],viewQuery:function(s,S){if(1&s&&(o.Gf(B,5),o.Gf(e.w9,5)),2&s){let b;o.iGM(b=o.CRH())&&(S.inputEl=b.first),o.iGM(b=o.CRH())&&(S.ngSelect=b.first)}},inputs:{placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",readonly:"readonly",ariaLabel:"ariaLabel",autocomplete:"autocomplete",countryList:"countryList",dropdownPosition:"dropdownPosition",clearable:"clearable",searchable:"searchable",defaultCountryIsoCode:"defaultCountryIsoCode",enableCountryCode:"enableCountryCode"},features:[o._Bn([{provide:L.JU,useExisting:(0,o.Gpc)(()=>M),multi:!0}]),o.qOj],decls:6,vars:25,consts:function(){let h,s,S,b;return h="Search",s=" " + "\ufffd0\ufffd" + " options ",S="Selected Country is ",b="and code is ",[[3,"for",4,"ngIf"],[1,"bb-phone"],["bindLabel","countryCode","bindValue","countryCode","class","bb-phone-country-code",3,"dropdownPosition","clearable","searchable","items","ngModel","searchFn","readonly","change","close","ngModelChange",4,"ngIf"],["type","tel",1,"form-control",3,"id","ngModel","disabled","readOnly","placeholder","required","bbFocus","ngClass","ngModelChange","blur","focus"],["inputPhone",""],["class","sr-only",3,"id",4,"ngIf"],[3,"for"],["bindLabel","countryCode","bindValue","countryCode",1,"bb-phone-country-code",3,"dropdownPosition","clearable","searchable","items","ngModel","searchFn","readonly","change","close","ngModelChange"],["countryCodeSelector",""],["ng-label-tmp",""],["ng-header-tmp",""],["ng-option-tmp",""],["aria-hidden","true",1,"flag-icon",3,"ngClass"],["placeholder",h,3,"showSearch","showClear","autofocus","aria-controls","aria-expanded","aria-owns","aria-activedescendant","clear","valueChange"],["aria-live","polite","aria-atomic","true","role","status",1,"sr-only",3,"id"],s,[1,"dropdown-option-item"],["aria-hidden","true",1,"flag-icon","col-md-1",3,"ngClass"],[1,"col-md-3","pr-0"],[1,"col-md-6","px-0","dropdown-option-item__country-name"],["class","col-md-2 px-0","name","check","color","color-neutral-dark",4,"ngIf"],["name","check","color","color-neutral-dark",1,"col-md-2","px-0"],[1,"sr-only",3,"id"],S,b]},template:function(s,S){1&s&&(o.YNc(0,O,2,2,"label",0),o.TgZ(1,"div",1),o.YNc(2,N,5,8,"ng-select",2),o.TgZ(3,"input",3,4),o.NdJ("ngModelChange",function(E){return S.onValueChange(E)})("blur",function(){return S.onBlur()})("focus",function(){return S.onFocus()}),o.qZA(),o.YNc(5,g,7,3,"div",5),o.qZA()),2&s&&(o.Q6J("ngIf",S.label),o.xp6(2),o.Q6J("ngIf",S.enableCountryCode),o.xp6(1),o.s9C("id",S.id),o.Q6J("ngModel",S.value)("disabled",S.disabled)("readOnly",S.readonly)("placeholder",S.placeholder)("required",S.required)("bbFocus",S.autofocus)("ngClass",S.inputClassName),o.uIk("aria-autocomplete",S.ariaAutocomplete)("aria-controls",S.ariaControls)("aria-describedby",S.ariaDescribedby?S.ariaDescribedby:S.id+"-country-code")("aria-labelledby",S.ariaLabelledby)("aria-expanded",S.ariaExpanded)("aria-activedescendant",S.ariaActivedescendant)("role",S.role)("aria-invalid",S.ariaInvalid)("aria-owns",S.ariaOwns)("aria-label",!S.label&&S.ariaLabel||null)("maxlength",S.maxLength)("minlength",S.minLength)("size",S.size)("autocomplete",S.autocomplete),o.xp6(2),o.Q6J("ngIf",!S.ariaDescribedby&&S.countryDropdowndisabled))},directives:[e.w9,U.B,A.o,R.O5,L.JJ,L.On,e.mR,R.mk,e.Cm,e.ir,L.Fj,L.Q7,L.nD,L.wO,y.R],pipes:[D],encapsulation:2,changeDetection:0}),M})(),W=(()=>{class M{}return M.\u0275fac=function(s){return new(s||M)},M.\u0275mod=o.oAB({type:M}),M.\u0275inj=o.cJS({imports:[[R.ez,A.Q,L.u5,Y.$B,y.J,e.A0,U.F]]}),M})()},9633:(ce,w,l)=>{"use strict";l.d(w,{So:()=>L,V9:()=>B,nj:()=>O});var R=l(9808),o=l(5e3),e=l(682),A=l(4747);const L={length:16,maskRange:[0,12],segments:4},H=new o.OlP("Enables accounts masking synchronization with backend",{providedIn:"root",factory:()=>!1});let B=(()=>{class p{constructor(m,d){this.accountsDisplayingFormatService=m,this.synchronizeNumberMasking=d,this.defaultFormat=this.accountsDisplayingFormatService.getDefaultFormat("cardNumber")}transform(m,d,N="\u2022"){const g=null!=d?d:this.defaultFormat;let D=m.toString();return d&&!this.synchronizeNumberMasking&&(D=function U(p,C,m="0",d=!0){const N=Math.max(C-p.length,0),g=m.repeat(N);return d?g+p:p+g}(D,d.length,N),D=function y(p,[C,m],d="*"){let N="";if(m<0){const g=p.slice(m);N=d.repeat(p.length-g.length)+g}else{const g=d.repeat(m-C);N=p.substring(0,C)+g+p.substring(m)}return N}(D,d.maskRange,N)),(0,e.EX)(D,g.segments)}}return p.\u0275fac=function(m){return new(m||p)(o.Y36(A.Le,16),o.Y36(H,24))},p.\u0275pipe=o.Yjl({name:"paymentCardNumber",type:p,pure:!0}),p})(),O=(()=>{class p{}return p.\u0275fac=function(m){return new(m||p)},p.\u0275mod=o.oAB({type:p}),p.\u0275inj=o.cJS({imports:[[R.ez]]}),p})()},4265:(ce,w,l)=>{"use strict";l.d(w,{u:()=>O,w:()=>p});var R=l(9808),o=l(5e3),e=l(9633),A=l(4620);let U=(()=>{class C{constructor(){this.className="",this.title=""}ngOnInit(){if("string"!=typeof this.vendor)throw new Error(`"vendor" input is required in "${this.constructor.name}"`)}ngOnChanges(d){this.className=(C=>"string"!=typeof C?"":`bb-card-vendor-${C.trim().toLowerCase().replace(/\W/g,"-").replace(/-{2,}/g,"-")}`)(this.vendor),this.title=(C=>C?C.trim().toLowerCase().replace(/-/g," "):"")(this.vendor)}}return C.\u0275fac=function(d){return new(d||C)},C.\u0275cmp=o.Xpm({type:C,selectors:[["bb-card-vendor-ui"]],inputs:{vendor:"vendor"},features:[o.TTD],decls:1,vars:3,consts:[["role","img",1,"bb-card-vendor",3,"title","ngClass"]],template:function(d,N){1&d&&o._UZ(0,"div",0),2&d&&(o.Q6J("title",N.title)("ngClass",N.className),o.uIk("aria-label",N.title))},directives:[R.mk],encapsulation:2,changeDetection:0}),C})(),y=(()=>{class C{}return C.\u0275fac=function(d){return new(d||C)},C.\u0275mod=o.oAB({type:C}),C.\u0275inj=o.cJS({imports:[[R.ez]]}),C})(),O=(()=>{class C{constructor(){this.paymentCardNumberFormat=e.So}ngOnInit(){if(void 0===this.paymentCard)throw new Error(`"paymentCard" input is required in "${this.constructor.name}"`)}get classNames(){if(this.paymentCard&&this.paymentCard.cardName){const d=this.paymentCard.cardName.toLowerCase().replace(/[^a-zA-Z0-9 ]/g," ").trim().replace(/\s/g,"-").replace(/-{2,}/g,"-");return d?`bb-payment-card-${d}`:void 0}}}return C.\u0275fac=function(d){return new(d||C)},C.\u0275cmp=o.Xpm({type:C,selectors:[["bb-payment-card-ui"]],inputs:{paymentCard:"paymentCard",paymentCardNumberFormat:"paymentCardNumberFormat"},decls:17,vars:12,consts:function(){let m;return m=" VALID THRU ",[[1,"bb-payment-card",3,"ngClass"],[1,"bb-payment-card__container"],[1,"bb-payment-card__logo"],["type","emblem",3,"isInverse"],[1,"bb-payment-card__vendor"],[3,"vendor"],[1,"bb-payment-card__number"],[1,"bb-payment-card__name"],[1,"bb-payment-card__expiration-date"],[1,"bb-payment-card__expiration-date-label"],m,[1,"bb-payment-card__expiration-date-date"]]},template:function(d,N){1&d&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2),o._UZ(3,"bb-logo-ui",3),o.qZA(),o.TgZ(4,"div",4),o._UZ(5,"bb-card-vendor-ui",5),o.qZA(),o.TgZ(6,"div",6),o._uU(7),o.ALo(8,"paymentCardNumber"),o.qZA(),o.TgZ(9,"div",7),o._uU(10),o.qZA(),o.TgZ(11,"div",8)(12,"div",9),o.SDv(13,10),o.qZA(),o.TgZ(14,"span",11),o._uU(15),o.ALo(16,"date"),o.qZA()()()()),2&d&&(o.Q6J("ngClass",N.classNames),o.xp6(3),o.Q6J("isInverse",!0),o.xp6(2),o.Q6J("vendor",null==N.paymentCard?null:N.paymentCard.vendor),o.xp6(2),o.hij(" ",o.xi3(8,6,null==N.paymentCard?null:N.paymentCard.number,N.paymentCardNumberFormat)," "),o.xp6(3),o.hij(" ",null==N.paymentCard?null:N.paymentCard.name," "),o.xp6(5),o.hij(" ",o.xi3(16,9,null==N.paymentCard?null:N.paymentCard.expirationDate,"MM/yy")," "))},directives:[A.R,U,R.mk],pipes:[e.V9,R.uU],encapsulation:2,changeDetection:0}),C})(),p=(()=>{class C{}return C.\u0275fac=function(d){return new(d||C)},C.\u0275mod=o.oAB({type:C}),C.\u0275inj=o.cJS({imports:[[R.ez,A.h,y,e.nj]]}),C})()},3623:(ce,w,l)=>{"use strict";l.d(w,{BX:()=>b,Ml:()=>h,vO:()=>S});var R=l(9808),o=l(5e3),e=l(9287);function A(E,T){1&E&&o.GkF(0)}function L(E,T){1&E&&o._UZ(0,"div",7)}const Y=function(E,T,u){return{$implicit:E,number:T,isLast:u,isChild:!1}};function H(E,T){if(1&E&&(o.ynx(0),o.YNc(1,A,1,0,"ng-container",5),o.YNc(2,L,1,0,"div",6),o.BQk()),2&E){const u=T.$implicit,J=T.last,Q=T.index,Z=o.oxw(),ee=o.MAs(3);o.xp6(1),o.Q6J("ngTemplateOutlet",Z.stepperStepTemplate||ee)("ngTemplateOutletContext",o.kEZ(3,Y,u,Q+1,J)),o.xp6(1),o.Q6J("ngIf",!J)}}function U(E,T){if(1&E&&(o.ynx(0),o._uU(1),o.BQk()),2&E){const u=o.oxw().number;o.xp6(1),o.hij(" ",u," ")}}function y(E,T){1&E&&o.GkF(0)}const B=function(E){return{$implicit:E}};function O(E,T){if(1&E){const u=o.EpF();o.TgZ(0,"a",15),o.NdJ("click",function(){o.CHM(u);const Q=o.oxw(2).$implicit;return o.oxw().onClickHandler(Q.data)}),o.YNc(1,y,1,0,"ng-container",5),o.qZA()}if(2&E){const u=o.oxw(2).$implicit;o.oxw();const J=o.MAs(7);o.xp6(1),o.Q6J("ngTemplateOutlet",J)("ngTemplateOutletContext",o.VKq(2,B,u))}}function p(E,T){1&E&&o.GkF(0)}function C(E,T){if(1&E&&(o.ynx(0),o.YNc(1,p,1,0,"ng-container",5),o.BQk()),2&E){const u=o.oxw(2).$implicit;o.oxw();const J=o.MAs(7);o.xp6(1),o.Q6J("ngTemplateOutlet",J)("ngTemplateOutletContext",o.VKq(2,B,u))}}function m(E,T){if(1&E&&(o.TgZ(0,"div",12),o.YNc(1,O,2,4,"a",13),o.YNc(2,C,2,4,"ng-container",14),o.qZA()),2&E){const u=o.oxw().$implicit;o.ekj("text-support",!u.isActive),o.Q6J("title",u.label),o.xp6(1),o.Q6J("ngIf",u.data&&!u.isCurrent),o.xp6(1),o.Q6J("ngIf",!u.data||u.isCurrent)}}function d(E,T){1&E&&o.GkF(0)}const N=function(E,T){return{$implicit:E,isChild:!0,isLast:T}};function g(E,T){if(1&E&&(o.ynx(0),o.YNc(1,d,1,0,"ng-container",5),o.BQk()),2&E){const u=T.$implicit,J=T.last,Q=o.oxw().isLast;o.oxw();const Z=o.MAs(3);o.xp6(1),o.Q6J("ngTemplateOutlet",Z)("ngTemplateOutletContext",o.WLB(2,N,u,!Q&&J))}}function D(E,T){if(1&E&&(o.TgZ(0,"div",8)(1,"div",9),o.YNc(2,U,2,1,"ng-container",10),o.qZA(),o.YNc(3,m,3,5,"div",11),o.qZA(),o.YNc(4,g,2,5,"ng-container",1)),2&E){const u=T.$implicit,J=T.isLast,Q=T.isChild,Z=o.oxw(),ee=o.MAs(5);o.ekj("bb-step--active",u.isActive)("bb-step--current",u.isCurrent&&(Q||!Z.hasCurrentChildStep(u)))("bb-step--child",Q)("bb-step--last",J)("bb-step--container",null==u.steps?null:u.steps.length),o.uIk("aria-label",u.ariaLabel)("aria-current",u.isActive?"step":null),o.xp6(2),o.Q6J("ngIf",u.isCurrent||!u.isChecked)("ngIfElse",ee),o.xp6(1),o.Q6J("ngIf",u.label),o.xp6(1),o.Q6J("ngForOf",u.steps)}}function x(E,T){1&E&&o._UZ(0,"bb-icon-ui",16)}function W(E,T){if(1&E&&(o.TgZ(0,"span",18),o._uU(1),o.qZA()),2&E){const u=o.oxw().$implicit;o.Q6J("title",u.stateLabel),o.xp6(1),o.Oqu(u.stateLabel)}}function M(E,T){if(1&E&&(o._uU(0),o.YNc(1,W,2,2,"span",17)),2&E){const u=T.$implicit;o.hij(" ",u.label," "),o.xp6(1),o.Q6J("ngIf",!(null!=u.steps&&u.steps.length))}}let h=(()=>{class E{constructor(){this.isCurrent=!1,this.isChecked=!1,this.isActive=!1}ngAfterContentChecked(){var u;this.steps=null===(u=this._steps)||void 0===u?void 0:u.filter(J=>J!==this)}}return E.\u0275fac=function(u){return new(u||E)},E.\u0275cmp=o.Xpm({type:E,selectors:[["bb-stepper-step-ui"]],contentQueries:function(u,J,Q){if(1&u&&o.Suo(Q,E,4),2&u){let Z;o.iGM(Z=o.CRH())&&(J._steps=Z)}},inputs:{label:"label",stateLabel:"stateLabel",data:"data",ariaLabel:"ariaLabel",isCurrent:"isCurrent",isChecked:"isChecked",isActive:"isActive"},decls:0,vars:0,template:function(u,J){},encapsulation:2}),E})(),s=(()=>{class E{constructor(u){this.templateRef=u}}return E.\u0275fac=function(u){return new(u||E)(o.Y36(o.Rgc))},E.\u0275dir=o.lG2({type:E,selectors:[["ng-template","bbCustomStepperStep",""]]}),E})(),S=(()=>{class E{constructor(){this.select=new o.vpe}get currentStep(){return this.steps&&this.steps.find(u=>u.isCurrent)}hasCurrentChildStep({steps:u}){return null==u?void 0:u.find(({isCurrent:J})=>J)}onClickHandler(u){this.select.emit(u)}}return E.\u0275fac=function(u){return new(u||E)},E.\u0275cmp=o.Xpm({type:E,selectors:[["bb-stepper-ui"]],contentQueries:function(u,J,Q){if(1&u&&(o.Suo(Q,s,7,o.Rgc),o.Suo(Q,h,4)),2&u){let Z;o.iGM(Z=o.CRH())&&(J.stepperStepTemplate=Z.first),o.iGM(Z=o.CRH())&&(J.steps=Z)}},outputs:{select:"select"},decls:8,vars:3,consts:[[1,"bb-stepper"],[4,"ngFor","ngForOf"],["defaultStepperStepTemplate",""],["checkIcon",""],["simpleStep",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true","class","bb-stepper__separator",4,"ngIf"],["aria-hidden","true",1,"bb-stepper__separator"],[1,"bb-step"],[1,"bb-step__icon"],[4,"ngIf","ngIfElse"],["class","bb-step__label",3,"title","text-support",4,"ngIf"],[1,"bb-step__label",3,"title"],["href","javascript:void(0)",3,"click",4,"ngIf"],[4,"ngIf"],["href","javascript:void(0)",3,"click"],["name","check","size","sm"],["class","bb-step__state-label",3,"title",4,"ngIf"],[1,"bb-step__state-label",3,"title"]],template:function(u,J){1&u&&(o.TgZ(0,"div",0),o.YNc(1,H,3,7,"ng-container",1),o.qZA(),o.YNc(2,D,5,16,"ng-template",null,2,o.W1O),o.YNc(4,x,1,0,"ng-template",null,3,o.W1O),o.YNc(6,M,2,2,"ng-template",null,4,o.W1O)),2&u&&(o.ekj("bb-stepper__label",null==J.currentStep?null:J.currentStep.label),o.xp6(1),o.Q6J("ngForOf",J.steps))},directives:[e.o,R.sg,R.tP,R.O5],encapsulation:2}),E})(),b=(()=>{class E{}return E.\u0275fac=function(u){return new(u||E)},E.\u0275mod=o.oAB({type:E}),E.\u0275inj=o.cJS({imports:[[R.ez,e.Q]]}),E})()},8451:(ce,w,l)=>{"use strict";l.d(w,{o:()=>O,q:()=>B});var R=l(9808),o=l(3075),e=l(5e3),A=l(9144),L=l(4619);function Y(p,C){if(1&p&&(e.TgZ(0,"label",5),e._uU(1),e.qZA()),2&p){const m=e.oxw();e.uIk("for",m.id),e.xp6(1),e.hij(" ",m.label," ")}}const H=function(p){return{"bb-switch--align-end":p}},U=function(p,C,m){return{"bb-switch__element--checked":p,"bb-switch__element--disabled":C,"bb-switch__element--focused":m}};var y=(()=>{return(p=y||(y={})).left="left",p.right="right",y;var p})();let B=(()=>{class p extends A.rA{constructor(m,d){super(m),this.cd=m,this.el=d,this.labelPosition=y.left,this.keyboardFocus=!1,this.focused=!1}ngOnInit(){super.ngOnInit(),this.role=this.role||"switch"}toggleSwitch(m){var d;if("LABEL"!==(null===(d=m.target)||void 0===d?void 0:d.tagName))if(window.MSInputMethodContext&&document.documentMode){"checkbox"===m.target.type?this.onValueChange():this.onValueChange(!this.value);const g=document.createEvent("Event");g.initEvent("change",!0,!1),this.el.nativeElement.dispatchEvent(g)}else this.onValueChange(!this.value),this.el.nativeElement.dispatchEvent(new Event("change",{bubbles:!0}))}onBlur(m){this.focused=!1,super.onBlur(m)}isLabelLeft(){return this.labelPosition===y.left}isLabelRight(){return this.labelPosition===y.right}}return p.\u0275fac=function(m){return new(m||p)(e.Y36(e.sBO),e.Y36(e.SBq))},p.\u0275cmp=e.Xpm({type:p,selectors:[["bb-switch-ui"]],inputs:{labelPosition:"labelPosition"},features:[e._Bn([{provide:o.JU,multi:!0,useExisting:(0,e.Gpc)(()=>p)}]),e.qOj],decls:5,vars:21,consts:[[1,"bb-switch",3,"ngClass","click"],["class","bb-switch__label",4,"ngIf"],[1,"bb-switch__checkbox","sr-only","sr-only-focusable",3,"id","ngModel","disabled","aria-label","required","aria-describedby","aria-labelledby","aria-expanded","role","aria-invalid","aria-owns","aria-activedescendant","ngModelChange","change","focus","blur"],[1,"bb-switch__element",3,"ngClass","focus","blur"],[1,"bb-switch__slider","slider"],[1,"bb-switch__label"]],template:function(m,d){1&m&&(e.TgZ(0,"div",0),e.NdJ("click",function(g){return!d.disabled&&d.toggleSwitch(g)}),e.YNc(1,Y,2,2,"label",1),e.TgZ(2,"bb-input-checkbox-ui",2),e.NdJ("ngModelChange",function(g){return d.value=g})("change",function(g){return g.stopPropagation()&&!d.disabled&&d.toggleSwitch(g)})("focus",function(){return d.focused=!0})("blur",function(g){return d.onBlur(g)}),e.qZA(),e.TgZ(3,"span",3),e.NdJ("focus",function(){return d.keyboardFocus=!0})("blur",function(){return d.keyboardFocus=!1}),e._UZ(4,"span",4),e.qZA()()),2&m&&(e.Q6J("ngClass",e.VKq(15,H,d.isLabelRight())),e.xp6(1),e.Q6J("ngIf",d.label),e.xp6(1),e.Q6J("id",d.id)("ngModel",d.value)("disabled",d.disabled)("aria-label",d.ariaLabel)("required",d.required)("aria-describedby",d.ariaDescribedby)("aria-labelledby",d.ariaLabelledby)("aria-expanded",d.ariaExpanded)("role",d.role)("aria-invalid",d.ariaInvalid)("aria-owns",d.ariaOwns)("aria-activedescendant",d.ariaActivedescendant),e.xp6(1),e.Q6J("ngClass",e.kEZ(17,U,d.value,d.disabled,d.focused)))},directives:[L.r,R.mk,R.O5,o.JJ,o.On,o.Q7],encapsulation:2,changeDetection:0}),p})(),O=(()=>{class p{}return p.\u0275fac=function(m){return new(m||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[[R.ez,o.u5,L.b]]}),p})()}}]);