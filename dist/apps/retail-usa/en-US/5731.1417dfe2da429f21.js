(self.webpackChunkretail_usa=self.webpackChunkretail_usa||[]).push([[5731],{5943:(fe,X,c)=>{"use strict";c.r(X),c.d(X,{PayBillsJourneyBundleModule:()=>ya});var e=c(5e3),d=c(9808),v=c(5357),S=c(3075),F=c(7656),o=c(6556),C=c(9841),T=c(4004),B=c(7579),O=c(2722),W=c(1135),N=c(5698),U=c(9646),A=c(9300),p=c(3900),f=c(8505),m=c(4782),K=c(262),Ne=c(590),bt=c(1884),Te=c(5684),gt=c(4128),yt=c(9718),Z=(c(7109),c(5460)),Me=c(4899),pe=c(679),Le=c(2908),te=c(8639),me=c(1362),k=c(6888),ee=c(7504),_e=c(7555),oe=c(2658),se=c(194),be=c(9136),re=c(3508),z=c(9287),ie=c(6966),x=c(9565),ge=c(1918),Oe=c(4619),Y=c(7605),le=c(4951),ae=c(5622),V=c(429),ye=c(5556),Bt=c(7933),Be=c(4058),Ie=c(6331),Rt=c(9633),ft=c(1892),ce=c(5893),Nt=c(655),De=c(7287),Ye=c(6746),Je=c(6706);function Mt(_,i){if(1&_&&(e.TgZ(0,"div",12)(1,"div",13)(2,"div"),e.SDv(3,14),e.qZA(),e.TgZ(4,"span",15),e.SDv(5,16),e.qZA()(),e.TgZ(6,"div",17),e._UZ(7,"bb-amount-ui",18),e.qZA()()),2&_){const t=e.oxw();e.xp6(7),e.Q6J("amount",null==t.latestBill||null==t.latestBill.amount?null:t.latestBill.amount.amount)("currency",null==t.latestBill||null==t.latestBill.amount?null:t.latestBill.amount.currencyCode)}}function Lt(_,i){if(1&_&&(e.TgZ(0,"div",12)(1,"div",21)(2,"div"),e.SDv(3,22),e.qZA(),e.TgZ(4,"span",15),e.SDv(5,23),e.qZA()(),e.TgZ(6,"div",17),e._UZ(7,"bb-amount-ui",24),e.qZA()()),2&_){const t=e.oxw(2);e.xp6(7),e.Q6J("amount",null==t.latestBill||null==t.latestBill.outstandingBalance?null:t.latestBill.outstandingBalance.amount)("currency",null==t.latestBill||null==t.latestBill.outstandingBalance?null:t.latestBill.outstandingBalance.currencyCode)}}function Ot(_,i){if(1&_&&(e.TgZ(0,"bb-input-radio-ui",19),e.YNc(1,Lt,8,2,"ng-template",null,20,e.W1O),e.qZA()),2&_){const t=e.MAs(2);e.Q6J("labelTemplate",t)}}function It(_,i){if(1&_&&(e.TgZ(0,"div",12)(1,"div",27)(2,"div"),e.SDv(3,28),e.qZA(),e.TgZ(4,"span",15),e.SDv(5,29),e.qZA()(),e.TgZ(6,"div",17),e._UZ(7,"bb-amount-ui",30),e.qZA()()),2&_){const t=e.oxw(2);e.xp6(7),e.Q6J("amount",null==t.latestBill||null==t.latestBill.minAmountDue?null:t.latestBill.minAmountDue.amount)("currency",null==t.latestBill||null==t.latestBill.minAmountDue?null:t.latestBill.minAmountDue.currencyCode)}}function Dt(_,i){if(1&_&&(e.TgZ(0,"bb-input-radio-ui",25),e.YNc(1,It,8,2,"ng-template",null,26,e.W1O),e.qZA()),2&_){const t=e.MAs(2);e.Q6J("labelTemplate",t)}}function Pt(_,i){if(1&_){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",36)(2,"bb-amount-input-ui",37),e.NdJ("ngModelChange",function(l){return e.CHM(t),e.oxw(2).setCustomAmount(l)})("focusout",function(){return e.CHM(t),e.oxw(2).touched=!0}),e.qZA()(),e.TgZ(3,"bb-input-validation-message-ui",38)(4,"span"),e._uU(5," Field is required. "),e.qZA()(),e.BQk()}if(2&_){const t=e.oxw(2);e.xp6(1),e.ekj("was-validated",t.touched&&!(null!=t.customValue&&t.customValue.amount)),e.xp6(1),e.Q6J("ngModel",null==t.control||null==t.control.value?null:t.control.value.amount)("autoDecimal",!0)("currency",null==t.latestBill||null==t.latestBill.amount?null:t.latestBill.amount.currencyCode)("required",!0)("aria-describedby","compact-amount-error-message"+t.id)("placeholder","0.00"),e.xp6(1),e.s9C("id","compact-amount-error-message"+t.id),e.Q6J("showErrors",t.touched&&!(null!=t.customValue&&t.customValue.amount))}}function Ct(_,i){if(1&_&&(e.TgZ(0,"div",31)(1,"div",32),e.SDv(2,33),e.qZA(),e.TgZ(3,"span",15),e.SDv(4,34),e.qZA(),e.YNc(5,Pt,6,10,"ng-container",35),e.qZA()),2&_){const t=e.oxw();e.xp6(5),e.Q6J("ngIf","Custom"===(null==t.control||null==t.control.value?null:t.control.value.type))}}function ht(_,i){1&_&&(e.TgZ(0,"p",39),e.SDv(1,40),e.qZA())}function Ut(_,i){if(1&_&&(e.ynx(0),e._uU(1),e.BQk()),2&_){const t=e.oxw();e.xp6(1),e.hij("",t.frequencyLabel,",")}}function vt(_,i){if(1&_&&(e.TgZ(0,"span"),e.SDv(1,3),e.qZA()),2&_){const t=e.oxw();e.xp6(1),e.pQV(null==t.item?null:t.item.frequency),e.QtT(1)}}function Tt(_,i){1&_&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,4),e.qZA(),e.BQk())}function Yt(_,i){1&_&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,5),e.qZA(),e.BQk())}function Jt(_,i){if(1&_&&(e.ynx(0),e._uU(1,"\u201a "),e.TgZ(2,"span"),e.SDv(3,6),e.ALo(4,"date"),e.qZA(),e.BQk()),2&_){const t=e.oxw();e.xp6(4),e.pQV(e.xi3(4,1,t.endDate,"mediumDate")),e.QtT(3)}}function Gt(_,i){if(1&_&&(e.ynx(0),e._uU(1,"\u201a "),e.TgZ(2,"span"),e.SDv(3,7),e.qZA(),e.BQk()),2&_){const t=e.oxw();e.xp6(3),e.pQV(null==t.item?null:t.item.repeat)(null==t.item?null:t.item.repeat),e.QtT(3)}}function Ft(_,i){if(1&_&&e._UZ(0,"bb-dropdown-single-select-option-ui",29),2&_){const t=i.$implicit;e.Q6J("value",t.value)("label",t.name)}}function Kt(_,i){if(1&_&&(e.TgZ(0,"div",24)(1,"label",25),e.SDv(2,26),e.qZA(),e.TgZ(3,"bb-dropdown-single-select-ui",27),e.YNc(4,Ft,1,2,"bb-dropdown-single-select-option-ui",28),e.qZA()()),2&_){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.frequencies)}}function xt(_,i){if(1&_&&(e.TgZ(0,"span"),e.SDv(1,37),e.ALo(2,"currency"),e.qZA()),2&_){const t=e.oxw(2).$implicit;e.xp6(2),e.pQV(e.Dn7(2,1,t.service.fee.amount,t.service.fee.currencyCode,"symbol-narrow")),e.QtT(1)}}function wt(_,i){if(1&_&&(e.TgZ(0,"div",32)(1,"div")(2,"span",33),e.SDv(3,34),e.qZA(),e.YNc(4,xt,3,5,"span",17),e.qZA(),e.TgZ(5,"div",35),e.SDv(6,36),e.ALo(7,"date"),e.qZA()()),2&_){const t=e.oxw().$implicit,n=e.oxw();e.xp6(3),e.pQV(t.service.paymentServiceType),e.QtT(3),e.xp6(1),e.Q6J("ngIf",t.service.paymentServiceType===n.paymentServicesTypes.Expedited||t.service.paymentServiceType===n.paymentServicesTypes.Overnight),e.xp6(3),e.pQV(e.xi3(7,3,n.getEstimatedStartDate(t.service.paymentServiceType),"longDate")),e.QtT(6)}}function Zt(_,i){1&_&&(e.TgZ(0,"span",46),e.SDv(1,47),e.qZA())}function kt(_,i){1&_&&(e.TgZ(0,"span",48),e.SDv(1,49),e.qZA())}function Ht(_,i){1&_&&(e.TgZ(0,"span",50),e.SDv(1,51),e.qZA())}function Wt(_,i){if(1&_&&(e.TgZ(0,"div",38)(1,"span",39),e.SDv(2,40),e.qZA(),e.TgZ(3,"span",11)(4,"bb-input-datepicker-ui",41),e.NdJ("click",function(n){return n.preventDefault()}),e.qZA(),e.TgZ(5,"bb-input-validation-message-ui",42),e.YNc(6,Zt,2,0,"span",43),e.YNc(7,kt,2,0,"span",44),e.YNc(8,Ht,2,0,"span",45),e.qZA()()()),2&_){const t=e.oxw(2);let n,l,a,s;e.xp6(1),e.MGl("id","billpay-schedule-other-date-",t.id,""),e.xp6(3),e.MGl("aria-labelledby","billpay-schedule-other-date-",t.id,""),e.Q6J("minDate",t.minDate)("datepickerDescribedby","billpay-schedule-other-date-describe-{{ id }}"),e.xp6(1),e.MGl("id","'billpay-schedule-other-date-describe-",t.id,"'"),e.Q6J("showErrors",(null==t.scheduleForm||null==(n=t.scheduleForm.get("startDate"))?null:n.invalid)&&t.formSubmitted),e.xp6(1),e.Q6J("ngIf",null==t.scheduleForm||null==(l=t.scheduleForm.get("startDate"))||null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.scheduleForm||null==(a=t.scheduleForm.get("startDate"))||null==a.errors?null:a.errors.pastDate),e.xp6(1),e.Q6J("ngIf",null==t.scheduleForm||null==(s=t.scheduleForm.get("startDate"))||null==s.errors?null:s.errors.invalidDateFormat)}}function qt(_,i){if(1&_&&(e.TgZ(0,"bb-input-radio-ui",14),e.YNc(1,wt,8,6,"ng-template",null,30,e.W1O),e.YNc(3,Wt,9,9,"ng-template",null,31,e.W1O),e.qZA()),2&_){const t=i.$implicit,n=e.MAs(2),l=e.MAs(4);e.Q6J("value",t)("labelTemplate","OTHER"!==t.index?n:l)}}function $t(_,i){if(1&_&&(e.TgZ(0,"span",57),e._uU(1," Start on "),e.qZA()),2&_){const t=e.oxw(2);e.MGl("id","billpay-schedule-start-date-",t.id,"")}}function Qt(_,i){1&_&&(e.TgZ(0,"span",46),e.SDv(1,58),e.qZA())}function zt(_,i){1&_&&(e.TgZ(0,"span",48),e.SDv(1,59),e.qZA())}function Vt(_,i){1&_&&(e.TgZ(0,"span",50),e.SDv(1,60),e.qZA())}function jt(_,i){if(1&_&&(e.TgZ(0,"div",52)(1,"label",53),e.YNc(2,$t,2,1,"span",54),e.qZA(),e.TgZ(3,"div",55),e._UZ(4,"bb-input-datepicker-ui",56),e.qZA(),e.TgZ(5,"bb-input-validation-message-ui",42),e.YNc(6,Qt,2,0,"span",43),e.YNc(7,zt,2,0,"span",44),e.YNc(8,Vt,2,0,"span",45),e.qZA()()),2&_){const t=e.oxw();let n,l,a,s;e.xp6(1),e.s9C("id",t.startDateLabelId),e.xp6(1),e.Q6J("ngIf",!0),e.xp6(2),e.MGl("aria-labelledby","billpay-schedule-start-date-",t.id,""),e.Q6J("aria-labelledby",t.startDateLabelId)("minDate",t.minDate)("datepickerDescribedby","billpay-schedule-start-date-error-{{ id }}"),e.xp6(1),e.MGl("id","'billpay-schedule-start-date-error-",t.id,"'"),e.Q6J("showErrors",(null==t.scheduleForm||null==(n=t.scheduleForm.get("startDate"))?null:n.invalid)&&t.formSubmitted),e.xp6(1),e.Q6J("ngIf",null==t.scheduleForm||null==(l=t.scheduleForm.get("startDate"))||null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("ngIf",(null==t.scheduleForm||null==(a=t.scheduleForm.get("startDate"))||null==a.errors?null:a.errors.pastDate)||(null==t.scheduleForm||null==(a=t.scheduleForm.get("startDate"))||null==a.errors?null:a.errors.dateLessThanMinDate)),e.xp6(1),e.Q6J("ngIf",null==t.scheduleForm||null==(s=t.scheduleForm.get("startDate"))||null==s.errors?null:s.errors.invalidDateFormat)}}function Xt(_,i){1&_&&(e.TgZ(0,"span",69),e.SDv(1,70),e.qZA())}function e_(_,i){1&_&&(e.TgZ(0,"span",71),e.SDv(1,72),e.qZA())}function t_(_,i){1&_&&(e.TgZ(0,"span",73),e.SDv(1,74),e.qZA())}function __(_,i){if(1&_&&(e.TgZ(0,"bb-input-validation-message-ui",65),e.YNc(1,Xt,2,0,"span",66),e.YNc(2,e_,2,0,"span",67),e.YNc(3,t_,2,0,"span",68),e.qZA()),2&_){const t=i.ngIf,n=e.oxw(2);e.Q6J("showErrors",(null==t?null:t.invalid)&&n.formSubmitted),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.errors?null:t.errors.pastDate)||(null==t||null==t.errors?null:t.errors.dateLessThanMinDate)),e.xp6(1),e.Q6J("ngIf",null==t||null==t.errors?null:t.errors.invalidDateFormat),e.xp6(1),e.Q6J("ngIf",null==t||null==t.errors?null:t.errors.required)}}function n_(_,i){if(1&_&&(e.TgZ(0,"div",38)(1,"span",61),e.SDv(2,62),e.qZA(),e.TgZ(3,"div",11),e._UZ(4,"bb-input-datepicker-ui",63),e.YNc(5,__,4,4,"bb-input-validation-message-ui",64),e.qZA()()),2&_){const t=e.oxw();let n;e.xp6(1),e.MGl("id","billpay-schedule-end-date-on-",t.id,""),e.xp6(3),e.MGl("aria-labelledby","billpay-schedule-end-date-on-",t.id,""),e.Q6J("minDate",null==t.scheduleForm||null==(n=t.scheduleForm.get("startDate"))?null:n.value),e.xp6(1),e.Q6J("ngIf",null==t.scheduleForm?null:t.scheduleForm.get("endDate"))}}function i_(_,i){if(1&_&&(e.TgZ(0,"div",38)(1,"span",75),e.SDv(2,76),e.qZA(),e.TgZ(3,"div",11)(4,"div",38)(5,"div",77),e._UZ(6,"bb-input-number-ui",78),e.qZA(),e.TgZ(7,"span",11),e._uU(8," Occurrences "),e.qZA()()()()),2&_){const t=e.oxw();e.xp6(6),e.Q6J("min",t.minOccurs)("max",t.maxOccurs)}}function l_(_,i){if(1&_&&(e.TgZ(0,"span",82)(1,"span"),e.SDv(2,83),e.ALo(3,"date"),e.qZA()()),2&_){const t=e.oxw(2);e.xp6(3),e.pQV(e.xi3(3,1,t.getEstimatedEndDate(),"longDate")),e.QtT(2)}}function a_(_,i){if(1&_&&(e.TgZ(0,"span",84),e.ynx(1),e.SDv(2,85),e.BQk(),e.qZA()),2&_){const t=e.oxw(2);e.xp6(2),e.pQV(t.getEstimatedOccurs())(t.getEstimatedOccurs()),e.QtT(2)}}function o_(_,i){if(1&_&&(e.TgZ(0,"div")(1,"bb-alert-ui",79),e.YNc(2,l_,4,4,"span",80),e.YNc(3,a_,3,2,"span",81),e.qZA()()),2&_){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",(null==t.item?null:t.item.endType)===t.endTypes.After),e.xp6(1),e.Q6J("ngIf",(null==t.item?null:t.item.endType)===t.endTypes.On)}}const s_=["fromAccount"];function r_(_,i){if(1&_&&(e.TgZ(0,"bb-header-ui",16),e.DtL(1,17),e.qZA()),2&_){const t=i.ngIf;e.pQV(t.nickName&&t.nickName+" ("+t.name+")"||t.name),e.QtT(1)}}function c_(_,i){if(1&_&&(e.ynx(0),e.TgZ(1,"div",14),e.YNc(2,r_,2,1,"bb-header-ui",15),e.ALo(3,"async"),e.qZA(),e.BQk()),2&_){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",e.lcZ(3,1,t.selectedPayee$))}}function E_(_,i){1&_&&e.GkF(0)}function u_(_,i){1&_&&e.GkF(0)}function d_(_,i){1&_&&e.GkF(0)}function A_(_,i){1&_&&e.GkF(0)}function S_(_,i){if(1&_&&e._UZ(0,"bb-product-item-basic-account-ui",30),2&_){const t=e.oxw().ngIf,n=e.oxw(2);e.Q6J("title",t.accountNickName)("productNumber",t.accountNumber)("productNumberFormat",n.accountNumberFormatConfig)("amount",null==t.accountBalance?null:t.accountBalance.amount)("currency",null==t.accountBalance?null:t.accountBalance.currencyCode)("highlight",!1)("active",!1)}}function p_(_,i){1&_&&(e.TgZ(0,"div",31),e.SDv(1,32),e.qZA())}function m_(_,i){if(1&_&&(e.ynx(0,27),e.YNc(1,S_,1,7,"bb-product-item-basic-account-ui",28),e.YNc(2,p_,2,0,"div",29),e.BQk()),2&_){const t=i.ngIf;e.xp6(1),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("ngIf",!t)}}function b_(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"button",33,34),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).selectAccount(a)}),e._UZ(2,"bb-product-item-basic-account-ui",35),e.qZA()}if(2&_){const t=i.$implicit,n=e.oxw(2);e.Q6J("block",!0),e.xp6(2),e.Q6J("title",t.accountNickName)("productNumber",t.accountNumber)("productNumberFormat",n.accountNumberFormatConfig)("amount",null==t.accountBalance?null:t.accountBalance.amount)("currency",null==t.accountBalance?null:t.accountBalance.currencyCode)("highlight",!1)("active",!1)}}function g_(_,i){1&_&&(e.TgZ(0,"span",36),e.SDv(1,37),e.qZA())}function y_(_,i){if(1&_&&(e.TgZ(0,"bb-fieldset-ui",18)(1,"label",19),e.SDv(2,20),e.qZA(),e.TgZ(3,"bb-product-selector-ui",null,21),e.YNc(5,m_,3,2,"ng-container",22),e.ALo(6,"async"),e.ynx(7,23),e.YNc(8,b_,3,8,"button",24),e.BQk(),e.qZA(),e.TgZ(9,"bb-input-validation-message-ui",25),e.YNc(10,g_,2,0,"span",26),e.qZA()()),2&_){const t=e.oxw();let n;e.xp6(5),e.Q6J("ngIf",e.lcZ(6,4,t.selectedAccount$)),e.xp6(3),e.Q6J("ngForOf",t.accounts),e.xp6(1),e.Q6J("showErrors",t.isInvalidControl(null==t.paymentForm?null:t.paymentForm.get("accountFrom"))),e.xp6(1),e.Q6J("ngIf",!(null!=t.paymentForm&&null!=(n=t.paymentForm.get("accountFrom"))&&null!=n.errors&&n.errors.notEmptyObject))}}function B_(_,i){if(1&_&&(e.TgZ(0,"div")(1,"span",49),e._uU(2),e.qZA()()),2&_){const t=i.mainSectionTitle;e.xp6(2),e.Oqu(t)}}function R_(_,i){if(1&_&&(e.TgZ(0,"bb-product-item-current-account-ui",47),e.YNc(1,B_,3,1,"ng-template",48),e.qZA()),2&_){const t=e.oxw().ngIf;e.Q6J("title",t.nickName||t.name)("mainSectionTitle",t.nickName&&t.name||"")("highlight",!1)("active",!1)}}function f_(_,i){if(1&_&&(e.ynx(0),e.YNc(1,R_,2,4,"bb-product-item-current-account-ui",46),e.BQk()),2&_){const t=i.ngIf;e.xp6(1),e.Q6J("ngIf",t)}}function N_(_,i){1&_&&(e.TgZ(0,"div",50),e.SDv(1,51),e.qZA())}function M_(_,i){if(1&_&&(e.TgZ(0,"div")(1,"span",49),e._uU(2),e.qZA()()),2&_){const t=i.mainSectionTitle;e.xp6(2),e.hij(" ",t," ")}}function L_(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"button",52,34),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(3).selectPayee(a)}),e.TgZ(2,"bb-product-item-current-account-ui",53),e.YNc(3,M_,3,1,"ng-template",48),e.qZA()()}if(2&_){const t=i.$implicit;e.Q6J("block",!0),e.xp6(2),e.Q6J("title",t.nickName||t.name)("mainSectionTitle",t.nickName&&t.name||"")("highlight",!1)("active",!1)}}function O_(_,i){1&_&&(e.TgZ(0,"span",54),e.SDv(1,55),e.qZA())}function I_(_,i){if(1&_&&(e.TgZ(0,"bb-fieldset-ui",39)(1,"label",40),e.SDv(2,41),e.qZA(),e.TgZ(3,"bb-product-selector-ui"),e.ynx(4,27),e.YNc(5,f_,2,1,"ng-container",42),e.ALo(6,"async"),e.YNc(7,N_,2,0,"ng-template",null,43,e.W1O),e.BQk(),e.ynx(9,23),e.YNc(10,L_,4,5,"button",44),e.BQk(),e.qZA(),e.TgZ(11,"bb-input-validation-message-ui",25),e.YNc(12,O_,2,0,"span",45),e.qZA()()),2&_){const t=e.MAs(8),n=e.oxw(2);let l;e.xp6(5),e.Q6J("ngIf",e.lcZ(6,5,n.selectedPayee$))("ngIfElse",t),e.xp6(5),e.Q6J("ngForOf",n.payeeSummaries),e.xp6(1),e.Q6J("showErrors",n.isInvalidControl(null==n.paymentForm?null:n.paymentForm.get("payeeTo"))),e.xp6(1),e.Q6J("ngIf",!(null!=n.paymentForm&&null!=(l=n.paymentForm.get("payeeTo"))&&null!=l.errors&&l.errors.notEmptyObject))}}function D_(_,i){if(1&_&&e.YNc(0,I_,13,7,"bb-fieldset-ui",38),2&_){const t=e.oxw();e.Q6J("ngIf",!t.isEditPayment)}}function P_(_,i){if(1&_&&(e.TgZ(0,"span",73),e.SDv(1,74),e.qZA()),2&_){const t=e.oxw(3);let n;e.xp6(1),e.pQV(null==t.paymentForm||null==(n=t.paymentForm.get("amount"))||null==n.value?null:n.value.type),e.QtT(1)}}function C_(_,i){if(1&_&&(e.TgZ(0,"div",75),e._UZ(1,"bb-billpay-ebill-payment",76),e.qZA()),2&_){const t=e.oxw(3);e.xp6(1),e.Q6J("control",t.amountGroup)("eBillDefaultCurrency",t.paymentDefaultCurrency)("latestBill",null==t.ebillSummary?null:t.ebillSummary.latestBill)("isSubmitted",t.formSubmitted)}}function h_(_,i){1&_&&(e.TgZ(0,"span",83),e.SDv(1,84),e.qZA())}function U_(_,i){if(1&_&&(e.TgZ(0,"div",77)(1,"label",78),e.SDv(2,79),e.qZA(),e.TgZ(3,"div",69),e._UZ(4,"bb-amount-input-ui",80),e.ALo(5,"async"),e.qZA(),e.TgZ(6,"bb-input-validation-message-ui",81),e.YNc(7,h_,2,0,"span",82),e.qZA()()),2&_){const t=e.oxw(3);let n,l;e.Q6J("formGroup",t.amountGroup),e.xp6(1),e.s9C("for","billpay-amount-input-"+t.id),e.xp6(3),e.s9C("aria-describedby","billpay-amount-errors-"+t.id),e.Q6J("id","billpay-amount-input-"+t.id)("autoDecimal",!0)("currency",(null==(n=e.lcZ(5,9,t.selectedAccount$))||null==n.accountBalance?null:n.accountBalance.currencyCode)||t.defaultAmount.currency),e.xp6(2),e.s9C("id","billpay-amount-errors-"+t.id),e.Q6J("showErrors",t.isInvalidControl(null==t.paymentForm?null:t.paymentForm.get("amount"))),e.xp6(1),e.Q6J("ngIf",!(null!=t.paymentForm&&null!=(l=t.paymentForm.get("amount"))&&null!=l.errors&&l.errors.amountInvalid))}}function v_(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"div",88)(1,"button",89),e.NdJ("click",function(){return e.CHM(t).toggle()}),e.TgZ(2,"div",90)(3,"div",59)(4,"span",91),e.SDv(5,92),e.qZA(),e.TgZ(6,"span",73),e._UZ(7,"bb-schedule-label-ui",93),e.qZA()()(),e._UZ(8,"bb-icon-ui",94),e.qZA()()}if(2&_){const t=i.isOpen,n=e.oxw(4);e.xp6(7),e.Q6J("item",n.scheduleLabelData)("frequencies",n.frequencies)("minOccurrences",n.minOccurs)("isSingleTransfer",n.schedule.frequency===n.frequencyKeys.Once),e.xp6(1),e.Q6J("name",t?"toggle-up":"toggle-down")}}function T_(_,i){if(1&_&&(e._UZ(0,"bb-schedule-ui",95),e.ALo(1,"async"),e.ALo(2,"async")),2&_){const t=e.oxw(4);let n;e.Q6J("scheduleForm",t.paymentForm.get("schedule"))("paymentServices",null==(n=e.lcZ(1,8,t.selectedPayee$))?null:n.paymentServices)("defaultPaymentServiceType",t.defaultPaymentServiceType)("frequencies",t.frequencies)("minOccurs",t.minOccurs)("maxOccurs",t.maxOccurs)("minDate",e.lcZ(2,10,t.minDate$))("formSubmitted",t.formSubmitted)}}function Y_(_,i){1&_&&(e.TgZ(0,"bb-collapsible-ui",85),e.YNc(1,v_,9,5,"ng-template",86),e.YNc(2,T_,3,12,"ng-template",87),e.qZA()),2&_&&e.Q6J("isOpen",!0)}function J_(_,i){1&_&&(e.TgZ(0,"span",104),e.SDv(1,105),e.qZA())}function G_(_,i){1&_&&(e.TgZ(0,"span",106),e.SDv(1,107),e.qZA())}function F_(_,i){1&_&&(e.TgZ(0,"span",108),e.SDv(1,109),e.qZA())}function K_(_,i){if(1&_&&(e.TgZ(0,"div",77)(1,"label",96)(2,"span",97),e.SDv(3,98),e.qZA(),e.TgZ(4,"div"),e._UZ(5,"bb-input-datepicker-ui",99),e.ALo(6,"async"),e.qZA(),e.TgZ(7,"bb-input-validation-message-ui",100),e.YNc(8,J_,2,0,"span",101),e.YNc(9,G_,2,0,"span",102),e.YNc(10,F_,2,0,"span",103),e.qZA()()()),2&_){const t=e.oxw(4);let n,l,a,s;e.Q6J("formGroup",t.paymentForm.get("schedule")),e.xp6(2),e.MGl("id","billpay-schedule-end-date-on-",t.id,""),e.xp6(3),e.MGl("aria-labelledby","billpay-schedule-end-date-on-",t.id,"")("datepickerDescribedby","billpay-schedule-end-date-on-error-",t.id,""),e.Q6J("minDate",e.lcZ(6,10,t.minDate$)),e.xp6(2),e.MGl("id","billpay-schedule-end-date-on-error-",t.id,""),e.Q6J("showErrors",(null==(n=t.paymentForm.get("schedule.startDate"))?null:n.invalid)&&t.formSubmitted),e.xp6(1),e.Q6J("ngIf",null==(l=t.paymentForm.get("schedule.startDate"))?null:l.hasError("required")),e.xp6(1),e.Q6J("ngIf",(null==(a=t.paymentForm.get("schedule.startDate"))?null:a.hasError("pastDate"))||(null==(a=t.paymentForm.get("schedule.startDate"))?null:a.hasError("dateLessThanMinDate"))),e.xp6(1),e.Q6J("ngIf",null==t.paymentForm||null==(s=t.paymentForm.get("schedule.startDate"))?null:s.hasError("invalidDateFormat"))}}function x_(_,i){if(1&_&&(e.YNc(0,K_,11,12,"div",63),e.ALo(1,"async")),2&_){const t=e.oxw(3);e.Q6J("ngIf",e.lcZ(1,1,t.selectedPayee$))}}function w_(_,i){if(1&_&&(e.TgZ(0,"fieldset",57)(1,"legend",58)(2,"div",59)(3,"span"),e.SDv(4,60),e.qZA(),e.YNc(5,P_,2,1,"span",61),e.qZA()(),e.YNc(6,C_,2,4,"div",62),e.YNc(7,U_,8,11,"div",63),e.TgZ(8,"div",64)(9,"label",65)(10,"span"),e.SDv(11,66),e.qZA(),e.TgZ(12,"span",67),e.SDv(13,68),e.qZA()(),e.TgZ(14,"div",69),e._UZ(15,"bb-textarea-ui",70),e.qZA()(),e.YNc(16,Y_,3,1,"bb-collapsible-ui",71),e.ALo(17,"async"),e.YNc(18,x_,2,3,"ng-template",null,72,e.W1O),e.qZA()),2&_){const t=e.MAs(19),n=e.oxw(2);e.xp6(4),e.pQV(n.paymentDetailsTitle),e.QtT(4),e.xp6(1),e.Q6J("ngIf",n.ebillPayment),e.xp6(1),e.Q6J("ngIf",n.ebillPayment),e.xp6(1),e.Q6J("ngIf",!n.ebillPayment),e.xp6(1),e.Q6J("formGroup",n.paymentForm),e.xp6(7),e.Q6J("id","bb-billpay-payment-form-memo")("showCharCounter",!0)("maxLength",140)("rows",2),e.xp6(1),e.Q6J("ngIf",e.lcZ(17,11,n.selectedPayee$)&&(!n.isEditPayment||"oneOff"!==n.paymentType))("ngIfElse",t)}}function Z_(_,i){if(1&_&&(e.YNc(0,w_,20,13,"fieldset",56),e.ALo(1,"async")),2&_){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.selectedPayee$))}}function k_(_,i){if(1&_&&(e.ynx(0,111),e.TgZ(1,"bb-fieldset-ui",112),e._UZ(2,"bb-alert-ui",113)(3,"bb-billpay-address-form",114),e.qZA(),e.BQk()),2&_){const t=e.oxw(2);e.Q6J("formGroup",t.paymentForm),e.xp6(3),e.Q6J("formGroup",t.paymentForm.get("overnightDeliveryAddress"))}}function H_(_,i){if(1&_&&e.YNc(0,k_,4,2,"ng-container",110),2&_){const t=e.oxw();e.Q6J("ngIf","OVERNIGHT_CHECK"===(null==t.schedule.paymentService||null==t.schedule.paymentService.service?null:t.schedule.paymentService.service.paymentServiceType))}}function W_(_,i){if(1&_&&(e.TgZ(0,"bb-header-ui",4),e.DtL(1,5),e.qZA()),2&_){const t=e.oxw();e.pQV(t.title),e.QtT(1)}}function q_(_,i){if(1&_&&(e.TgZ(0,"span",6),e.SDv(1,7),e.qZA()),2&_){const t=e.oxw();e.xp6(1),e.pQV(t.subtitle),e.QtT(1)}}function $_(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"div",8)(1,"button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmModal()}),e.SDv(2,10),e.qZA(),e.TgZ(3,"button",11),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancelModal()}),e.SDv(4,12),e.qZA()()}if(2&_){const t=e.oxw();e.xp6(2),e.pQV(t.confirmButtonLabel),e.QtT(2),e.xp6(2),e.pQV(t.cancelButtonLabel),e.QtT(4)}}const Pe=["notificationMessage"],Ce=["notificationHeader"],he=["failAlert"];function Sn(_,i){if(1&_){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-billpay-payment-form",5),e.NdJ("cancelPayment",function(){return e.CHM(t),e.oxw(3).onCancelForm()})("submitPayment",function(l){e.CHM(t);const a=e.oxw(2).ngIf;return e.oxw().onPaymentSubmitted(l,a.paymentId)})("valueChanged",function(){return e.CHM(t),e.oxw(3).onFormValueChanged()}),e.qZA(),e.BQk()}if(2&_){const t=e.oxw(2).ngIf,n=e.oxw();e.xp6(1),e.Q6J("payeeSummaries",t.payeeSummaries)("accounts",t.accounts)("selectedPayeeId",null==t.state||null==t.state.payeeTo?null:t.state.payeeTo.id)("paymentState",t.state)("isEditPayment",!0)("paymentType","recurring")("accountNumberMask",n.accountNumberMasked)("paymentDetailsTitle",n.paymentDetailsTitle)("frequencies",n.frequencies)}}function pn(_,i){if(1&_&&(e.ynx(0),e.YNc(1,Sn,2,9,"ng-container",1),e.BQk()),2&_){e.oxw();const t=e.MAs(5),n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.hasLoadingError)("ngIfElse",t)}}function mn(_,i){1&_&&(e.TgZ(0,"div",6)(1,"div",7),e._UZ(2,"bb-loading-indicator-ui",8),e.qZA()())}function bn(_,i){1&_&&(e.TgZ(0,"div",6)(1,"div",7),e._UZ(2,"bb-empty-state-ui",9),e.qZA()())}function gn(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"bb-billpay-payment-discard-changes-modal",10),e.NdJ("resolve",function(l){return e.CHM(t),e.oxw(2).onModalResolve(l)}),e.qZA()}}function yn(_,i){if(1&_&&(e.ynx(0),e.YNc(1,pn,2,2,"ng-container",1),e.YNc(2,mn,3,0,"ng-template",null,2,e.W1O),e.YNc(4,bn,3,0,"ng-template",null,3,e.W1O),e.YNc(6,gn,1,0,"bb-billpay-payment-discard-changes-modal",4),e.BQk()),2&_){const t=i.ngIf,n=e.MAs(3),l=e.oxw();e.xp6(1),e.Q6J("ngIf",t.state)("ngIfElse",n),e.xp6(5),e.Q6J("ngIf",l.isDiscardModalOpen)}}const Bn=function(_,i,t,n){return{state:_,payeeSummaries:i,accounts:t,paymentId:n}},Rn=["paymentRecurringEditForm"];function fn(_,i){1&_&&e.GkF(0)}function Nn(_,i){1&_&&e.GkF(0)}function Mn(_,i){if(1&_&&(e.ynx(0),e.TgZ(1,"div",6)(2,"div",7)(3,"div",8),e.YNc(4,fn,1,0,"ng-container",9),e.qZA(),e.YNc(5,Nn,1,0,"ng-container",9),e.qZA()(),e.BQk()),2&_){e.oxw();const t=e.MAs(3),n=e.MAs(5);e.xp6(4),e.Q6J("ngTemplateOutlet",t),e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function Ln(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"bb-billpay-payment-discard-changes-modal",10),e.NdJ("resolve",function(l){return e.CHM(t),e.oxw().onModalResolve(l)}),e.qZA()}}function On(_,i){1&_&&(e.TgZ(0,"bb-alert-ui",15),e.NdJ("close",function(){return!1}),e.qZA())}function In(_,i){1&_&&(e.TgZ(0,"bb-alert-ui",16),e.NdJ("close",function(){return!1}),e.qZA())}function Dn(_,i){if(1&_&&(e.TgZ(0,"div",null,11),e.YNc(2,On,1,0,"bb-alert-ui",12),e.YNc(3,In,1,0,"bb-alert-ui",13),e.qZA(),e._UZ(4,"bb-billpay-payment-review-card",14)),2&_){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.paymentError&&!t.hasDateError),e.xp6(1),e.Q6J("ngIf",t.paymentError&&t.hasDateError),e.xp6(1),e.Q6J("accountNumberMask",t.accountNumberMasked)("paymentReview",t.paymentReview)}}function Pn(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){const a=e.CHM(t).ngIf;return e.oxw(2).navigateToForm(a)}),e.SDv(1,24),e.qZA()}}function Cn(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"div",17)(1,"button",18),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return l.confirmPayment(l.payment)}),e.SDv(2,19),e.qZA(),e.YNc(3,Pn,2,0,"button",20),e.ALo(4,"async"),e.TgZ(5,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancel()}),e.SDv(6,22),e.qZA()()}if(2&_){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",e.lcZ(4,1,t.id$))}}function hn(_,i){if(1&_&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,25),e.qZA(),e.BQk()),2&_){const t=i.ngIf;e.xp6(2),e.pQV(t.nickName&&t.nickName+" ("+t.name+")"||t.name),e.QtT(2)}}function Un(_,i){if(1&_&&e.YNc(0,hn,3,1,"ng-container",0),2&_){const t=e.oxw();e.Q6J("ngIf",null==t.payment?null:t.payment.payeeTo)}}function vn(_,i){1&_&&(e.TgZ(0,"span"),e.SDv(1,26),e.qZA())}const Tn=["paymentRecurringEditReviewContainer"];function Yn(_,i){if(1&_){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-billpay-payment-form",5),e.NdJ("cancelPayment",function(){return e.CHM(t),e.oxw(3).onCancelForm()})("submitPayment",function(l){e.CHM(t);const a=e.oxw(2).ngIf;return e.oxw().onPaymentSubmitted(l,a.paymentId)})("valueChanged",function(){return e.CHM(t),e.oxw(3).onFormValueChanged()}),e.qZA(),e.BQk()}if(2&_){const t=e.oxw(2).ngIf,n=e.oxw();e.xp6(1),e.Q6J("payeeSummaries",t.payeeSummaries)("accounts",t.accounts)("selectedPayeeId",null==t.state||null==t.state.payeeTo?null:t.state.payeeTo.id)("paymentState",t.state)("isEditPayment",!0)("paymentType","oneOff")("accountNumberMask",n.accountNumberMasked)("paymentDetailsTitle",n.paymentDetailsTitle)("frequencies",n.frequencies)}}function Jn(_,i){if(1&_&&(e.ynx(0),e.YNc(1,Yn,2,9,"ng-container",1),e.BQk()),2&_){e.oxw();const t=e.MAs(5),n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.hasLoadingError)("ngIfElse",t)}}function Gn(_,i){1&_&&(e.TgZ(0,"div",6)(1,"div",7),e._UZ(2,"bb-loading-indicator-ui",8),e.qZA()())}function Fn(_,i){1&_&&(e.TgZ(0,"div",6)(1,"div",7),e._UZ(2,"bb-empty-state-ui",9),e.qZA()())}function Kn(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"bb-billpay-payment-discard-changes-modal",10),e.NdJ("resolve",function(l){return e.CHM(t),e.oxw(2).onModalResolve(l)}),e.qZA()}}function xn(_,i){if(1&_&&(e.ynx(0),e.YNc(1,Jn,2,2,"ng-container",1),e.YNc(2,Gn,3,0,"ng-template",null,2,e.W1O),e.YNc(4,Fn,3,0,"ng-template",null,3,e.W1O),e.YNc(6,Kn,1,0,"bb-billpay-payment-discard-changes-modal",4),e.BQk()),2&_){const t=i.ngIf,n=e.MAs(3),l=e.oxw();e.xp6(1),e.Q6J("ngIf",t.state)("ngIfElse",n),e.xp6(5),e.Q6J("ngIf",l.isDiscardModalOpen)}}const wn=function(_,i,t,n){return{state:_,paymentId:i,accounts:t,payeeSummaries:n}},Zn=["paymentOneOffEditForm"];function kn(_,i){1&_&&e.GkF(0)}function Hn(_,i){1&_&&e.GkF(0)}function Wn(_,i){if(1&_&&(e.ynx(0),e.TgZ(1,"div",6)(2,"div",7)(3,"div",8),e.YNc(4,kn,1,0,"ng-container",9),e.qZA(),e.YNc(5,Hn,1,0,"ng-container",9),e.qZA()(),e.BQk()),2&_){e.oxw();const t=e.MAs(3),n=e.MAs(5);e.xp6(4),e.Q6J("ngTemplateOutlet",t),e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function qn(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"bb-billpay-payment-discard-changes-modal",10),e.NdJ("resolve",function(l){return e.CHM(t),e.oxw().onModalResolve(l)}),e.qZA()}}function $n(_,i){1&_&&(e.TgZ(0,"bb-alert-ui",15),e.NdJ("close",function(){return!1}),e.qZA())}function Qn(_,i){1&_&&(e.TgZ(0,"bb-alert-ui",16),e.NdJ("close",function(){return!1}),e.qZA())}function zn(_,i){if(1&_&&(e.TgZ(0,"div",null,11),e.YNc(2,$n,1,0,"bb-alert-ui",12),e.YNc(3,Qn,1,0,"bb-alert-ui",13),e.qZA(),e._UZ(4,"bb-billpay-payment-review-card",14)),2&_){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.paymentError&&!t.hasDateError),e.xp6(1),e.Q6J("ngIf",t.paymentError&&t.hasDateError),e.xp6(1),e.Q6J("accountNumberMask",t.accountNumberMasked)("paymentReview",t.paymentReview)}}function Vn(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){const a=e.CHM(t).ngIf;return e.oxw(2).navigateToForm(a)}),e.SDv(1,24),e.qZA()}}function jn(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"div",17)(1,"button",18),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return l.confirmPayment(l.payment)}),e.SDv(2,19),e.qZA(),e.YNc(3,Vn,2,0,"button",20),e.ALo(4,"async"),e.TgZ(5,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancel()}),e.SDv(6,22),e.qZA()()}if(2&_){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",e.lcZ(4,1,t.id$))}}function Xn(_,i){if(1&_&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,25),e.qZA(),e.BQk()),2&_){const t=i.ngIf;e.xp6(2),e.pQV(t.nickName&&t.nickName+" ("+t.name+")"||t.name),e.QtT(2)}}function ei(_,i){if(1&_&&e.YNc(0,Xn,3,1,"ng-container",0),2&_){const t=e.oxw();e.Q6J("ngIf",null==t.payment?null:t.payment.payeeTo)}}function ti(_,i){1&_&&(e.TgZ(0,"span"),e.SDv(1,26),e.qZA())}const _i=["paymentOneOffEditReviewContainer"];function ni(_,i){if(1&_&&e._UZ(0,"bb-dropdown-single-select-option-ui",5),2&_){const t=i.$implicit;e.Q6J("value",t.value)("label",t.name)}}function ii(_,i){if(1&_&&(e.TgZ(0,"span",10),e._uU(1," Start On "),e.qZA()),2&_){const t=e.oxw(2);e.MGl("id","'billpay-start-date-' + ",t.id,"")}}function li(_,i){1&_&&(e.TgZ(0,"span",11),e.SDv(1,12),e.qZA())}function ai(_,i){1&_&&(e.TgZ(0,"span",13),e.SDv(1,14),e.qZA())}function oi(_,i){1&_&&(e.TgZ(0,"span",15),e.SDv(1,16),e.qZA())}function si(_,i){if(1&_&&(e.TgZ(0,"div",1)(1,"label",2),e.YNc(2,ii,2,1,"span",3),e.qZA(),e.TgZ(3,"div",4),e._UZ(4,"bb-input-datepicker-ui",5),e.qZA(),e.TgZ(5,"bb-input-validation-message-ui",6),e.YNc(6,li,2,0,"span",7),e.YNc(7,ai,2,0,"span",8),e.YNc(8,oi,2,0,"span",9),e.qZA()()),2&_){const t=e.oxw();let n,l,a,s;e.xp6(1),e.MGl("id","billpay-start-date-",t.id,""),e.xp6(1),e.Q6J("ngIf",!0),e.xp6(2),e.Q6J("aria-labelledby","billpay-start-date-"+t.id)("formControl",null==t.scheduleForm?null:t.scheduleForm.get("startDate"))("minDate",t.minDate)("datepickerDescribedby","billpay-start-date-error-{{ id }}"),e.xp6(1),e.MGl("id","billpay-start-date-error-",t.id,""),e.Q6J("showErrors",(null==t.scheduleForm||null==(n=t.scheduleForm.get("startDate"))?null:n.invalid)&&(null==t.scheduleForm||null==(n=t.scheduleForm.get("startDate"))?null:n.touched)),e.xp6(1),e.Q6J("ngIf",null==t.scheduleForm||null==(l=t.scheduleForm.get("startDate"))||null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("ngIf",(null==t.scheduleForm||null==(a=t.scheduleForm.get("startDate"))||null==a.errors?null:a.errors.pastDate)||(null==t.scheduleForm||null==(a=t.scheduleForm.get("startDate"))||null==a.errors?null:a.errors.dateLessThanMinDate)),e.xp6(1),e.Q6J("ngIf",null==t.scheduleForm||null==(s=t.scheduleForm.get("startDate"))||null==s.errors?null:s.errors.invalidDateFormat)}}function ri(_,i){1&_&&(e.TgZ(0,"span",20),e.SDv(1,21),e.qZA())}function ci(_,i){1&_&&(e.TgZ(0,"span",22),e.SDv(1,23),e.qZA())}function Ei(_,i){1&_&&(e.TgZ(0,"span",24),e.SDv(1,25),e.qZA())}function ui(_,i){if(1&_&&(e.TgZ(0,"bb-input-validation-message-ui",16),e.YNc(1,ri,2,0,"span",17),e.YNc(2,ci,2,0,"span",18),e.YNc(3,Ei,2,0,"span",19),e.qZA()),2&_){const t=i.ngIf;e.Q6J("showErrors",(null==t?null:t.invalid)&&(null==t?null:t.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.errors?null:t.errors.pastDate)||(null==t.errors?null:t.errors.dateLessThanMinDate)),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.invalidDateFormat),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function di(_,i){if(1&_&&(e.TgZ(0,"div",11)(1,"span",12),e.SDv(2,13),e.qZA(),e.TgZ(3,"div",4),e._UZ(4,"bb-input-datepicker-ui",14),e.YNc(5,ui,4,4,"bb-input-validation-message-ui",15),e.qZA()()),2&_){const t=e.oxw();let n;e.xp6(1),e.MGl("id","billpay-end-date-on-",t.id,""),e.xp6(3),e.MGl("datepickerDescribedby","billpay-end-date-on-",t.id,"")("aria-labelledby","billpay-end-date-on-",t.id,""),e.Q6J("formControl",null==t.scheduleForm?null:t.scheduleForm.get("endDate"))("minDate",null==t.scheduleForm||null==(n=t.scheduleForm.get("startDate"))?null:n.value),e.xp6(1),e.Q6J("ngIf",null==t.scheduleForm?null:t.scheduleForm.get("endDate"))}}function Ai(_,i){if(1&_&&(e.TgZ(0,"div",11)(1,"span",26),e.SDv(2,27),e.qZA(),e.TgZ(3,"div",4)(4,"div",11)(5,"div",28),e._UZ(6,"bb-input-number-ui",29),e.qZA(),e.TgZ(7,"span",4),e._uU(8," Occurrences "),e.qZA()()()()),2&_){const t=e.oxw();e.xp6(6),e.Q6J("formControl",null==t.scheduleForm?null:t.scheduleForm.get("repeat"))}}function Si(_,i){1&_&&e.GkF(0)}function pi(_,i){1&_&&e.GkF(0)}const mi=function(_){return{"bb-billpay-multiple-bills-selector--selected-bg":_}},Ge=function(_){return{$implicit:_}};function bi(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(3).onSelectItem(a)}),e.YNc(1,pi,1,0,"ng-container",7),e.qZA()}if(2&_){const t=i.$implicit,n=e.oxw(2).ngIf;e.oxw();const l=e.MAs(5);e.Q6J("ngClass",e.VKq(3,mi,t.accountNumber===(null==n?null:n.accountNumber))),e.xp6(1),e.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",e.VKq(5,Ge,t))}}function gi(_,i){if(1&_&&(e.ynx(0),e.YNc(1,bi,2,7,"button",10),e.BQk()),2&_){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.accounts)}}function yi(_,i){if(1&_&&(e.TgZ(0,"bb-product-selector-ui",5),e.ynx(1,6),e.YNc(2,Si,1,0,"ng-container",7),e.BQk(),e.ynx(3,8),e.YNc(4,gi,2,1,"ng-container",9),e.BQk(),e.qZA()),2&_){const t=i.ngIf,n=e.oxw(),l=e.MAs(5);e.Q6J("autoClose",!0),e.xp6(2),e.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",e.VKq(4,Ge,t)),e.xp6(2),e.Q6J("ngIf",null==n.accounts?null:n.accounts.length)}}function Bi(_,i){if(1&_&&(e._UZ(0,"bb-ellipsis-ui",12),e.TgZ(1,"div",13),e._UZ(2,"bb-ellipsis-ui",14),e.ALo(3,"paymentCardNumber"),e.qZA(),e._UZ(4,"bb-amount-ui",15)),2&_){const t=i.$implicit,n=e.oxw();e.Q6J("text",null==t?null:t.accountNickName),e.xp6(2),e.Q6J("text",e.xi3(3,5,null==t?null:t.accountNumber,n.productNumberFormat)),e.xp6(2),e.Q6J("currency",null==t||null==t.accountBalance?null:t.accountBalance.currencyCode)("amount",null==t||null==t.accountBalance?null:t.accountBalance.amount)("mapCurrency",!0)}}function Ri(_,i){1&_&&e.GkF(0)}function fi(_,i){if(1&_&&e._UZ(0,"bb-amount-ui",33),2&_){const t=i.ngIf;e.Q6J("currency",t.currencyCode||"USD")("amount",t.amount||0)}}function Ni(_,i){1&_&&e.GkF(0)}function Mi(_,i){1&_&&e.GkF(0)}function Li(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"a",41),e.NdJ("bbKeyboardClick",function(l){return e.CHM(t),e.oxw(3).handleStopEbills(l)}),e.TgZ(1,"span"),e.SDv(2,42),e.qZA()()}}function Oi(_,i){if(1&_&&(e.ynx(0),e.YNc(1,Li,3,0,"a",40),e.BQk()),2&_){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.showStopEbills)}}function Ii(_,i){if(1&_){const t=e.EpF();e.YNc(0,Oi,2,1,"ng-container",26),e.TgZ(1,"a",34),e.NdJ("bbKeyboardClick",function(){return e.CHM(t),e.oxw().handleViewSummary()}),e.TgZ(2,"span"),e.SDv(3,35),e.qZA()(),e.TgZ(4,"a",36),e.NdJ("bbKeyboardClick",function(){return e.CHM(t),e.oxw().handleEditPayee()}),e.TgZ(5,"span"),e.SDv(6,37),e.qZA()(),e.TgZ(7,"a",38),e.NdJ("bbKeyboardClick",function(l){return e.CHM(t),e.oxw().handleDeletePayee(l)}),e.TgZ(8,"span"),e.SDv(9,39),e.qZA()()}if(2&_){const t=e.oxw();e.Q6J("ngIf",null==t.payeeSummary||null==t.payeeSummary.ebill?null:t.payeeSummary.ebill.capable)}}function Di(_,i){1&_&&e.GkF(0)}function Pi(_,i){if(1&_&&(e.TgZ(0,"div",43),e.YNc(1,Di,1,0,"ng-container",3),e.qZA()),2&_){e.oxw();const t=e.MAs(45);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Ci(_,i){1&_&&e.GkF(0)}function hi(_,i){1&_&&e.GkF(0)}function Ui(_,i){1&_&&e.GkF(0)}function vi(_,i){if(1&_&&(e.ynx(0),e.TgZ(1,"label",44),e._uU(2,"Outstanding Amount"),e.qZA(),e._UZ(3,"br")(4,"bb-amount-ui",45),e.BQk()),2&_){const t=i.ngIf,n=e.oxw();e.xp6(1),e.MGl("for","outstanding-amount-",n.id,""),e.xp6(3),e.MGl("id","outstanding-amount-",n.id,""),e.Q6J("currency",t.currencyCode||"USD")("amount",t.amount||0)}}function Ti(_,i){if(1&_&&e._UZ(0,"bb-input-datepicker-ui",46),2&_){const t=e.oxw();e.MGl("datepickerDescribedby","multiple-payments-start-date-tooltip-",t.inheritedId,"")("aria-labelledby","billpay-delivery-date-label-",t.id,""),e.Q6J("formControl",null==t.paymentForm?null:t.paymentForm.get("schedule.sendDate"))("minDate",t.minDate)}}function Yi(_,i){if(1&_&&e._UZ(0,"bb-amount-input-ui",47),2&_){const t=e.oxw();let n;e.MGl("aria-labelledby","multiple-payments-amount-label-",t.inheritedId,""),e.Q6J("formControl",null==t.paymentForm?null:t.paymentForm.get("amount.amount"))("autoDecimal",!0)("currency",null==t.paymentForm||null==(n=t.paymentForm.get("amount.currency"))?null:n.value)}}function Ji(_,i){if(1&_&&(e.TgZ(0,"label",48)(1,"span"),e.SDv(2,49),e.qZA(),e.TgZ(3,"span",50),e.SDv(4,51),e.qZA()(),e._UZ(5,"br"),e.TgZ(6,"span",52),e.SDv(7,53),e.qZA(),e.TgZ(8,"div",54),e._UZ(9,"bb-textarea-ui",55),e.qZA()),2&_){const t=e.oxw();e.MGl("for","bb-billpay-payment-form-memo-",t.id,""),e.xp6(6),e.MGl("id","'bb-billpay-payment-form-memo-desc-'",t.id,""),e.xp6(3),e.Q6J("id","bb-billpay-payment-form-memo-"+t.id)("aria-describedby","bb-billpay-payment-form-memo-desc-"+t.id)("formControl",null==t.paymentForm?null:t.paymentForm.get("memo"))("maxLength",140)("rows",2)("showCharCounter",!0)}}function Gi(_,i){if(1&_&&e._UZ(0,"bb-billpay-payment-frequency",59),2&_){const t=e.oxw(2);e.Q6J("scheduleForm",null==t.paymentForm?null:t.paymentForm.get("schedule"))("frequencies",t.frequencies)}}function Fi(_,i){if(1&_&&(e.YNc(0,Gi,1,2,"bb-billpay-payment-frequency",56),e._UZ(1,"bb-billpay-payment-start-date",57)(2,"bb-billpay-payment-end-date",58)),2&_){const t=e.oxw();e.Q6J("ngIf",null==t.frequencies?null:t.frequencies.length),e.xp6(1),e.Q6J("scheduleForm",null==t.paymentForm?null:t.paymentForm.get("schedule"))("frequencies",t.frequencies)("minDate",t.minDate),e.xp6(1),e.Q6J("scheduleForm",null==t.paymentForm?null:t.paymentForm.get("schedule"))}}function Ki(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"bb-billpay-payment-compact-product-selector",60),e.NdJ("selectItem",function(l){return e.CHM(t),e.oxw().selectItem(l)}),e.qZA()}if(2&_){const t=e.oxw();e.Q6J("accounts",t.accounts)("paymentForm",t.paymentForm)("productNumberFormat",t.productNumberFormat)}}function xi(_,i){if(1&_&&(e.TgZ(0,"div",69),e._UZ(1,"bb-icon-ui",70),e.TgZ(2,"span",71),e.SDv(3,72),e.qZA()()),2&_){const t=e.oxw(2);e.xp6(2),e.s9C("id",t.ebillPaymentScheduledId)}}function wi(_,i){if(1&_&&(e.TgZ(0,"span",76),e.SDv(1,77),e.ALo(2,"bbDate"),e.qZA()),2&_){const t=i.ngIf,n=e.oxw(3);e.s9C("id",n.ebillDueOnId),e.xp6(2),e.pQV(e.xi3(2,2,t,"MMM d")),e.QtT(1)}}function Zi(_,i){if(1&_&&(e.TgZ(0,"div",73),e._UZ(1,"bb-icon-ui",74),e.YNc(2,wi,3,5,"span",75),e.qZA()),2&_){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",null==t.latestBill?null:t.latestBill.paymentDate)}}function ki(_,i){if(1&_){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",79)(2,"div",61),e._UZ(3,"bb-icon-ui",80),e.TgZ(4,"div",81),e.SDv(5,82),e.qZA()()(),e.TgZ(6,"a",83),e.NdJ("bbKeyboardClick",function(){return e.CHM(t),e.oxw(3).handleResolveEbillsErrors()}),e.SDv(7,84),e.qZA(),e.BQk()}if(2&_){const t=e.oxw(3);e.xp6(4),e.s9C("id",t.ebillRetrieveErrorId)}}function Hi(_,i){if(1&_){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",79)(2,"div",61),e._UZ(3,"bb-icon-ui",80),e.TgZ(4,"div",85),e.SDv(5,86),e.qZA()()(),e.TgZ(6,"a",87),e.NdJ("bbKeyboardClick",function(){return e.CHM(t),e.oxw(3).handleResolveEbillsErrors()}),e.SDv(7,88),e.qZA(),e.BQk()}if(2&_){const t=e.oxw(3);e.xp6(4),e.s9C("id",t.ebillSupportErrorId)}}function Wi(_,i){if(1&_){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",13)(2,"div",61),e._UZ(3,"bb-icon-ui",89),e.TgZ(4,"div",90),e.SDv(5,91),e.qZA()()(),e.TgZ(6,"a",92),e.NdJ("bbKeyboardClick",function(){return e.CHM(t),e.oxw(3).handleResolveEbillsErrors()}),e.SDv(7,93),e.qZA(),e.BQk()}if(2&_){const t=e.oxw(3);e.xp6(4),e.s9C("id",t.ebillUserActionErrorId)}}function qi(_,i){if(1&_&&(e.ynx(0),e.TgZ(1,"div",61),e._UZ(2,"bb-icon-ui",89),e.TgZ(3,"div",94),e.SDv(4,95),e.qZA()(),e.BQk()),2&_){const t=e.oxw(3);e.xp6(3),e.uIk("id",t.ebillUnknownErrorId)}}function $i(_,i){if(1&_&&(e.TgZ(0,"div",78),e.YNc(1,ki,8,1,"ng-container",26),e.YNc(2,Hi,8,1,"ng-container",26),e.YNc(3,Wi,8,1,"ng-container",26),e.YNc(4,qi,5,1,"ng-container",26),e.qZA()),2&_){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.isEbillsErrorUpdateCredentials),e.xp6(1),e.Q6J("ngIf",t.isEbillsErrorNotSupported),e.xp6(1),e.Q6J("ngIf",t.isEbillsErrorUserAction),e.xp6(1),e.Q6J("ngIf",t.isEbillsErrorUnknown)}}function Qi(_,i){if(1&_&&(e.TgZ(0,"div",96),e.SDv(1,97),e.qZA()),2&_){const t=e.oxw(2);e.s9C("id",t.noEbillsDueId)}}function zi(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"div",61)(1,"a",98),e.NdJ("bbKeyboardClick",function(){return e.CHM(t),e.oxw(2).handleGetEbills()}),e.TgZ(2,"span"),e.SDv(3,99),e.qZA()()()}}function Vi(_,i){if(1&_&&(e.TgZ(0,"div",69)(1,"div",79),e._UZ(2,"bb-icon-ui",100),e.qZA(),e.TgZ(3,"div",101),e.SDv(4,102),e.qZA()()),2&_){const t=e.oxw(2);e.xp6(3),e.s9C("id",t.recurringPaymentScheduledIdId)}}const ji=function(_,i,t,n,l,a,s,r,E){return[_,i,t,n,l,a,s,r,E]};function Xi(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"div",61)(1,"div",62)(2,"a",63),e.NdJ("bbKeyboardClick",function(){return e.CHM(t),e.oxw().handleViewSummary()}),e._uU(3),e.qZA(),e.YNc(4,xi,4,1,"div",64),e.YNc(5,Zi,3,1,"div",65),e.YNc(6,$i,5,4,"div",66),e.YNc(7,Qi,2,1,"div",67),e.YNc(8,zi,4,0,"div",68),e.YNc(9,Vi,5,1,"div",64),e.qZA()()}if(2&_){const t=e.oxw();e.xp6(2),e.uIk("aria-describedby",e.rFY(9,ji,[t.ebillRetrieveErrorId,t.noEbillsDueId,t.ebillsAvailableId,t.recurringPaymentScheduledIdId,t.ebillPaymentScheduledId,t.ebillDueOnId,t.ebillSupportErrorId,t.ebillUserActionErrorId,t.ebillUnknownErrorId]).join(" "))("aria-label","view payee summary for "+t.payeeName),e.xp6(1),e.Oqu(t.payeeName),e.xp6(1),e.Q6J("ngIf",t.isLatestEbillPaid),e.xp6(1),e.Q6J("ngIf",t.areEbillsDue),e.xp6(1),e.Q6J("ngIf",t.areEbillsInErrorState),e.xp6(1),e.Q6J("ngIf",t.areEbillsEnabledButNotDue),e.xp6(1),e.Q6J("ngIf",t.areEbillsAvailable),e.xp6(1),e.Q6J("ngIf",t.areRecurringPaymentsScheduled)}}function el(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"div",19)(1,"span",20),e.SDv(2,21),e.qZA(),e.TgZ(3,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw().onSortClick()}),e._UZ(4,"bb-icon-ui",23),e.qZA()()}if(2&_){const t=e.oxw();e.xp6(4),e.s9C("name",t.ascendingList?"caret-down":"caret-up")}}function tl(_,i){1&_&&(e.TgZ(0,"span",24),e.SDv(1,25),e.qZA())}function _l(_,i){if(1&_&&e._UZ(0,"bb-billpay-multiple-bills-list-item",26),2&_){const t=i.$implicit,n=e.oxw();e.Q6J("payeeSummary",t)("paymentForm",null==n.paymentsFormGroup?null:n.paymentsFormGroup.controls[t.id])("accounts",n.accounts)("inheritedId",n.id)}}function nl(_,i){1&_&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"span",11),e._UZ(4,"bb-icon-ui",12),e.qZA(),e.TgZ(5,"div",13),e._UZ(6,"bb-icon-ui",14),e.TgZ(7,"div",15),e.SDv(8,16),e.qZA()()()()())}function il(_,i){if(1&_&&e.GkF(0,17),2&_){const t=e.oxw();e.Q6J("ngTemplateOutlet",t.actionButtons)}}function ll(_,i){1&_&&e._UZ(0,"bb-header-ui",19)}function al(_,i){if(1&_&&(e.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16),e.YNc(4,ll,1,0,"bb-header-ui",17),e.qZA(),e._UZ(5,"bb-billpay-payment-multiple-bills-list",18),e.ALo(6,"async"),e.qZA()()()),2&_){const t=e.oxw(2).ngIf,n=e.oxw(2);e.xp6(4),e.Q6J("ngIf",n.areBothListsPresent(t)),e.xp6(1),e.Q6J("paymentsFormGroup",n.paymentsFormGroup)("payeeSummaries",t.ebillsEnabled)("accounts",e.lcZ(6,5,n.accounts$))("isForEbills",!0)}}function ol(_,i){1&_&&e._UZ(0,"bb-header-ui",23)}function sl(_,i){if(1&_&&(e.TgZ(0,"div",20)(1,"div",15)(2,"div",16),e.YNc(3,ol,1,0,"bb-header-ui",21),e.qZA(),e._UZ(4,"bb-billpay-payment-multiple-bills-list",22),e.ALo(5,"async"),e.qZA()()),2&_){const t=e.oxw(2).ngIf,n=e.oxw(2);e.xp6(3),e.Q6J("ngIf",n.areBothListsPresent(t)),e.xp6(1),e.Q6J("paymentsFormGroup",n.paymentsFormGroup)("payeeSummaries",t.ebillsNotEnabled)("accounts",e.lcZ(5,4,n.accounts$))}}function rl(_,i){if(1&_&&(e.ynx(0),e.TgZ(1,"div",10),e.YNc(2,al,7,7,"div",11),e.YNc(3,sl,6,6,"div",12),e.qZA(),e.BQk()),2&_){const t=e.oxw().ngIf;e.xp6(2),e.Q6J("ngIf",t.ebillsEnabled.length),e.xp6(1),e.Q6J("ngIf",t.ebillsNotEnabled.length)}}function cl(_,i){if(1&_&&(e.ynx(0),e.YNc(1,rl,4,2,"ng-container",0),e.ALo(2,"async"),e.BQk()),2&_){const t=i.ngIf,n=e.oxw(2),l=e.MAs(6);let a;e.xp6(1),e.Q6J("ngIf",(t.ebillsEnabled.length||t.ebillsNotEnabled.length)&&(null==(a=e.lcZ(2,2,n.accounts$))?null:a.length))("ngIfElse",l)}}function El(_,i){if(1&_&&(e.ynx(0),e.YNc(1,cl,3,4,"ng-container",0),e.ALo(2,"async"),e.ALo(3,"async"),e.BQk()),2&_){const t=e.oxw(),n=e.MAs(4);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,e.lcZ(3,4,t.accounts$)&&t.payeeSummariesByEbillObservable$))("ngIfElse",n)}}function ul(_,i){1&_&&(e.TgZ(0,"div",14)(1,"div",15),e._UZ(2,"bb-loading-indicator-ui",24),e.qZA()())}function dl(_,i){1&_&&(e.TgZ(0,"div",14)(1,"div",25),e._UZ(2,"bb-empty-state-ui",26),e.qZA()())}function Al(_,i){1&_&&(e.TgZ(0,"div",14)(1,"div",15),e._UZ(2,"bb-empty-state-ui",27),e.qZA()())}function Sl(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"div")(1,"div",28)(2,"button",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().handleClearForm()}),e.SDv(3,30),e.qZA(),e.TgZ(4,"button",31),e.NdJ("click",function(){return e.CHM(t),e.oxw().handleSubmit()}),e.SDv(5,32),e.qZA()()()}if(2&_){const t=e.oxw();e.xp6(4),e.zWS("aria-describedby","total-amount-label-",t.id,"  total-amount-",t.id,"")}}function pl(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"bb-billpay-payee-delete-modal",33),e.NdJ("resolve",function(l){return e.CHM(t),e.oxw().onDeletePayee(l)}),e.qZA()}}function ml(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"bb-billpay-ebills-delete-modal",33),e.NdJ("resolve",function(l){return e.CHM(t),e.oxw().onDeleteEbills(l)}),e.qZA()}}function bl(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"bb-billpay-payee-navigate-modal",33),e.NdJ("resolve",function(l){return e.CHM(t),e.oxw().onNavigateToPayments(l)}),e.qZA()}}function gl(_,i){if(1&_&&(e.TgZ(0,"span"),e.SDv(1,37),e.qZA()),2&_){const t=i.ngIf;e.xp6(1),e.pQV(t.nickName?t.nickName+" ("+t.name+")":t.name),e.QtT(1)}}function yl(_,i){if(1&_&&(e.TgZ(0,"div"),e.YNc(1,gl,2,1,"span",36),e.ALo(2,"async"),e.qZA()),2&_){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.selectedDeleteEbills$))}}function Bl(_,i){if(1&_&&(e.TgZ(0,"span"),e.SDv(1,38),e.qZA()),2&_){const t=i.ngIf;e.xp6(1),e.pQV(t.nickName?t.nickName+" ("+t.name+")":t.name),e.QtT(1)}}function Rl(_,i){if(1&_&&(e.TgZ(0,"div"),e.YNc(1,Bl,2,1,"span",36),e.ALo(2,"async"),e.qZA()),2&_){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.selectedDeletePayee$))}}function fl(_,i){if(1&_&&(e.TgZ(0,"div",34),e.YNc(1,yl,3,3,"div",35),e.YNc(2,Rl,3,3,"div",35),e.qZA()),2&_){const t=e.oxw();e.Q6J("ngSwitch",t.notificationType),e.xp6(1),e.Q6J("ngSwitchCase","ebills"),e.xp6(1),e.Q6J("ngSwitchCase","delete")}}function Nl(_,i){1&_&&(e.TgZ(0,"span",40),e.SDv(1,41),e.qZA())}function Ml(_,i){1&_&&(e.TgZ(0,"span",40),e.SDv(1,42),e.qZA())}function Ll(_,i){if(1&_&&(e.TgZ(0,"div",34),e.YNc(1,Nl,2,0,"span",39),e.YNc(2,Ml,2,0,"span",39),e.qZA()),2&_){const t=e.oxw();e.Q6J("ngSwitch",t.notificationType),e.xp6(1),e.Q6J("ngSwitchCase","ebills"),e.xp6(1),e.Q6J("ngSwitchCase","delete")}}function Ol(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"bb-billpay-payment-discard-changes-modal",43),e.NdJ("resolve",function(l){return e.CHM(t),e.oxw().onModalResolve(l)}),e.qZA()}}const Fe=["multipleBillsReview"],Il=["bb-billpay-payment-multiple-bills-review-item",""];function Dl(_,i){1&_&&e.GkF(0)}function Pl(_,i){if(1&_&&(e.ynx(0),e.TgZ(1,"div",22),e._UZ(2,"bb-icon-ui",23),e.TgZ(3,"div",24),e.YNc(4,Dl,1,0,"ng-container",25),e.qZA()(),e.BQk()),2&_){const t=e.oxw(),n=e.MAs(30);e.xp6(2),e.Q6J("name",null!=t.payment&&t.payment.succeeded?"success":"error-outline")("color",null!=t.payment&&t.payment.succeeded?"success":"danger"),e.xp6(2),e.Q6J("ngTemplateOutlet",n)}}function Cl(_,i){1&_&&e.GkF(0)}function hl(_,i){1&_&&(e.TgZ(0,"td",27)(1,"span",28),e.SDv(2,29),e.qZA()())}function Ul(_,i){if(1&_&&(e.TgZ(0,"tr",0),e.YNc(1,hl,3,0,"td",26),e.qZA()),2&_){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!(null!=t.payment&&t.payment.succeeded))}}function vl(_,i){1&_&&e.GkF(0)}function Tl(_,i){if(1&_&&(e.TgZ(0,"div",30),e._UZ(1,"bb-icon-ui",31),e.TgZ(2,"div",24)(3,"div",32)(4,"span"),e.SDv(5,33),e.qZA()(),e.TgZ(6,"div",34),e._uU(7),e.qZA()()()),2&_){const t=e.oxw();e.xp6(7),e.hij(" ",null==t.payment?null:t.payment.memo," ")}}function Yl(_,i){if(1&_&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&_){const t=e.oxw().ngIf;e.xp6(1),e.Oqu(t.address2)}}function Jl(_,i){if(1&_&&(e.ynx(0),e.TgZ(1,"div",30),e._UZ(2,"bb-icon-ui",31),e.TgZ(3,"div",24)(4,"div",42),e.SDv(5,43),e.qZA(),e.TgZ(6,"div",44)(7,"div"),e._uU(8),e.qZA(),e.YNc(9,Yl,2,1,"div",16),e.TgZ(10,"div"),e._uU(11),e.qZA()()()(),e.BQk()),2&_){const t=i.ngIf;e.xp6(8),e.Oqu(t.address1),e.xp6(1),e.Q6J("ngIf",t.address2),e.xp6(2),e.lnq("",t.city,"\xa0",t.state,"\xa0",t.postalCode,"")}}function Gl(_,i){if(1&_&&(e.ynx(0),e.YNc(1,Jl,12,5,"ng-container",16),e.BQk()),2&_){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.payment?null:t.payment.overnightDeliveryAddress)}}function Fl(_,i){if(1&_&&(e.TgZ(0,"span"),e.SDv(1,49),e.ALo(2,"date"),e.qZA()),2&_){const t=e.oxw(2).ngIf,n=e.oxw();e.xp6(2),e.pQV(t.repeat)(t.repeat)(e.xi3(2,3,n.endDate,"mediumDate")),e.QtT(1)}}function Kl(_,i){1&_&&(e.TgZ(0,"span"),e.SDv(1,50),e.qZA())}function xl(_,i){1&_&&(e.TgZ(0,"li",56),e.SDv(1,57),e.qZA())}function wl(_,i){1&_&&(e.TgZ(0,"li",58),e.SDv(1,59),e.qZA())}function Zl(_,i){1&_&&(e.TgZ(0,"li",60),e.SDv(1,61),e.qZA())}function kl(_,i){if(1&_&&(e.ynx(0),e.TgZ(1,"div",51),e.SDv(2,52),e.qZA(),e.TgZ(3,"div")(4,"ul"),e.YNc(5,xl,2,0,"li",53),e.YNc(6,wl,2,0,"li",54),e.YNc(7,Zl,2,0,"li",55),e.qZA()(),e.BQk()),2&_){const t=e.oxw(2).ngIf;e.xp6(5),e.Q6J("ngIf",null==t?null:t.alertPendingCheckbox),e.xp6(1),e.Q6J("ngIf",null==t?null:t.alertSentCheckbox),e.xp6(1),e.Q6J("ngIf",null==t?null:t.alertLastPendingCheckbox)}}function Hl(_,i){if(1&_&&(e.ynx(0),e.TgZ(1,"div",30),e._UZ(2,"bb-icon-ui",38),e.TgZ(3,"div",24)(4,"div",45),e.SDv(5,46),e.qZA(),e.TgZ(6,"div",47),e.YNc(7,Fl,3,6,"span",2),e.YNc(8,Kl,2,0,"ng-template",null,48,e.W1O),e.qZA()()(),e.YNc(10,kl,8,3,"ng-container",16),e.BQk()),2&_){const t=e.MAs(9),n=e.oxw().ngIf;e.xp6(7),e.Q6J("ngIf",null==n?null:n.repeat)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",(null==n?null:n.alertPendingCheckbox)||(null==n?null:n.alertSentCheckbox)||(null==n?null:n.alertLastPendingCheckbox))}}function Wl(_,i){if(1&_&&(e.ynx(0),e.TgZ(1,"div",30),e._UZ(2,"bb-icon-ui",35),e.TgZ(3,"div",24)(4,"div",32)(5,"span"),e.SDv(6,36),e.qZA()(),e.TgZ(7,"div",37),e._uU(8),e.qZA()()(),e.YNc(9,Gl,2,1,"ng-container",16),e.TgZ(10,"div",30),e._UZ(11,"bb-icon-ui",38),e.TgZ(12,"div",24)(13,"div",39),e.SDv(14,40),e.qZA(),e.TgZ(15,"div",41),e._uU(16),e.ALo(17,"date"),e.qZA()()(),e.YNc(18,Hl,11,3,"ng-container",16),e.BQk()),2&_){const t=i.ngIf,n=e.oxw();e.xp6(8),e.hij(" ",n.frequencyLabel," "),e.xp6(1),e.Q6J("ngIf","ONCE"===t.frequency),e.xp6(5),e.pQV(t.frequency),e.QtT(14),e.xp6(2),e.hij(" ",e.xi3(17,5,t.startDate,"mediumDate")," "),e.xp6(2),e.Q6J("ngIf","ONCE"!==t.frequency)}}function ql(_,i){1&_&&e._UZ(0,"tr",62)}function $l(_,i){if(1&_&&e._UZ(0,"bb-amount-ui",69),2&_){const t=i.ngIf;e.Q6J("currency",null==t?null:t.currency)("amount",null==t?null:t.amount)}}function Ql(_,i){if(1&_&&(e.TgZ(0,"span",66),e.YNc(1,$l,1,2,"bb-amount-ui",67),e.TgZ(2,"span"),e.SDv(3,68),e.qZA(),e._uU(4),e.ALo(5,"bbDate"),e.qZA()),2&_){const t=i.ngIf,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==n.payment||null==n.payment.payeeTo||null==n.payment.payeeTo.ebill||null==n.payment.payeeTo.ebill.latestBill?null:n.payment.payeeTo.ebill.latestBill.minAmountDue),e.xp6(3),e.hij(" ",e.xi3(5,2,t,"MMM d")," ")}}function zl(_,i){if(1&_&&(e.ynx(0),e.TgZ(1,"label",63),e._uU(2),e.qZA(),e.TgZ(3,"div",22),e._UZ(4,"bb-icon-ui",64),e.YNc(5,Ql,6,5,"span",65),e.qZA(),e.BQk()),2&_){const t=e.oxw(2);e.xp6(2),e.Oqu((null==t.payment||null==t.payment.payeeTo?null:t.payment.payeeTo.nickName)||(null==t.payment||null==t.payment.payeeTo?null:t.payment.payeeTo.name)),e.xp6(3),e.Q6J("ngIf",null==t.payment||null==t.payment.payeeTo||null==t.payment.payeeTo.ebill||null==t.payment.payeeTo.ebill.latestBill?null:t.payment.payeeTo.ebill.latestBill.paymentDate)}}function Vl(_,i){if(1&_&&e.YNc(0,zl,6,2,"ng-container",2),2&_){const t=e.oxw(),n=e.MAs(30);e.Q6J("ngIf",(null==t.payment||null==t.payment.payeeTo||null==t.payment.payeeTo.ebill?null:t.payment.payeeTo.ebill.enabled)&&"PAID"!==(null==t.payment||null==t.payment.payeeTo||null==t.payment.payeeTo.ebill||null==t.payment.payeeTo.ebill.latestBill?null:t.payment.payeeTo.ebill.latestBill.status)&&(null==t.payment||null==t.payment.payeeTo||null==t.payment.payeeTo.ebill||null==t.payment.payeeTo.ebill.latestBill?null:t.payment.payeeTo.ebill.latestBill.paymentDate))("ngIfElse",n)}}function jl(_,i){if(1&_&&(e.TgZ(0,"label",70),e._uU(1),e.qZA()),2&_){const t=e.oxw();e.xp6(1),e.Oqu((null==t.payment||null==t.payment.payeeTo?null:t.payment.payeeTo.nickName)||(null==t.payment||null==t.payment.payeeTo?null:t.payment.payeeTo.name))}}function Xl(_,i){if(1&_&&e._UZ(0,"bb-amount-ui",71),2&_){const t=i.amount;e.Q6J("currency",t.currency)("amount",t.amount)}}function ea(_,i){if(1&_&&e._UZ(0,"tbody",17),2&_){const t=i.$implicit;e.Q6J("last",i.last)("payment",t)}}function ta(_,i){if(1&_&&(e.ynx(0),e.TgZ(1,"div",9)(2,"picture"),e._UZ(3,"source",10)(4,"img",11),e.qZA(),e._UZ(5,"bb-header-ui",12),e.TgZ(6,"span",13),e._uU(7),e.qZA()(),e.BQk()),2&_){const t=e.oxw();e.xp6(3),e.s9C("srcset",t.successImgNoMotion,e.LSH),e.xp6(1),e.s9C("srcset",t.successImg+"?"+t.id,e.LSH),e.xp6(3),e.Oqu(t.successMsg)}}function _a(_,i){if(1&_&&(e.TgZ(0,"div",14),e._UZ(1,"bb-header-ui",15),e.TgZ(2,"span",13),e.SDv(3,16),e.qZA()(),e.TgZ(4,"div",17),e._UZ(5,"bb-billpay-payment-multiple-bills-review-table",18),e.qZA()),2&_){const t=e.oxw();e.xp6(1),e.Q6J("heading",t.mixedMsg),e.xp6(4),e.Q6J("payments",t.payments)}}function na(_,i){1&_&&e.GkF(0)}function ia(_,i){1&_&&(e.TgZ(0,"bb-alert-ui",12),e.NdJ("close",function(){return!1}),e.qZA())}function la(_,i){if(1&_&&(e.TgZ(0,"div",6)(1,"div",7)(2,"div",null,8),e.YNc(4,ia,1,0,"bb-alert-ui",9),e.qZA(),e._UZ(5,"bb-billpay-payment-multiple-bills-review-table",10),e.qZA()(),e._UZ(6,"bb-billpay-payment-multiple-bills-sum-board",11),e.ALo(7,"async")),2&_){const t=e.oxw().ngIf,n=e.MAs(5),l=e.oxw();e.xp6(4),e.Q6J("ngIf",l.paymentError),e.xp6(1),e.Q6J("payments",t),e.xp6(1),e.Q6J("totalAmount",e.lcZ(7,5,l.totalAmount$))("actionButtons",n)("inheritedId",l.id)}}function aa(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"div")(1,"div",13)(2,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onCancel()}),e.SDv(3,15),e.qZA(),e.TgZ(4,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onEdit()}),e.SDv(5,17),e.qZA(),e.TgZ(6,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onEdit()}),e.tHW(7,19),e._UZ(8,"bb-icon-ui",20),e.N_p(),e.qZA(),e.TgZ(9,"bb-load-button-ui",21),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().ngIf;return e.oxw().onPaymentConfirm(l)}),e.TgZ(10,"span",22),e.SDv(11,23),e.qZA(),e.TgZ(12,"span",24),e.SDv(13,25),e.qZA()()()()}if(2&_){const t=e.oxw(2);e.xp6(6),e.Q6J("circle",!0),e.xp6(3),e.zWS("aria-describedby","total-amount-label-",t.id,"  total-amount-",t.id,""),e.Q6J("isLoading",t.submittingPayment)}}function oa(_,i){if(1&_&&e._UZ(0,"bb-billpay-payment-multiple-bills-success",26),2&_){const t=e.oxw(2);e.Q6J("results",t.results)}}function sa(_,i){if(1&_&&(e.ynx(0),e.YNc(1,na,1,0,"ng-container",2),e.YNc(2,la,8,7,"ng-template",null,3,e.W1O),e.YNc(4,aa,14,4,"ng-template",null,4,e.W1O),e.YNc(6,oa,1,1,"ng-template",null,5,e.W1O),e.BQk()),2&_){const t=e.MAs(3),n=e.MAs(7),l=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",null!=l.results&&l.results.length?n:t)}}function ra(_,i){if(1&_){const t=e.EpF();e.TgZ(0,"bb-billpay-payment-discard-changes-modal",27),e.NdJ("resolve",function(l){return e.CHM(t),e.oxw().onModalResolve(l)}),e.qZA()}}class Ke{}let J=(()=>{class _{constructor(t,n,l){this.router=t,this.route=n,this.communicationService=l,this.routeParams=(0,C.a)([this.getRouteParam(this.route,"payee"),this.getRouteParam(this.route,"id")]).pipe((0,T.U)(([a,s])=>{const r=s?"edit":"new",E=this.extractPaymentTypeFromId(s,a),u=s&&s.substring(2)||"",y=a&&a.substring(2)||"";return Object.assign(Object.assign({pageType:r,paymentType:E},!!u&&{paymentId:u}),!!y&&{payeeId:y})})),this.defaultRelative={relativeTo:this.route}}navigateToEditRecurringForm(t,n){this.router.navigate(["recurring","edit",t],n||this.defaultRelative)}navigateToEditRecurringReview(t,n){this.router.navigate(["recurring","edit",t,"review"],n||this.defaultRelative)}navigateToEditOneOffForm(t,n){this.router.navigate(["one-off","edit",t],n||this.defaultRelative)}navigateToEditOneOffReview(t,n){this.router.navigate(["one-off","edit",t,"review"],n||this.defaultRelative)}navigateToForm(t){this.router.navigate(["form"],t||this.defaultRelative)}navigateToReview(t){this.router.navigate(["review"],t||this.defaultRelative)}navigateToPayeeList(){var t;null===(t=this.communicationService)||void 0===t||t.navigateToPayeesList()}navigateToPayments(){var t;null===(t=this.communicationService)||void 0===t||t.navigateToPaymentsList()}navigateToAddPayee(){var t;null===(t=this.communicationService)||void 0===t||t.navigateToAddPayee()}navigateToMainAppPage(){var t;null===(t=this.communicationService)||void 0===t||t.navigateToMainAppPage()}navigateToEditManualPayee(t){var n;null===(n=this.communicationService)||void 0===n||n.navigateToEditManualPayee(t)}navigateToEditElectronicPayee(t){var n;null===(n=this.communicationService)||void 0===n||n.navigateToEditElectronicPayee(t)}navigateToPayeeSummary(t){var n;null===(n=this.communicationService)||void 0===n||n.navigateToPayeeSummary(t)}navigateToPayverisEbillEnrol(t){var n;null===(n=this.communicationService)||void 0===n||n.navigateToPayverisEbillEnrol(t)}extractPaymentTypeFromId(t,n){return(t||n)&&"r"===(t||n).substring(0,1)?o.Oq:o.N$}getRouteParam(t,n){const l=t.paramMap.pipe((0,T.U)(a=>a.get(n)));return t.parent?(0,C.a)([l,this.getRouteParam(t.parent,n)]).pipe((0,T.U)(a=>a[0]||a[1])):l}}return _.\u0275fac=function(t){return new(t||_)(e.LFG(v.F0),e.LFG(v.gz),e.LFG(Ke,8))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac}),_})(),ca=(()=>{class _{constructor(t,n,l){this.navigationService=t,this.route=n,this.billpayNotificationRoutingService=l,this.destroy$=new B.x}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngOnInit(){this.setupNavigationSubscriptions()}setupNavigationSubscriptions(){this.billpayNotificationRoutingService.upcommingPaymentsSubject$.pipe((0,O.R)(this.destroy$)).subscribe(()=>this.navigationService.navigateToPayments()),this.route.paramMap.pipe((0,O.R)(this.destroy$)).subscribe(t=>{t.has("editRecurringPayment")?this.navigationService.navigateToEditRecurringForm(t.get("editRecurringPayment")):t.has("editOneOffPayment")&&this.navigationService.navigateToEditOneOffForm(t.get("editOneOffPayment"))}),this.billpayNotificationRoutingService.managePayeesSubject$.pipe((0,O.R)(this.destroy$)).subscribe(()=>{this.navigationService.navigateToAddPayee()})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(J),e.Y36(v.gz),e.Y36(o.qx))},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-pay-bills-journey"]],features:[e._Bn([J])],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},directives:[v.lC],encapsulation:2}),_})();const xe=new e.OlP("PayBillsJourneyConfigurationToken injection token"),we={notificationDismissTime:5e3,accountNumberMasked:!1,paymentDetailsTitle:"Payment details",paymentDefaultCurrency:"USD",multipleBillsMode:!1,productNumberFormat:o.JR,frequencies:[{name:"Once",value:o.yA.Once},{name:"Weekly",value:o.yA.Weekly},{name:"Every two weeks",value:o.yA.Biweekly},{name:"Monthly",value:o.yA.Monthly}]};let w=(()=>{class _{constructor(t){t=t||{},this._config=Object.assign(Object.assign({},we),t)}get defaults(){return we}get notificationDismissTime(){return this._config.notificationDismissTime}get accountNumberMasked(){return this._config.accountNumberMasked}get paymentDetailsTitle(){return this._config.paymentDetailsTitle}get paymentDefaultCurrency(){return this._config.paymentDefaultCurrency}get multipleBillsMode(){return this._config.multipleBillsMode}get productNumberFormat(){return this._config.productNumberFormat}get frequencies(){return this._config.frequencies}}return _.\u0275fac=function(t){return new(t||_)(e.LFG(xe,8))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac}),_})(),Ze=(()=>{class _{constructor(t){this.config=t}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(w))},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-billpay-enrolment-view"]],decls:3,vars:1,consts:function(){let i;return i="Enrol in bill pay",[[1,"bb-block","bb-block--lg"],["headingType","h1","heading",i],[3,"notificationDismissTime"]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-header-ui",1),e.qZA(),e._UZ(2,"bb-billpay-enrolment",2)),2&t&&(e.xp6(2),e.Q6J("notificationDismissTime",null==n.config?null:n.config.notificationDismissTime))},directives:[Z.G,o.KH],encapsulation:2}),_})(),H=(()=>{class _{constructor(){this.paymentStateSource=new W.X(void 0),this.paymentState=this.paymentStateSource.asObservable(),this.isFormProcessingValue=!1}set isFormProcessing(t){this.isFormProcessingValue=t}get isFormProcessing(){return this.isFormProcessingValue}updatePaymentState(t){this.paymentStateSource.next(t)}reset(){this.isFormProcessing=!1,this.updatePaymentState()}}return _.\u0275fac=function(t){return new(t||_)},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac}),_})(),ke=(()=>{class _{constructor(){this.isSubmitted=!1,this.eBillDefaultCurrency="USD",this.id=o.zh.generateId()}ngOnInit(){this.customValue={amount:"",currency:this.eBillDefaultCurrency,type:void 0}}setAmount(t){if(this.customValue.type=t,"Custom"===t)this.setCustomAmount(this.customValue.amount);else{const n=this.getAmount(t);n&&this.setValue({amount:n.amount,currency:n.currencyCode,type:t})}}setCustomAmount(t){this.customValue.amount=t,this.setValue(Object.assign(Object.assign({},this.customValue),{type:"Custom"}))}get showBalance(){return!(!this.latestBill||!this.isDifferentAndNonZero(this.latestBill.outstandingBalance,this.latestBill.amount))}get showMinumum(){return!(!this.latestBill||!this.isDifferentAndNonZero(this.latestBill.minAmountDue,this.latestBill.amount))}isDifferentAndNonZero(t,n){return!(!t||!n||t.amount===n.amount||0==+t.amount)}setValue(t){this.control&&this.control.setValue(t)}getAmount(t){switch(t){case"Minimum":return this.latestBill&&this.latestBill.minAmountDue;case"Balance":return this.latestBill&&this.latestBill.outstandingBalance;default:return this.latestBill&&this.latestBill.amount}}}return _.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-billpay-ebill-payment"]],inputs:{latestBill:"latestBill",control:"control",isSubmitted:"isSubmitted",eBillDefaultCurrency:"eBillDefaultCurrency"},decls:15,vars:13,consts:function(){let i,t,n,l,a,s,r,E,u,y;return i=" eBill due on " + "\ufffd0\ufffd" + ". ",t=" eBill amount due ",n=" Amount due on the latest billing cycle ",l=" Total payee balance ",a=" Total amount owed ",s=" eBill minimum payment ",r=" 5% of the total balance ",E=" Other amount ",u=" Enter amount manually ",y=" Payment amount cannot be zero. ",[["modifier","info","title",""],["data-role","ebill-info-alert",1,"bb-text-bold"],i,["data-role","ebill-payment-group",3,"required","ngModel","preselect","ngModelChange"],["value","Due",3,"labelTemplate"],["ebillPaymentDueLabelTemplate",""],["value","Balance",3,"labelTemplate",4,"ngIf"],["value","Minimum",3,"labelTemplate",4,"ngIf"],["value","Custom",3,"labelTemplate"],["ebillPaymentOtherLabelTemplate",""],["role","alert",3,"showErrors"],["data-role","invalid-amount",4,"ngIf"],[1,"pl-2","bb-stack","bb-stack--wrap"],["data-role","ebill-due-message",1,"bb-stack__item","bb-stack__item--fill"],t,[1,"bb-text-support","bb-subtitle","bb-input-radio-group__radio-label"],n,[1,"bb-stack__item","bb-stack__break--sm-down"],["data-role","ebill-due-message-amount",3,"amount","currency"],["value","Balance",3,"labelTemplate"],["ebillPaymentBalanceLabelTemplate",""],["data-role","ebill-balance-message",1,"bb-stack__item","bb-stack__item--fill"],l,a,["data-role","ebill-balance-message-amount",3,"amount","currency"],["value","Minimum",3,"labelTemplate"],["ebillPaymentMinimumLabelTemplate",""],["data-role","ebill-minimum-message",1,"bb-stack__item","bb-stack__item--fill"],s,r,["data-role","ebill-minimum-message-amount",3,"amount","currency"],[1,"pl-2","bb-form-field","bb-form-field--md"],["data-role","ebill-custom-message"],E,u,[4,"ngIf"],[1,"position-relative"],["data-role","ebill-amount-input","wrapperClasses","bb-amount-input__field--large",3,"ngModel","autoDecimal","currency","required","aria-describedby","placeholder","ngModelChange","focusout"],[3,"id","showErrors"],["data-role","invalid-amount"],y]},template:function(t,n){if(1&t&&(e.TgZ(0,"bb-alert-ui",0)(1,"span",1),e.SDv(2,2),e.ALo(3,"bbDate"),e.qZA()(),e.TgZ(4,"bb-input-radio-group-ui",3),e.NdJ("ngModelChange",function(a){return n.setAmount(a)}),e.TgZ(5,"bb-input-radio-ui",4),e.YNc(6,Mt,8,2,"ng-template",null,5,e.W1O),e.qZA(),e.YNc(8,Ot,3,1,"bb-input-radio-ui",6),e.YNc(9,Dt,3,1,"bb-input-radio-ui",7),e.TgZ(10,"bb-input-radio-ui",8),e.YNc(11,Ct,6,1,"ng-template",null,9,e.W1O),e.qZA()(),e.TgZ(13,"bb-input-validation-message-ui",10),e.YNc(14,ht,2,0,"p",11),e.qZA()),2&t){const l=e.MAs(7),a=e.MAs(12);e.xp6(3),e.pQV(e.xi3(3,10,null==n.latestBill?null:n.latestBill.paymentDate,"fullDate")),e.QtT(2),e.xp6(1),e.Q6J("required",!0)("ngModel",null==n.control||null==n.control.value?null:n.control.value.type)("preselect",!1),e.xp6(1),e.Q6J("labelTemplate",l),e.xp6(3),e.Q6J("ngIf",n.showBalance),e.xp6(1),e.Q6J("ngIf",n.showMinumum),e.xp6(1),e.Q6J("labelTemplate",a),e.xp6(3),e.Q6J("showErrors",n.isSubmitted&&(null==n.control?null:n.control.invalid)),e.xp6(1),e.Q6J("ngIf",!(null!=n.control&&null!=n.control.errors&&n.control.errors.amountInvalid))}},directives:[k.w,ee.Af,ee.f2,_e.G4,oe.l,te.d,S.Q7,S.JJ,S.On,d.O5],pipes:[se.y],encapsulation:2}),_})(),He=(()=>{class _{constructor(){this.isSingleTransfer=!0,this.minOccurrences=1}get frequencyLabel(){var t;const n=null===(t=this.frequencies)||void 0===t?void 0:t.find(l=>{var a;return(null===(a=this.item)||void 0===a?void 0:a.frequency)===l.value});return "" + ((null == n ? void 0 : n.name) || "") + ""}get startDate(){var t,n,l;const a=String((null===(t=this.item)||void 0===t?void 0:t.frequency)===o.yA.Once&&(null===(n=this.item.paymentService)||void 0===n?void 0:n.index)!==o.ag.Other&&this.item.paymentServiceDate||(null===(l=this.item)||void 0===l?void 0:l.startDate));return this.item&&a||void 0}get endDate(){return this.item&&this.item.endDate&&Date.parse(this.item.endDate)?new Date(this.item.endDate):void 0}isToday(){if(void 0===this.item)throw new Error("`item` input is required in `bb-schedule-label-ui` component");const t=(new Date).setHours(0,0,0,0);return new Date(this.item.startDate).setHours(0,0,0,0)===t}hasEnd(){return!!this.item&&(void 0!==this.item.endDate||void 0!==this.item.repeat)}hasLimit(){return this.hasEnd()&&!this.isSingleTransfer}}return _.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-schedule-label-ui"]],inputs:{item:"item",isSingleTransfer:"isSingleTransfer",minOccurrences:"minOccurrences",frequencies:"frequencies"},decls:11,vars:10,consts:function(){let i,t,n,l,a,s;return i="{VAR_SELECT, select, ONCE {Once} WEEKLY {Weekly} EVERY_2_WEEKS {Every two weeks} MONTHLY {Monthly} EVERY_4_WEEKS {Every for weeks} TWICE_A_MONTH {Semi monthly} EVERY_2_MONTHS {Every two months} EVERY_3_MONTHS {Every three months} EVERY_6_MONTHS {Every six months} ANNUALLY {Annually}}",i=e.Zx4(i,{VAR_SELECT:"\ufffd0\ufffd"}),t=" " + i + ", ",n="\xA0on",l="\xA0starting",a="Until\xA0" + "\ufffd0\ufffd" + "",s="{VAR_PLURAL, plural, =1 {{INTERPOLATION} time} other {{INTERPOLATION} times}}",s=e.Zx4(s,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),[[4,"ngIf","ngIfElse"],["defaultLabels",""],[4,"ngIf"],t,n,l,a,s]},template:function(t,n){if(1&t&&(e.TgZ(0,"span"),e.YNc(1,Ut,2,1,"ng-container",0),e.YNc(2,vt,2,1,"ng-template",null,1,e.W1O),e.qZA(),e.YNc(4,Tt,3,0,"ng-container",2),e.YNc(5,Yt,3,0,"ng-container",2),e.TgZ(6,"span"),e._uU(7),e.ALo(8,"date"),e.qZA(),e.YNc(9,Jt,5,4,"ng-container",2),e.YNc(10,Gt,4,2,"ng-container",2)),2&t){const l=e.MAs(3);e.xp6(1),e.Q6J("ngIf",n.frequencyLabel)("ngIfElse",l),e.xp6(3),e.Q6J("ngIf",n.isSingleTransfer),e.xp6(1),e.Q6J("ngIf",!n.isSingleTransfer),e.xp6(2),e.hij("\xa0",e.xi3(8,7,n.startDate,"mediumDate"),""),e.xp6(2),e.Q6J("ngIf",n.hasLimit()&&(null==n.item?null:n.item.endDate)),e.xp6(1),e.Q6J("ngIf",n.hasLimit()&&((null==n.item?null:n.item.repeat)||0)>=n.minOccurrences)}},directives:[d.O5],pipes:[d.uU],encapsulation:2}),_})(),We=(()=>{class _{constructor(t){this.scheduleService=t,this.startDateLabelId=o.zh.generateId(),this.endingLabelId=o.zh.generateId(),this.id=o.zh.generateId(),this.defaultPaymentServiceType=o.ag.Regular,this.formSubmitted=!1,this.destroy$=new B.x}get paymentServiceRadios(){return this._paymentServiceRadios}get frequencyValues(){return o.yA}get endTypes(){return o.J6}get item(){return this.scheduleForm&&this.scheduleForm.getRawValue()}get paymentServicesTypes(){return o.ag}setDefaultPaymentServiceValue(t,n){const l=this.scheduleForm&&this.scheduleForm.controls.paymentService;l&&l.setValue(this.paymentServiceRadios&&this.paymentServiceRadios.find(a=>!(!a.service||a.index!==(t||l.value.index))),n)}ngOnInit(){if(void 0===this.scheduleForm)throw new Error("`scheduleForm` input is required in `bb-schedule-ui` component");if(void 0===this.frequencies)throw new Error("`frequencies` input is required in `bb-schedule-ui` component");this.processEndTypeValueChanges(),this.processPaymentServiceValueChanges(),this.processFrequencyValueChanges()}ngOnChanges(t){if(t.paymentServices){const n=!this.paymentServiceRadios,l=t.paymentServices.currentValue;this._paymentServiceRadios=l&&l.map(a=>({index:a.paymentServiceType||"",service:a})),this._paymentServiceRadios&&this._paymentServiceRadios.push({index:o.ag.Other,service:l&&l.find(a=>a.paymentServiceType===o.ag.Regular)}),this.setDefaultPaymentServiceValue(this.defaultPaymentServiceType,{emitEvent:!n})}}processEndTypeValueChanges(){if(!this.scheduleForm)return;const t=this.scheduleForm.controls.endType,n=this.scheduleForm.controls.endDate,l=this.scheduleForm.controls.repeat;t&&n&&l&&t.valueChanges.pipe((0,O.R)(this.destroy$)).subscribe(a=>{switch(a){case o.J6.After:l.enable(o.hi),n.disable(o.hi);break;case o.J6.On:n.enable(o.hi),l.disable(o.hi);break;default:n.disable(o.hi),l.disable(o.hi)}})}processPaymentServiceValueChanges(){if(!this.scheduleForm)return;const t=this.scheduleForm.controls.startDate,n=this.scheduleForm.controls.paymentService,l=this.scheduleForm.controls.paymentServiceDate,a=this.scheduleForm.controls.frequency;t&&n&&l&&a&&n.valueChanges.pipe((0,O.R)(this.destroy$)).subscribe(r=>{r.index===o.ag.Other?(t.enable(o.hi),l.disable(o.hi)):(l.enable(o.hi),a.value===o.yA.Once&&t.disable(o.hi),l.setValue(this.getEstimatedStartDate(r.service.paymentServiceType)))})}processFrequencyValueChanges(){if(!this.scheduleForm)return;const t=this.scheduleForm.controls.endType,n=this.scheduleForm.controls.endDate,l=this.scheduleForm.controls.repeat,a=this.scheduleForm.controls.startDate,s=this.scheduleForm.controls.paymentService,r=this.scheduleForm.controls.frequency,E=this.scheduleForm.controls.paymentServiceDate;a&&r&&s&&t&&n&&r.valueChanges.pipe((0,O.R)(this.destroy$)).subscribe(u=>{u===o.yA.Once?(s.enable(o.hi),s.updateValueAndValidity(),E.enable(o.hi),n.disable(o.hi),t.disable(o.hi),l.disable(o.hi)):(s.disable(o.hi),E.disable(o.hi),a.enable(o.hi),n.enable(o.hi),l.enable(o.hi),t.enable())})}getEstimatedStartDate(t){const n=this.paymentServiceRadios&&this.paymentServiceRadios.map(l=>l.service);return this.scheduleService.estimatedPaymentServiceDate(n,t)}getEstimatedEndDate(){const t=this.scheduleForm&&this.scheduleForm.controls.startDate.value;return t&&this.scheduleService.estimatedEndDate(t,this.scheduleForm&&this.scheduleForm.controls.frequency.value,this.scheduleForm&&this.scheduleForm.controls.repeat.value)}getEstimatedOccurs(){const t=this.scheduleForm&&this.scheduleForm.controls.startDate.value;return t&&this.scheduleService.estimatedOccurences(t,this.scheduleForm&&this.scheduleForm.controls.endDate.value,this.scheduleForm&&this.scheduleForm.controls.frequency.value)||0}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(o.Hx))},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-schedule-ui"]],inputs:{frequencies:"frequencies",minOccurs:"minOccurs",maxOccurs:"maxOccurs",scheduleForm:"scheduleForm",minDate:"minDate",defaultPaymentServiceType:"defaultPaymentServiceType",formSubmitted:"formSubmitted",paymentServices:"paymentServices"},features:[e.TTD],decls:32,vars:19,consts:function(){let i,t,n,l,a,s,r,E,u,y,b,M,g,R,G,I,h,q,$,Q,D,Ee,ue,de,Ae,Se,L,mt;return i=" Execution date ",t=" End ",n="Never",l=" Notify me ",a="When a payment is pending",s="When a payment has been sent",r="When the last payment is pending",E=" Frequency ",u="{VAR_SELECT, select, REGULAR_PAYMENT {Earliest free delivery} EXPEDITED_PAYMENT {Rush payment} OVERNIGHT_CHECK {Overnight check}}",u=e.Zx4(u,{VAR_SELECT:"\ufffd0\ufffd"}),y=" " + u + " ",b=" Delivery by " + "\ufffd0\ufffd" + " ",M="\xA0-\xA0" + "\ufffd0\ufffd" + "\xA0fee",g="Other date",R=" Execution date is required. ",G=" Execution date cannot be before delivery date. ",I=" Invalid date format. ",h=" Execution date is required. ",q=" Execution date cannot be before delivery date. ",$=" Invalid date format. ",Q="On",D="end-date",Ee=" End date could not be lower than start date. ",ue=" Invalid date format. ",de=" End date is required. ",Ae=" After ",Se=" Estimated end date " + "\ufffd0\ufffd" + " ",L="{VAR_PLURAL, plural, =1 {{INTERPOLATION} payment in total } other {{INTERPOLATION} payments in total }}",L=e.Zx4(L,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),mt=" " + L + " ",[[1,"bb-block","bb-block--md",3,"formGroup"],["class","bb-form-field bb-form-field--md bb-block bb-block--md",4,"ngIf"],[1,"bb-block","bb-block--md",3,"hidden"],["data-role","payment-date-label",1,"bb-label"],i,["data-role","once-payment-group","formControlName","paymentService","aria-label","once-date-type",3,"required"],["aria-invalid","false",3,"value","labelTemplate",4,"ngFor","ngForOf"],["class","bb-block bb-block--md",4,"ngIf"],["data-role","ending-label",1,"bb-label",3,"id"],t,[1,"bb-stack","bb-stack--align-bottom"],[1,"bb-stack__item"],["formControlName","endType",3,"required"],["label",n,"aria-invalid","false",3,"value"],["aria-invalid","false",3,"value","labelTemplate"],["endingTemplate",""],["afterTemplate",""],[4,"ngIf"],["data-role","notify-me-label",1,"bb-text-bold"],l,[1,"bb-block","bb-block--xs"],["label",a,"formControlName","alertPendingCheckbox",3,"id"],["label",s,"formControlName","alertSentCheckbox",3,"id"],["label",r,"formControlName","alertLastPendingCheckbox",3,"id"],[1,"bb-form-field","bb-form-field--md","bb-block","bb-block--md"],["data-role","frequency-label",1,"form-label"],E,["data-role","frequency-dropdown","aria-label","frequency","formControlName","frequency"],[3,"value","label",4,"ngFor","ngForOf"],[3,"value","label"],["paymentServiceLabelTemplate",""],["paymentServiceOtherLabelTemplate",""],[1,"bb-text-align-left"],["data-role","payment-option"],y,["data-role","delivery-by",1,"bb-text-support","bb-subtitle"],b,M,[1,"bb-stack"],["data-role","other-date-label",1,"bb-stack__item","bb-text-bold",3,"id"],g,["formControlName","startDate","data-role","once-start-date-calendar","aria-label","start-date","placement","top-right",3,"minDate","aria-labelledby","datepickerDescribedby","click"],["role","alert",3,"id","showErrors"],["data-role","missing-schedule-execution-date",4,"ngIf"],["data-role","past-date-schedule-execution-date",4,"ngIf"],["data-role","invalid-date-schedule-execution-date",4,"ngIf"],["data-role","missing-schedule-execution-date"],R,["data-role","past-date-schedule-execution-date"],G,["data-role","invalid-date-schedule-execution-date"],I,[1,"bb-block","bb-block--md"],[1,"bb-text-bold",3,"id"],["data-role","start-date-label",3,"id",4,"ngIf"],[1,"bb-form-field","bb-form-field--sm"],["formControlName","startDate","data-role","start-date-calendar",3,"aria-labelledby","minDate","datepickerDescribedby"],["data-role","start-date-label",3,"id"],h,q,$,["data-role","ending-date-on-label",1,"bb-stack__item","bb-stack__item--spacing-lg",3,"id"],Q,["formControlName","endDate","data-role","ending-end-date","aria-label",D,"placement","top-right",3,"minDate","aria-labelledby"],["role","alert",3,"showErrors",4,"ngIf"],["role","alert",3,"showErrors"],["data-role","past-date-ending-end-date",4,"ngIf"],["data-role","invalid-date-schedule-end-date",4,"ngIf"],["data-role","required-date-schedule-end-date",4,"ngIf"],["data-role","past-date-ending-end-date"],Ee,["data-role","invalid-date-schedule-end-date"],ue,["data-role","required-date-schedule-end-date"],de,[1,"bb-stack__item","bb-stack__item--spacing-sm"],Ae,[1,"bb-stack__item","bb-form-field","bb-form-field--xs"],["formControlName","repeat","data-role","ending-occurrences","aria-label","occurrences",3,"min","max"],["modifier","info","title",""],["class","bb-text-bold","data-role","estimated-end-date-label",4,"ngIf"],["class","bb-text-bold",4,"ngIf"],["data-role","estimated-end-date-label",1,"bb-text-bold"],Se,[1,"bb-text-bold"],mt]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Kt,5,1,"div",1),e.TgZ(2,"div",2)(3,"label",3),e.SDv(4,4),e.qZA(),e.TgZ(5,"bb-input-radio-group-ui",5),e.YNc(6,qt,5,2,"bb-input-radio-ui",6),e.qZA()(),e.YNc(7,jt,9,11,"div",7),e.TgZ(8,"div",2)(9,"label",8),e.SDv(10,9),e.qZA(),e.TgZ(11,"div",10)(12,"div",11)(13,"bb-input-radio-group-ui",12),e._UZ(14,"bb-input-radio-ui",13)(15,"bb-input-radio-ui",14)(16,"bb-input-radio-ui",14),e.YNc(17,n_,6,4,"ng-template",null,15,e.W1O),e.YNc(19,i_,9,2,"ng-template",null,16,e.W1O),e.qZA()()()(),e.YNc(21,o_,4,2,"div",17),e.TgZ(22,"div",2)(23,"label",18),e.SDv(24,19),e.qZA(),e.TgZ(25,"div")(26,"div",20),e._UZ(27,"bb-input-checkbox-ui",21),e.qZA(),e.TgZ(28,"div",20),e._UZ(29,"bb-input-checkbox-ui",22),e.qZA(),e.TgZ(30,"div"),e._UZ(31,"bb-input-checkbox-ui",23),e.qZA()()()()),2&t){const l=e.MAs(18),a=e.MAs(20);e.Q6J("formGroup",n.scheduleForm),e.xp6(1),e.Q6J("ngIf",null==n.frequencies?null:n.frequencies.length),e.xp6(1),e.Q6J("hidden",(null==n.item?null:n.item.frequency)!==n.frequencyValues.Once),e.xp6(3),e.Q6J("required",!0),e.xp6(1),e.Q6J("ngForOf",n.paymentServiceRadios),e.xp6(1),e.Q6J("ngIf",(null==n.item?null:n.item.frequency)!==n.frequencyValues.Once),e.xp6(1),e.Q6J("hidden",(null==n.item?null:n.item.frequency)===n.frequencyValues.Once),e.xp6(1),e.s9C("id",n.endingLabelId),e.xp6(4),e.Q6J("required",!0),e.xp6(1),e.Q6J("value",n.endTypes.Never),e.xp6(1),e.Q6J("value",n.endTypes.On)("labelTemplate",l),e.xp6(1),e.Q6J("value",n.endTypes.After)("labelTemplate",a),e.xp6(5),e.Q6J("ngIf",(null==n.item?null:n.item.frequency)!==n.frequencyValues.Once&&(null==n.item?null:n.item.endType)!==n.endTypes.Never&&(null==n.item?null:n.item.startDate)),e.xp6(1),e.Q6J("hidden",(null==n.item?null:n.item.frequency)===n.frequencyValues.Once),e.xp6(5),e.Q6J("id","alertPendingCheckbox"),e.xp6(2),e.Q6J("id","alertSentCheckbox"),e.xp6(2),e.Q6J("id","alertLastPendingCheckbox")}},directives:[ie.Pp,ie.MM,ee.Af,ee.f2,x.sO,te.d,ge.l,k.w,Oe.r,S.JL,S.sg,d.O5,S.JJ,S.u,d.sg,S.Q7,x.Mt],pipes:[d.H9,d.uU],encapsulation:2}),_})(),Re=(()=>{class _{constructor(t,n){this.fb=t,this.scheduleService=n,this.selectedPayeeId="",this.paymentId="",this.accountNumberMask=!0,this.isEditPayment=!1,this.paymentDetailsTitle="Payment details",this.paymentDefaultCurrency="USD",this.submitPayment=new e.vpe,this.cancelPayment=new e.vpe,this.valueChanged=new e.vpe,this.paymentForm=this.fb.group({}),this.formSubmitted=!1,this.minDate$=new W.X(this.scheduleService.today),this.selectedAccount$=new W.X(void 0),this.selectedPayee$=new W.X(void 0),this.destroy$=new B.x,this.maxOccurs=999,this.minOccurs=1,this.id=o.zh.generateId()}set frequencies(t){this._frequencies=t}get frequencies(){const n=this._frequencies?this._frequencies:o.y7;return this.isEditPayment&&this.paymentType===o.Oq?n.filter(l=>l.value!==o.yA.Once):n}ngOnInit(){this.defaultAmount={amount:"",currency:this.paymentDefaultCurrency,type:void 0},this.selectedAccount$.next(this.defaultAccountFrom),this.selectedPayee$.next(this.defaultPayeeTo),this.defaultPayeeTo&&(this.ebillSummary=this.defaultPayeeTo.ebill),this.minDate$.next(this.scheduleService.estimatedPaymentServiceDate(this.defaultPayeeTo&&this.defaultPayeeTo.paymentServices,o.ag.Regular)),this.createForm(),this.proccessPaymentServiceValueChanges(),this.proccessFrequencyValueChanges(),this.paymentForm.valueChanges.pipe((0,O.R)(this.destroy$),(0,N.q)(1)).subscribe(()=>{this.valueChanged.emit()})}ngAfterViewInit(){setTimeout(()=>{this.fromAccount&&this.fromAccount.dropdownToggle.nativeElement.focus()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}cancel(){this.cancelPayment.emit()}get defaultPaymentServiceType(){const t=this.selectedPayee$.getValue();return this.paymentState&&t&&this.paymentState.payeeTo.id===t.id&&this.paymentState.schedule&&this.paymentState.schedule.paymentService&&this.paymentState.schedule.paymentService.index||o.ag.Regular}get accountNumberFormatConfig(){return this.accountNumberMask?o.sV:o.JR}get ebillPayment(){return!(this.isEditPayment||!this.ebillSummary||!this.ebillSummary.latestBill||"UNPAID"!==this.ebillSummary.latestBill.status||this.ebillSummary.status&&"ACTIVE"!==this.ebillSummary.status)}get frequencyKeys(){return o.yA}get schedule(){var t;return null===(t=this.paymentForm)||void 0===t?void 0:t.controls.schedule.value}get amountGroup(){var t;return null===(t=this.paymentForm)||void 0===t?void 0:t.get("amount")}get startDateControl(){return this.paymentForm.get("schedule.startDate")}get endDateControl(){return this.paymentForm.get("schedule.endDate")}get scheduleLabelData(){const t=this.schedule;return Object.assign(Object.assign({},t),{endDate:t.endType===o.J6.On?t.endDate:void 0,repeat:t.endType===o.J6.After?t.repeat:void 0})}get defaultAccountFrom(){var t;return this.paymentState&&this.paymentState.accountFrom?this.paymentState.accountFrom:null===(t=this.accounts)||void 0===t?void 0:t[0]}get defaultPayeeTo(){var t;return(null===(t=this.paymentState)||void 0===t?void 0:t.payeeTo)?this.paymentState.payeeTo:this.payeeSummaries&&this.payeeSummaries.find(n=>n.id===this.selectedPayeeId)}getOvernightAddress(t){return this.hasOvernightCheck(t.paymentServices)&&t.overnightDeliveryAddress||void 0}hasOvernightCheck(t){return!!(null==t?void 0:t.find(n=>n.paymentServiceType===o.ag.Overnight))}get defaultOvernightAddressState(){const t=this.selectedPayee$.getValue()||{},n=this.getOvernightAddress(t)||{};return{address1:n.address1||"",address2:n.address2||"",city:n.city||"",state:n.state,postalCode:n.postalCode||""}}get defaultFormState(){const t=this.selectedPayee$.getValue()||{},n=t.paymentServices&&t.paymentServices.find(D=>D.paymentServiceType===this.defaultPaymentServiceType),l=this.paymentState&&this.paymentState.schedule.frequency!==this.frequencyKeys.Once?void 0:t.paymentServices&&this.scheduleService.estimatedPaymentServiceDate(t.paymentServices,this.defaultPaymentServiceType),{paymentId:a,accountFrom:s=this.selectedAccount$.getValue()||{},payeeTo:r=t,amount:E=this.defaultAmount,memo:u="",overnightDeliveryAddress:y=this.defaultOvernightAddressState,schedule:{frequency:b=this.findDefaultFrequency(),startDate:M=this.minDate$.getValue(),endDate:g=this.minDate$.getValue(),repeat:R=1,endType:G=o.J6.Never,paymentService:I=this.getDefaultPaymentService(n),paymentServiceDate:h=l,alertPendingCheckbox:q=!1,alertSentCheckbox:$=!1,alertLastPendingCheckbox:Q=!1}={}}=this.paymentState||{};return{paymentId:a,accountFrom:s,payeeTo:r,amount:E,memo:u,overnightDeliveryAddress:y,schedule:{frequency:b,startDate:M,endDate:g,repeat:R,endType:G,paymentService:I,paymentServiceDate:h,alertPendingCheckbox:q,alertSentCheckbox:$,alertLastPendingCheckbox:Q}}}proccessPaymentServiceValueChanges(){const t=this.paymentForm.get("schedule.paymentService"),n=this.paymentForm.controls.overnightDeliveryAddress;t&&n&&t.valueChanges.pipe((0,O.R)(this.destroy$)).subscribe(l=>{l.service.paymentServiceType===o.ag.Overnight?n.enable(o.hi):n.disable(o.hi)})}proccessFrequencyValueChanges(){const t=this.paymentForm.get("schedule.frequency"),n=this.paymentForm.controls.overnightDeliveryAddress;t&&n&&t.valueChanges.pipe((0,O.R)(this.destroy$)).subscribe(l=>{l.value!==o.yA.Once&&n.disable(o.hi)})}createOvernightAddressFormGroup(){const t=this.defaultFormState.overnightDeliveryAddress||{},n=this.defaultFormState.schedule.paymentService,l=!n||!n.service||!n.service.paymentServiceType||n.service.paymentServiceType!==o.ag.Overnight;return this.fb.group({address1:[{value:t.address1,disabled:l}],address2:[{value:t.address2,disabled:l}],city:[{value:t.city,disabled:l}],state:[{value:t.state,disabled:l}],postalCode:[{value:t.postalCode,disabled:l}]})}createScheduleFormGroup(){const t=this.defaultFormState,n=t.schedule.paymentService,l=t.schedule.endType!==o.J6.On,a=t.schedule.endType!==o.J6.After,s=!(!n||n.index===o.ag.Other||t.schedule.frequency!==this.frequencyKeys.Once);return this.fb.group({frequency:[t.schedule.frequency],startDate:[{value:this.scheduleService.getLocalISODate(t.schedule.startDate),disabled:s},[S.kI.required,this.minDateValidator(this.minDate$.getValue())]],endDate:[{value:this.scheduleService.getLocalISODate(t.schedule.endDate),disabled:l},[S.kI.required,this.minDateValidator(this.minDate$.getValue())]],repeat:[{value:t.schedule.repeat,disabled:a}],endType:[t.schedule.endType],paymentService:[t.schedule.paymentService],paymentServiceDate:[{value:t.schedule.paymentServiceDate,disabled:!s}],alertPendingCheckbox:[t.schedule.alertPendingCheckbox],alertSentCheckbox:[t.schedule.alertSentCheckbox],alertLastPendingCheckbox:[t.schedule.alertLastPendingCheckbox]})}createForm(){var t;const n=this.defaultFormState,l=(null===(t=n.amount.amount)||void 0===t?void 0:t.toString())||void 0;this.paymentForm=this.fb.group({paymentId:[this.paymentId],accountFrom:[n.accountFrom],payeeTo:[n.payeeTo],amount:this.fb.group({amount:[l],currency:[n.amount.currency],type:[n.amount.type]}),memo:[n.memo],overnightDeliveryAddress:this.createOvernightAddressFormGroup(),schedule:this.createScheduleFormGroup()}),this.setValidators()}amountValidator(t){return!t.value.amount||+t.value.amount<=0?{amountInvalid:!1}:null}isInvalidControl(t){return this.formSubmitted&&t.invalid&&t.touched}minDateValidator(t){return n=>n.value&&new Date(n.value).setHours(0,0,0,0)<new Date(t).setHours(0,0,0,0)?{pastDate:!0}:null}notEmptyObjectValidator(t){return Object.keys(t.value).length?null:{notEmptyObject:!1}}processFormData(t){switch(t.schedule.endType){case o.J6.After:return Object.assign(Object.assign({},t),{schedule:Object.assign(Object.assign({},t.schedule),{endDate:new Date(this.scheduleService.estimatedEndDate(t.schedule.startDate,t.schedule.frequency,t.schedule.repeat)).toISOString()})});case o.J6.On:return Object.assign(Object.assign({},t),{schedule:Object.assign(Object.assign({},t.schedule),{repeat:this.scheduleService.estimatedOccurences(t.schedule.startDate,t.schedule.endDate||t.schedule.startDate,t.schedule.frequency)})});default:return Object.assign(Object.assign({},t),{schedule:Object.assign(Object.assign({},t.schedule),!t.schedule.startDate&&this.defaultFormState.schedule.startDate&&{startDate:this.defaultFormState.schedule.startDate})})}}setValidators(){[["accountFrom",[this.notEmptyObjectValidator]],["payeeTo",[this.notEmptyObjectValidator]],["amount",[S.kI.required,this.amountValidator]],["schedule.repeat",[S.kI.required,S.kI.min(this.minOccurs),S.kI.max(this.maxOccurs)]],["overnightDeliveryAddress.address1",[S.kI.required,S.kI.maxLength(40)]],["overnightDeliveryAddress.address2",[S.kI.maxLength(40)]],["overnightDeliveryAddress.city",[S.kI.required,S.kI.maxLength(32)]],["overnightDeliveryAddress.state",[S.kI.required]],["overnightDeliveryAddress.postalCode",[S.kI.required,S.kI.pattern(/^\d{5}(\d{4})?$/)]]].forEach(([t,n])=>{const l=this.paymentForm.get(t);l&&(l.setValidators(n),l.updateValueAndValidity())})}handleSubmit(){this.formSubmitted||(this.formSubmitted=!0),this.paymentForm.valid&&this.submitPayment.emit(this.processFormData(this.paymentForm.value)),this.paymentForm.markAllAsTouched()}selectAccount(t){this.selectedAccount$.next(t),this.paymentForm.controls.accountFrom.setValue(t)}setOvernightAddress(t){const n=this.paymentForm.controls.overnightDeliveryAddress;(null==t?void 0:t.overnightDeliveryAddress)&&this.hasOvernightCheck(t.paymentServices)?n.setValue({address1:t.overnightDeliveryAddress.address1,address2:t.overnightDeliveryAddress.address2||"",city:t.overnightDeliveryAddress.city,state:t.overnightDeliveryAddress.state,postalCode:t.overnightDeliveryAddress.postalCode}):n.reset()}selectPayee(t){this.selectedPayee$.next(t),this.paymentForm.controls.payeeTo.setValue(t),this.minDate$.next(this.scheduleService.estimatedPaymentServiceDate(t&&t.paymentServices,o.ag.Regular)),this.startDateControl&&this.endDateControl&&(this.startDateControl.setValue(this.minDate$.getValue()),this.endDateControl.setValue(this.minDate$.getValue())),this.setOvernightAddress(t),t&&(this.ebillSummary=t.ebill),this.amountGroup&&this.amountGroup.patchValue({amount:" ",type:void 0})}getDefaultPaymentService(t){return{index:this.isEditPayment&&this.paymentType===o.N$?o.ag.Other:(null==t?void 0:t.paymentServiceType)||"",service:t}}findDefaultFrequency(){var t,n,l;let a;switch(this.paymentType){case o.N$:a=null===(t=this.frequencies)||void 0===t?void 0:t.find(s=>s.value===o.yA.Once);break;case o.Oq:a=null===(n=this.frequencies)||void 0===n?void 0:n.find(s=>s.value===o.yA.Monthly)}return void 0===a&&(a=(null===(l=this.frequencies)||void 0===l?void 0:l[0])||{value:o.yA.Once,name:""}),a.value}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(S.qu),e.Y36(o.Hx))},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-billpay-payment-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(s_,5),2&t){let l;e.iGM(l=e.CRH())&&(n.fromAccount=l.first)}},inputs:{payeeSummaries:"payeeSummaries",accounts:"accounts",selectedPayeeId:"selectedPayeeId",paymentState:"paymentState",paymentId:"paymentId",accountNumberMask:"accountNumberMask",paymentType:"paymentType",isEditPayment:"isEditPayment",paymentDetailsTitle:"paymentDetailsTitle",paymentDefaultCurrency:"paymentDefaultCurrency",frequencies:"frequencies"},outputs:{submitPayment:"submitPayment",cancelPayment:"cancelPayment",valueChanged:"valueChanged"},decls:21,vars:6,consts:function(){let i,t,n,l,a,s,r,E,u,y,b,M,g,R,G,I,h,q,$,Q,D,Ee,ue,de,Ae,Se;return i=" Continue ",t=" Cancel ",n="Payment to " + "\ufffd0\ufffd" + "",l=" From ",a="Select a debit account",s=" Select an account ",r="Please select an account",E=" To ",u=" Select a payee ",y=" Please select a payee ",b="" + "\ufffd0\ufffd" + "",M="Payment description",g=" (Optional)",R="Enter payment description",G="{VAR_SELECT, select, Due {eBill due amount } Minimum {eBill minimum amount } Balance {eBill total amount } other {eBill custom amount }}",G=e.Zx4(G,{VAR_SELECT:"\ufffd0\ufffd"}),I=" - " + G + " ",h="Amount",q=" Please add amount of this payment. ",$=" Schedule ",Q="Schedule toggle",D="Deliver payment by",Ee=" Execution date is required. ",ue=" Execution date cannot be before delivery date. ",de=" Invalid date format. ",Ae="Overnight check address",Se="This address might be a dedicated PO box for overnight payments. Please check with your biller",[["data-role","payment-form",3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"card"],[1,"card-body"],[4,"ngTemplateOutlet"],[1,"bb-button-bar","bb-button-bar--reverse"],["bbButton","","data-role","button-submit","color","primary","type","submit",1,"bb-button-bar__button"],i,["bbButton","","data-role","cancel-payment-button","color","link",1,"bb-button-bar__button","bb-button-bar__button--across",3,"click"],t,["paymentFormAccountFrom",""],["paymentFormPayeeTo",""],["formDetails",""],["formOvernightAddress",""],[1,"bb-block","bb-block--lg"],["data-role","payee-to-edit-header","headingType","h1",3,"heading",4,"ngIf"],["data-role","payee-to-edit-header","headingType","h1",6,"heading"],["heading",n],["data-role","account-from-selected",1,"bb-block","bb-block--lg"],["data-role","select-account-label","aria-live","polite",1,"bb-label"],l,["fromAccount",""],["bbDropdownToggle","",4,"ngIf"],["bbDropdownMenu",""],["bbButton","","class","bb-product-selector__dropdown-item","color","unstyled","data-role","account-item",3,"block","click",4,"ngFor","ngForOf"],["role","alert",3,"showErrors"],["data-role","invalid-account-from",4,"ngIf"],["bbDropdownToggle",""],["data-role","account-from-selected-toggle","class","bb-text-align-left",3,"title","productNumber","productNumberFormat","amount","currency","highlight","active",4,"ngIf"],["data-role","select-account-option","aria-label",a,"class","bb-text-align-left",4,"ngIf"],["data-role","account-from-selected-toggle",1,"bb-text-align-left",3,"title","productNumber","productNumberFormat","amount","currency","highlight","active"],["data-role","select-account-option","aria-label",a,1,"bb-text-align-left"],s,["bbButton","","color","unstyled","data-role","account-item",1,"bb-product-selector__dropdown-item",3,"block","click"],["listItem",""],["role","menuitem",1,"bb-stack__item","bb-stack__item--fill","bb-text-align-left",3,"title","productNumber","productNumberFormat","amount","currency","highlight","active"],["data-role","invalid-account-from"],r,["data-role","payee-to-product-selector","class","bb-block bb-block--lg",4,"ngIf"],["data-role","payee-to-product-selector",1,"bb-block","bb-block--lg"],["data-role","select-payee-label","aria-live","polite",1,"bb-label"],E,[4,"ngIf","ngIfElse"],["selectPauee",""],["bbButton","","class","bb-product-selector__dropdown-item","color","unstyled","data-role","payee-item",3,"block","click",4,"ngFor","ngForOf"],["data-role","invalid-payee-to",4,"ngIf"],["data-role","payee-to-selected-toggle","class","bb-text-align-left",3,"title","mainSectionTitle","highlight","active",4,"ngIf"],["data-role","payee-to-selected-toggle",1,"bb-text-align-left",3,"title","mainSectionTitle","highlight","active"],["bbCustomProductItemCurrentAccountMainSection",""],[1,"bb-text-support","bb-subtitle"],["data-role","select-payee-label",1,"bb-text-align-left"],u,["bbButton","","color","unstyled","data-role","payee-item",1,"bb-product-selector__dropdown-item",3,"block","click"],["role","menuitem",1,"bb-stack__item","bb-stack__item--fill","bb-text-align-left",3,"title","mainSectionTitle","highlight","active"],["data-role","invalid-payee-to"],y,["class","bb-fieldset","data-role","payment-details-fieldset",4,"ngIf"],["data-role","payment-details-fieldset",1,"bb-fieldset"],[1,"bb-fieldset__heading","border-bottom"],[1,"bb-block","bb-block--sm"],b,["class","bb-text-support bb-text-default",4,"ngIf"],["class","bb-block bb-block--md",4,"ngIf"],["class","bb-block bb-block--md",3,"formGroup",4,"ngIf"],[1,"bb-fieldset",3,"formGroup"],["data-role","add-memo-label","for","bb-billpay-payment-form-memo",1,"bb-label"],M,[1,"bb-text-support"],g,[1,"bb-form-field","bb-form-field--md"],["formControlName","memo","data-role","memo","placeholder",R,3,"id","showCharCounter","maxLength","rows"],["data-role","schedule-toggle",3,"isOpen",4,"ngIf","ngIfElse"],["editOneOffPaymentSchedule",""],[1,"bb-text-support","bb-text-default"],I,[1,"bb-block","bb-block--md"],[3,"control","eBillDefaultCurrency","latestBill","isSubmitted"],[1,"bb-block","bb-block--md",3,"formGroup"],["data-role","payment-amount-label",1,"bb-label",3,"for"],h,["formControlName","amount","data-role","amount","wrapperClasses","bb-amount-input__field--large","placeholder","0.00",3,"id","autoDecimal","currency","aria-describedby"],["role","alert",3,"id","showErrors"],["data-role","invalid-amount",4,"ngIf"],["data-role","invalid-amount"],q,["data-role","schedule-toggle",3,"isOpen"],["bbCollapsibleHeader",""],["bbCollapsibleBody",""],[1,"border-bottom","bb-block","bb-block--md"],["bbButton","","type","button","color","unstyled",1,"bb-stack","bb-product-selector__item-content",3,"click"],[1,"bb-stack__item","bb-stack__item--fill","bb-text-align-left"],["data-role","schedule-section-title",1,"bb-heading-2"],$,[3,"item","frequencies","minOccurrences","isSingleTransfer"],["cropped","","data-role","schedule-toggle-icon","aria-label",Q,1,"bb-stack__item",3,"name"],["data-role","payment-schedule",3,"scheduleForm","paymentServices","defaultPaymentServiceType","frequencies","minOccurs","maxOccurs","minDate","formSubmitted"],["data-role","deliver-payment-by-date",1,"bb-label"],[3,"id"],D,["formControlName","startDate","data-role","once-start-date-calendar","aria-label","start-date",3,"minDate","aria-labelledby","datepickerDescribedby"],["aria-live","polite",3,"id","showErrors"],["data-role","missing-schedule-execution-date",4,"ngIf"],["data-role","past-date-schedule-execution-date",4,"ngIf"],["data-role","invalid-date-schedule-execution-date",4,"ngIf"],["data-role","missing-schedule-execution-date"],Ee,["data-role","past-date-schedule-execution-date"],ue,["data-role","invalid-date-schedule-execution-date"],de,[3,"formGroup",4,"ngIf"],[3,"formGroup"],["heading",Ae,1,"bb-block","bb-block-xl"],["modifier","info","title",Se,"data-role","overnight-alert-message",1,"d-block"],["formGroupName","overnightDeliveryAddress",3,"formGroup"]]},template:function(t,n){if(1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.handleSubmit()}),e.YNc(1,c_,4,3,"ng-container",1),e.TgZ(2,"div",2)(3,"div",3),e.YNc(4,E_,1,0,"ng-container",4),e.YNc(5,u_,1,0,"ng-container",4),e.YNc(6,d_,1,0,"ng-container",4),e.YNc(7,A_,1,0,"ng-container",4),e.TgZ(8,"div",5)(9,"button",6),e.SDv(10,7),e.qZA(),e.TgZ(11,"button",8),e.NdJ("click",function(){return n.cancel()}),e.SDv(12,9),e.qZA()()()()(),e.YNc(13,y_,11,6,"ng-template",null,10,e.W1O),e.YNc(15,D_,1,1,"ng-template",null,11,e.W1O),e.YNc(17,Z_,2,3,"ng-template",null,12,e.W1O),e.YNc(19,H_,1,1,"ng-template",null,13,e.W1O)),2&t){const l=e.MAs(14),a=e.MAs(16),s=e.MAs(18),r=e.MAs(20);e.Q6J("formGroup",n.paymentForm),e.xp6(1),e.Q6J("ngIf",n.isEditPayment),e.xp6(3),e.Q6J("ngTemplateOutlet",l),e.xp6(1),e.Q6J("ngTemplateOutlet",a),e.xp6(1),e.Q6J("ngTemplateOutlet",s),e.xp6(1),e.Q6J("ngTemplateOutlet",r)}},directives:[Z.G,Me.e,pe.c,Le.mB,te.d,me.Qd,ke,oe.l,be.R,re.tB,He,z.o,We,x.sO,k.w,o.X8,S._Y,S.JL,S.sg,d.O5,d.tP,Y.Hq,d.sg,me.OX,S.JJ,S.u,re.gM,re.rJ,x.Mt,S.x0],pipes:[d.Ov],encapsulation:2}),_})(),j=(()=>{class _{constructor(){this.resolve=new e.vpe}cancelModal(){this.resolve.emit(!1)}confirmModal(){this.resolve.emit(!0)}}return _.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-billpay-payment-discard-changes-modal"]],inputs:{title:"title",subtitle:"subtitle",confirmButtonLabel:["confirm-button-label","confirmButtonLabel"],cancelButtonLabel:["cancel-button-label","cancelButtonLabel"]},outputs:{resolve:"resolve"},decls:7,vars:1,consts:function(){let i,t,n,l;return i="" + "\ufffd0\ufffd" + "",t="" + "\ufffd0\ufffd" + "",n=" " + "\ufffd0\ufffd" + " ",l=" " + "\ufffd0\ufffd" + " ",[["data-role","discard-payment-modal",3,"isOpen","cancel"],["bbCustomModalHeader",""],["bbCustomModalBody",""],["bbCustomModalFooter",""],["data-role","discard-payment-modal-header","headingType","h2",6,"heading"],["heading",i],["data-role","discard-payment-modal-body"],t,[1,"bb-button-bar"],["bbButton","","color","danger","data-role","discard-payment-modal-confirm-button",1,"bb-button-bar__button",3,"click"],n,["bbButton","","color","secondary","data-role","discard-payment-modal-cancel-button",1,"bb-button-bar__button",3,"click"],l]},template:function(t,n){1&t&&(e.TgZ(0,"bb-modal-ui",0),e.NdJ("cancel",function(){return n.cancelModal()}),e.TgZ(1,"bb-modal-header-ui"),e.YNc(2,W_,2,1,"ng-template",1),e.qZA(),e.TgZ(3,"bb-modal-body-ui"),e.YNc(4,q_,2,1,"ng-template",2),e.qZA(),e.TgZ(5,"bb-modal-footer-ui"),e.YNc(6,$_,5,2,"ng-template",3),e.qZA()()),2&t&&e.Q6J("isOpen",!0)},directives:[V.zS,V.Rb,Z.G,V.KF,V.YI,V.cA,V.Qd,V.yk,Y.Hq],encapsulation:2}),_})(),Qe=(()=>{class _{constructor(t,n,l,a,s){this.dataService=t,this.stateService=n,this.route=l,this.discardModalService=a,this.routerService=s,this.destroy$=new B.x,this.isFormTouched=!1,this.id$=this.route.paramMap.pipe((0,N.q)(1),(0,T.U)(r=>r.get("id")||"")),this.payeesAndAccounts$=this.dataService.getPayeesAndAccounts().pipe((0,m.d)(1),(0,O.R)(this.destroy$))}onWindowUnload(t){(this.isFormTouched||this.stateService.isFormProcessing)&&!this.isDiscardModalOpen&&(t.returnValue=!0)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get isDiscardModalOpen(){return this.discardModalService.isDiscardModalOpen}openModal(){return this.isFormTouched||this.stateService.isFormProcessing?this.discardModalService.openModal():(0,U.of)(!0)}onModalResolve(t){this.discardModalService.onModalResolve(t)}onFormValueChanged(){this.isFormTouched=!0}onCancelForm(){this.routerService.navigateToPayeeList()}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(o.Ok),e.Y36(H),e.Y36(v.gz),e.Y36(o.Ol),e.Y36(J))},_.\u0275dir=e.lG2({type:_,hostBindings:function(t,n){1&t&&e.NdJ("beforeunload",function(a){return n.onWindowUnload(a)},!1,e.Jf7)},inputs:{accountNumberMasked:"accountNumberMasked",paymentDetailsTitle:"paymentDetailsTitle"}}),_})(),ze=(()=>{class _ extends Qe{constructor(t,n,l,a,s,r){super(t,n,l,a,s),this.routerService=s,this.parserService=r,this.hasLoadingError=!1,this.activatedRoute=l}ngOnInit(){this.paymentRecurringState$=(0,C.a)([this.id$,this.stateService.paymentState.pipe((0,T.U)(t=>null==t?void 0:t[0])),this.payeesAndAccounts$]).pipe((0,p.w)(([t,n,l])=>n&&(0,U.of)(n)||this.dataService.getRecurringPayment(t).pipe((0,T.U)(a=>a&&(null==l?void 0:l.payeeSummaries)&&this.parserService.paymentRecurringToFormState(a,l.payeeSummaries)),(0,K.K)(()=>(this.hasLoadingError=!0,(0,U.of)({}))))))}onPaymentSubmitted(t,n){var l;this.stateService.isFormProcessing=!0,this.stateService.updatePaymentState([t]),this.routerService.navigateToEditRecurringReview(n,{relativeTo:null===(l=this.activatedRoute)||void 0===l?void 0:l.parent})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(o.Ok),e.Y36(H),e.Y36(v.gz),e.Y36(o.Ol),e.Y36(J),e.Y36(o.$c))},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-billpay-payment-recurring-edit-form-container"]],inputs:{frequencies:"frequencies"},features:[e._Bn([o.Ol]),e.qOj],decls:5,vars:14,consts:function(){let i,t,n,l,a,s;return i="Lose changes?",t="Are you sure you want to cancel editing this payment? You will lose any changes made.",n="Lose changes",l="Continue editing",a="Try to reload the page or contact support",s="Payment information is not loading",[[4,"ngIf"],[4,"ngIf","ngIfElse"],["loadingState",""],["errorState",""],["data-role","billpay-payment-edit-review-page-lose-changes-modal","title",i,"subtitle",t,"confirm-button-label",n,"cancel-button-label",l,3,"resolve",4,"ngIf"],[3,"payeeSummaries","accounts","selectedPayeeId","paymentState","isEditPayment","paymentType","accountNumberMask","paymentDetailsTitle","frequencies","cancelPayment","submitPayment","valueChanged"],[1,"card","card-lg"],[1,"card-body"],["loaderSize","lg","data-role","loading-state"],["data-role","error-state","iconSize","xxl","iconModifier","error","subtitle",a,"title",s],["data-role","billpay-payment-edit-review-page-lose-changes-modal","title",i,"subtitle",t,"confirm-button-label",n,"cancel-button-label",l,3,"resolve"]]},template:function(t,n){if(1&t&&(e.YNc(0,yn,7,3,"ng-container",0),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async")),2&t){let l;e.Q6J("ngIf",e.l5B(9,Bn,e.lcZ(1,1,n.paymentRecurringState$),null==(l=e.lcZ(2,3,n.payeesAndAccounts$))?null:l.payeeSummaries,null==(l=e.lcZ(3,5,n.payeesAndAccounts$))?null:l.accounts,e.lcZ(4,7,n.id$)))}},directives:[Re,le.Q,ae.s,j,d.O5],pipes:[d.Ov],encapsulation:2}),_})(),Ve=(()=>{class _{constructor(t,n){this.config=t,this.routerService=n}openModal(){return this.child.openModal()}goBack(){this.routerService.navigateToPayments()}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(w),e.Y36(J))},_.\u0275cmp=e.Xpm({type:_,selectors:[["ng-component"]],viewQuery:function(t,n){if(1&t&&e.Gf(Rn,5),2&t){let l;e.iGM(l=e.CRH())&&(n.child=l.first)}},decls:7,vars:3,consts:function(){let i;return i="Back to payments list",[[1,"bb-block"],["bbButton","","color","link",1,"bb-block","bb-block--md","pl-0",3,"click"],["aria-hidden","true",1,"bb-icon","bb-icon-arrow-back"],i,[3,"accountNumberMasked","paymentDetailsTitle","frequencies"],["paymentRecurringEditForm",""]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return n.goBack()}),e._UZ(2,"i",2),e.TgZ(3,"span"),e.SDv(4,3),e.qZA()()(),e._UZ(5,"bb-billpay-payment-recurring-edit-form-container",4,5)),2&t&&(e.xp6(5),e.Q6J("accountNumberMasked",n.config.accountNumberMasked)("paymentDetailsTitle",n.config.paymentDetailsTitle)("frequencies",n.config.frequencies))},directives:[ze,Y.Hq],encapsulation:2}),_})(),je=(()=>{class _{constructor(t,n,l,a,s){this.route=t,this.stateService=n,this.discardModalService=l,this.paymentParserService=a,this.routerService=s,this.paymentError=!1,this.hasDateError=!1,this.paymentConfirm$=new W.X(void 0),this.destroy$=new B.x,this.notificationMessageTemplate="",this.notificationHeaderTemplate="",this.id$=this.route.paramMap.pipe((0,Ne.P)(),(0,T.U)(r=>r.get("id")||""))}onWindowUnload(t){this.isDiscardModalOpen||(t.returnValue=!0)}ngOnInit(){(0,C.a)([this.stateService.paymentState,this.id$]).pipe((0,N.q)(1)).subscribe(([t,n])=>{this.payment=null==t?void 0:t[0],this.paymentReview=this.payment&&this.paymentParserService.paymentFormStateToReview(this.payment),this.payment||this.navigateToForm(n)}),(0,C.a)([this.paymentConfirm$.pipe((0,A.h)(Boolean)),this.id$]).pipe((0,O.R)(this.destroy$)).subscribe(([t,n])=>this.onPaymentConfirm(t,n))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get isDiscardModalOpen(){return this.discardModalService.isDiscardModalOpen}confirmPayment(t){!t||this.paymentConfirm$.next(t)}openModal(){return this.paymentConfirm$.pipe((0,p.w)(t=>t?(0,U.of)(!0):this.discardModalService.openModal()),(0,f.b)(t=>t&&this.stateService.reset()))}onModalResolve(t){this.discardModalService.onModalResolve(t)}cancel(){this.routerService.navigateToPayeeList()}get dismissTimeout(){if(void 0===this.dismissTimeoutValue)throw new Error("Dismiss timeout value not found");return this.dismissTimeoutValue}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(v.gz),e.Y36(H),e.Y36(o.Ol),e.Y36(o.$c),e.Y36(J))},_.\u0275dir=e.lG2({type:_,viewQuery:function(t,n){if(1&t&&(e.Gf(Pe,5),e.Gf(Ce,5),e.Gf(he,5)),2&t){let l;e.iGM(l=e.CRH())&&(n.notificationMessageTemplate=l.first),e.iGM(l=e.CRH())&&(n.notificationHeaderTemplate=l.first),e.iGM(l=e.CRH())&&(n.failAlert=l.first)}},hostBindings:function(t,n){1&t&&e.NdJ("beforeunload",function(a){return n.onWindowUnload(a)},!1,e.Jf7)},inputs:{dismissTimeoutValue:"dismissTimeoutValue",accountNumberMasked:"accountNumberMasked"}}),_})(),Xe=(()=>{class _ extends je{constructor(t,n,l,a,s,r,E,u){super(t,n,l,a,s),this.dataService=r,this.notificationService=E,this.cdRef=u,this.activatedRoute=t}navigateToForm(t){var n;this.routerService.navigateToEditRecurringForm(t,{relativeTo:null===(n=this.activatedRoute)||void 0===n?void 0:n.parent})}onPaymentConfirm(t,n){this.paymentError=!1,this.hasDateError=!1,this.dataService.updatePaymentRecurring(t,n).pipe((0,O.R)(this.destroy$)).subscribe(()=>{this.routerService.navigateToPayments(),this.notificationService.showNotification({header:this.notificationHeaderTemplate,message:this.notificationMessageTemplate,modifier:"success",ttl:this.dismissTimeout})},l=>{var a,s;this.paymentError=!0,this.hasDateError=null===(s=null===(a=l.error)||void 0===a?void 0:a.errors)||void 0===s?void 0:s.some(r=>"billpay.api.invalidPaymentDate"===r.key),this.cdRef.markForCheck(),this.failAlert.nativeElement.scrollIntoView(!1)})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(v.gz),e.Y36(H),e.Y36(o.Ol),e.Y36(o.$c),e.Y36(J),e.Y36(o.Ok),e.Y36(ye.gq),e.Y36(e.sBO))},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-billpay-payment-recurring-edit-review-container"]],features:[e._Bn([o.Ol]),e.qOj],decls:10,vars:2,consts:function(){let i,t,n,l,a,s,r,E,u,y,b,M;return i="Lose changes?",t="Are you sure you want to cancel editing this payment? You will lose any changes made.",n="Lose changes",l="Continue editing",a="Failed to submit payment. Please try again later.",s="The date selected is invalid.",r="The payment cannot be scheduled on this date. Please select another date in the previous step.",E=" Confirm payment ",u=" Cancel ",y=" Edit payment ",b="Payment to " + "\ufffd0\ufffd" + " has been edited successfully",M="Payment edited",[[4,"ngIf"],["data-role","billpay-payment-edit-form-page-lose-changes-modal","title",i,"subtitle",t,"confirm-button-label",n,"cancel-button-label",l,3,"resolve",4,"ngIf"],["recurringEditReviewContent",""],["recurringEditReviewButtons",""],["notificationMessage",""],["notificationHeader",""],[1,"card","card-lg"],[1,"card-body"],[1,"bb-block","bb-block--xl"],[4,"ngTemplateOutlet"],["data-role","billpay-payment-edit-form-page-lose-changes-modal","title",i,"subtitle",t,"confirm-button-label",n,"cancel-button-label",l,3,"resolve"],["failAlert",""],["title",a,"modifier","error","data-role","failure-message",3,"close",4,"ngIf"],["title",s,"message",r,"modifier","error","data-role","failure-date-message",3,"close",4,"ngIf"],[3,"accountNumberMask","paymentReview"],["title",a,"modifier","error","data-role","failure-message",3,"close"],["title",s,"message",r,"modifier","error","data-role","failure-date-message",3,"close"],[1,"bb-button-bar","bb-button-bar--reverse"],["bbButton","","data-role","confirm-payment-button",1,"bb-button-bar__button",3,"click"],E,["bbButton","","data-role","edit-payment-button","class","bb-button-bar__button","color","secondary",3,"click",4,"ngIf"],["bbButton","","data-role","cancel-payment-button","color","link",1,"bb-button-bar__button","bb-button-bar__button--across",3,"click"],u,["bbButton","","data-role","edit-payment-button","color","secondary",1,"bb-button-bar__button",3,"click"],y,b,M]},template:function(t,n){1&t&&(e.YNc(0,Mn,6,2,"ng-container",0),e.YNc(1,Ln,1,0,"bb-billpay-payment-discard-changes-modal",1),e.YNc(2,Dn,5,4,"ng-template",null,2,e.W1O),e.YNc(4,Cn,7,3,"ng-template",null,3,e.W1O),e.YNc(6,Un,1,1,"ng-template",null,4,e.W1O),e.YNc(8,vn,2,0,"ng-template",null,5,e.W1O)),2&t&&(e.Q6J("ngIf",n.payment),e.xp6(1),e.Q6J("ngIf",n.isDiscardModalOpen))},directives:[j,k.w,o.nL,d.O5,d.tP,Y.Hq],pipes:[d.Ov],encapsulation:2,changeDetection:0}),_})(),et=(()=>{class _{constructor(t,n){this.config=t,this.routerService=n}openModal(){return this.child.openModal()}goBack(){this.routerService.navigateToPayments()}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(w),e.Y36(J))},_.\u0275cmp=e.Xpm({type:_,selectors:[["ng-component"]],viewQuery:function(t,n){if(1&t&&e.Gf(Tn,5),2&t){let l;e.iGM(l=e.CRH())&&(n.child=l.first)}},decls:7,vars:2,consts:function(){let i;return i="Back to payments list",[[1,"bb-block"],["bbButton","","color","link",1,"bb-block","bb-block--md","pl-0",3,"click"],["aria-hidden","true",1,"bb-icon","bb-icon-arrow-back"],i,[3,"accountNumberMasked","dismissTimeoutValue"],["paymentRecurringEditReviewContainer",""]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return n.goBack()}),e._UZ(2,"i",2),e.TgZ(3,"span"),e.SDv(4,3),e.qZA()()(),e._UZ(5,"bb-billpay-payment-recurring-edit-review-container",4,5)),2&t&&(e.xp6(5),e.Q6J("accountNumberMasked",n.config.accountNumberMasked)("dismissTimeoutValue",n.config.notificationDismissTime))},directives:[Xe,Y.Hq],encapsulation:2}),_})(),tt=(()=>{class _ extends Qe{constructor(t,n,l,a,s,r){super(t,n,l,a,s),this.routerService=s,this.parserService=r,this.hasLoadingError=!1,this.activatedRoute=l}ngOnInit(){this.paymentOneOffState$=(0,C.a)([this.id$,this.stateService.paymentState.pipe((0,T.U)(t=>null==t?void 0:t[0])),this.payeesAndAccounts$]).pipe((0,p.w)(([t,n,l])=>n?(0,U.of)(n):this.dataService.getOneOffPayment(t).pipe((0,T.U)(a=>a&&l.payeeSummaries&&this.parserService.paymentOneOffToFormState(a,l.payeeSummaries)),(0,K.K)(()=>(this.hasLoadingError=!0,(0,U.of)({}))))))}onPaymentSubmitted(t,n){var l;this.stateService.isFormProcessing=!0,this.stateService.updatePaymentState([t]),this.routerService.navigateToEditOneOffReview(n,{relativeTo:null===(l=this.activatedRoute)||void 0===l?void 0:l.parent})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(o.Ok),e.Y36(H),e.Y36(v.gz),e.Y36(o.Ol),e.Y36(J),e.Y36(o.$c))},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-billpay-payment-one-off-edit-form-container"]],inputs:{frequencies:"frequencies"},features:[e._Bn([o.Ol]),e.qOj],decls:5,vars:14,consts:function(){let i,t,n,l,a,s;return i="Lose changes?",t="Are you sure you want to cancel editing this payment? You will lose any changes made.",n="Lose changes",l="Continue editing",a="Try to reload the page or contact support",s="Payment information is not loading",[[4,"ngIf"],[4,"ngIf","ngIfElse"],["loadingState",""],["errorState",""],["data-role","billpay-payment-edit-form-page-lose-changes-modal","title",i,"subtitle",t,"confirm-button-label",n,"cancel-button-label",l,3,"resolve",4,"ngIf"],[3,"payeeSummaries","accounts","selectedPayeeId","paymentState","isEditPayment","paymentType","accountNumberMask","paymentDetailsTitle","frequencies","cancelPayment","submitPayment","valueChanged"],[1,"card","card-lg"],[1,"card-body"],["loaderSize","lg","data-role","loading-state"],["data-role","error-state","iconSize","xxl","iconModifier","error","subtitle",a,"title",s],["data-role","billpay-payment-edit-form-page-lose-changes-modal","title",i,"subtitle",t,"confirm-button-label",n,"cancel-button-label",l,3,"resolve"]]},template:function(t,n){if(1&t&&(e.YNc(0,xn,7,3,"ng-container",0),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async")),2&t){let l;e.Q6J("ngIf",e.l5B(9,wn,e.lcZ(1,1,n.paymentOneOffState$),e.lcZ(2,3,n.id$),null==(l=e.lcZ(3,5,n.payeesAndAccounts$))?null:l.accounts,null==(l=e.lcZ(4,7,n.payeesAndAccounts$))?null:l.payeeSummaries))}},directives:[Re,le.Q,ae.s,j,d.O5],pipes:[d.Ov],encapsulation:2}),_})(),_t=(()=>{class _{constructor(t,n){this.config=t,this.routerService=n}openModal(){return this.child.openModal()}goBack(){this.routerService.navigateToPayments()}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(w),e.Y36(J))},_.\u0275cmp=e.Xpm({type:_,selectors:[["ng-component"]],viewQuery:function(t,n){if(1&t&&e.Gf(Zn,5),2&t){let l;e.iGM(l=e.CRH())&&(n.child=l.first)}},decls:7,vars:3,consts:function(){let i;return i="Back to payments list",[[1,"bb-block"],["bbButton","","color","link",1,"bb-block","bb-block--md","pl-0",3,"click"],["aria-hidden","true",1,"bb-icon","bb-icon-arrow-back"],i,[3,"accountNumberMasked","paymentDetailsTitle","frequencies"],["paymentOneOffEditForm",""]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return n.goBack()}),e._UZ(2,"i",2),e.TgZ(3,"span"),e.SDv(4,3),e.qZA()()(),e._UZ(5,"bb-billpay-payment-one-off-edit-form-container",4,5)),2&t&&(e.xp6(5),e.Q6J("accountNumberMasked",n.config.accountNumberMasked)("paymentDetailsTitle",n.config.paymentDetailsTitle)("frequencies",n.config.frequencies))},directives:[tt,Y.Hq],encapsulation:2}),_})(),nt=(()=>{class _ extends je{constructor(t,n,l,a,s,r,E,u){super(t,n,l,a,s),this.routerService=s,this.dataService=r,this.notificationService=E,this.cdRef=u,this.activatedRoute=t}navigateToForm(t){var n;this.routerService.navigateToEditOneOffForm(t,{relativeTo:null===(n=this.activatedRoute)||void 0===n?void 0:n.parent})}onPaymentConfirm(t,n){this.paymentError=!1,this.hasDateError=!1,this.dataService.updatePaymentOneOff(t,n).pipe((0,O.R)(this.destroy$)).subscribe(()=>{this.routerService.navigateToPayments(),this.notificationService.showNotification({header:this.notificationHeaderTemplate,message:this.notificationMessageTemplate,modifier:"success",ttl:this.dismissTimeout})},l=>{var a,s;this.paymentError=!0,this.hasDateError=null===(s=null===(a=l.error)||void 0===a?void 0:a.errors)||void 0===s?void 0:s.some(r=>"billpay.api.invalidPaymentDate"===r.key),this.cdRef.detectChanges(),this.failAlert.nativeElement.scrollIntoView(!1)})}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(v.gz),e.Y36(H),e.Y36(o.Ol),e.Y36(o.$c),e.Y36(J),e.Y36(o.Ok),e.Y36(ye.gq),e.Y36(e.sBO))},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-billpay-payment-one-off-edit-review-container"]],features:[e._Bn([o.Ol]),e.qOj],decls:9,vars:2,consts:function(){let i,t,n,l,a,s,r,E,u,y,b,M;return i="Lose changes?",t="Are you sure you want to cancel editing this payment? You will lose any changes made.",n="Lose changes",l="Continue editing",a="Failed to submit payment. Please try again later.",s="The date selected is invalid.",r="The payment cannot be scheduled on this date. Please select another date in the previous step.",E=" Confirm payment ",u=" Cancel ",y=" Edit payment ",b="Payment to " + "\ufffd0\ufffd" + " has been edited successfully",M="Payment edited",[[4,"ngIf"],["data-role","billpay-payment-edit-review-page-lose-changes-modal","title",i,"subtitle",t,"confirm-button-label",n,"cancel-button-label",l,3,"resolve",4,"ngIf"],["oneOffEditReviewContent",""],["oneOffEditReviewButtons",""],["notificationMessage",""],["notificationHeader",""],[1,"card","card-lg"],[1,"card-body"],[1,"bb-block","bb-block--xl"],[4,"ngTemplateOutlet"],["data-role","billpay-payment-edit-review-page-lose-changes-modal","title",i,"subtitle",t,"confirm-button-label",n,"cancel-button-label",l,3,"resolve"],["failAlert",""],["title",a,"modifier","error","data-role","failure-message",3,"close",4,"ngIf"],["title",s,"message",r,"modifier","error","data-role","failure-date-message",3,"close",4,"ngIf"],[3,"accountNumberMask","paymentReview"],["title",a,"modifier","error","data-role","failure-message",3,"close"],["title",s,"message",r,"modifier","error","data-role","failure-date-message",3,"close"],[1,"bb-button-bar","bb-button-bar--reverse"],["bbButton","","data-role","confirm-payment-button",1,"bb-button-bar__button",3,"click"],E,["bbButton","","data-role","edit-payment-button","class","bb-button-bar__button","color","secondary",3,"click",4,"ngIf"],["bbButton","","data-role","cancel-payment-button","color","link",1,"bb-button-bar__button","bb-button-bar__button--across",3,"click"],u,["bbButton","","data-role","edit-payment-button","color","secondary",1,"bb-button-bar__button",3,"click"],y,b,M]},template:function(t,n){1&t&&(e.YNc(0,Wn,6,2,"ng-container",0),e.YNc(1,qn,1,0,"bb-billpay-payment-discard-changes-modal",1),e.YNc(2,zn,5,4,"ng-template",null,2,e.W1O),e.YNc(4,jn,7,3,"ng-template",null,3,e.W1O),e.YNc(6,ei,1,1,"ng-template",null,4,e.W1O),e.YNc(8,ti,2,0,"ng-template",5)),2&t&&(e.Q6J("ngIf",n.payment),e.xp6(1),e.Q6J("ngIf",n.isDiscardModalOpen))},directives:[j,k.w,o.nL,d.O5,d.tP,Y.Hq],pipes:[d.Ov],encapsulation:2,changeDetection:0}),_})(),it=(()=>{class _{constructor(t,n){this.config=t,this.routerService=n}openModal(){return this.child.openModal()}goBack(){this.routerService.navigateToPayments()}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(w),e.Y36(J))},_.\u0275cmp=e.Xpm({type:_,selectors:[["ng-component"]],viewQuery:function(t,n){if(1&t&&e.Gf(_i,5),2&t){let l;e.iGM(l=e.CRH())&&(n.child=l.first)}},decls:7,vars:2,consts:function(){let i;return i="Back to payments list",[[1,"bb-block"],["bbButton","","color","link",1,"bb-block","bb-block--md","pl-0",3,"click"],["aria-hidden","true",1,"bb-icon","bb-icon-arrow-back"],i,[3,"accountNumberMasked","dismissTimeoutValue"],["paymentOneOffEditReviewContainer",""]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return n.goBack()}),e._UZ(2,"i",2),e.TgZ(3,"span"),e.SDv(4,3),e.qZA()()(),e._UZ(5,"bb-billpay-payment-one-off-edit-review-container",4,5)),2&t&&(e.xp6(5),e.Q6J("accountNumberMasked",n.config.accountNumberMasked)("dismissTimeoutValue",n.config.notificationDismissTime))},directives:[nt,Y.Hq],encapsulation:2}),_})(),lt=(()=>{class _{constructor(){this.destroy$=new B.x,this.id=o.zh.generateId()}ngOnInit(){this.processFrequencyValueChanges()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}processFrequencyValueChanges(){if(!this.scheduleForm)return;const t=this.scheduleForm.controls.endType,n=this.scheduleForm.controls.endDate,l=this.scheduleForm.controls.repeat,a=this.scheduleForm.controls.startDate,s=this.scheduleForm.controls.paymentService,r=this.scheduleForm.controls.frequency,E=this.scheduleForm.controls.paymentServiceDate,u=this.scheduleForm.controls.sendDate;a&&r&&s&&t&&n&&r.valueChanges.pipe((0,O.R)(this.destroy$)).subscribe(y=>{y===o.yA.Once?(s.enable(o.hi),u.enable(o.hi),s.updateValueAndValidity(),E.enable(o.hi),n.disable(o.hi),t.disable(o.hi),l.disable(o.hi)):(s.disable(o.hi),E.disable(o.hi),u.disable(o.hi),a.enable(o.hi),n.enable(o.hi),l.enable(o.hi),t.enable())})}}return _.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-billpay-payment-frequency"]],inputs:{scheduleForm:"scheduleForm",frequencies:"frequencies"},decls:5,vars:4,consts:function(){let i;return i=" Frequency ",[[1,"bb-form-field","bb-form-field--md","bb-block","bb-block--md"],["data-role","billpay-payment-frequency-label",1,"form-label",3,"id"],i,["data-role","billpay-payment-frequency",3,"formControl","aria-labelledby"],[3,"value","label",4,"ngFor","ngForOf"],[3,"value","label"]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e.SDv(2,2),e.qZA(),e.TgZ(3,"bb-dropdown-single-select-ui",3),e.YNc(4,ni,1,2,"bb-dropdown-single-select-option-ui",4),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("id","billpay-payment-frequency-label"+n.id),e.xp6(2),e.Q6J("formControl",null==n.scheduleForm?null:n.scheduleForm.get("frequency"))("aria-labelledby","billpay-payment-frequency-label"+n.id),e.xp6(1),e.Q6J("ngForOf",n.frequencies))},directives:[ie.Pp,ie.MM,S.JJ,S.oH,d.sg],encapsulation:2,changeDetection:0}),_})(),at=(()=>{class _{constructor(){this.frequencyValues=o.yA,this.id=o.zh.generateId()}get formValue(){var t;return null===(t=this.scheduleForm)||void 0===t?void 0:t.getRawValue()}}return _.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-billpay-payment-start-date"]],inputs:{scheduleForm:"scheduleForm",frequencies:"frequencies",minDate:"minDate"},decls:1,vars:1,consts:function(){let i,t,n;return i=" Execution date is required. ",t=" Execution date could not be in a past. ",n=" Invalid date format. ",[["class","bb-block bb-block--md",4,"ngIf"],[1,"bb-block","bb-block--md"],[1,"bb-text-bold",3,"id"],["data-role","billpay-start-date-label",3,"id",4,"ngIf"],[1,"bb-form-field","bb-form-field--sm"],["data-role","billpay-start-date-calendar",3,"aria-labelledby","formControl","minDate","datepickerDescribedby"],["role","alert",3,"id","showErrors"],["data-role","missing-schedule-execution-date",4,"ngIf"],["data-role","past-date-schedule-execution-date",4,"ngIf"],["data-role","invalid-date-schedule-execution-date",4,"ngIf"],["data-role","billpay-start-date-label",3,"id"],["data-role","missing-schedule-execution-date"],i,["data-role","past-date-schedule-execution-date"],t,["data-role","invalid-date-schedule-execution-date"],n]},template:function(t,n){1&t&&e.YNc(0,si,9,11,"div",0),2&t&&e.Q6J("ngIf",(null==n.formValue?null:n.formValue.frequency)!==n.frequencyValues.Once)},directives:[x.sO,te.d,d.O5,x.Mt,S.JJ,S.oH],encapsulation:2}),_})(),ot=(()=>{class _{constructor(){this.endTypes=o.J6,this.frequencyValues=o.yA,this.id=o.zh.generateId(),this.destroy$=new B.x}get formValue(){var t;return null===(t=this.scheduleForm)||void 0===t?void 0:t.getRawValue()}ngOnInit(){this.processEndTypeValueChanges()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}processEndTypeValueChanges(){if(!this.scheduleForm)return;const t=this.scheduleForm.controls.endType,n=this.scheduleForm.controls.endDate,l=this.scheduleForm.controls.repeat;t&&n&&l&&t.valueChanges.pipe((0,O.R)(this.destroy$)).subscribe(a=>{switch(a){case o.J6.After:l.enable(o.hi),n.disable(o.hi);break;case o.J6.On:n.enable(o.hi),l.disable(o.hi);break;default:n.disable(o.hi),l.disable(o.hi)}})}}return _.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-billpay-payment-end-date"]],inputs:{scheduleForm:"scheduleForm"},decls:13,vars:10,consts:function(){let i,t,n,l,a,s,r,E;return i=" End ",t="Never",n="On",l="end-date",a=" End date could not be lower than start date. ",s=" Invalid date format. ",r=" End date is required. ",E=" After ",[[1,"bb-block","bb-block--md",3,"hidden"],["data-role","billpay-form-end-date-label",1,"bb-label",3,"id"],i,[1,"bb-stack","bb-stack--align-bottom"],[1,"bb-stack__item"],["data-role","billpay-end-date-options",3,"required","aria-labelledby","formControl"],["label",t,"aria-invalid","false","data-role","ending-never-selector","role","radio",3,"value"],["aria-invalid","false","data-role","ending-on-selector","role","radio",3,"value","labelTemplate"],["aria-invalid","false","data-role","ending-after-selector","role","radio",3,"value","labelTemplate"],["endingTemplate",""],["afterTemplate",""],[1,"bb-stack"],["data-role","ending-date-on-label",1,"bb-stack__item","bb-stack__item--spacing-lg",3,"id"],n,["data-role","ending-end-date","aria-label",l,"placement","top-right",3,"formControl","minDate","datepickerDescribedby","aria-labelledby"],["role","alert",3,"showErrors",4,"ngIf"],["role","alert",3,"showErrors"],["data-role","past-date-ending-end-date",4,"ngIf"],["data-role","invalid-date-schedule-end-date",4,"ngIf"],["data-role","required-date-schedule-end-date",4,"ngIf"],["data-role","past-date-ending-end-date"],a,["data-role","invalid-date-schedule-end-date"],s,["data-role","required-date-schedule-end-date"],r,[1,"bb-stack__item","bb-stack__item--spacing-sm"],E,[1,"bb-stack__item","bb-form-field","bb-form-field--xs"],["data-role","ending-occurrences","aria-label","occurrences",3,"formControl"]]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"label",1),e.SDv(2,2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"bb-input-radio-group-ui",5),e._UZ(6,"bb-input-radio-ui",6)(7,"bb-input-radio-ui",7)(8,"bb-input-radio-ui",8),e.YNc(9,di,6,6,"ng-template",null,9,e.W1O),e.YNc(11,Ai,9,1,"ng-template",null,10,e.W1O),e.qZA()()()()),2&t){const l=e.MAs(10),a=e.MAs(12);e.Q6J("hidden",(null==n.formValue?null:n.formValue.frequency)===n.frequencyValues.Once),e.xp6(1),e.MGl("id","billpay-end-date-label-",n.id,""),e.xp6(4),e.Q6J("required",!0)("aria-labelledby","billpay-end-date-label-"+n.id)("formControl",null==n.scheduleForm?null:n.scheduleForm.get("endType")),e.xp6(1),e.Q6J("value",n.endTypes.Never),e.xp6(1),e.Q6J("value",n.endTypes.On)("labelTemplate",l),e.xp6(1),e.Q6J("value",n.endTypes.After)("labelTemplate",a)}},directives:[ee.Af,ee.f2,x.sO,te.d,ge.l,S.Q7,S.JJ,S.oH,x.Mt,d.O5],encapsulation:2,changeDetection:0}),_})(),st=(()=>{class _{constructor(){this.selectItem=new e.vpe}onSelectItem(t){this.selectItem.emit(t)}}return _.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-billpay-payment-compact-product-selector"]],inputs:{paymentForm:"paymentForm",accounts:"accounts",productNumberFormat:"productNumberFormat"},outputs:{selectItem:"selectItem"},decls:6,vars:1,consts:function(){let i;return i="Pay From",[[1,"bb-form-field","bb-form-field--md"],["data-role","multiple-bills-form-from-account-label"],i,[3,"autoClose",4,"ngIf"],["productItemContent",""],[3,"autoClose"],["bbDropdownToggle",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["bbDropdownMenu",""],[4,"ngIf"],["bbButton","","color","unstyled","class","bb-product-selector__dropdown-item bb-billpay-multiple-bills-selector","data-role","product-selector-dropdown-item",3,"ngClass","click",4,"ngFor","ngForOf"],["bbButton","","color","unstyled","data-role","product-selector-dropdown-item",1,"bb-product-selector__dropdown-item","bb-billpay-multiple-bills-selector",3,"ngClass","click"],["data-role","compact-product-selector-account-name",3,"text"],[1,"bb-account-info","bb-text-default"],["data-role","compact-product-selector-account-number",1,"bb-account-info__product-number",3,"text"],["data-role","compact-product-selector-amount",1,"bb-subtitle","bb-text-bold",3,"currency","amount","mapCurrency"]]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"label",1),e.SDv(2,2),e.qZA(),e.YNc(3,yi,5,6,"bb-product-selector-ui",3),e.qZA(),e.YNc(4,Bi,5,8,"ng-template",null,4,e.W1O)),2&t){let l;e.xp6(3),e.Q6J("ngIf",null==n.paymentForm||null==(l=n.paymentForm.get("accountFrom"))?null:l.value)}},directives:[pe.c,Ie.SN,_e.G4,d.O5,d.tP,d.sg,Y.Hq,d.mk],pipes:[Rt.V9],encapsulation:2,changeDetection:0}),_})(),rt=(()=>{class _ extends o.IE{constructor(t,n,l,a,s,r){super(t,n),this.mediaQueryService=l,this.scheduleService=a,this.configService=s,this.navigationService=r,this.isCollapsed=!0,this.id=o.zh.generateId(),this.productNumberFormat=this.configService.productNumberFormat,this.frequencies=this.configService.frequencies}get latestBill(){var t,n;return null===(n=null===(t=this.payeeSummary)||void 0===t?void 0:t.ebill)||void 0===n?void 0:n.latestBill}ngOnInit(){var t,n;this.minDate=this.scheduleService.estimatedPaymentServiceDate(null===(t=this.payeeSummary)||void 0===t?void 0:t.paymentServices,o.ag.Regular),this.syncPeerFields(null===(n=this.paymentForm)||void 0===n?void 0:n.get("schedule.sendDate"))}syncPeerFields(t){this.mediaQueryService.isMediaBreakpointMatches("max-width","lg").pipe((0,O.R)(this.destroy$),(0,bt.x)()).subscribe(()=>{null==t||t.patchValue(t.value,{emitEvent:!1,onlySelf:!0})})}selectItem(t){var n;null===(n=this.paymentForm)||void 0===n||n.patchValue({accountFrom:t})}handleEditPayee(){var t;this.payeeSummary&&!this.payeeSummary.electronic?this.navigationService.navigateToEditManualPayee(this.payeeSummary.id):(null===(t=this.payeeSummary)||void 0===t?void 0:t.electronic)&&this.navigationService.navigateToEditElectronicPayee(this.payeeSummary.id)}handleViewSummary(){this.payeeSummary&&this.navigationService.navigateToPayeeSummary(this.payeeSummary.id)}handleGetEbills(){this.payeeSummary&&this.navigationService.navigateToPayverisEbillEnrol(this.payeeSummary.id)}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(o.xy),e.Y36(F.jL),e.Y36(Bt.h),e.Y36(o.Hx),e.Y36(w),e.Y36(J))},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-billpay-multiple-bills-list-item"]],inputs:{payeeSummary:"payeeSummary",paymentForm:"paymentForm",accounts:"accounts",inheritedId:"inheritedId"},features:[e.qOj],decls:48,vars:22,consts:function(){let i,t,n,l,a,s,r,E,u,y,b,M,g,R,G,I,h,q,$,Q;return i="Est. Delivery",t="View payee",n="Edit payee",l="Delete payee",a="Stop eBills",s="Memo",r=" (Optional) ",E="This will be printed on the check sent to the payee",u="eBill payment scheduled",y="eBill due on " + "\ufffd0\ufffd" + "",b=" eBills cannot be retrieved. ",M="Update login credentials ",g=" This biller no longer supports eBills. ",R="Disable eBills for this payee ",G=" Please log in to the biller's site to resolve an issue and continue receiving eBills for this payee. ",I="Refresh status ",h=" eBills cannot be retrieved, please try again later or contact support ",q=" No eBills due ",$="Get eBills",Q=" Recurring Payments Scheduled ",[[1,"bb-billpay-multiple-bills-list-item__content"],[1,"bb-billpay-multiple-bills__grid-container"],[1,"bb-billpay-multiple-bills__grid-item","bb-stack__item","bb-stack__item--spacing-sm"],[4,"ngTemplateOutlet"],["data-role","multiple-bills-list-titles-due-date",1,"bb-billpay-multiple-bills__grid-item","bb-billpay-multiple-bills__grid-item--higher","bb-text-align-center","bb-d-none","bb-d-lg-block"],["data-role","multiple-bills-minimum-amount-due",1,"bb-text-align-left","bb-text-align-right--lg-up","bb-billpay-multiple-bills__grid-item","bb-stack__item","bb-stack__item--spacing-sm","bb-billpay-multiple-bills__grid-item--second-row","bb-billpay-multiple-bills__grid-item--higher"],["class","bb-text-bold",3,"currency","amount",4,"ngIf"],[1,"bb-billpay-multiple-bills__grid-item","bb-d-none","bb-d-lg-block","bb-stack__item","bb-stack__item--spacing-xs"],[1,"bb-billpay-multiple-bills__grid-item","bb-stack__item","bb-stack__item--spacing-none","bb-billpay-multiple-bills__grid-item--second-row"],[1,"bb-billpay-multiple-bills__grid-item","bb-billpay-multiple-bills__grid-item--higher","bb-text-align-right","bb-stack","bb-stack--align-top"],["data-role","multiple-bills-actions-list",1,"bb-stack__item","bb-stack__item--spacing-md","bb-stack__item--push-right"],["btnColor","text-link","container","body","icon","ellipsis-h","buttonSize","sm","iconSize","sm",3,"btnCircle"],["bbDropdownMenuItem",""],[1,"bb-stack__item"],["bbButton","","color","text-link","aria-label","dropdown-button","buttonSize","sm","data-role","multiple-bills-item-dropdown-button",3,"circle","click"],["data-role","schedule-toggle-icon",3,"name"],[1,"bb-billpay-multiple-bills-list-item__collapsible-area",3,"ngbCollapse"],[1,"bb-stack","bb-d-block","bb-d-lg-flex"],[1,"bb-stack__item","bb-stack__item--spacing-xl"],["class","bb-block bb-block--md",4,"ngIf"],[1,"bb-form-field","bb-form-field--md","bb-d-lg-none","bb-block","bb-block--md"],["data-role","multiple-bills-form-delivery-date-label",3,"id"],i,[1,"bb-block","bb-block--sm"],["data-role","multiple-bills-outstanding-amount",1,"bb-stack__item--align-top"],[1,"bb-stack__item--align-top"],[4,"ngIf"],["deliveryDateTemp",""],["amountInputTemp",""],["memoTemp",""],["scheduleTemp",""],["productSelectorTemp",""],["payeeDescTemp",""],[1,"bb-text-bold",3,"currency","amount"],["role","menuitem","data-role","view-payee-menu-item",1,"dropdown-item","bb-dropdown-single-select",3,"bbKeyboardClick"],t,["role","menuitem","data-role","edit-payee-menu-item",1,"dropdown-item","bb-dropdown-single-select",3,"bbKeyboardClick"],n,["role","menuitem","data-role","delete-payee-menu-item",1,"dropdown-item","bb-dropdown-single-select",3,"bbKeyboardClick"],l,["role","menuitem","target","_blank","data-role","stop-ebills-menu-item","class","dropdown-item bb-dropdown-single-select",3,"bbKeyboardClick",4,"ngIf"],["role","menuitem","target","_blank","data-role","stop-ebills-menu-item",1,"dropdown-item","bb-dropdown-single-select",3,"bbKeyboardClick"],a,[1,"bb-block","bb-block--md"],[1,"bb-text-semi-bold","bb-block","bb-block--sm",3,"for"],[1,"bb-text-default",3,"id","currency","amount"],["data-role","once-delivery-date-calendar","aria-label","delivery-date",3,"formControl","minDate","datepickerDescribedby","aria-labelledby"],["data-role","multiple-bills-amount-input","wrapperClasses","bb-text-bold","placeholder","0.00",3,"formControl","autoDecimal","currency","aria-labelledby"],["data-role","multiple-bills-form-memo-label",1,"bb-label",3,"for"],s,[1,"bb-text-default","bb-text-support"],r,["data-role","multiple-bills-form-memo-desc",1,"bb-subtitle","text-muted",3,"id"],E,[1,"bb-form-field","bb-form-field--md"],["data-role","memo",3,"id","aria-describedby","formControl","maxLength","rows","showCharCounter"],[3,"scheduleForm","frequencies",4,"ngIf"],[3,"scheduleForm","frequencies","minDate"],[3,"scheduleForm"],[3,"scheduleForm","frequencies"],[3,"accounts","paymentForm","productNumberFormat","selectItem"],[1,"bb-stack"],[1,"bb-stack__item","bb-stack__item--fill"],["role","link","tabindex","0","data-role","payee-name",1,"bb-text-bold","bb-text-default",3,"bbKeyboardClick"],["class","bb-stack bb-stack--align-top",4,"ngIf"],["class","bb-stack bb-d-lg-none",4,"ngIf"],["class","bb-stack bb-stack--wrap bb-stack--align-top",4,"ngIf"],["class","bb-text-support","data-role","no-due-date-label",3,"id",4,"ngIf"],["class","bb-stack",4,"ngIf"],[1,"bb-stack","bb-stack--align-top"],["data-role","ebill-payment-icon","name","savings-accounts","color","secondary",1,"bb-stack__item","bb-stack__item--spacing-none"],["data-role","ebill-payment-label",1,"bb-stack__item","bb-text-support",3,"id"],u,[1,"bb-stack","bb-d-lg-none"],["data-role","receipt-icon","size","sm","name","receipt","color","secondary",1,"bb-stack__item","bb-stack__item--spacing-sm"],["class","bb-stack__item bb-subtitle bb-text-support","data-role","due-date-label",3,"id",4,"ngIf"],["data-role","due-date-label",1,"bb-stack__item","bb-subtitle","bb-text-support",3,"id"],y,[1,"bb-stack","bb-stack--wrap","bb-stack--align-top"],[1,"bb-stack__item","bb-stack__item--spacing-sm"],["data-role","ebills-error-icon","size","sm","name","error-outline","color","danger",1,"bb-stack__item","bb-stack__item--spacing-sm"],["data-role","ebills-error-cannot-be-retrieved-message",1,"bb-stack__item","bb-subtitle","bb-text-danger",3,"id"],b,["tabindex","0","role","button","data-role","ebills-update-login-credentials-button",1,"bb-stack__item","bb-subtitle",3,"bbKeyboardClick"],M,["data-role","ebills-error-no-longer-supported-message",1,"bb-stack__item","bb-subtitle","bb-text-danger",3,"id"],g,["tabindex","0","role","button","data-role","ebills-disabled-button",1,"bb-stack__item","bb-subtitle",3,"bbKeyboardClick"],R,["data-role","ebills-error-icon","name","error-outline","size","sm","color","danger",1,"bb-stack__item","bb-stack__item--spacing-sm"],["data-role","ebills-error-login-to-biller-message",1,"bb-stack__item","bb-subtitle","bb-text-danger",3,"id"],G,["tabindex","0","role","button","data-role","ebills-refresh-status-button",1,"bb-stack__item","bb-subtitle",3,"bbKeyboardClick"],I,["data-role","ebills-error-try-again-later-message",1,"bb-stack__item","bb-subtitle","bb-text-danger"],h,["data-role","no-due-date-label",1,"bb-text-support",3,"id"],q,["data-role","get-ebills-menu-item","tabindex","0","role","button",1,"bb-stack__item","bb-subtitle",3,"bbKeyboardClick"],$,["data-role","recurring-payment-icon","size","sm","name","repeat","color","secondary"],["data-role","recurring-payment-label",1,"bb-stack__item","bb-subtitle","bb-text-support",3,"id"],Q]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,Ri,1,0,"ng-container",3),e.qZA(),e.TgZ(4,"div",4)(5,"span"),e._uU(6),e.ALo(7,"bbDate"),e.qZA()(),e.TgZ(8,"div",5),e.YNc(9,fi,1,2,"bb-amount-ui",6),e.qZA(),e.TgZ(10,"div",7),e.YNc(11,Ni,1,0,"ng-container",3),e.qZA(),e.TgZ(12,"div",8),e.YNc(13,Mi,1,0,"ng-container",3),e.qZA(),e.TgZ(14,"div",9)(15,"div",10)(16,"bb-dropdown-menu-ui",11),e.YNc(17,Ii,10,1,"ng-template",12),e.qZA()(),e.TgZ(18,"div",13)(19,"button",14),e.NdJ("click",function(){return n.isCollapsed=!n.isCollapsed}),e._UZ(20,"bb-icon-ui",15),e.qZA()()()(),e.TgZ(21,"div",16)(22,"div",17)(23,"div",18),e.YNc(24,Pi,2,1,"div",19),e.TgZ(25,"div",20)(26,"label",21),e.SDv(27,22),e.qZA(),e.YNc(28,Ci,1,0,"ng-container",3),e.qZA(),e.TgZ(29,"div"),e.YNc(30,hi,1,0,"ng-container",3),e.qZA(),e.TgZ(31,"div",23),e.YNc(32,Ui,1,0,"ng-container",3),e.qZA()(),e.TgZ(33,"div",24)(34,"div",25),e.YNc(35,vi,5,4,"ng-container",26),e.qZA()()()(),e.YNc(36,Ti,1,4,"ng-template",null,27,e.W1O),e.YNc(38,Yi,1,4,"ng-template",null,28,e.W1O),e.YNc(40,Ji,10,8,"ng-template",null,29,e.W1O),e.YNc(42,Fi,3,5,"ng-template",null,30,e.W1O),e.YNc(44,Ki,1,3,"ng-template",null,31,e.W1O),e.YNc(46,Xi,10,19,"ng-template",null,32,e.W1O),e.qZA()),2&t){const l=e.MAs(37),a=e.MAs(39),s=e.MAs(41),r=e.MAs(43),E=e.MAs(47);e.xp6(3),e.Q6J("ngTemplateOutlet",E),e.xp6(3),e.Oqu(e.xi3(7,19,null==n.latestBill?null:n.latestBill.paymentDate,"MM/dd/y")),e.xp6(3),e.Q6J("ngIf",null==n.latestBill?null:n.latestBill.minAmountDue),e.xp6(2),e.Q6J("ngTemplateOutlet",l),e.xp6(2),e.Q6J("ngTemplateOutlet",a),e.xp6(3),e.Q6J("btnCircle",!0),e.uIk("aria-label","More options for "+n.payeeName),e.xp6(3),e.Q6J("circle",!0),e.uIk("aria-expanded",!n.isCollapsed)("aria-controls","collapse"+n.id),e.xp6(1),e.s9C("name",n.isCollapsed?"toggle-down":"toggle-up"),e.xp6(1),e.Q6J("ngbCollapse",n.isCollapsed),e.uIk("id","collapse"+n.id),e.xp6(3),e.Q6J("ngIf",n.accounts),e.xp6(2),e.MGl("id","billpay-delivery-date-label-",n.id,""),e.xp6(2),e.Q6J("ngTemplateOutlet",l),e.xp6(2),e.Q6J("ngTemplateOutlet",r),e.xp6(2),e.Q6J("ngTemplateOutlet",s),e.xp6(3),e.Q6J("ngIf",null==n.latestBill?null:n.latestBill.outstandingBalance)}},directives:[_e.G4,Be.N9,z.o,x.sO,oe.l,be.R,lt,at,ot,st,d.tP,d.O5,Be.i4,ft.w,Y.Hq,F._D,x.Mt,S.JJ,S.oH],pipes:[se.y],encapsulation:2}),_})(),ct=(()=>{class _{constructor(){this._payeeSummaries=[],this.ascendingList=!0,this.isForEbills=!1,this.id=o.zh.generateId()}set payeeSummaries(t){this._payeeSummaries=this.sortByDueDate(t)}get payeeSummaries(){return this._payeeSummaries}sortByDueDate(t=this.payeeSummaries){const n=t.filter(a=>{var s,r;return!(null===(r=null===(s=a.ebill)||void 0===s?void 0:s.latestBill)||void 0===r?void 0:r.paymentDate)});return[...t.filter(a=>{var s,r;return!!(null===(r=null===(s=a.ebill)||void 0===s?void 0:s.latestBill)||void 0===r?void 0:r.paymentDate)}).sort((a,s)=>{var r,E,u,y;const b=new Date((null===(E=null===(r=a.ebill)||void 0===r?void 0:r.latestBill)||void 0===E?void 0:E.paymentDate)||"").getTime(),M=new Date((null===(y=null===(u=s.ebill)||void 0===u?void 0:u.latestBill)||void 0===y?void 0:y.paymentDate)||"").getTime();return this.ascendingList?b-M:M-b}),...n]}onSortClick(){this.ascendingList=!this.ascendingList,this.payeeSummaries=this.sortByDueDate()}trackByFunction(t,n){var l,a;return null===(a=null===(l=n.ebill)||void 0===l?void 0:l.latestBill)||void 0===a?void 0:a.paymentDate}}return _.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-billpay-payment-multiple-bills-list"]],inputs:{payeeSummaries:"payeeSummaries",paymentsFormGroup:"paymentsFormGroup",accounts:"accounts",isForEbills:"isForEbills"},decls:20,vars:8,consts:function(){let i,t,n,l,a,s;return i="Payee",t="Est. Delivery ",n="" + "\ufffd#15\ufffd" + "" + "\ufffd/#15\ufffd" + "",l="Amount",a="Due Date",s="Amount Due",[[1,"bb-billpay-multiple-bills-form",3,"formGroup"],[1,"bb-d-none","bb-d-lg-block","bb-billpay-multiple-bills-form__titles"],[1,"bb-billpay-multiple-bills__grid-container","bb-stack"],[1,"bb-billpay-multiple-bills__grid-item","bb-stack__item"],["data-role","multiple-bills-list-titles-payee",1,"bb-subtitle","bb-text-semi-bold"],i,[1,"bb-billpay-multiple-bills__grid-item","bb-text-align-center"],["class","bb-inline-stack","data-role","multiple-bills-list-titles-due-date-label",4,"ngIf"],[1,"bb-billpay-multiple-bills__grid-item","bb-stack__item","bb-stack__item--spacing-sm","bb-text-align-right"],["class","bb-subtitle bb-text-semi-bold","data-role","multiple-bills-list-titles-amount-due",4,"ngIf"],[1,"bb-billpay-multiple-bills__grid-item","bb-stack","bb-stack__item"],["data-role","multiple-bills-list-titles-delivery-date",1,"bb-subtitle","bb-text-semi-bold","bb-stack__item","bb-stack__item--spacing-xs"],t,["bbTooltip","The date we expect your payment to reach the payee. That may vary from payee to payee.","placement","top",1,"bb-stack__item","bb-d-flex",3,"triggers","id"],n,["name","info","size","sm",1,"bb-billpay-multiple-bills__tooltip"],["data-role","multiple-bills-list-titles-amount",1,"bb-subtitle","bb-text-semi-bold",3,"id"],l,["class","bb-billpay-multiple-bills-list-item",3,"payeeSummary","paymentForm","accounts","inheritedId",4,"ngFor","ngForOf","ngForTrackBy"],["data-role","multiple-bills-list-titles-due-date-label",1,"bb-inline-stack"],[1,"bb-subtitle","bb-text-semi-bold","bb-stack__item","bb-stack__item--spacing-xs"],a,["bbButton","","color","unstyled","aria-label","Sort by due date ascending",3,"click"],["size","xs",3,"name"],["data-role","multiple-bills-list-titles-amount-due",1,"bb-subtitle","bb-text-semi-bold"],s,[1,"bb-billpay-multiple-bills-list-item",3,"payeeSummary","paymentForm","accounts","inheritedId"]]},template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),e.SDv(5,5),e.qZA()(),e.TgZ(6,"div",6),e.YNc(7,el,5,1,"div",7),e.qZA(),e.TgZ(8,"div",8),e.YNc(9,tl,2,0,"span",9),e.qZA(),e.TgZ(10,"div",10)(11,"span",11),e.SDv(12,12),e.qZA(),e.TgZ(13,"span",13),e.tHW(14,14),e._UZ(15,"bb-icon-ui",15),e.N_p(),e.qZA()(),e.TgZ(16,"div",3)(17,"span",16),e.SDv(18,17),e.qZA()()()(),e.YNc(19,_l,1,4,"bb-billpay-multiple-bills-list-item",18),e.qZA()),2&t&&(e.Q6J("formGroup",n.paymentsFormGroup),e.xp6(7),e.Q6J("ngIf",n.isForEbills),e.xp6(2),e.Q6J("ngIf",n.isForEbills),e.xp6(4),e.MGl("id","multiple-payments-start-date-tooltip-",n.id,""),e.Q6J("triggers","hover"),e.xp6(4),e.MGl("id","multiple-payments-amount-label-",n.id,""),e.xp6(2),e.Q6J("ngForOf",n.payeeSummaries)("ngForTrackBy",n.trackByFunction))},directives:[z.o,rt,S._Y,S.JL,S.sg,d.O5,Y.Hq,ce.i,d.sg],encapsulation:2,changeDetection:0}),_})(),Ue=(()=>{class _{constructor(t){this.configService=t,this.currency=this.configService.paymentDefaultCurrency}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(w))},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-billpay-payment-multiple-bills-sum-board"]],inputs:{totalAmount:"totalAmount",actionButtons:"actionButtons",inheritedId:"inheritedId"},decls:10,vars:6,consts:function(){let i,t;return i="Total Amount",t=" You can start by filling the amounts on the bills you would like to pay ",[["data-role","multiple-bills-sum-board",1,"bb-billpay-multiple-bills-board","bb-stack"],[1,"bb-stack","bb-stack--wrap","container"],[1,"bb-stack__item","bb-stack__item--fill"],["data-role","multiple-bills-sum-board-amount-label",1,"bb-text-default","bb-subtitle","bb-block","bb-block--xs",3,"id"],i,["data-role","multiple-bills-sum-board-amount",1,"bb-heading-1",3,"id","currency","amount"],["class","bb-stack__item bb-billpay-multiple-bills-board-desc",4,"ngIf","ngIfElse"],["buttonsTemp",""],[1,"bb-stack__item","bb-billpay-multiple-bills-board-desc"],[1,"card","card-sm","card--shadowless","bb-inline-stack","bb-billpay-multiple-bills-board-desc__body"],[1,"card-body"],["bbTooltip","You can start by filling the amounts on the bills you would like to pay","triggers","hover","placement","top",1,"bb-stack","bb-d-md-none"],["name","dns","size","md","color","primary"],[1,"bb-inline-stack","bb-d-none","bb-d-md-flex"],["name","dns","size","md",1,"bb-stack__item","bb-stack__item--spacing-sm"],["data-role","multiple-bills-sum-board-description",1,"bb-subtitle"],t,[3,"ngTemplateOutlet"]]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e.SDv(4,4),e.qZA(),e._UZ(5,"br")(6,"bb-amount-ui",5),e.qZA(),e.YNc(7,nl,9,0,"div",6),e.qZA()(),e.YNc(8,il,1,1,"ng-template",null,7,e.W1O)),2&t){const l=e.MAs(9);e.xp6(3),e.MGl("id","total-amount-label-",n.inheritedId,""),e.xp6(3),e.MGl("id","total-amount-",n.inheritedId,""),e.Q6J("currency",n.currency)("amount",n.totalAmount||0),e.xp6(1),e.Q6J("ngIf",!n.totalAmount)("ngIfElse",l)}},directives:[_e.G4,z.o,d.O5,ce.i,d.tP],encapsulation:2,changeDetection:0}),_})(),Et=(()=>{class _{constructor(t,n,l,a,s,r,E,u,y,b,M){this.payeeDataService=t,this.fb=n,this.scheduleService=l,this.paymentStateService=a,this.navigationService=s,this.route=r,this.paymentDataService=E,this.configService=u,this.notificationService=y,this.discardModalService=b,this.cdRef=M,this.paymentsFormGroup=this.fb.group({}),this.totalAmount$=this.paymentsFormGroup.valueChanges.pipe((0,T.U)(g=>Object.values(g).reduce((R,G)=>R+ +G.amount.amount,0))),this.selectedDeleteEbills$=this.payeeDataService.selectedDeleteEbills,this.selectedDeletePayee$=this.payeeDataService.selectedDeletePayee,this.destroy$=new B.x,this.notificationMessageTemplate="",this.notificationHeaderTemplate="",this.isDeleteModalOpened=!1,this.isDeleteEbillsModalOpen=!1,this.isNavigateModalOpened=!1,this.notificationType="",this.deletePayeeId="",this.id=o.zh.generateId(),this.hasOvernightCheck=g=>!!(null==g?void 0:g.find(R=>R.paymentServiceType===o.ag.Overnight))}get isErrorState(){return"error"===this.payeeDataService.payeesLoadingState||this.paymentDataService.accountsLoadingState===o.Gu.Error}get isDiscardModalOpen(){return this.discardModalService.isDiscardModalOpen}onWindowUnload(t){(this.paymentsFormGroup.touched||this.paymentStateService.isFormProcessing)&&!this.isDiscardModalOpen&&(t.returnValue=!0)}ngOnInit(){this.payeeSummariesByEbillObservable$=this.payeeDataService.getPayees().pipe((0,f.b)(t=>{const{ebillsEnabled:n=[],ebillsNotEnabled:l=[]}=t||{};this.payeeSummaries=[...n,...l],this.createForm(this.payeeSummaries),this.paymentStateService.isFormProcessing&&this.patchPaymentDataToForm()}),(0,m.d)()),this.accounts$=this.paymentDataService.getPayeesAndAccounts().pipe((0,T.U)(t=>{var n;return this.accounts=t.accounts,this.patchFormValue({accountFrom:null===(n=t.accounts)||void 0===n?void 0:n[0]}),t.accounts}),(0,m.d)()),this.payeeDataService.selectedDeletePayee.pipe((0,O.R)(this.destroy$),(0,Te.T)(1)).subscribe(t=>t?this.isDeleteModalOpened=!0:this.openNavigateModal()),this.payeeDataService.selectedDeleteEbills.pipe((0,O.R)(this.destroy$),(0,Te.T)(1)).subscribe(t=>t?this.isDeleteEbillsModalOpen=!0:this.openNavigateModal())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}handleClearForm(){this.patchFormValue(),this.paymentsFormGroup.markAsUntouched(),this.paymentStateService.isFormProcessing=!1}defaultFormState(t){var n;const l=this.hasOvernightCheck(null==t?void 0:t.paymentServices)?null==t?void 0:t.overnightDeliveryAddress:{},a=this.scheduleService.estimatedPaymentServiceDate(null==t?void 0:t.paymentServices,o.ag.Regular),s=this.scheduleService.estimatedPaymentServiceDate(null==t?void 0:t.paymentServices,o.ag.Regular);return{accountFrom:null===(n=this.accounts)||void 0===n?void 0:n[0],payeeTo:t,amount:{amount:" ",currency:this.configService.paymentDefaultCurrency},memo:"",overnightDeliveryAddress:{address1:null==l?void 0:l.address1,address2:null==l?void 0:l.address2,city:null==l?void 0:l.city,state:null==l?void 0:l.state,postalCode:null==l?void 0:l.postalCode},schedule:{frequency:o.yA.Once,startDate:s,sendDate:s,repeat:1,endDate:s,endType:o.J6.Never,paymentService:this.defaultPaymentService,paymentServiceDate:a,alertPendingCheckbox:!1,alertSentCheckbox:!1,alertLastPendingCheckbox:!1}}}areBothListsPresent({ebillsEnabled:t,ebillsNotEnabled:n}){return Boolean((null==t?void 0:t.length)&&(null==n?void 0:n.length))}createForm(t){t.forEach(n=>{var l;const a=this.defaultFormState(n);null===(l=this.paymentsFormGroup)||void 0===l||l.registerControl(n.id,this.fb.group({accountFrom:[a.accountFrom],payeeTo:[a.payeeTo],amount:this.fb.group({amount:[a.amount.amount],currency:[a.amount.currency]}),memo:[a.memo],overnightDeliveryAddress:this.createOvernightAddressFormGroup(n),schedule:this.fb.group({frequency:a.schedule.frequency,startDate:[a.schedule.startDate],sendDate:[a.schedule.sendDate],repeat:[a.schedule.repeat],endDate:[a.schedule.endDate],endType:[a.schedule.endType],paymentService:[a.schedule.paymentService],paymentServiceDate:[a.schedule.paymentServiceDate],alertPendingCheckbox:[a.schedule.alertPendingCheckbox],alertSentCheckbox:[a.schedule.alertSentCheckbox],alertLastPendingCheckbox:[a.schedule.alertLastPendingCheckbox]})}))})}onModalResolve(t){this.discardModalService.onModalResolve(t)}createOvernightAddressFormGroup(t){const n=this.hasOvernightCheck(t.paymentServices)?t.overnightDeliveryAddress:{},l=this.defaultPaymentService(t),a=!(null==l?void 0:l.paymentServiceType)||l.paymentServiceType!==o.ag.Overnight;return this.fb.group({address1:[{value:null==n?void 0:n.address1,disabled:a}],address2:[{value:null==n?void 0:n.address2,disabled:a}],city:[{value:null==n?void 0:n.city,disabled:a}],state:[{value:null==n?void 0:n.state,disabled:a}],postalCode:[{value:null==n?void 0:n.postalCode,disabled:a}]})}defaultPaymentService(t){var n;return null===(n=null==t?void 0:t.paymentServices)||void 0===n?void 0:n.find(l=>l.paymentServiceType===o.ag.Regular)}handleSubmit(){const t=Object.entries(this.paymentsFormGroup.value).filter(([n,l])=>!!+l.amount.amount).map(([n,l])=>this.processFormData(l));this.paymentStateService.isFormProcessing=!0,this.paymentStateService.updatePaymentState(t),this.navigationService.navigateToReview({relativeTo:this.route.parent})}processFormData(t){const n=t.schedule.frequency===o.yA.Once?t.schedule.sendDate:t.schedule.startDate;switch(t.schedule.endType){case o.J6.After:return Object.assign(Object.assign({},t),{schedule:Object.assign(Object.assign({},t.schedule),{startDate:n||"",endDate:new Date(this.scheduleService.estimatedEndDate(t.schedule.startDate,t.schedule.frequency,t.schedule.repeat)).toISOString()})});case o.J6.On:return Object.assign(Object.assign({},t),{schedule:Object.assign(Object.assign({},t.schedule),{startDate:n||"",repeat:this.scheduleService.estimatedOccurences(t.schedule.startDate,t.schedule.endDate||t.schedule.startDate,t.schedule.frequency)})});default:return Object.assign(Object.assign({},t),{schedule:Object.assign(Object.assign({},t.schedule),{startDate:n||""})})}}patchFormValue(t){var n;null===(n=this.payeeSummaries)||void 0===n||n.forEach(l=>{const a=t||this.defaultFormState(l);this.paymentsFormGroup.controls[l.id].patchValue(a)})}onDeleteEbills(t){this.isDeleteEbillsModalOpen=!1,t&&(this.deletePayeeId="",this.deleteEbills().pipe((0,N.q)(1)).subscribe(()=>{this.deletePayeeId&&(this.paymentsFormGroup.removeControl(this.deletePayeeId),this.deletePayeeId=""),this.deletionNotify("ebills")}))}onDeletePayee(t){this.isDeleteModalOpened=!1,t&&(this.deletePayeeId="",this.deletePayee().pipe((0,N.q)(1)).subscribe(()=>{this.deletePayeeId&&(this.paymentsFormGroup.removeControl(this.deletePayeeId),this.deletePayeeId=""),this.deletionNotify("delete")}))}onNavigateToPayments(t){t&&this.navigationService.navigateToPayments(),this.isNavigateModalOpened=!1}deletionNotify(t){this.payeeDataService.reloadPayees(),this.notificationType=t,this.notificationService.showNotification({header:this.notificationHeaderTemplate,message:this.notificationMessageTemplate,modifier:"success",ttl:this.configService.notificationDismissTime})}openNavigateModal(){this.isNavigateModalOpened=!0}openModal(){return this.cdRef.markForCheck(),this.paymentsFormGroup.touched||this.paymentStateService.isFormProcessing?this.discardModalService.openModal():(0,U.of)(!0)}patchPaymentDataToForm(){this.paymentStateService.paymentState.pipe((0,N.q)(1)).subscribe(t=>{t&&t.forEach(n=>{var l;null===(l=this.paymentsFormGroup.get(n.payeeTo.id))||void 0===l||l.patchValue(n)})})}deletePayee(){return this.payeeDataService.selectedDeletePayee.pipe((0,p.w)(t=>t?(this.deletePayeeId=t.id,this.payeeDataService.deletePayee(t.id,t.electronic)):(0,U.of)()))}deleteEbills(){return this.payeeDataService.selectedDeleteEbills.pipe((0,p.w)(t=>t?(this.deletePayeeId=t.id,this.payeeDataService.deleteEbills(t.id)):(0,U.of)()))}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(o.xy),e.Y36(S.qu),e.Y36(o.Hx),e.Y36(H),e.Y36(J),e.Y36(v.gz),e.Y36(o.Ok),e.Y36(w),e.Y36(ye.gq),e.Y36(o.Ol),e.Y36(e.sBO))},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-billpay-payment-multiple-bills"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Pe,5),e.Gf(Ce,5)),2&t){let l;e.iGM(l=e.CRH())&&(n.notificationMessageTemplate=l.first),e.iGM(l=e.CRH())&&(n.notificationHeaderTemplate=l.first)}},hostBindings:function(t,n){1&t&&e.NdJ("beforeunload",function(a){return n.onWindowUnload(a)},!1,e.Jf7)},decls:19,vars:11,consts:function(){let i,t,n,l,a,s,r,E,u,y,b,M,g,R,G,I;return i="Cancel Bill Payments?",t="Are you sure you want to cancel bill payments? Entered data will be lost.",n="Cancel payment",l="Continue with payment",a="Payees with Active eBills",s="All Other Payees",r="Add a payee to make a bill payment",E="No Payees",u="Try to reload the page or contact support",y="Payee list is not loading",b=" Clear All ",M=" Confirm Payment ",g="eBills for " + "\ufffd0\ufffd" + " has been stopped successfully",R="The payee " + "\ufffd0\ufffd" + " has been deleted successfully",G="eBills stopped",I="Payee deleted",[[4,"ngIf","ngIfElse"],[3,"totalAmount","actionButtons","inheritedId"],["loadingState",""],["emptyState",""],["errorState",""],["actionButtons",""],[3,"resolve",4,"ngIf"],["notificationMessage",""],["notificationHeader",""],["data-role","billpay-payment-review-page-discard-changes-modal","title",i,"subtitle",t,"confirm-button-label",n,"cancel-button-label",l,3,"resolve",4,"ngIf"],[1,"bb-billpay-multiple-bills"],["class","bb-block bb-block--lg","data-role","payees-with-active-e-bills-list",4,"ngIf"],["class","bb-billpay-multiple-bills-other-payees-card card card-lg","data-role","all-other-payees-list",4,"ngIf"],["data-role","payees-with-active-e-bills-list",1,"bb-block","bb-block--lg"],[1,"card","card-lg"],[1,"card-body"],[1,"bb-block","bb-block--lg"],["headingType","h2","data-role","sub-header","heading",a,4,"ngIf"],[3,"paymentsFormGroup","payeeSummaries","accounts","isForEbills"],["headingType","h2","data-role","sub-header","heading",a],["data-role","all-other-payees-list",1,"bb-billpay-multiple-bills-other-payees-card","card","card-lg"],["headingType","h2","data-role","sub-header","heading",s,4,"ngIf"],[3,"paymentsFormGroup","payeeSummaries","accounts"],["headingType","h2","data-role","sub-header","heading",s],["loaderSize","lg"],[1,"card-body","bb-state-container"],["data-role","empty-state","iconSize","xxl","iconModifier","assignment-ind","subtitle",r,"title",E],["data-role","error-state","iconSize","xxl","iconModifier","error-outline","subtitle",u,"title",y],[1,"bb-stack"],["bbButton","","color","link","data-role","multiple-bills-clear-button",1,"bb-stack__item","bb-stack__item--spacing-md",3,"click"],b,["bbButton","","color","primary","data-role","multiple-bills-confirm-button",1,"bb-button-bar__button","bb-stack__item","bb-stack__item--spacing-none",3,"click"],M,[3,"resolve"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf"],g,R,["class","bb-text-bold",4,"ngSwitchCase"],[1,"bb-text-bold"],G,I,["data-role","billpay-payment-review-page-discard-changes-modal","title",i,"subtitle",t,"confirm-button-label",n,"cancel-button-label",l,3,"resolve"]]},template:function(t,n){if(1&t&&(e.YNc(0,El,4,6,"ng-container",0),e._UZ(1,"bb-billpay-payment-multiple-bills-sum-board",1),e.ALo(2,"async"),e.YNc(3,ul,3,0,"ng-template",null,2,e.W1O),e.YNc(5,dl,3,0,"ng-template",null,3,e.W1O),e.YNc(7,Al,3,0,"ng-template",null,4,e.W1O),e.YNc(9,Sl,6,2,"ng-template",null,5,e.W1O),e.YNc(11,pl,1,0,"bb-billpay-payee-delete-modal",6),e.YNc(12,ml,1,0,"bb-billpay-ebills-delete-modal",6),e.YNc(13,bl,1,0,"bb-billpay-payee-navigate-modal",6),e.YNc(14,fl,3,3,"ng-template",null,7,e.W1O),e.YNc(16,Ll,3,3,"ng-template",null,8,e.W1O),e.YNc(18,Ol,1,0,"bb-billpay-payment-discard-changes-modal",9)),2&t){const l=e.MAs(8),a=e.MAs(10);e.Q6J("ngIf",!n.isErrorState)("ngIfElse",l),e.xp6(1),e.Q6J("totalAmount",e.lcZ(2,9,n.totalAmount$))("actionButtons",a)("inheritedId",n.id),e.xp6(10),e.Q6J("ngIf",n.isDeleteModalOpened),e.xp6(1),e.Q6J("ngIf",n.isDeleteEbillsModalOpen),e.xp6(1),e.Q6J("ngIf",n.isNavigateModalOpened),e.xp6(5),e.Q6J("ngIf",n.isDiscardModalOpen)}},directives:[Z.G,ct,Ue,le.Q,ae.s,o.Kn,o.QS,o.X$,j,d.O5,Y.Hq,d.RF,d.n9],pipes:[d.Ov],encapsulation:2,changeDetection:0}),_})(),ut=(()=>{class _{constructor(t){this.navigationService=t}openModal(){return this.child.openModal()}addPayee(){var t;null===(t=this.navigationService)||void 0===t||t.navigateToAddPayee()}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(J))},_.\u0275cmp=e.Xpm({type:_,selectors:[["ng-component"]],viewQuery:function(t,n){if(1&t&&e.Gf(Fe,5),2&t){let l;e.iGM(l=e.CRH())&&(n.child=l.first)}},features:[e._Bn([o.Ol])],decls:12,vars:0,consts:function(){let i,t,n;return i="Pay Bills",t=" Add payees if you would like to pay a single bill or multiple bills ",n="Add Payee",[[1,"bb-stack","bb-block","bb-block--lg"],[1,"bb-stack__item","bb-stack__item--fill"],["headingType","h1","heading",i,"data-role","multiple-bills-widget-title"],["data-role","multiple-bills-widget-title-info"],t,[1,"bb-stack__item"],["bbButton","","color","secondary","data-role","pay-a-bill-add-payee",3,"click"],[1,"bb-icon","bb-icon-add"],[1,"bb-accounts-overview-table__header-row"],n,["multipleBillsReview",""]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"bb-header-ui",2),e.TgZ(3,"p",3),e.SDv(4,4),e.qZA()(),e.TgZ(5,"div",5)(6,"button",6),e.NdJ("click",function(){return n.addPayee()}),e._UZ(7,"i",7),e.TgZ(8,"span",8),e.SDv(9,9),e.qZA()()()(),e._UZ(10,"bb-billpay-payment-multiple-bills",null,10))},directives:[Z.G,Et,Y.Hq],encapsulation:2}),_})(),dt=(()=>{class _{constructor(t,n){this.scheduleService=t,this.configservice=n,this.isCollapsed=!0,this.id=o.zh.generateId()}get endDate(){var t;const{startDate:n,repeat:l,frequency:a}=(null===(t=this.payment)||void 0===t?void 0:t.schedule)||{},s=n||(new Date).toISOString();return this.scheduleService.estimatedEndDate(s,a,l)}get frequencyLabel(){const t=this.configservice.frequencies.find(n=>{var l;return(null===(l=this.payment)||void 0===l?void 0:l.schedule.frequency)===n.value});return "" + ((null == t ? void 0 : t.name) || "") + ""}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(o.Hx),e.Y36(w))},_.\u0275cmp=e.Xpm({type:_,selectors:[["","bb-billpay-payment-multiple-bills-review-item",""]],inputs:{payment:"payment",last:"last"},attrs:Il,decls:33,vars:27,consts:function(){let i,t,n,l,a,s,r,E,u,y,b,M,g,R,G;return i="The payment of this bill could not be scheduled.",t="Memo",n="Frequency",l="{VAR_SELECT, select, ONCE {Deliver payment by } other {Deliver first payment by }}",l=e.Zx4(l,{VAR_SELECT:"\ufffd0\ufffd"}),a=" " + l + " ",s=" Overnight check address ",r=" Ending ",E="{VAR_PLURAL, plural, =1 {{INTERPOLATION} payment } other {{INTERPOLATION} payments }}",E=e.Zx4(E,{VAR_PLURAL:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),u="After " + E + " (estimated " + "\ufffd2\ufffd" + ") ",y="Never ",b=" Notify me ",M=" When a payment is pending ",g=" When a payment has been sent ",R=" When the last payment is pending ",G=" due on",[[1,"billpay-multipl-ebills-review__tr"],[1,"billpay-multipl-ebills-review__cell","bb-d-block","bb-d-md-table-cell"],[4,"ngIf","ngIfElse"],[1,"billpay-multipl-ebills-review__cell","bb-d-none","bb-d-md-table-cell"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"billpay-multipl-ebills-review__cell","bb-text-align-right"],["bbButton","","buttonSize","sm","color","text-link","aria-label","dropdown-button","data-role","multipl-ebills-review-toggler",1,"billpay-multipl-ebills-review__toggler",3,"circle","click"],["size","md","data-role","toggle-icon",1,"bb-stack__item",3,"name"],["class","billpay-multipl-ebills-review__tr",4,"ngIf"],[1,"bb-d-md-none","billpay-multipl-ebills-review__tr"],["colspan","2",1,"billpay-multipl-ebills-review__cell"],["data-role","multipl-ebills-extended-fields",1,"billpay-multipl-ebills-review__tr"],["colspan","5"],[3,"id","ngbCollapse"],[1,"billpay-multipl-ebills-review__cell"],["class","bb-block bb-block--md bb-stack bb-stack--align-top",4,"ngIf"],[4,"ngIf"],["aria-hidden","true",1,"billpay-multipl-ebills-review__tr","billpay-multipl-ebills-review__tr--last"],["class","billpay-multipl-ebills-review__seperator","aria-hidden","true",4,"ngIf"],["payeeTmp",""],["payeeNameTmp",""],["amountTmp",""],[1,"bb-stack"],["size","md",1,"bb-stack__item","bb-stack__item--spacing-md",3,"name","color"],[1,"bb-stack__item"],[4,"ngTemplateOutlet"],["colspan","5","class","billpay-multipl-ebills-review__cell",4,"ngIf"],["colspan","5",1,"billpay-multipl-ebills-review__cell"],[1,"bb-text-danger"],i,[1,"bb-block","bb-block--md","bb-stack","bb-stack--align-top"],["name","subject","size","sm","color","secondary",1,"bb-stack__item","bb-stack__item--spacing-sm","bicon"],["data-role","payment-description-label",1,"bb-text-bold"],t,["data-role","payment-description",1,"break-word","bb-subtitle","bb-text-support"],["name","cached","size","sm","color","secondary",1,"bb-stack__item","bb-stack__item--spacing-sm","bicon"],n,["data-role","payment-frequency"],["name","today","size","sm","color","secondary",1,"bb-stack__item","bb-stack__item--spacing-sm","bicon"],["data-role","deliver-by",1,"bb-text-bold"],a,["data-role","deliver-date"],["data-role","overnight-address-label",1,"bb-text-bold"],s,["data-role","overnight-address",1,"bb-block","bb-block--md"],["data-role","ending-label",1,"bb-text-bold"],r,["data-role","ending"],["neverEndingTmp",""],u,y,["data-role","notify-label",1,"bb-text-bold"],b,["data-role","alertPendingCheckbox",4,"ngIf"],["data-role","alertSentCheckbox",4,"ngIf"],["data-role","alertLastPendingCheckbox",4,"ngIf"],["data-role","alertPendingCheckbox"],M,["data-role","alertSentCheckbox"],g,["data-role","alertLastPendingCheckbox"],R,["aria-hidden","true",1,"billpay-multipl-ebills-review__seperator"],[1,"bb-block","bb-block--no-margin"],["data-role","receipt-icon","size","sm","name","receipt","color","secondary",1,"bb-stack__item","bb-stack__item--spacing-sm"],["class","bb-stack__item bb-subtitle bb-text-support","data-role","due-date-label",4,"ngIf"],["data-role","due-date-label",1,"bb-stack__item","bb-subtitle","bb-text-support"],[3,"currency","amount",4,"ngIf"],G,[3,"currency","amount"],[1,"bb-label"],[1,"bb-text-semi-bold",3,"currency","amount"]]},template:function(t,n){if(1&t&&(e.TgZ(0,"tr",0)(1,"td",1),e.YNc(2,Pl,5,3,"ng-container",2),e.qZA(),e.TgZ(3,"td",3),e._uU(4),e.ALo(5,"slice"),e.qZA(),e.TgZ(6,"td",3),e._uU(7),e.ALo(8,"bbDate"),e.qZA(),e.TgZ(9,"td",3),e.YNc(10,Cl,1,0,"ng-container",4),e.qZA(),e.TgZ(11,"td",5)(12,"button",6),e.NdJ("click",function(){return n.isCollapsed=!n.isCollapsed}),e._UZ(13,"bb-icon-ui",7),e.qZA()()(),e.YNc(14,Ul,2,1,"tr",8),e.TgZ(15,"tr",9)(16,"td",10),e.YNc(17,vl,1,0,"ng-container",4),e.qZA()(),e.TgZ(18,"tr",11)(19,"td",12)(20,"div",13)(21,"div",14),e.YNc(22,Tl,8,1,"div",15),e.YNc(23,Wl,19,8,"ng-container",16),e.qZA()()()(),e.TgZ(24,"tr",17),e._UZ(25,"td",12),e.qZA(),e.YNc(26,ql,1,0,"tr",18),e.YNc(27,Vl,1,2,"ng-template",null,19,e.W1O),e.YNc(29,jl,2,1,"ng-template",null,20,e.W1O),e.YNc(31,Xl,1,2,"ng-template",null,21,e.W1O)),2&t){const l=e.MAs(28),a=e.MAs(32);e.ekj("billpay-multipl-ebills-review__item--expanded",!n.isCollapsed),e.xp6(2),e.Q6J("ngIf",null==n.payment?null:n.payment.hasOwnProperty("succeeded"))("ngIfElse",l),e.xp6(2),e.AsE(" ",null==n.payment?null:n.payment.accountFrom.accountNickName," (*",e.xi3(5,21,null==n.payment?null:n.payment.accountFrom.accountNumber,-4),") "),e.xp6(3),e.hij(" ",e.xi3(8,24,null==n.payment||null==n.payment.schedule?null:n.payment.schedule.startDate,"MM/dd/yyyy")," "),e.xp6(3),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",n.payment),e.xp6(2),e.Q6J("circle",!0),e.uIk("aria-expanded",!n.isCollapsed)("aria-controls","collapse"+n.id),e.xp6(1),e.Q6J("name",n.isCollapsed?"toggle-down":"toggle-up"),e.xp6(1),e.Q6J("ngIf",null==n.payment?null:n.payment.hasOwnProperty("succeeded")),e.xp6(3),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",n.payment),e.xp6(3),e.Q6J("id","collapse"+n.id)("ngbCollapse",n.isCollapsed),e.xp6(2),e.Q6J("ngIf",null==n.payment?null:n.payment.memo),e.xp6(1),e.Q6J("ngIf",null==n.payment?null:n.payment.schedule),e.xp6(3),e.Q6J("ngIf",!n.last)}},directives:[z.o,_e.G4,d.O5,d.tP,Y.Hq,F._D],pipes:[d.OU,se.y,d.uU],encapsulation:2,changeDetection:0}),_})(),ve=(()=>{class _{}return _.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-billpay-payment-multiple-bills-review-table"]],inputs:{payments:"payments"},decls:21,vars:2,consts:function(){let i,t,n,l,a,s;return i="Review Your Payment",t="Payee",n="From Account",l="Est. Delivery ",a="" + "\ufffd#15\ufffd" + "" + "\ufffd/#15\ufffd" + "",s="Amount",[["aria-label",i,1,"billpay-multipl-ebills-review"],[1,"bb-d-none","bb-d-md-table-row"],["scope","col",1,"billpay-multipl-ebills-review__cell"],["data-role","multiple-ebills-review-payee",1,"bb-subtitle","bb-text-semi-bold"],t,["data-role","multiple-ebills-review-from-account",1,"bb-subtitle","bb-text-semi-bold"],n,[1,"bb-stack"],["data-role","multiple-bills-review-delivery-date",1,"bb-subtitle","bb-text-semi-bold","bb-stack__item","bb-stack__item--spacing-xs"],l,["bbTooltip","The date we expect your payment to reach the payee. That may vary from payee to payee.","placement","top",1,"bb-d-flex",3,"triggers"],a,["name","info","size","sm",1,"bb-billpay-multiple-bills__tooltip"],["data-role","multiple-ebills-review-amount",1,"bb-subtitle","bb-text-semi-bold"],s,["scope","col","aria-hidden","true"],["bb-billpay-payment-multiple-bills-review-item","",3,"last","payment",4,"ngFor","ngForOf"],["bb-billpay-payment-multiple-bills-review-item","",3,"last","payment"]]},template:function(t,n){1&t&&(e.TgZ(0,"table",0)(1,"thead")(2,"tr",1)(3,"th",2)(4,"span",3),e.SDv(5,4),e.qZA()(),e.TgZ(6,"th",2)(7,"span",5),e.SDv(8,6),e.qZA()(),e.TgZ(9,"th",2)(10,"div",7)(11,"span",8),e.SDv(12,9),e.qZA(),e.TgZ(13,"span",10),e.tHW(14,11),e._UZ(15,"bb-icon-ui",12),e.N_p(),e.qZA()()(),e.TgZ(16,"th",2)(17,"span",13),e.SDv(18,14),e.qZA()(),e._UZ(19,"th",15),e.qZA()(),e.YNc(20,ea,1,2,"tbody",16),e.qZA()),2&t&&(e.xp6(13),e.Q6J("triggers","hover"),e.xp6(7),e.Q6J("ngForOf",n.payments))},directives:[z.o,dt,ce.i,d.sg],encapsulation:2,changeDetection:0}),_})(),At=(()=>{class _{constructor(t,n){this.navigationService=t,this.route=n,this.id=o.zh.generateId(),this.allSucceeded=!0,this.successImg="./assets/bb-pay-bills-journey/succeed.svg",this.successImgNoMotion="./assets/bb-pay-bills-journey/no-motion.svg"}set results(t){const n=t.filter(l=>l.succeeded);if(this.allSucceeded=n.length===t.length,this.allSucceeded){const l=s=>s.payeeTo.nickName||s.payeeTo.name,a=t.map((s,r)=>0===r?l(s):r===t.length-1?" and "+l(s):", "+l(s)).join("");this.successMsg="You\u2019ve just scheduled " + t.length + " payment" + (t.length > 1 ? "s" : "") + " to " + a + "."}else this.payments=t,this.mixedMsg="You scheduled sucessfully " + n.length + " out of " + t.length + " bills."}payMore(){this.navigationService.navigateToForm({relativeTo:this.route.parent})}goToMyAccounts(){var t;null===(t=this.navigationService)||void 0===t||t.navigateToMainAppPage()}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(J),e.Y36(v.gz))},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-billpay-payment-multiple-bills-success"]],inputs:{results:"results"},decls:10,vars:2,consts:function(){let i,t,n,l,a;return i=" Pay Another Bill ",t=" Go to My Accounts ",n="Success!",l="Your Bills Were Successfully Scheduled!",a="Review the payments that have been processed and the other that failed below",[[1,"card","card-lg","bb-billpay-multiple-bills-other-payees-card"],[1,"card-body"],[4,"ngIf","ngIfElse"],[1,"bb-stack","bb-stack--center"],["bbButton","","color","primary","data-role","multiple-bills-success-pay-more",1,"bb-stack__item",3,"click"],i,["bbButton","","color","secondary",1,"bb-stack__item",3,"click"],t,["mixedStatus",""],["role","alert",1,"bb-text-align-center","bb-block--xl"],["media","(prefers-reduced-motion: reduce)",3,"srcset"],["alt",n,"data-role","transfer-success-anim",1,"img-fluid",3,"srcset"],["headingClasses","bb-text-semi-bold","headingType","h2","data-role","success-title","heading",l],[1,"bb-text-support"],[1,"bb-text-align-center","bb-block--xl"],["headingClasses","bb-text-semi-bold","headingType","h2","data-role","success-title",3,"heading"],a,[1,"bb-block","bb-block--xl"],[3,"payments"]]},template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,ta,8,3,"ng-container",2),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.payMore()}),e.SDv(5,5),e.qZA(),e.TgZ(6,"button",6),e.NdJ("click",function(){return n.goToMyAccounts()}),e.SDv(7,7),e.qZA()()()(),e.YNc(8,_a,6,2,"ng-template",null,8,e.W1O)),2&t){const l=e.MAs(9);e.xp6(2),e.Q6J("ngIf",n.allSucceeded)("ngIfElse",l)}},directives:[Z.G,ve,d.O5,Y.Hq],encapsulation:2,changeDetection:0}),_})(),St=(()=>{class _{constructor(t,n,l,a,s,r){this.paymentStateService=t,this.dataService=n,this.navigationService=l,this.route=a,this.discardModalService=s,this.cdRef=r,this.destroy$=new B.x,this.editMode=!1,this.paymentError=!1,this.submittingPayment=!1,this.id=o.zh.generateId(),this.payments$=this.paymentStateService.paymentState.pipe((0,f.b)(E=>{(null==E?void 0:E.length)||this.navigationService.navigateToForm({relativeTo:this.route.parent})})),this.totalAmount$=this.payments$.pipe((0,T.U)(E=>null==E?void 0:E.reduce((u,y)=>u+ +y.amount.amount,0))),this.results=[]}get isDiscardModalOpen(){return this.discardModalService.isDiscardModalOpen}ngOnDestroy(){this.destroy$.next(void 0),this.destroy$.complete()}onWindowUnload(t){this.isDiscardModalOpen||(t.returnValue=!0)}onPaymentConfirm(t){this.paymentError=!1,this.results=[],this.submittingPayment=!0,(0,gt.D)(t.map(n=>this.dataService.createPayment(n).pipe((0,yt.h)(Object.assign(Object.assign({},n),{succeeded:!0})),(0,K.K)(()=>(0,U.of)(Object.assign({succeeded:!1},n)))))).pipe((0,O.R)(this.destroy$)).subscribe(n=>(0,Nt.mG)(this,void 0,void 0,function*(){this.submittingPayment=!1,this.paymentStateService.isFormProcessing=!1,n.filter(a=>!(null==a?void 0:a.succeeded)).length===t.length?this.allFailed():this.results=n,this.cdRef.markForCheck()}))}navigateToForm(t=!1){t&&this.paymentStateService.reset(),this.navigationService.navigateToForm({relativeTo:this.route.parent})}allFailed(){var t;this.paymentStateService.isFormProcessing=!0,this.submittingPayment=!1,this.paymentError=!0,this.cdRef.markForCheck(),null===(t=this.failAlert)||void 0===t||t.nativeElement.scrollIntoView(!1)}openModal(){return!this.paymentStateService.isFormProcessing||this.editMode||this.paymentError?(0,U.of)(!0):this.discardModalService.openModal()}onCancel(){this.navigateToForm(!!this.paymentError)}onModalResolve(t){this.discardModalService.onModalResolve(t),t&&this.paymentStateService.reset()}onEdit(){this.editMode=!0,this.navigateToForm()}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(H),e.Y36(o.Ok),e.Y36(J),e.Y36(v.gz),e.Y36(o.Ol),e.Y36(e.sBO))},_.\u0275cmp=e.Xpm({type:_,selectors:[["bb-billpay-payment-multiple-bills-review"]],viewQuery:function(t,n){if(1&t&&e.Gf(he,5),2&t){let l;e.iGM(l=e.CRH())&&(n.failAlert=l.first)}},hostBindings:function(t,n){1&t&&e.NdJ("beforeunload",function(a){return n.onWindowUnload(a)},!1,e.Jf7)},features:[e._Bn([o.Ol])],decls:3,vars:4,consts:function(){let i,t,n,l,a,s,r,E,u,y;return i="Cancel Bill Payments?",t="Are you sure you want to cancel bill payments? Entered data will be lost.",n="Cancel Payments",l="Not Now",a="Something went wrong. Please try again",s=" Cancel ",r=" Edit Payment ",E="" + "\ufffd#8\ufffd" + "" + "\ufffd/#8\ufffd" + "",u="Confirm Payment",y="Pay",[[4,"ngIf"],["data-role","billpay-payment-review-page-discard-changes-modal","title",i,"subtitle",t,"confirm-button-label",n,"cancel-button-label",l,3,"resolve",4,"ngIf"],[4,"ngTemplateOutlet"],["reviewTemplate",""],["actionButtons",""],["successScreen",""],[1,"card","card-lg","bb-billpay-multiple-bills-other-payees-card"],[1,"card-body"],["failAlert",""],["title",a,"modifier","error","data-role","failure-message",3,"close",4,"ngIf"],[3,"payments"],[3,"totalAmount","actionButtons","inheritedId"],["title",a,"modifier","error","data-role","failure-message",3,"close"],[1,"bb-stack"],["bbButton","","color","link","data-role","multiple-bills-cancel-button",1,"btn-link","bb-stack__item","bb-stack__item--spacing-md","bb-d-none","bb-d-md-block",3,"click"],s,["bbButton","","color","secondary","data-role","multiple-bills-edit-button",1,"bb-d-none","bb-d-md-block","bb-stack__item","bb-stack__item--spacing-md",3,"click"],r,["bbButton","","color","secondary","data-role","multiple-bills-edit-button",1,"bb-d-md-none","bb-stack__item","bb-stack__item--spacing-md",3,"circle","click"],E,["name","edit"],["color","primary","data-role","multiple-bills-confirm-button",1,"bb-stack__item","bb-stack__item--spacing-none",3,"isLoading","click"],[1,"bb-d-none","bb-d-md-block"],u,[1,"bb-d-md-none"],y,[3,"results"],["data-role","billpay-payment-review-page-discard-changes-modal","title",i,"subtitle",t,"confirm-button-label",n,"cancel-button-label",l,3,"resolve"]]},template:function(t,n){1&t&&(e.YNc(0,sa,8,1,"ng-container",0),e.ALo(1,"async"),e.YNc(2,ra,1,0,"bb-billpay-payment-discard-changes-modal",1)),2&t&&(e.Q6J("ngIf",e.lcZ(1,2,n.payments$)),e.xp6(2),e.Q6J("ngIf",n.isDiscardModalOpen))},directives:[k.w,ve,Ue,z.o,De.K,At,j,d.O5,d.tP,Y.Hq],pipes:[d.Ov],encapsulation:2,changeDetection:0}),_})(),pt=(()=>{class _{openModal(){return this.child.openModal()}navigateToForm(){this.child.onCancel()}}return _.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["ng-component"]],viewQuery:function(t,n){if(1&t&&e.Gf(Fe,5),2&t){let l;e.iGM(l=e.CRH())&&(n.child=l.first)}},decls:9,vars:0,consts:function(){let i,t;return i="Back To Pay Bills",t="Review Your Payments",[[1,"bb-block","bb-block--lg","bb-stack"],[1,"bb-stack__item","bb-stack__item--fill"],["bbButton","","color","link","data-role","pay-a-bill-journey-back",1,"bb-block","bb-block--md","pl-0",3,"click"],["aria-hidden","true",1,"bb-icon","bb-icon-arrow-back"],i,["headingType","h1","heading",t,"data-role","pay-a-bill-journey-title"],["multipleBillsReview",""]]},template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return n.navigateToForm()}),e._UZ(3,"i",3),e.TgZ(4,"span"),e.SDv(5,4),e.qZA()(),e._UZ(6,"bb-header-ui",5),e.qZA()(),e._UZ(7,"bb-billpay-payment-multiple-bills-review",null,6))},directives:[Z.G,St,Y.Hq],encapsulation:2}),_})(),ne=(()=>{class _ extends o.UB{constructor(t,n){super(t,n),this.allowedNextRoutes=[/^.*;payee=.+$/,/^.*\/review$/,/^.*\/recurring\/edit\/.+(\/review.+)?$/,/^.*\/one-off\/edit\/.+(\/review.+)?$/],this.allowedPreviousRoutes=[/^.*;payee=.+$/,/^.*(\/review)$/,/^.*(\/form){1}$/,/^.*\/recurring\/edit\/.+(\/review.+)?$/,/^.*\/one-off\/edit\/.+(\/review.+)?$/]}}return _.\u0275fac=function(t){return new(t||_)(e.LFG(v.F0),e.LFG(d.Ye))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac}),_})();const da=[le.p,se.G,ae.P,V.zk,ie.CS,ee.m8,ge.L,Y.hJ,Oe.b,me.fb,Le.gn,pe.T,Je.v,Ye.Z,z.Q,Me.L,k.n,te.w,x.tE,re.d8,be.J,oe.P,k.n,_e.i7,Be.CK,Ie.OG,Z.O,De.C,ce.z];let Aa=(()=>{class _{}return _.\u0275fac=function(t){return new(t||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({imports:[[d.ez,S.UX,F.IJ,o.Op,...da],le.p,se.G,ae.P,V.zk,ie.CS,ee.m8,ge.L,Y.hJ,Oe.b,me.fb,Le.gn,pe.T,Je.v,Ye.Z,z.Q,Me.L,k.n,te.w,x.tE,re.d8,be.J,oe.P,k.n,_e.i7,Be.CK,Ie.OG,Z.O,De.C,ce.z]}),_})();const Sa={path:"",component:ca,children:[{path:"enrolment",component:Ze},{path:"",canActivate:[o.tc],children:[{path:"",redirectTo:"form",pathMatch:"full"},{path:"form",component:ut,canDeactivate:[ne]},{path:"review",component:pt,canDeactivate:[ne]},{path:"recurring/edit/:id",component:Ve,canDeactivate:[ne]},{path:"recurring/edit/:id/review",component:et,canDeactivate:[ne]},{path:"one-off/edit/:id",component:_t,canDeactivate:[ne]},{path:"one-off/edit/:id/review",component:it,canDeactivate:[ne]}]}]};let pa=(()=>{class _{static forRoot(t={route:Sa}){return{ngModule:_,providers:[(0,v.co)([t.route])]}}}return _.\u0275fac=function(t){return new(t||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({providers:[ne,H,o.Ok,w,o.xy],imports:[[d.ez,v.Bz,o.Op,S.UX,Aa,S.u5,F.IJ]]}),_})();var ma=c(6305),ba=c(9804),ga=c(570);let ya=(()=>{class _{}return _.\u0275fac=function(t){return new(t||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({providers:[{provide:xe,useValue:{notificationDismissTime:5e3,paymentDetailsTitle:"Payment Details",paymentDefaultCurrency:"USD",multipleBillsMode:!0,deliveryDateMessage:"Delivered in 5 working days"}},{provide:Ke,useExisting:ba.a},{provide:ma.mO,useExisting:ga.R0}],imports:[[pa.forRoot()]]}),_})()},7109:()=>{},3823:(fe,X,c)=>{"use strict";c.d(X,{Z:()=>F,_:()=>o});var e=c(5e3),d=c(9808);let F=(()=>{class C{constructor(B,O){this.renderer=B,this.elementRef=O,this.negativeClass="bb-amount--negative",this.positiveClass="bb-amount--positive",this.amountValue=0,this.highlightValue=!0}set amount(B){this.amountValue="number"==typeof B?B:parseFloat(B)}set bbHighlight(B){this.highlightValue=""===B||B}get isPositive(){return this.amountValue>=0}ngOnChanges(B){B.negativeClass&&this.renderer.removeClass(this.elementRef.nativeElement,B.negativeClass.previousValue),B.positiveClass&&this.renderer.removeClass(this.elementRef.nativeElement,B.positiveClass.previousValue),(B.amount||B.highlight||B.bbHighlight)&&(this.renderer.removeClass(this.elementRef.nativeElement,this.negativeClass),this.renderer.removeClass(this.elementRef.nativeElement,this.positiveClass)),this.highlightValue&&this.renderer.addClass(this.elementRef.nativeElement,this.isPositive?this.positiveClass:this.negativeClass)}}return C.\u0275fac=function(B){return new(B||C)(e.Y36(e.Qsj),e.Y36(e.SBq))},C.\u0275dir=e.lG2({type:C,selectors:[["","bbHighlight",""]],inputs:{amount:"amount",bbHighlight:"bbHighlight",negativeClass:"negativeClass",positiveClass:"positiveClass"},features:[e.TTD]}),C})(),o=(()=>{class C{}return C.\u0275fac=function(B){return new(B||C)},C.\u0275mod=e.oAB({type:C}),C.\u0275inj=e.cJS({imports:[[d.ez]]}),C})()},1918:(fe,X,c)=>{"use strict";c.d(X,{L:()=>W,l:()=>O});var e=c(5e3),d=c(9144),v=c(4483),S=c(3075),F=c(9808),o=c(3203);const C=["inputNumber"];function T(N,U){if(1&N&&(e.TgZ(0,"label",3),e._uU(1),e.qZA()),2&N){const A=e.oxw();e.s9C("for",A.id),e.xp6(1),e.Oqu(A.label)}}let B=(()=>{class N{constructor(A){this.el=A,this.navigationKeys=["Backspace","Delete","Tab","Escape","Enter","Home","End","ArrowLeft","ArrowRight","Clear","Copy","Paste"],this.isEnabled=!0,this.allowNegativeSign=!1,this.inputElement=A.nativeElement}onKeyDown(A){const f=this.allowNegativeSign?/^-|\d$/:/^\d$/;if(!this.isEnabled||this.navigationKeys.indexOf(A.key)>-1||["KeyA","KeyC","KeyV","KeyX"].includes(A.code)&&(A.ctrlKey||A.metaKey))return void(this.previousKey=A.key);const m=!f.test(A.key)||"-"===A.key&&this.inputElement.value.indexOf("-")>-1||"-"===A.key&&"-"===this.previousKey;!this.inputElement.value&&"-"!==this.previousKey&&(this.inputElement.value=""),this.previousKey=A.key,m&&A.preventDefault()}}return N.\u0275fac=function(A){return new(A||N)(e.Y36(e.SBq))},N.\u0275dir=e.lG2({type:N,selectors:[["","bbDigitOnly",""]],hostBindings:function(A,p){1&A&&e.NdJ("keydown",function(m){return p.onKeyDown(m)})},inputs:{isEnabled:["bbDigitOnly","isEnabled"],allowNegativeSign:"allowNegativeSign"}}),N})(),O=(()=>{class N extends d.rA{constructor(A,p,f,m,K){super(m),this.domAttrService=A,this.elem=p,this.renderer2=f,this.cd=m,this.parentFormControl=K,this.placeholder="",this.readonly=!1,this.ariaLabel="Number Input",this.allowNonDigits=!1,this.allowNegativeSign=!1,this.oldInputValue=null,this.parentFormControl&&(this.parentFormControl.valueAccessor=this)}onInput(A){!A.value&&null!==this.oldInputValue&&(A.value=this.oldInputValue,this.onValueChange(A.value)),this.oldInputValue=null}onPaste(A){this.oldInputValue=A.value}ngAfterViewInit(){this.ariaLabel||this.domAttrService.moveAriaAttributes(this.elem.nativeElement,this.inputEl&&this.inputEl.nativeElement,this.renderer2)}}return N.\u0275fac=function(A){return new(A||N)(e.Y36(v.JE),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(S.a5,10))},N.\u0275cmp=e.Xpm({type:N,selectors:[["bb-input-number-ui"]],viewQuery:function(A,p){if(1&A&&e.Gf(C,5),2&A){let f;e.iGM(f=e.CRH())&&(p.inputEl=f.first)}},inputs:{placeholder:"placeholder",max:"max",min:"min",step:"step",readonly:"readonly",autocomplete:"autocomplete",ariaLabel:"ariaLabel",allowNonDigits:"allowNonDigits",allowNegativeSign:"allowNegativeSign"},features:[e.qOj],decls:3,vars:24,consts:[[3,"for",4,"ngIf"],["type","number","data-role","input-number",1,"form-control",3,"bbDigitOnly","allowNegativeSign","id","ngModel","disabled","readOnly","placeholder","required","bbFocus","ngModelChange","blur","focus","input","paste"],["inputNumber",""],[3,"for"]],template:function(A,p){if(1&A){const f=e.EpF();e.YNc(0,T,2,2,"label",0),e.TgZ(1,"input",1,2),e.NdJ("ngModelChange",function(K){return p.onValueChange(K)})("blur",function(){return p.onBlur()})("focus",function(){return p.onFocus()})("input",function(){e.CHM(f);const K=e.MAs(2);return p.onInput(K)})("paste",function(){e.CHM(f);const K=e.MAs(2);return p.onPaste(K)}),e.qZA()}2&A&&(e.Q6J("ngIf",p.label),e.xp6(1),e.s9C("id",p.id),e.Q6J("bbDigitOnly",!p.allowNonDigits||p.allowNegativeSign)("allowNegativeSign",p.allowNegativeSign)("ngModel",p.value)("disabled",p.disabled)("readOnly",p.readonly)("placeholder",p.placeholder)("required",p.required)("bbFocus",p.autofocus),e.uIk("aria-autocomplete",p.ariaAutocomplete)("aria-controls",p.ariaControls)("aria-labelledby",p.ariaLabelledby)("aria-describedby",p.ariaDescribedby)("aria-expanded",p.ariaExpanded)("role",p.role)("aria-invalid",p.ariaInvalid)("aria-owns",p.ariaOwns)("aria-label",!p.label&&p.ariaLabel||null)("min",p.min)("max",p.max)("size",p.size)("step",p.step)("autocomplete",p.autocomplete))},directives:[F.O5,S.wV,S.qQ,S.Fd,S.Fj,B,S.JJ,S.On,S.Q7,o.R],encapsulation:2,changeDetection:0}),N})(),W=(()=>{class N{}return N.\u0275fac=function(A){return new(A||N)},N.\u0275mod=e.oAB({type:N}),N.\u0275inj=e.cJS({imports:[[F.ez,S.u5,d.$B,o.J]]}),N})()},9136:(fe,X,c)=>{"use strict";c.d(X,{J:()=>U,R:()=>N});var e=c(5e3),d=c(9144),v=c(682),S=c(4483),F=c(3075),o=c(6746),C=c(9808),T=c(3203);function B(A,p){if(1&A&&(e.TgZ(0,"label",5),e._uU(1),e.qZA()),2&A){const f=e.oxw();e.s9C("for",f.id),e.uIk("data-role","textarea-label"),e.xp6(1),e.Oqu(f.label)}}function O(A,p){if(1&A&&e._UZ(0,"bb-char-counter-ui",6),2&A){const f=e.oxw(),m=e.MAs(3);e.Q6J("element",m)("inputValue",f.value)("maxLength",f.maxLength),e.uIk("id",f.charCounterId)("data-role","textarea-char-counter")}}const W=function(A,p){return{"ng-invalid":A,"ng-touched":p}};let N=(()=>{class A extends d.rA{constructor(f,m,K){super(f),this.cd=f,this.domAttributesService=m,this.parentFormControl=K,this.placeholder="",this.readonly=!1,this.showCharCounter=!1,this.idListAttr=v.hQ,this.charCounterId=this.domAttributesService.generateId(),this.parentFormControl&&(this.parentFormControl.valueAccessor=this)}}return A.\u0275fac=function(f){return new(f||A)(e.Y36(e.sBO),e.Y36(S.JE),e.Y36(F.a5,10))},A.\u0275cmp=e.Xpm({type:A,selectors:[["bb-textarea-ui"]],inputs:{rows:"rows",cols:"cols",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",readonly:"readonly",showCharCounter:"showCharCounter",wrap:"wrap"},features:[e.qOj],decls:5,vars:27,consts:[[1,"bb-textarea-ui",3,"ngClass"],[3,"for",4,"ngIf"],[1,"form-control",3,"id","ngModel","rows","cols","disabled","readOnly","bbFocus","placeholder","required","wrap","ngModelChange","blur","focus"],["textarea",""],[3,"element","inputValue","maxLength",4,"ngIf"],[3,"for"],[3,"element","inputValue","maxLength"]],template:function(f,m){1&f&&(e.TgZ(0,"div",0),e.YNc(1,B,2,3,"label",1),e.TgZ(2,"textarea",2,3),e.NdJ("ngModelChange",function(Ne){return m.onValueChange(Ne)})("blur",function(){return m.onBlur()})("focus",function(){return m.onFocus()}),e.qZA(),e.YNc(4,O,1,5,"bb-char-counter-ui",4),e.qZA()),2&f&&(e.Q6J("ngClass",e.WLB(24,W,null==m.parentFormControl?null:m.parentFormControl.invalid,null==m.parentFormControl?null:m.parentFormControl.touched)),e.xp6(1),e.Q6J("ngIf",m.label),e.xp6(1),e.s9C("id",m.id),e.Q6J("ngModel",m.value)("rows",m.rows)("cols",m.cols)("disabled",m.disabled)("readOnly",m.readonly)("bbFocus",m.autofocus)("placeholder",m.placeholder)("required",m.required)("wrap",m.wrap),e.uIk("aria-label",m.label?null:m.ariaLabel||null)("aria-describedby",m.idListAttr(m.ariaDescribedby,m.maxLength&&m.showCharCounter?m.charCounterId:null))("aria-labelledby",m.ariaLabelledby)("aria-expanded",m.ariaExpanded)("role",m.role)("aria-invalid",m.ariaInvalid)("aria-owns",m.ariaOwns)("aria-activedescendant",m.ariaActivedescendant)("maxlength",m.maxLength)("minlength",m.minLength)("data-role","textarea-text-field"),e.xp6(2),e.Q6J("ngIf",m.maxLength&&m.showCharCounter))},directives:[o.M,C.mk,C.O5,F.Fj,F.JJ,F.On,T.R,F.Q7,F.nD,F.wO],encapsulation:2,changeDetection:0}),A})(),U=(()=>{class A{}return A.\u0275fac=function(f){return new(f||A)},A.\u0275mod=e.oAB({type:A}),A.\u0275inj=e.cJS({imports:[[C.ez,F.u5,d.$B,o.Z,T.J]]}),A})()}}]);