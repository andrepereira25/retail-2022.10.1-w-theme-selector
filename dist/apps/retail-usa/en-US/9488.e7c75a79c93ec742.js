(self.webpackChunkretail_usa=self.webpackChunkretail_usa||[]).push([[9488],{1867:()=>{},9488:(Gl,qt,m)=>{"use strict";m.d(qt,{$F:()=>ct,_X:()=>Ce,NA:()=>Nt,zs:()=>Hl,Bz:()=>ml});var E=m(9808),e=m(5e3),se=m(5357),x=m(7444),r=m(3109),zt=m(4482),jt=m(5032),Le=m(5403),Vt=m(8421),B=m(1135),O=m(7579),b=m(4004),Se=m(3900),ce=m(515),De=m(6129),G=m(4782),Pe=m(2940),T=m(262),U=m(9646),J=m(8505),en=m(2805),D=m(2722),Ae=m(9300),Fe=m(9841),Oe=m(1884),tn=m(5698),nn=m(6451),_n=m(1365),v=m(3075),ke=m(655),Q=m(6791),we=m(2194),ge=m(7120),Ze=m(4544),Je=m(1989),de=m(5556),$e=m(2929),Y=m(7952),be=m(520),K=m(5460),W=m(6888);let an=(()=>{class n{constructor(t,_){this.vcRef=t,this.cfr=_}ngOnChanges(t){var _,i;const o=null===(_=this.componentRef)||void 0===_?void 0:_.instance;t.context&&o&&(o.context=this.context,null===(i=o.ngOnChanges)||void 0===i||i.call(o,{context:t.context}))}ngOnDestroy(){var t;this.vcRef.clear(),null===(t=this.componentRef)||void 0===t||t.destroy()}ngOnInit(){if(!this.componentType)throw new Error("componentType not defined");const t=this.cfr.resolveComponentFactory(this.componentType);this.componentRef=this.vcRef.createComponent(t),this.componentRef.instance.context=this.context}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b),e.Y36(e._Vd))},n.\u0275dir=e.lG2({type:n,inputs:{componentType:"componentType",context:"context"},features:[e.TTD]}),n})(),Te=(()=>{class n{constructor(t){this.paymentOrderHttpService=t,this.noAccessErrorMessage="Access to requested resource denied.",this.isNoAccessError$$=new B.X(!1),this.errorWhileFetching$$=new B.X(!1),this.isNoAccessError$=this.isNoAccessError$$.asObservable(),this.errorWhileFetching$=this.errorWhileFetching$$.asObservable()}getPaymentById(t){return this.paymentOrderHttpService.getPaymentOrderById({paymentOrderId:t}).pipe((0,T.K)(_=>(_.message===this.noAccessErrorMessage||403===_.status?this.isNoAccessError$$.next(!0):this.errorWhileFetching$$.next(!0),(0,U.of)(void 0))))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Q.k4))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var ue=m(9351),on=m(6014),q=m(4951),P=m(9287),L=m(7555),He=m(9774),Ge=m(7862),ae=m(1470);function ln(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",7)(2,"span"),e.SDv(3,8),e.qZA(),e._uU(4,": "),e.TgZ(5,"span",9),e._uU(6," \u2248 "),e._UZ(7,"bb-amount-ui",10),e.qZA()(),e.TgZ(8,"div",11)(9,"span"),e.SDv(10,12),e.qZA(),e._uU(11),e.qZA(),e.BQk()),2&n){const t=e.oxw();let _,i;e.xp6(7),e.Q6J("mapCurrency",!1)("amount",null!==(_=null==t.forexDetails?null:t.forexDetails.calculatedAmount)&&void 0!==_?_:"")("currency",null!==(i=null==t.forexDetails?null:t.forexDetails.fromCurrency)&&void 0!==i?i:""),e.xp6(4),e.lnq(": 1 ",null==t.forexDetails?null:t.forexDetails.fromCurrency," \u2248 ",null==t.forexDetails?null:t.forexDetails.exchangeRate," ",null==t.forexDetails?null:t.forexDetails.toCurrency," ")}}function rn(n,a){if(1&n&&(e.TgZ(0,"span",18),e.SDv(1,19),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.pQV(t.config.name),e.QtT(1)}}function sn(n,a){if(1&n&&e._UZ(0,"bb-charge-bearer-label",20),2&n){const t=e.oxw(2);e.Q6J("option",t.chargeBearer)}}function cn(n,a){1&n&&(e.ynx(0),e.SDv(1,22),e.BQk())}function dn(n,a){if(1&n&&(e.TgZ(0,"div",1)(1,"span"),e.SDv(2,21),e.qZA(),e.YNc(3,cn,2,0,"ng-container",5),e._UZ(4,"bb-amount-ui",4),e.qZA()),2&n){const t=e.oxw(2);let _;e.xp6(3),e.Q6J("ngIf",null==t.forexDetails?null:t.forexDetails.calculatedAmount),e.xp6(1),e.Q6J("amount",t.totalAmount)("currency",(null==t.forexDetails?null:t.forexDetails.fromCurrency)||(null!==(_=t.transactionCurrency)&&void 0!==_?_:""))("mapCurrency",!1),e.uIk("data-role","transfer-total")}}function un(n,a){if(1&n&&(e.TgZ(0,"div",0)(1,"div",13),e.YNc(2,rn,2,1,"span",14),e._UZ(3,"bb-amount-ui",15),e.qZA(),e.YNc(4,sn,1,1,"bb-charge-bearer-label",16),e.YNc(5,dn,5,5,"div",17),e.qZA()),2&n){const t=e.oxw();let _;e.xp6(2),e.Q6J("ngIf",null==t.config?null:t.config.name),e.xp6(1),e.Q6J("amount",t.transferFee.amount)("currency",t.transferFee.currencyCode||(null!==(_=t.transactionCurrency)&&void 0!==_?_:""))("mapCurrency",!1),e.xp6(1),e.Q6J("ngIf",t.chargeBearer),e.xp6(1),e.Q6J("ngIf",!t.exchangeRateError)}}const We=function(n){return{"bb-payment-account-details-card--full-height":n}};function En(n,a){if(1&n&&(e.ynx(0,10),e._uU(1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.AsE(" ",t.bankBranchCode," / ",t.accountIdentificator," ")}}function mn(n,a){if(1&n&&e._uU(0),2&n){const t=e.oxw();e.hij(" ",t.accountIdentificator," ")}}function pn(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-payord-dynamic-label",10),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("config",t.paymentConfig)}}function Sn(n,a){if(1&n&&e._UZ(0,"bb-payord-dynamic-label",11),2&n){const t=e.oxw(2);e.Q6J("config",t.paymentConfig)}}function An(n,a){if(1&n&&(e.TgZ(0,"div",3)(1,"div",4),e.YNc(2,pn,2,1,"ng-container",5),e.YNc(3,Sn,1,1,"ng-template",null,6,e.W1O),e.qZA(),e.TgZ(5,"div",7),e._uU(6),e.ALo(7,"date"),e.TgZ(8,"span",8),e.SDv(9,9),e.qZA()()()),2&n){const t=e.MAs(4),_=e.oxw();let i;e.xp6(2),e.Q6J("ngIf","ONCE"===(null==_.data||null==_.data.frequency?null:_.data.frequency.value)||void 0===(null==_.data||null==_.data.frequency?null:_.data.frequency.value))("ngIfElse",t),e.xp6(4),e.hij(" ",e.xi3(7,4,null==_.data?null:_.data.startDate,"mediumDate")," "),e.xp6(3),e.pQV(_.isRelativeDate(null!==(i=null==_.data?null:_.data.startDate)&&void 0!==i?i:"")),e.QtT(9)}}function gn(n,a){if(1&n&&(e.TgZ(0,"div",3)(1,"div",4),e._UZ(2,"bb-payord-dynamic-label",12),e.qZA(),e.TgZ(3,"div",13),e.SDv(4,14),e.qZA()()),2&n){const t=e.oxw().ngIf,_=e.oxw();e.xp6(2),e.Q6J("config",_.paymentConfig),e.xp6(2),e.pQV(t),e.QtT(4)}}function bn(n,a){if(1&n&&(e.ynx(0),e.YNc(1,gn,5,2,"div",1),e.BQk()),2&n){const t=a.ngIf;e.xp6(1),e.Q6J("ngIf","ONCE"!==t)}}function fn(n,a){if(1&n&&(e.TgZ(0,"div",3)(1,"div",15),e._UZ(2,"bb-payord-dynamic-label",16),e.qZA(),e.TgZ(3,"div",17),e._uU(4),e.TgZ(5,"span"),e.SDv(6,18),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",null==t.data?null:t.data.repeat," ")}}function yn(n,a){if(1&n&&(e.TgZ(0,"div",23),e._uU(1),e.ALo(2,"date"),e.TgZ(3,"span"),e.SDv(4,24),e.qZA()()),2&n){const t=e.oxw(3);let _;e.xp6(1),e.hij(" ",e.xi3(2,2,null==t.data?null:t.data.endDate,"mediumDate")," "),e.xp6(3),e.pQV(t.isRelativeDate(null!==(_=null==t.data?null:t.data.endDate)&&void 0!==_?_:"")),e.QtT(4)}}function Cn(n,a){1&n&&(e.TgZ(0,"div",25),e.SDv(1,26),e.qZA())}function Rn(n,a){if(1&n&&(e.TgZ(0,"div",3)(1,"div",19),e._UZ(2,"bb-payord-dynamic-label",20),e.qZA(),e.YNc(3,yn,5,5,"div",21),e.YNc(4,Cn,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(1),e.Q6J("ngIf","on"===(null==t.data?null:t.data.endType)),e.xp6(1),e.Q6J("ngIf","never"===(null==t.data?null:t.data.endType))}}function In(n,a){if(1&n&&(e.ynx(0),e.YNc(1,fn,7,2,"div",1),e.YNc(2,Rn,5,3,"div",1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","after"===(null==t.data?null:t.data.endType)&&(null==t.data?null:t.data.repeat)),e.xp6(1),e.Q6J("ngIf","on"===(null==t.data?null:t.data.endType)||"never"===(null==t.data?null:t.data.endType))}}let N=(()=>{class n{constructor(){this.defaultLabel="",this.parentName="",this.label=""}ngOnInit(){this.label=(0,r.kv)(this.name,this.config,this.parentName)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payord-dynamic-label"]],inputs:{config:"config",name:"name",defaultLabel:"defaultLabel",parentName:"parentName"},decls:2,vars:1,template:function(t,_){1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t&&(e.xp6(1),e.Oqu(_.label||_.defaultLabel))},encapsulation:2,changeDetection:0}),n})(),te=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez]]}),n})();let Ye=(()=>{class n{constructor(){this.hasTransferFee=!1,this.exchangeRateError=!1,this.defaultChargeBearer="BEN"}ngOnInit(){var t,_;this.forexDetails=this.getForextDetails();const i=this.transferFee||{amount:"0",currencyCode:""};this.hasTransferFee=!!i.amount;const o=new He((null===(t=this.forexDetails)||void 0===t?void 0:t.calculatedAmount)||this.amount||"0").plus(i.amount).toString();this.exchangeRateError=this.hasForexError(),this.totalAmount=this.hasTransferFee&&"BEN"!==this.chargeBearer?o:null!==(_=this.amount)&&void 0!==_?_:""}getForextDetails(){var t;if(!this.exchangeRate||0===Number(this.exchangeRate))return{fromCurrency:this.originatorCurrency,toCurrency:this.transactionCurrency};const i=new He(null!==(t=this.amount)&&void 0!==t?t:0).dividedBy(this.exchangeRate).toString();return{fromCurrency:this.originatorCurrency,toCurrency:this.transactionCurrency,calculatedAmount:i,exchangeRate:this.exchangeRate}}hasForexError(){var t,_,i;return(null===(t=this.forexDetails)||void 0===t?void 0:t.fromCurrency)!==(null===(_=this.forexDetails)||void 0===_?void 0:_.toCurrency)&&!(null===(i=this.forexDetails)||void 0===i?void 0:i.exchangeRate)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payord-amount-details"]],inputs:{config:"config",amount:"amount",originatorCurrency:"originatorCurrency",transactionCurrency:"transactionCurrency",exchangeRate:"exchangeRate",transferFee:"transferFee",chargeBearer:"chargeBearer"},decls:7,vars:6,consts:function(){let a,t,_,i,o,l;return a="Amount",t="Amount you pay",_="Indicative rate",i="Transfer fee - " + "\ufffd0\ufffd" + ": ",o="Total: ",l="\u2248 ",[[1,"bb-block","bb-block--md"],[1,"bb-text-bold"],["name","amountGroup","defaultLabel",a,3,"config"],["data-role","transfer-amount",1,"bb-highlight","break-word","bb-block","bb-block--xs"],[3,"amount","currency","mapCurrency"],[4,"ngIf"],["class","bb-block bb-block--md",4,"ngIf"],[1,"bb-block","bb-block--xs"],t,["data-role","amount-you-pay"],[3,"mapCurrency","amount","currency"],["data-role","indicative-rate",1,"bb-block","bb-block--xs"],_,["data-role","transfer-fee",1,"bb-block","bb-block--xs"],["data-role","transfer-fee-label",4,"ngIf"],["data-role","transfer-fee",3,"amount","currency","mapCurrency"],["data-role","charge-bearer","class","bb-block bb-block--xs",3,"option",4,"ngIf"],["class","bb-text-bold",4,"ngIf"],["data-role","transfer-fee-label"],i,["data-role","charge-bearer",1,"bb-block","bb-block--xs",3,"option"],o,l]},template:function(t,_){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"bb-payord-dynamic-label",2),e.qZA(),e.TgZ(3,"div",3),e._UZ(4,"bb-amount-ui",4),e.qZA(),e.YNc(5,ln,12,6,"ng-container",5),e.YNc(6,un,6,6,"div",6),e.qZA()),2&t){let i,o;e.xp6(2),e.Q6J("config",_.config),e.xp6(2),e.Q6J("amount",null!==(i=_.amount)&&void 0!==i?i:"")("currency",null!==(o=_.originatorCurrency)&&void 0!==o?o:"")("mapCurrency",!1),e.xp6(1),e.Q6J("ngIf",null==_.forexDetails?null:_.forexDetails.calculatedAmount),e.xp6(1),e.Q6J("ngIf",_.transferFee)}},directives:[N,L.G4,r.wN8,E.O5],encapsulation:2,changeDetection:0}),n})();const Bn=[L.i7],Mn=[r.wWw,te];let qe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez,...Bn,...Mn]]}),n})(),ze=(()=>{class n{constructor(){this.isCompact=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-debitor-details-card"]],inputs:{balance:"balance",currency:"currency",name:"name",accountNumber:"accountNumber",isCompact:"isCompact"},decls:10,vars:8,consts:[[1,"bb-payment-account-details-card",3,"ngClass"],[1,"bb-payment-account-details-card__header"],["backgroundType","square","color","secondary","size","sm","name","current-accounts"],[1,"bb-text-bold","break-word"],["data-role","debit-account-balance",3,"mapCurrency","amount","currency"],[1,"bb-payment-account-details-card__body","justify-content-center"],["data-role","debit-account-name",1,"bb-text-bold","break-word"],["data-role","debit-account-number",1,"bb-text-support","bb-subtitle","contextual-alternates-off"]],template:function(t,_){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"bb-icon-ui",2),e.TgZ(3,"div",3),e._UZ(4,"bb-amount-ui",4),e.qZA()(),e.TgZ(5,"div",5)(6,"div",6),e._uU(7),e.qZA(),e.TgZ(8,"div",7),e._uU(9),e.qZA()()()),2&t){let i,o;e.Q6J("ngClass",e.VKq(6,We,!_.isCompact)),e.xp6(4),e.Q6J("mapCurrency",!1)("amount",null!==(i=_.balance)&&void 0!==i?i:"")("currency",null!==(o=_.currency)&&void 0!==o?o:""),e.xp6(3),e.hij(" ",_.name," "),e.xp6(2),e.hij(" ",_.accountNumber," ")}},directives:[P.o,L.G4,E.mk],encapsulation:2,changeDetection:0}),n})(),je=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez,P.Q,L.i7]]}),n})();let Xe=(()=>{class n{constructor(t){this.maskPipe=t,this.isCompact=!1}get accountIdentificator(){const t=this.accountNumber||this.IBAN;return"IBAN"===this.schemeName?this.maskPipe.transform(null!=t?t:"",r.a$):t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ae.Iq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-creditor-details-card"]],inputs:{name:"name",country:"country",bankBranchCode:"bankBranchCode",IBAN:"IBAN",accountNumber:"accountNumber",schemeName:"schemeName",isCompact:"isCompact"},decls:11,vars:8,consts:[[1,"bb-payment-account-details-card",3,"ngClass"],["aria-hidden","true",1,"bb-payment-account-details-card__header"],[3,"name"],["flagSize","lg",3,"countryCode"],[1,"bb-payment-account-details-card__body","justify-content-center"],["data-role","creditor-name",1,"bb-text-bold","break-word"],["data-role","creditor-number",1,"bb-text-support","bb-subtitle"],["data-role","creditor-account-number-with-branch-code",4,"ngIf","ngIfElse"],["data-role","creditor-account-number"],["accountNumberWithoutBankBranchCode",""],["data-role","creditor-account-number-with-branch-code"]],template:function(t,_){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"bb-avatar-ui",2)(3,"bb-flag-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5),e._uU(6),e.qZA(),e.TgZ(7,"div",6),e.YNc(8,En,2,2,"ng-container",7),e.YNc(9,mn,1,1,"ng-template",8,9,e.W1O),e.qZA()()()),2&t){const i=e.MAs(10);let o,l;e.Q6J("ngClass",e.VKq(6,We,!_.isCompact)),e.xp6(2),e.Q6J("name",null!==(o=_.name)&&void 0!==o?o:""),e.xp6(1),e.Q6J("countryCode",null!==(l=_.country)&&void 0!==l?l:""),e.xp6(3),e.hij(" ",_.name," "),e.xp6(2),e.Q6J("ngIf",_.bankBranchCode)("ngIfElse",i)}},directives:[Ge.A,r.e4z,E.mk,E.O5],encapsulation:2,changeDetection:0}),n})();const Dn=[Ge.F,r.man];let et=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[ae.Iq],imports:[[E.ez,ae.yI.forChild(),...Dn]]}),n})(),tt=(()=>{class n{set avialablePurposesOfPayment(t){var _;this.purposeDescription=null===(_=null==t?void 0:t.find(({code:i})=>i===this.purposeOfPayment))||void 0===_?void 0:_.description}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-purpose-of-payment"]],inputs:{paymentConfig:"paymentConfig",purposeOfPayment:"purposeOfPayment",avialablePurposesOfPayment:"avialablePurposesOfPayment"},decls:8,vars:4,consts:[[1,"bb-block","bb-block--md"],[1,"bb-text-bold"],["name","purposeOfPayment","data-role","purpose-of-payment__label",3,"config","defaultLabel"],[1,"bb-stack"],["data-role","purpose-of-payment__text",1,"bb-stack__item","bb-stack__item--align-top"],["data-role","purpose-of-payment__description",1,"bb-stack__item","bb-text-support"]],template:function(t,_){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"bb-payord-dynamic-label",2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4),e._uU(5),e.qZA(),e.TgZ(6,"div",5),e._uU(7),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("config",_.paymentConfig)("defaultLabel","Purpose of payment"),e.xp6(3),e.hij(" ",_.purposeOfPayment," "),e.xp6(2),e.hij(" ",_.purposeDescription," "))},directives:[N],encapsulation:2,changeDetection:0}),n})(),nt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez,te]]}),n})(),_t=(()=>{class n{isRelativeDate(t){const _=(0,r.DCK)(),i=(0,r.DCK)(1),o=(0,r.RRx)(new Date(t));let l="";return o===_?l="today":o===i&&(l="tomorrow"),l}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payord-schedule-details"]],inputs:{data:"data",paymentConfig:"paymentConfig"},decls:5,vars:3,consts:function(){let a,t,_,i,o,l,s,d,p,c,u,f,g;return a="{VAR_SELECT, select, today {(Today)} tomorrow {(Tomorrow)}}",a=e.Zx4(a,{VAR_SELECT:"\ufffd0\ufffd"}),t=" " + a + " ",_="Execution date",i="Start on",o="Frequency",l="{VAR_SELECT, select, DAILY {Daily} WEEKLY {Weekly} BIWEEKLY {Bi-Weekly} MONTHLY {Monthly} QUARTERLY {Quarterly} YEARLY {Annually}}",l=e.Zx4(l,{VAR_SELECT:"\ufffd0\ufffd"}),s=" " + l + " ",d="End after",p="occurrences",c="End on",u="{VAR_SELECT, select, today {(Today)} tomorrow {(Tomorrow)}}",u=e.Zx4(u,{VAR_SELECT:"\ufffd0\ufffd"}),f=" " + u + " ",g=" Never ending ",[[1,"row"],["class","col-md-6 bb-block bb-block--md",4,"ngIf"],[4,"ngIf"],[1,"col-md-6","bb-block","bb-block--md"],[1,"bb-text-bold"],[4,"ngIf","ngIfElse"],["multipleFreq",""],["data-role","execution-date"],["data-role","relative-date"],t,["name","startDate","parentName","schedule","defaultLabel",_,3,"config"],["name","startDate","parentName","schedule","defaultLabel",i,3,"config"],["name","frequency","parentName","schedule","defaultLabel",o,3,"config"],["data-role","frequency-value"],s,["data-role","end-after-label",1,"bb-text-bold"],["name","repeat","parentName","schedule","defaultLabel",d,3,"config"],["data-role","end-after"],p,["data-role","end-date-label",1,"bb-text-bold"],["name","endDate","parentName","schedule","defaultLabel",c,3,"config"],["data-role","end-date",4,"ngIf"],["data-role","payment-recurring-end-date-never-ending",4,"ngIf"],["data-role","end-date"],f,["data-role","payment-recurring-end-date-never-ending"],g]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.YNc(2,An,10,7,"div",1),e.YNc(3,bn,2,1,"ng-container",2),e.BQk(),e.YNc(4,In,3,2,"ng-container",2),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",null==_.data?null:_.data.startDate),e.xp6(1),e.Q6J("ngIf",(null==_.data||null==_.data.frequency?null:_.data.frequency.value)||(null==_.data?null:_.data.frequency)),e.xp6(1),e.Q6J("ngIf","ONCE"!==((null==_.data||null==_.data.frequency?null:_.data.frequency.value)||(null==_.data?null:_.data.frequency))))},directives:[N,E.O5],pipes:[E.uU],encapsulation:2,changeDetection:0}),n})(),at=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez,te]]}),n})();var ne=m(7287),z=m(4058),C=m(429),j=m(7605),V=m(1892),fe=m(3508),it=m(5622);function Pn(n,a){1&n&&e.GkF(0)}function On(n,a){1&n&&e.GkF(0)}function Tn(n,a){if(1&n&&e._UZ(0,"bb-payord-dynamic-label",26),2&n){const t=e.oxw(2);e.Q6J("config",t.paymentConfig)}}function vn(n,a){if(1&n&&e._UZ(0,"bb-payord-dynamic-label",27),2&n){const t=e.oxw(2);e.Q6J("config",t.paymentConfig)}}function hn(n,a){if(1&n&&(e.TgZ(0,"div",22)(1,"div",9),e.YNc(2,Tn,1,1,"bb-payord-dynamic-label",23),e.YNc(3,vn,1,1,"ng-template",null,24,e.W1O),e.qZA(),e.TgZ(5,"div",25),e._uU(6),e.qZA()()),2&n){const t=e.MAs(4),_=e.oxw();e.xp6(2),e.Q6J("ngIf",_.isDebitPayment)("ngIfElse",t),e.xp6(4),e.hij(" ",null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.remittanceInformation?null:_.payment.transferTransactionInformation.remittanceInformation.content," ")}}function Un(n,a){if(1&n&&e._UZ(0,"bb-purpose-of-payment",28),2&n){const t=e.oxw();e.Q6J("paymentConfig",t.paymentConfig)("purposeOfPayment",null==t.payment||null==t.payment.transferTransactionInformation||null==t.payment.transferTransactionInformation.purposeOfPayment?null:t.payment.transferTransactionInformation.purposeOfPayment.freeText)}}function Nn(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-payord-dynamic-label",31),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("config",t.paymentConfig)}}function xn(n,a){if(1&n&&e._UZ(0,"bb-payord-dynamic-label",32),2&n){const t=e.oxw(2);e.Q6J("config",t.paymentConfig)}}function Kn(n,a){if(1&n&&(e.YNc(0,Nn,2,1,"ng-container",29),e.YNc(1,xn,1,1,"ng-template",null,30,e.W1O)),2&n){const t=e.MAs(2),_=e.oxw();e.Q6J("ngIf",_.isDebitPayment)("ngIfElse",t)}}function Ln(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-payord-dynamic-label",34),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("config",t.paymentConfig)}}function Fn(n,a){if(1&n&&e._UZ(0,"bb-payord-dynamic-label",35),2&n){const t=e.oxw(2);e.Q6J("config",t.paymentConfig)}}function kn(n,a){if(1&n&&(e.YNc(0,Ln,2,1,"ng-container",29),e.YNc(1,Fn,1,1,"ng-template",null,33,e.W1O)),2&n){const t=e.MAs(2),_=e.oxw();e.Q6J("ngIf",_.isDebitPayment)("ngIfElse",t)}}const wn=function(n){return{"flex-column-reverse flex-md-row-reverse":n}};function Zn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"bb-alert-ui",6),e.NdJ("bbKeyboardClick",function(){return e.CHM(t).toggle()}),e.qZA(),e.TgZ(2,"bb-icon-ui",7),e.NdJ("bbKeyboardClick",function(){return e.CHM(t).toggle()}),e.qZA()()}if(2&n){const t=a.isOpen;e.xp6(1),e.Q6J("ngClass",t?"duplicate-payment__header--expanded":"duplicate-payment__header--collapsed")("modifier","warning"),e.xp6(1),e.Q6J("name",t?"toggle-up":"toggle-down")}}function Jn(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-payment-details",10),e.ALo(2,"async"),e.BQk()),2&n){const t=a.ngIf,_=e.oxw(4);e.xp6(1),e.Q6J("payment",t)("isDebitPayment",_.isDebitPayment)("paymentConfig",_.paymentConfig)("scheduleItem",e.lcZ(2,4,_.scheduleItem$))}}function $n(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Jn,3,6,"ng-container",9),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(3),_=e.MAs(8);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.payment$))("ngIfElse",_)}}function Hn(n,a){if(1&n&&(e.ynx(0),e.YNc(1,$n,3,4,"ng-container",9),e.ALo(2,"async"),e.BQk()),2&n){const t=e.oxw(2),_=e.MAs(6);e.xp6(1),e.Q6J("ngIf",!1===e.lcZ(2,2,t.errorNoAccess$))("ngIfElse",_)}}function Gn(n,a){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,Hn,3,4,"ng-container",9),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw(),_=e.MAs(4);e.xp6(1),e.Q6J("ngIf",!1===e.lcZ(2,2,t.errorWhileFetching$))("ngIfElse",_)}}function Wn(n,a){1&n&&(e.TgZ(0,"div",11),e._UZ(1,"bb-empty-state-ui",12),e.qZA())}function Qn(n,a){1&n&&(e.TgZ(0,"div",11),e._UZ(1,"bb-empty-state-ui",13),e.qZA())}function Yn(n,a){1&n&&e._UZ(0,"bb-loading-indicator-ui",14)}let qn=(()=>{class n{constructor(){this.isDebitPayment=!1,this.IBANSchemeName="IBAN"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-details"]],inputs:{payment:"payment",isDebitPayment:"isDebitPayment",paymentConfig:"paymentConfig",scheduleItem:"scheduleItem"},decls:39,vars:36,consts:function(){let a,t,_,i,o,l,s,d,p,c;return a="Duplicate payment details",t="Created by ",_=" on ",i=" at ",o="Message to client",l="Message to beneficiary",s="Collect from",d="From",p="Transfer to",c="To",[["headingType","h1","heading",a,1,"sr-only"],[1,"duplicate-payment-status-row","bb-text-support","bb-subtitle"],["data-role","duplicate-payment-status",1,"duplicate-payment-status-row__label-spacer--right",3,"status"],["data-role","duplicate-payment-status-row__subtitle"],t,_,i,[1,"bb-payment-account-details-card__container","bb-block","bb-block--md","break-word",3,"ngClass"],[1,"w-lg-50"],[1,"bb-text-bold"],[4,"ngTemplateOutlet"],["data-role","debitor-details-card",3,"name","accountNumber","currency","isCompact"],[1,"justify-content-center","align-items-center","d-md-flex","d-none"],["name","arrow-forward",1,"bb-account-transfer-icon"],[1,"d-md-none"],["data-role","creditor-details-card",3,"name","country","bankBranchCode","schemeName","IBAN","accountNumber","isCompact"],["data-role","duplicate-payment__amount-details",3,"config","amount","originatorCurrency","transactionCurrency","transferFee","chargeBearer","exchangeRate"],["class","bb-block bb-block--md",4,"ngIf"],["data-role","purpose-of-payment",3,"paymentConfig","purposeOfPayment",4,"ngIf"],[3,"paymentConfig","data"],["dynamicLabelInitiator",""],["dynamicLabelCounterparty",""],[1,"bb-block","bb-block--md"],["name","remittanceInformation","defaultLabel",o,3,"config",4,"ngIf","ngIfElse"],["remittanceInformationLableForNonDebit",""],["data-role","remittance-information-content",1,"break-word"],["name","remittanceInformation","defaultLabel",o,3,"config"],["name","remittanceInformation","defaultLabel",l,3,"config"],["data-role","purpose-of-payment",3,"paymentConfig","purposeOfPayment"],[4,"ngIf","ngIfElse"],["dynamicLabelInitiatorNonDebit",""],["name","counterparty","defaultLabel",s,"data-role","initiator-label",3,"config"],["name","initiator","defaultLabel",d,"data-role","initiator-label",3,"config"],["dynamicLabelCounterpartyForNonDebit",""],["data-role","payee-label","name","initiator","defaultLabel",p,3,"config"],["data-role","payee-label","name","counterparty","defaultLabel",c,3,"config"]]},template:function(t,_){if(1&t&&(e.TgZ(0,"section"),e._UZ(1,"bb-header-ui",0),e.TgZ(2,"div",1),e._UZ(3,"bb-payord-status-badge",2),e.TgZ(4,"span",3),e.SDv(5,4),e.qZA(),e.TgZ(6,"span",3),e._uU(7),e.qZA(),e.TgZ(8,"span",3),e.SDv(9,5),e.qZA(),e.TgZ(10,"span",3),e._uU(11),e.ALo(12,"date"),e.qZA(),e.TgZ(13,"span",3),e.SDv(14,6),e.qZA(),e.TgZ(15,"span",3),e._uU(16),e.ALo(17,"date"),e.qZA()(),e.TgZ(18,"div",7)(19,"div",8)(20,"div",9),e.YNc(21,Pn,1,0,"ng-container",10),e.qZA(),e._UZ(22,"bb-debitor-details-card",11),e.qZA(),e.TgZ(23,"div",12),e._UZ(24,"bb-icon-ui",13),e.qZA(),e.TgZ(25,"div",14),e._uU(26,"\xa0"),e.qZA(),e.TgZ(27,"div",8)(28,"div",9),e.YNc(29,On,1,0,"ng-container",10),e.qZA(),e._UZ(30,"bb-creditor-details-card",15),e.qZA()(),e._UZ(31,"bb-payord-amount-details",16),e.YNc(32,hn,7,3,"div",17),e.YNc(33,Un,1,2,"bb-purpose-of-payment",18),e._UZ(34,"bb-payord-schedule-details",19),e.qZA(),e.YNc(35,Kn,3,2,"ng-template",null,20,e.W1O),e.YNc(37,kn,3,2,"ng-template",null,21,e.W1O)),2&t){const i=e.MAs(36),o=e.MAs(38);e.xp6(3),e.Q6J("status",null==_.payment?null:_.payment.status),e.xp6(4),e.hij("",null==_.payment?null:_.payment.createdBy," "),e.xp6(4),e.hij("",e.lcZ(12,29,null==_.payment?null:_.payment.createdAt)," "),e.xp6(5),e.Oqu(e.xi3(17,31,null==_.payment?null:_.payment.createdAt,"shortTime")),e.xp6(2),e.Q6J("ngClass",e.VKq(34,wn,_.isDebitPayment)),e.xp6(3),e.Q6J("ngTemplateOutlet",_.isDebitPayment?o:i),e.xp6(1),e.Q6J("name",null==_.payment||null==_.payment.originator?null:_.payment.originator.name)("accountNumber",null==_.payment||null==_.payment.originatorAccount||null==_.payment.originatorAccount.identification?null:_.payment.originatorAccount.identification.identification)("currency",null==_.payment?null:_.payment.originatorAccountCurrency)("isCompact",!0),e.xp6(7),e.Q6J("ngTemplateOutlet",_.isDebitPayment?i:o),e.xp6(1),e.Q6J("name",null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.counterparty?null:_.payment.transferTransactionInformation.counterparty.name)("country",null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.counterparty||null==_.payment.transferTransactionInformation.counterparty.postalAddress?null:_.payment.transferTransactionInformation.counterparty.postalAddress.country)("bankBranchCode",null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.counterpartyBank?null:_.payment.transferTransactionInformation.counterpartyBank.bankBranchCode)("schemeName",null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.counterpartyAccount||null==_.payment.transferTransactionInformation.counterpartyAccount.identification?null:_.payment.transferTransactionInformation.counterpartyAccount.identification.schemeName)("IBAN",(null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.counterpartyAccount||null==_.payment.transferTransactionInformation.counterpartyAccount.identification?null:_.payment.transferTransactionInformation.counterpartyAccount.identification.schemeName)===_.IBANSchemeName?null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.counterpartyAccount||null==_.payment.transferTransactionInformation.counterpartyAccount.identification?null:_.payment.transferTransactionInformation.counterpartyAccount.identification.identification:"")("accountNumber",null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.counterpartyAccount||null==_.payment.transferTransactionInformation.counterpartyAccount.identification?null:_.payment.transferTransactionInformation.counterpartyAccount.identification.identification)("isCompact",!0),e.xp6(1),e.Q6J("config",_.paymentConfig)("amount",null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.instructedAmount?null:_.payment.transferTransactionInformation.instructedAmount.amount)("originatorCurrency",null==_.payment?null:_.payment.originatorAccountCurrency)("transactionCurrency",null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.instructedAmount?null:_.payment.transferTransactionInformation.instructedAmount.currencyCode)("transferFee",null==_.payment||null==_.payment.transferTransactionInformation?null:_.payment.transferTransactionInformation.transferFee)("chargeBearer",null==_.payment||null==_.payment.transferTransactionInformation?null:_.payment.transferTransactionInformation.chargeBearer)("exchangeRate",null==_.payment||null==_.payment.transferTransactionInformation||null==_.payment.transferTransactionInformation.exchangeRateInformation?null:_.payment.transferTransactionInformation.exchangeRateInformation.rate),e.xp6(1),e.Q6J("ngIf",null==_.payment||null==_.payment.transferTransactionInformation?null:_.payment.transferTransactionInformation.remittanceInformation),e.xp6(1),e.Q6J("ngIf",null==_.payment||null==_.payment.transferTransactionInformation?null:_.payment.transferTransactionInformation.purposeOfPayment),e.xp6(1),e.Q6J("paymentConfig",_.paymentConfig)("data",_.scheduleItem)}},directives:[K.G,r.I53,ze,P.o,Xe,Ye,N,tt,_t,E.mk,E.tP,E.O5],pipes:[E.uU],encapsulation:2,changeDetection:0}),n})(),zn=(()=>{class n{constructor(t){this.paymentApiService=t,this.isDebitPayment=!1,this.errorWhileFetching$=this.paymentApiService.errorWhileFetching$,this.errorNoAccess$=this.paymentApiService.isNoAccessError$}set paymentId(t){var _;this.payment$=this.paymentApiService.getPaymentById(t),this.scheduleItem$=null===(_=this.payment$)||void 0===_?void 0:_.pipe((0,b.U)(i=>{var o,l,s,d,p,c,u,f,g,A,y;return Object.assign({startDate:null!==(l=null===(o=null==i?void 0:i.schedule)||void 0===o?void 0:o.startDate)&&void 0!==l?l:null==i?void 0:i.createdAt,endDate:null===(s=null==i?void 0:i.schedule)||void 0===s?void 0:s.endDate,repeat:null===(d=null==i?void 0:i.schedule)||void 0===d?void 0:d.repeat,every:null===(p=null==i?void 0:i.schedule)||void 0===p?void 0:p.every},(null===(c=null==i?void 0:i.schedule)||void 0===c?void 0:c.transferFrequency)&&(null===(u=null==i?void 0:i.schedule)||void 0===u?void 0:u.every)&&{frequency:{value:null!==(g=null===(f=null==i?void 0:i.schedule)||void 0===f?void 0:f.transferFrequency)&&void 0!==g?g:"",every:null!==(y=null===(A=null==i?void 0:i.schedule)||void 0===A?void 0:A.every)&&void 0!==y?y:""}})}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Te))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-duplicate-payment-warning"]],inputs:{paymentId:"paymentId",isDebitPayment:"isDebitPayment",paymentConfig:"paymentConfig"},decls:9,vars:0,consts:function(){let a,t,_,i,o,l;return a="Potential duplicate",t="We have found a recent payment that looks similar to this one.",_="Something went wrong",i="Payment details could not be retrieved due to system error.",o="No Permissions",l="You don't have persmission to see this payment. Contact your system administrator.",[["bbCollapsibleHeader",""],["bbCollapsibleBody",""],["fetchingErrorState",""],["noAccessErrorState",""],["loadingState",""],[1,"duplicate-payment__collapsed-container"],["data-role","duplicate-payment__collapsed-header","title",a,"message",t,1,"duplicate-payment__header",3,"ngClass","modifier","bbKeyboardClick"],["data-role","duplicate-payment__icon",1,"duplicate-payment__icon",3,"name","bbKeyboardClick"],["data-role","duplicate-payment__expanded-container",1,"duplicate-payment__expanded-container"],[4,"ngIf","ngIfElse"],[3,"payment","isDebitPayment","paymentConfig","scheduleItem"],[1,"bb-state-container"],["title",_,"subtitle",i,"iconSize","xxl","iconModifier","error-outline","data-role","duplicate-payment__fetching-error"],["title",o,"subtitle",l,"iconSize","xxl","iconModifier","lock","data-role","duplicate-payment__no-access-error"],["loaderSize","md","data-role","duplicate-payment__loading-indicator"]]},template:function(t,_){1&t&&(e.TgZ(0,"bb-collapsible-ui"),e.YNc(1,Zn,3,3,"ng-template",0),e.YNc(2,Gn,3,4,"ng-template",1),e.qZA(),e.YNc(3,Wn,2,0,"ng-template",null,2,e.W1O),e.YNc(5,Qn,2,0,"ng-template",null,3,e.W1O),e.YNc(7,Yn,1,0,"ng-template",null,4,e.W1O))},directives:[fe.tB,W.w,P.o,qn,it.s,q.Q,fe.gM,E.mk,V.w,fe.rJ,E.O5],pipes:[E.Ov],encapsulation:2,changeDetection:0}),n})();const jn=[fe.d8,W.n,V.O,q.p,it.P,P.Q,K.O],Vn=[et,je,te,qe,nt,at],Xn=[r.Bf$];let e_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez,...jn,...Vn,...Xn]]}),n})();m(1867);var ve=m(3759),he=m(8639),ot=m(3203);const t_=["outlet"],n_=["content"],lt=["alertContainer"];function __(n,a){if(1&n&&e._UZ(0,"bb-header-ui",9),2&n){const t=e.oxw();e.Q6J("heading",t.header)}}function a_(n,a){1&n&&(e.ynx(0),e.TgZ(1,"span"),e.SDv(2,14),e.qZA(),e._uU(3,"\xa0 "),e.BQk())}function i_(n,a){if(1&n&&(e.TgZ(0,"bb-alert-ui",12)(1,"div",13),e.YNc(2,a_,4,0,"ng-container",6),e.TgZ(3,"span"),e._uU(4),e.qZA()()()),2&n){const t=e.oxw(2).$implicit,_=e.oxw(2);let i;e.xp6(2),e.Q6J("ngIf",_.isErrorTitleDisplayed),e.xp6(2),e.Oqu(null==(i=t)?null:i.message)}}function o_(n,a){if(1&n&&(e.ynx(0),e.YNc(1,i_,5,2,"bb-alert-ui",11),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.showApiError)}}function l_(n,a){if(1&n&&(e.ynx(0),e.YNc(1,o_,2,1,"ng-container",2),e.BQk()),2&n){const t=a.$implicit;e.oxw(2);const _=e.MAs(5);e.xp6(1),e.Q6J("ngIf",t.message)("ngIfElse",_)}}function r_(n,a){if(1&n&&(e.ynx(0),e.YNc(1,l_,2,2,"ng-container",10),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.errors)}}function s_(n,a){1&n&&(e.TgZ(0,"span"),e.SDv(1,16),e.qZA())}function c_(n,a){if(1&n&&(e.ynx(0),e.YNc(1,s_,2,0,"span",6),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",!(null!=t.options&&t.options.isTemplateMode))}}function d_(n,a){if(1&n&&(e.TgZ(0,"bb-alert-ui",12)(1,"div",15),e.YNc(2,c_,2,1,"ng-container",6),e.TgZ(3,"span"),e._uU(4),e.qZA()()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("ngIf",t.isErrorTitleDisplayed),e.xp6(2),e.Oqu(t.genericError)}}function u_(n,a){if(1&n&&(e.ynx(0),e.YNc(1,d_,5,2,"bb-alert-ui",11),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.showApiError)}}function E_(n,a){if(1&n&&e.YNc(0,u_,2,1,"ng-container",2),2&n){const t=e.oxw(),_=e.MAs(7);e.Q6J("ngIf",t.genericError)("ngIfElse",_)}}function m_(n,a){1&n&&e._UZ(0,"bb-alert-ui",18)}function p_(n,a){if(1&n&&(e.TgZ(0,"div",15),e.YNc(1,m_,1,0,"bb-alert-ui",17),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.showApiError)}}function S_(n,a){1&n&&e._UZ(0,"bb-alert-ui",19)}function A_(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-payment-template-selector",20),e.NdJ("setValues",function(i){return e.CHM(t),e.oxw().onSelectPaymentTemplate(i)})("loadMoreTemplates",function(i){return e.CHM(t),e.oxw().onLoadingMoreTemplates(i)})("searchTemplates",function(i){return e.CHM(t),e.oxw().search(i)})("clear",function(){return e.CHM(t),e.oxw().clearTemplateName()}),e.ALo(2,"async"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("paymentTemplateSearch",t.paymentTemplateSearch)("items",t.paymentTemplates$)("loading",e.lcZ(2,5,t.loadingTemplates$))("templateName",t.templateSelectorName||(null==t.templateNameControl?null:t.templateNameControl.value))("searchValue",t.searchValue)}}function g_(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bb-payord-form",22),e.NdJ("clear",function(){return e.CHM(t),e.oxw(3).onClear()})("discard",function(){return e.CHM(t),e.oxw(3).discardPayment()})("submitted",function(i){return e.CHM(t),e.oxw(3).onSubmit(i)})("editPaymentCancel",function(i){return e.CHM(t),e.oxw(3).onEditCancel(i)})("editPaymentSubmit",function(i){return e.CHM(t),e.oxw(3).onEditSubmit(i)}),e.ALo(2,"async"),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"bb-confirmation-dialog",23),e.NdJ("confirm",function(){return e.CHM(t),e.oxw(3).discardEditPaymentChanges()})("cancel",function(){return e.CHM(t),e.oxw(3).cancelEditPaymentConfirmationDialog()}),e.TgZ(5,"span",24),e.SDv(6,25),e.qZA(),e.TgZ(7,"span",26),e.SDv(8,27),e.qZA(),e.TgZ(9,"span",28),e.SDv(10,29),e.qZA(),e.TgZ(11,"span",30),e.SDv(12,31),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw().ngIf,_=e.oxw(2);e.xp6(1),e.Q6J("config",_.configs[0])("formItem",e.lcZ(2,9,_.getForm(t)))("submitting",e.lcZ(3,11,_.submitting$))("isModalView",_.options.isModalView)("isTemplateMode",_.options.isTemplateMode)("isDebitPayment",_.options.isDebitPayment)("paymentMode",_.options.paymentMode)("templateModeType",_.options.templateModeType),e.xp6(3),e.Q6J("isOpen",_.isEditPaymentConfirmationDialogOpen)}}function b_(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"bb-adaptive-form",32),e.NdJ("selectConfig",function(i){return e.CHM(t),e.oxw(3).onSelectConfig(i)})("discard",function(){return e.CHM(t),e.oxw(3).discardPayment()})("submitted",function(i){return e.CHM(t),e.oxw(3).onSubmit(i)})("selectPaymentOption",function(i){return e.CHM(t),e.oxw(3).onPaymentOptionSelect(i)})("clear",function(){return e.CHM(t),e.oxw(3).onClear()})("applyPaymentTemplate",function(i){return e.CHM(t),e.oxw(3).onApplyTemplate(i)}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async"),e.ALo(5,"async"),e.ALo(6,"async"),e.ALo(7,"async"),e.ALo(8,"async"),e.qZA()}if(2&n){const t=e.oxw().ngIf,_=e.oxw(2);e.Q6J("formItem",e.lcZ(1,16,_.getForm(t)))("paymentState",t)("paymentTypes",_.configs)("baseFields",e.lcZ(2,18,_.baseFields$))("fetchOptions$",_.fetchOptions$)("fetchingOptions",e.lcZ(3,20,_.fetchingPaymentOptions$))("paymentOptions$",_.paymentOptions$)("paymentOptionsError",e.lcZ(4,22,_.paymentOptionsError$))("selectedPaymentConfig",e.lcZ(5,24,_.selectedPaymentConfig$))("selectedPaymentOption",e.lcZ(6,26,_.selectedPaymentOption$))("fetchPaymentOptionsListener",e.lcZ(7,28,_.fetchPaymentOptionsListener$))("shouldApplyTemplate",_.shouldApplyTemplate)("checkClosedPaymentsAccess",!!_.options.checkClosedPaymentsAccess)("submitting",e.lcZ(8,30,_.submitting$))("isModalView",_.options.isModalView)("isDebitPayment",_.options.isDebitPayment)}}function f_(n,a){if(1&n&&(e.ynx(0),e.YNc(1,g_,13,13,"ng-container",2),e.YNc(2,b_,9,32,"ng-template",null,21,e.W1O),e.BQk()),2&n){const t=e.MAs(3),_=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1===_.configs.length)("ngIfElse",t)}}function y_(n,a){if(1&n&&(e.YNc(0,f_,4,2,"ng-container",6),e.ALo(1,"async")),2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.paymentState$))}}function C_(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",3),e._uU(2),e.qZA(),e.TgZ(3,"div",4),e._uU(4),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",(null==t.data?null:t.data.alias)||(null==t.data?null:t.data.name)," "),e.xp6(2),e.hij(" ",null==t.data?null:t.data.accountNumber," ")}}function R_(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",3),e._uU(2),e.qZA(),e.TgZ(3,"div",4)(4,"span",5),e._uU(5),e.qZA()()()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",(null==t.data?null:t.data.alias)||(null==t.data?null:t.data.name)," "),e.xp6(3),e.hij(" ",null!=t.data&&null!=t.data.creditorBank&&t.data.creditorBank.bankBranchCode?(null==t.data||null==t.data.creditorBank?null:t.data.creditorBank.bankBranchCode)+" / "+t.accountNumber:t.accountNumber," ")}}function I_(n,a){1&n&&(e.TgZ(0,"div",6),e._UZ(1,"bb-icon-ui",7),e._uU(2," \xa0 "),e.TgZ(3,"span"),e.SDv(4,8),e.qZA()())}function B_(n,a){if(1&n&&(e.TgZ(0,"div",9)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(null==t.data?null:t.data.amountOptionLabel)}}function M_(n,a){1&n&&(e.ynx(0),e.SDv(1,13),e.BQk())}function D_(n,a){1&n&&(e.ynx(0),e.SDv(1,14),e.BQk())}function P_(n,a){if(1&n&&(e.TgZ(0,"div",8)(1,"div",9),e._UZ(2,"bb-payord-dynamic-label",10),e.qZA(),e.TgZ(3,"div",11),e.YNc(4,M_,2,0,"ng-container",12),e.YNc(5,D_,2,0,"ng-container",12),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(1),e.Q6J("ngSwitch",null==t.data?null:t.data.accountType),e.xp6(1),e.Q6J("ngSwitchCase","SAVINGS"),e.xp6(1),e.Q6J("ngSwitchCase","CHECKING")}}function O_(n,a){1&n&&(e.ynx(0),e.SDv(1,17),e.BQk())}function T_(n,a){1&n&&(e.ynx(0),e.SDv(1,18),e.BQk())}function v_(n,a){if(1&n&&(e.TgZ(0,"div",8)(1,"div",9),e._UZ(2,"bb-payord-dynamic-label",15),e.qZA(),e.TgZ(3,"div",16),e.YNc(4,O_,2,0,"ng-container",12),e.YNc(5,T_,2,0,"ng-container",12),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(1),e.Q6J("ngSwitch",null==t.data?null:t.data.entryClass),e.xp6(1),e.Q6J("ngSwitchCase","PPD"),e.xp6(1),e.Q6J("ngSwitchCase","CCD")}}function h_(n,a){if(1&n&&(e.TgZ(0,"div",6),e.YNc(1,P_,6,4,"div",7),e.YNc(2,v_,6,4,"div",7),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.data?null:t.data.accountType)&&("SAVINGS"===(null==t.data?null:t.data.accountType)||"CHECKING"===(null==t.data?null:t.data.accountType))),e.xp6(1),e.Q6J("ngIf",null==t.data?null:t.data.entryClass)}}function U_(n,a){if(1&n&&(e.TgZ(0,"div",6)(1,"div",8)(2,"div",19),e._UZ(3,"bb-payord-dynamic-label",20),e.qZA(),e.TgZ(4,"div",21),e._uU(5),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",null==t.data?null:t.data.recipientId," ")}}function N_(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",9),e.SDv(2,22),e.qZA(),e.TgZ(3,"div",23),e._UZ(4,"bb-full-address",24),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("address",null==t.data?null:t.data.postalAddress)}}function x_(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e.SDv(4,4),e.qZA(),e.YNc(5,h_,3,2,"div",5),e.YNc(6,U_,6,2,"div",5),e.YNc(7,N_,5,1,"div",0),e.qZA()(),e.BQk()),2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",(null==t.data?null:t.data.entryClass)||(null==t.data?null:t.data.accountType)),e.xp6(1),e.Q6J("ngIf",null==t.data?null:t.data.recipientId),e.xp6(1),e.Q6J("ngIf",(null==t.data||null==t.data.postalAddress?null:t.data.postalAddress.addressLine1)||(null==t.data||null==t.data.postalAddress?null:t.data.postalAddress.addressLine2)||(null==t.data||null==t.data.postalAddress?null:t.data.postalAddress.streetName))}}function K_(n,a){if(1&n&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",null==t.data||null==t.data.creditorBank?null:t.data.creditorBank.bic," ")}}function L_(n,a){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"bb-payord-dynamic-label",12),e.qZA(),e.YNc(3,K_,2,1,"div",13),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(1),e.Q6J("ngIf",null==t.data||null==t.data.creditorBank?null:t.data.creditorBank.bic)}}function F_(n,a){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"bb-payord-dynamic-label",15),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",null==t.data||null==t.data.creditorBank?null:t.data.creditorBank.bankName," ")}}function k_(n,a){if(1&n&&(e.TgZ(0,"div",7)(1,"div",8),e.YNc(2,L_,4,2,"div",9),e.YNc(3,F_,5,2,"div",9),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",null==t.data||null==t.data.creditorBank?null:t.data.creditorBank.bic),e.xp6(1),e.Q6J("ngIf",null==t.data||null==t.data.creditorBank?null:t.data.creditorBank.bankName)}}function w_(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",11),e.SDv(2,17),e.qZA(),e.TgZ(3,"div",16),e._UZ(4,"bb-full-address",18),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("address",null==t.data||null==t.data.creditorBank?null:t.data.creditorBank.postalAddress)}}function Z_(n,a){if(1&n&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",4),e.SDv(3,5),e.qZA(),e.YNc(4,k_,4,2,"div",6),e.YNc(5,w_,5,1,"div",1),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",(null==t.data||null==t.data.creditorBank?null:t.data.creditorBank.bankName)||(null==t.data||null==t.data.creditorBank?null:t.data.creditorBank.bic)),e.xp6(1),e.Q6J("ngIf",(null==t.data||null==t.data.creditorBank||null==t.data.creditorBank.postalAddress?null:t.data.creditorBank.postalAddress.addressLine1)||(null==t.data||null==t.data.creditorBank||null==t.data.creditorBank.postalAddress?null:t.data.creditorBank.postalAddress.addressLine2)||(null==t.data||null==t.data.creditorBank||null==t.data.creditorBank.postalAddress?null:t.data.creditorBank.postalAddress.streetName))}}function J_(n,a){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"bb-payord-dynamic-label",20),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.bankBranchCode," ")}}function $_(n,a){if(1&n&&(e.TgZ(0,"div",24),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.bic," ")}}function H_(n,a){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"bb-payord-dynamic-label",22),e.qZA(),e.YNc(3,$_,2,1,"div",23),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(1),e.Q6J("ngIf",null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.bic)}}function G_(n,a){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"bb-payord-dynamic-label",25),e.qZA(),e.TgZ(3,"div",16),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.bankName," ")}}function W_(n,a){if(1&n&&(e.TgZ(0,"div",7)(1,"div",8),e.YNc(2,J_,5,2,"div",9),e.YNc(3,H_,4,2,"div",9),e.YNc(4,G_,5,2,"div",9),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.bankBranchCode),e.xp6(1),e.Q6J("ngIf",null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.bic),e.xp6(1),e.Q6J("ngIf",null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.bankName)}}function Q_(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",11),e.SDv(2,26),e.qZA(),e.TgZ(3,"div",16),e._UZ(4,"bb-full-address",18),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("address",null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.postalAddress)}}function Y_(n,a){if(1&n&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",4),e.SDv(3,19),e.qZA(),e.YNc(4,W_,5,3,"div",6),e.YNc(5,Q_,5,1,"div",1),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",(null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.bankName)||(null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.bankBranchCode)||(null==t.data||null==t.data.correspondentBank?null:t.data.correspondentBank.bic)),e.xp6(1),e.Q6J("ngIf",(null==t.data||null==t.data.correspondentBank||null==t.data.correspondentBank.postalAddress?null:t.data.correspondentBank.postalAddress.addressLine1)||(null==t.data||null==t.data.correspondentBank||null==t.data.correspondentBank.postalAddress?null:t.data.correspondentBank.postalAddress.addressLine2)||(null==t.data||null==t.data.correspondentBank||null==t.data.correspondentBank.postalAddress?null:t.data.correspondentBank.postalAddress.streetName))}}function q_(n,a){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"bb-payord-dynamic-label",29),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.bankBranchCode," ")}}function z_(n,a){if(1&n&&(e.TgZ(0,"div",24),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.bic," ")}}function j_(n,a){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11),e._UZ(2,"bb-payord-dynamic-label",30),e.qZA(),e.YNc(3,z_,2,1,"div",23),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(1),e.Q6J("ngIf",null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.bic)}}function V_(n,a){if(1&n&&(e.TgZ(0,"div",11),e._UZ(1,"bb-payord-dynamic-label",31),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("config",t.paymentConfig)}}function X_(n,a){if(1&n&&(e.TgZ(0,"div",7)(1,"div",8),e.YNc(2,q_,5,2,"div",9),e.YNc(3,j_,4,2,"div",9),e.TgZ(4,"div",10),e.YNc(5,V_,2,1,"div",28),e.TgZ(6,"div",16),e._uU(7),e.qZA()()()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.bankBranchCode),e.xp6(1),e.Q6J("ngIf",null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.bic),e.xp6(2),e.Q6J("ngIf",null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.bankName),e.xp6(2),e.hij(" ",null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.bankName," ")}}function ea(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",11),e.SDv(2,32),e.qZA(),e.TgZ(3,"div",16),e._UZ(4,"bb-full-address",18),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("address",null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.postalAddress)}}function ta(n,a){if(1&n&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",4),e.SDv(3,27),e.qZA(),e.YNc(4,X_,8,4,"div",6),e.YNc(5,ea,5,1,"div",1),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",(null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.bankName)||(null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.bankBranchCode)||(null==t.data||null==t.data.intermediaryBank?null:t.data.intermediaryBank.bic)),e.xp6(1),e.Q6J("ngIf",(null==t.data||null==t.data.intermediaryBank||null==t.data.intermediaryBank.postalAddress?null:t.data.intermediaryBank.postalAddress.addressLine1)||(null==t.data||null==t.data.intermediaryBank||null==t.data.intermediaryBank.postalAddress?null:t.data.intermediaryBank.postalAddress.addressLine2)||(null==t.data||null==t.data.intermediaryBank||null==t.data.intermediaryBank.postalAddress?null:t.data.intermediaryBank.postalAddress.streetName))}}function na(n,a){1&n&&e._UZ(0,"hr")}function _a(n,a){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"bb-icon-ui",3),e.TgZ(2,"div",4)(3,"div",5),e._UZ(4,"bb-payord-dynamic-label",6),e.qZA(),e.TgZ(5,"div",7),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"div",8)(9,"span",9),e._uU(10),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",e.xi3(7,3,null==t.data?null:t.data.startDate,"mediumDate")," "),e.xp6(4),e.Oqu(null==t.data?null:t.data.scheduleInfo)}}function aa(n,a){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"bb-icon-ui",10),e.TgZ(2,"div",4)(3,"div",5),e._UZ(4,"bb-payord-dynamic-label",11),e.qZA(),e.TgZ(5,"div",12),e.SDv(6,13),e.qZA()()()),2&n){const t=a.ngIf,_=e.oxw();e.xp6(4),e.Q6J("config",_.paymentConfig),e.xp6(2),e.pQV(t),e.QtT(6)}}function ia(n,a){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"bb-icon-ui",3),e.TgZ(2,"div",4)(3,"div",14),e._UZ(4,"bb-payord-dynamic-label",15),e.qZA(),e.TgZ(5,"div",16),e._uU(6),e.TgZ(7,"span"),e.SDv(8,17),e.qZA()()()()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",null==t.data?null:t.data.repeat," ")}}function oa(n,a){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"bb-icon-ui",3),e.TgZ(2,"div",4)(3,"div",18),e._UZ(4,"bb-payord-dynamic-label",19),e.qZA(),e.TgZ(5,"div",20),e._uU(6),e.ALo(7,"date"),e.qZA()()()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",e.xi3(7,2,null==t.data?null:t.data.endDate,"mediumDate")," ")}}function la(n,a){if(1&n&&(e.ynx(0),e.YNc(1,ia,9,2,"div",0),e.YNc(2,oa,8,5,"div",0),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","after"===(null==t.data?null:t.data.endType)&&(null==t.data?null:t.data.repeat)),e.xp6(1),e.Q6J("ngIf","on"===(null==t.data?null:t.data.endType)&&(null==t.data?null:t.data.endDate))}}function ra(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,la,3,2,"ng-container",1),e.qZA()),2&n){const t=a.ngIf;e.xp6(1),e.Q6J("ngIf","ONCE"!==t)}}function sa(n,a){1&n&&e.GkF(0)}function ca(n,a){1&n&&(e.TgZ(0,"div",19),e._UZ(1,"bb-loading-indicator-ui",20),e.qZA())}function da(n,a){if(1&n&&(e.TgZ(0,"bb-alert-ui",32),e.NdJ("close",function(){return!1}),e.TgZ(1,"span",33),e._uU(2),e.qZA()()),2&n){const t=e.oxw(3);e.Q6J("title",t.errorTitle),e.xp6(2),e.Oqu(t.errorText)}}function ua(n,a){1&n&&(e.TgZ(0,"div",34)(1,"div",35),e._UZ(2,"bb-icon-ui",36),e.qZA(),e.TgZ(3,"div",37),e.SDv(4,38),e.qZA()())}function Ea(n,a){if(1&n&&(e.TgZ(0,"div",46)(1,"div",47),e._UZ(2,"bb-payord-dynamic-label",48),e.qZA(),e.TgZ(3,"div",49),e._uU(4),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",null==t.payment||null==t.payment.remittanceInfo?null:t.payment.remittanceInfo.paymentReference," ")}}function ma(n,a){if(1&n&&(e.TgZ(0,"div",46)(1,"div",50),e._UZ(2,"bb-payord-dynamic-label",51),e.qZA(),e.TgZ(3,"div",52),e._uU(4),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",null==t.payment||null==t.payment.counterparty?null:t.payment.counterparty.remittanceInformation," ")}}function pa(n,a){if(1&n&&(e.TgZ(0,"div",46)(1,"div",50),e._UZ(2,"bb-payord-dynamic-label",53),e.qZA(),e.TgZ(3,"div",52),e._uU(4),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",(null==t.payment||null==t.payment.counterparty?null:t.payment.counterparty.messageToBank)||(null==t.payment?null:t.payment.messageToBank)," ")}}function Sa(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Ea,5,2,"div",39),e.TgZ(2,"div",40),e._UZ(3,"bb-icon-ui",41),e.TgZ(4,"div",42)(5,"div",43),e._UZ(6,"bb-payord-dynamic-label",44),e.qZA(),e.TgZ(7,"div",45),e._uU(8),e.qZA()()(),e.YNc(9,ma,5,2,"div",39),e.YNc(10,pa,5,2,"div",39),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.payment||null==t.payment.remittanceInfo?null:t.payment.remittanceInfo.paymentReference),e.xp6(5),e.Q6J("config",t.paymentConfig),e.xp6(2),e.hij(" ",null==t.payment||null==t.payment.remittanceInfo?null:t.payment.remittanceInfo.description," "),e.xp6(1),e.Q6J("ngIf",null==t.payment?null:t.payment.counterparty.remittanceInformation),e.xp6(1),e.Q6J("ngIf",(null==t.payment?null:t.payment.messageToBank)||(null==t.payment||null==t.payment.counterparty?null:t.payment.counterparty.messageToBank))}}function Aa(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",54),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(2),e.Oqu(t.executionInBankTimezoneMessage)}}function ga(n,a){if(1&n&&(e.ynx(0),e.YNc(1,da,3,2,"bb-alert-ui",21),e.YNc(2,ua,5,0,"div",22),e.TgZ(3,"div",23)(4,"div",24)(5,"div",25),e._UZ(6,"div",26),e.TgZ(7,"div",27),e._UZ(8,"bb-payment-initiator-details",28),e.qZA()()(),e.TgZ(9,"div",24)(10,"div",25),e._UZ(11,"div",29),e.TgZ(12,"div",27),e._UZ(13,"bb-creditor-account",28),e.qZA()()()(),e.TgZ(14,"div",30),e._UZ(15,"bb-payment-remittance-details",31),e.qZA(),e._UZ(16,"bb-payment-creditor-details",28)(17,"bb-payment-counterparty-details",28)(18,"bb-payment-schedule-details",28),e.YNc(19,Sa,11,5,"div",11),e.Hsn(20),e.YNc(21,Aa,3,1,"ng-container",11),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.isErrorResponse),e.xp6(1),e.Q6J("ngIf",null==t.payment?null:t.payment.isIntraLegalEntity),e.xp6(6),e.Q6J("data",null==t.payment?null:t.payment.initiator)("paymentConfig",t.paymentConfig),e.xp6(5),e.Q6J("data",null==t.payment?null:t.payment.counterparty)("paymentConfig",t.paymentConfig),e.xp6(2),e.Q6J("data",null==t.payment?null:t.payment.remittanceInfo)("transferFee",null==t.payment?null:t.payment.transferFee)("chargeBearer",null==t.payment?null:t.payment.chargeBearer)("forexDetails",null==t.methods?null:t.methods.getForexDetails(t.payment))("paymentConfig",t.paymentConfig),e.xp6(1),e.Q6J("data",null==t.payment?null:t.payment.counterparty)("paymentConfig",t.paymentConfig),e.xp6(1),e.Q6J("data",null==t.payment?null:t.payment.counterparty)("paymentConfig",t.paymentConfig),e.xp6(1),e.Q6J("data",null==t.payment?null:t.payment.schedule)("paymentConfig",t.paymentConfig),e.xp6(1),e.Q6J("ngIf",(null==t.payment||null==t.payment.remittanceInfo?null:t.payment.remittanceInfo.description)||(null==t.payment||null==t.payment.remittanceInfo?null:t.payment.remittanceInfo.paymentReference)||(null==t.payment||null==t.payment.counterparty?null:t.payment.counterparty.messageToBank)||(null==t.payment||null==t.payment.counterparty?null:t.payment.counterparty.remittanceInformation)),e.xp6(2),e.Q6J("ngIf",!!t.executionInBankTimezoneMessage)}}function ba(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return null==i.methods?null:i.methods.submit()}),e.SDv(1,56),e.ALo(2,"async"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",e.lcZ(2,1,null==t.methods?null:t.methods.isSubmitting$()))}}function fa(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",62),e.NdJ("bbKeyboardClick",function(){e.CHM(t);const i=e.oxw(3);return null==i.methods?null:i.methods.submit(!0)}),e.SDv(1,63),e.ALo(2,"async"),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",e.lcZ(2,1,null==t.methods?null:t.methods.isSubmitting$()))}}function ya(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",57)(1,"bb-load-button-ui",58),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return null==i.methods?null:i.methods.submit()}),e.SDv(2,59),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"bb-dropdown-menu-ui",60),e.YNc(5,fa,3,3,"ng-template",61),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("isLoading",e.lcZ(3,1,null==t.methods?null:t.methods.isSubmitting$()))}}function Ca(n,a){if(1&n){const t=e.EpF();e.YNc(0,ca,2,0,"div",7),e.ALo(1,"async"),e.TgZ(2,"fieldset",8)(3,"legend",9),e.SDv(4,10),e.qZA(),e.YNc(5,ga,22,19,"ng-container",11),e.qZA(),e.TgZ(6,"div",12),e.YNc(7,ba,3,3,"button",13),e.YNc(8,ya,6,3,"div",14),e.TgZ(9,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return null==i.methods?null:i.methods.edit()}),e.SDv(10,16),e.ALo(11,"async"),e.qZA(),e.TgZ(12,"button",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return null==i.methods?null:i.methods.toggleDiscardDialog()}),e.SDv(13,18),e.ALo(14,"async"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,6,t.isLoading$)),e.xp6(5),e.Q6J("ngIf",t.payment),e.xp6(2),e.Q6J("ngIf",!(null!=t.methods&&t.methods.isApprovalEnabled())),e.xp6(1),e.Q6J("ngIf",null==t.methods?null:t.methods.isApprovalEnabled()),e.xp6(1),e.Q6J("disabled",e.lcZ(11,8,null==t.methods?null:t.methods.isSubmitting$())),e.xp6(3),e.Q6J("disabled",e.lcZ(14,10,null==t.methods?null:t.methods.isSubmitting$()))}}function Ra(n,a){if(1&n&&(e.TgZ(0,"span",54),e.SDv(1,75),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.pQV(null==t.payment||null==t.payment.remittanceInfo?null:t.payment.remittanceInfo.amountGroup.currency)(null==t.payment||null==t.payment.remittanceInfo?null:t.payment.remittanceInfo.amountGroup.amount)(null==t.payment?null:t.payment.counterparty.name),e.QtT(1)}}function Ia(n,a){if(1&n&&(e.TgZ(0,"span",54),e.SDv(1,76),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.pQV(null==t.payment?null:t.payment.counterparty.name),e.QtT(1)}}function Ba(n,a){if(1&n&&(e.TgZ(0,"div",73),e.YNc(1,Ra,2,3,"span",74),e.YNc(2,Ia,2,1,"span",74),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.isScheduledTransfer),e.xp6(1),e.Q6J("ngIf",t.isScheduledTransfer)}}function Ma(n,a){if(1&n&&(e.TgZ(0,"span",77),e.SDv(1,78),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.pQV(null==t.payment?null:t.payment.counterparty.name),e.QtT(1)}}function Da(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-icon-ui",84),e.TgZ(2,"span"),e.SDv(3,85),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(3),e.pQV(null==t.payment||null==t.payment.counterparty?null:t.payment.counterparty.name),e.QtT(3)}}function Pa(n,a){if(1&n&&(e._UZ(0,"bb-icon-ui",86),e.TgZ(1,"span"),e.SDv(2,87),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.pQV(null==t.payment||null==t.payment.counterparty?null:t.payment.counterparty.name),e.QtT(2)}}function Oa(n,a){if(1&n&&(e.TgZ(0,"div",79)(1,"div",80)(2,"div",81),e.YNc(3,Da,4,1,"ng-container",82),e.ALo(4,"async"),e.YNc(5,Pa,3,1,"ng-template",null,83,e.W1O),e.qZA()()()),2&n){const t=e.MAs(6),_=e.oxw(2);let i;e.xp6(3),e.Q6J("ngIf",!(null==(i=e.lcZ(4,2,null==_.methods?null:_.methods.getSaveContactResponse$))||!i.id))("ngIfElse",t)}}function Ta(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",88),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return null==i.methods?null:i.methods.reset()}),e.SDv(1,89),e.qZA()}}function va(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",88),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return null==i.methods?null:i.methods.navigateToAfterSuccessPage()}),e.SDv(1,90),e.qZA()}}function ha(n,a){if(1&n&&(e.TgZ(0,"div",64)(1,"picture"),e._UZ(2,"source",65)(3,"img",66),e.qZA(),e._UZ(4,"div")(5,"bb-header-ui",67),e.YNc(6,Ba,3,2,"div",68),e.YNc(7,Ma,2,1,"ng-template",null,69,e.W1O),e.qZA(),e.YNc(9,Oa,7,4,"div",70),e.TgZ(10,"div",71)(11,"div",46),e.YNc(12,Ta,2,0,"button",72),e.YNc(13,va,2,0,"button",72),e.qZA()()),2&n){const t=e.MAs(8),_=e.oxw();e.xp6(2),e.s9C("srcset",_.successImgNoMotion,e.LSH),e.xp6(1),e.s9C("srcset",_.successImg+"?"+_.timestamp,e.LSH),e.xp6(3),e.Q6J("ngIf",!(null!=_.payment&&_.payment.paymentOrderId))("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",null==_.payment||null==_.payment.counterparty?null:_.payment.counterparty.saveNewContact),e.xp6(3),e.Q6J("ngIf",!(null!=_.payment&&_.payment.paymentOrderId)),e.xp6(1),e.Q6J("ngIf",null==_.payment?null:_.payment.paymentOrderId)}}function Ua(n,a){1&n&&(e.ynx(0),e.SDv(1,91),e.BQk())}function Na(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",92)(1,"button",93),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return null==i.methods?null:i.methods.reset()}),e.SDv(2,94),e.qZA(),e.TgZ(3,"button",95),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return null==i.methods?null:i.methods.toggleDiscardDialog()}),e.SDv(4,96),e.qZA()()}}const xa=["*"];function Ka(n,a){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.message)}}function La(n,a){if(1&n&&(e.ynx(0),e.SDv(1,6),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.pQV(t.status),e.QtT(1)}}function Fa(n,a){if(1&n&&(e.ynx(0),e.SDv(1,7),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.pQV(t.status),e.QtT(1)}}function ka(n,a){if(1&n&&(e.YNc(0,La,2,1,"ng-container",3),e.YNc(1,Fa,2,1,"ng-template",null,5,e.W1O)),2&n){const t=e.MAs(2),_=e.oxw();e.Q6J("ngIf",_.isDebitPayment)("ngIfElse",t)}}function wa(n,a){1&n&&(e.ynx(0),e.SDv(1,17),e.BQk())}function Za(n,a){1&n&&(e.ynx(0),e.SDv(1,18),e.BQk())}function Ja(n,a){if(1&n&&(e.TgZ(0,"div",12)(1,"div",13),e._UZ(2,"bb-payord-dynamic-label",14),e.qZA(),e.TgZ(3,"div",15),e.YNc(4,wa,2,0,"ng-container",16),e.YNc(5,Za,2,0,"ng-container",16),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.config),e.xp6(1),e.Q6J("ngSwitch",null==t.details?null:t.details.accountType),e.xp6(1),e.Q6J("ngSwitchCase","SAVINGS"),e.xp6(1),e.Q6J("ngSwitchCase","CHECKING")}}function $a(n,a){1&n&&(e.ynx(0),e.SDv(1,21),e.BQk())}function Ha(n,a){1&n&&(e.ynx(0),e.SDv(1,22),e.BQk())}function Ga(n,a){if(1&n&&(e.TgZ(0,"div",12)(1,"div",13),e._UZ(2,"bb-payord-dynamic-label",19),e.qZA(),e.TgZ(3,"div",20),e.YNc(4,$a,2,0,"ng-container",16),e.YNc(5,Ha,2,0,"ng-container",16),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.config),e.xp6(1),e.Q6J("ngSwitch",null==t.details?null:t.details.entryClass),e.xp6(1),e.Q6J("ngSwitchCase","PPD"),e.xp6(1),e.Q6J("ngSwitchCase","CCD")}}function Wa(n,a){if(1&n&&(e.TgZ(0,"div",10),e.YNc(1,Ja,6,4,"div",11),e.YNc(2,Ga,6,4,"div",11),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.details?null:t.details.accountType)&&("SAVINGS"===(null==t.details?null:t.details.accountType)||"CHECKING"===(null==t.details?null:t.details.accountType))),e.xp6(1),e.Q6J("ngIf",null==t.details?null:t.details.entryClass)}}const ye=function(n){return{"bb-block bb-block--md":n}};function Qa(n,a){if(1&n&&(e.TgZ(0,"div",23)(1,"div",12)(2,"div",24),e._UZ(3,"bb-payord-dynamic-label",25),e.qZA(),e.TgZ(4,"div",26),e._uU(5),e.qZA()()()),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(3,ye,t.hasPostalAddress(null==t.details?null:t.details.postalAddress))),e.xp6(3),e.Q6J("config",t.config),e.xp6(2),e.hij(" ",null==t.details?null:t.details.recipientId," ")}}function Ya(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",13),e._uU(2),e.qZA(),e.TgZ(3,"div",27),e._UZ(4,"bb-full-address",28),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",null==t.beneficiaryDetailsTitles?null:t.beneficiaryDetailsTitles.addressTitle," "),e.xp6(2),e.Q6J("address",null==t.details?null:t.details.postalAddress)}}function qa(n,a){if(1&n&&(e.TgZ(0,"div",4)(1,"div",5)(2,"div",6),e._uU(3),e.qZA(),e.YNc(4,Wa,3,2,"div",7),e.YNc(5,Qa,6,5,"div",8),e.YNc(6,Ya,5,2,"div",9),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.hij(" ",null==t.beneficiaryDetailsTitles?null:t.beneficiaryDetailsTitles.beneficiaryTitle," "),e.xp6(1),e.Q6J("ngIf",(null==t.details?null:t.details.entryClass)||(null==t.details?null:t.details.accountType)),e.xp6(1),e.Q6J("ngIf",null==t.details?null:t.details.recipientId),e.xp6(1),e.Q6J("ngIf",t.hasPostalAddress(null==t.details?null:t.details.postalAddress))}}function za(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"div",13),e._UZ(2,"bb-payord-dynamic-label",36),e.qZA(),e.TgZ(3,"div",37),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.ekj("col-12",!(null!=t.details&&null!=t.details.creditorBank&&t.details.creditorBank.bic)),e.xp6(2),e.Q6J("config",t.config),e.xp6(2),e.hij(" ",null==t.details||null==t.details.creditorBank?null:t.details.creditorBank.bankName," ")}}function ja(n,a){if(1&n&&(e.TgZ(0,"div",40),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",null==t.details||null==t.details.creditorBank?null:t.details.creditorBank.bic," ")}}function Va(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"div",13),e._UZ(2,"bb-payord-dynamic-label",38),e.qZA(),e.YNc(3,ja,2,1,"div",39),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.config),e.xp6(1),e.Q6J("ngIf",null==t.details||null==t.details.creditorBank?null:t.details.creditorBank.bic)}}function Xa(n,a){if(1&n&&(e.TgZ(0,"div",31)(1,"div",32),e.YNc(2,za,5,4,"div",33),e.YNc(3,Va,4,2,"div",34),e.qZA()()),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(3,ye,t.hasPostalAddress(null==t.details||null==t.details.creditorBank?null:t.details.creditorBank.postalAddress))),e.xp6(2),e.Q6J("ngIf",null==t.details||null==t.details.creditorBank?null:t.details.creditorBank.bankName),e.xp6(1),e.Q6J("ngIf",null==t.details||null==t.details.creditorBank?null:t.details.creditorBank.bic)}}function ei(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",13),e.SDv(2,41),e.qZA(),e.TgZ(3,"div",42),e._UZ(4,"bb-full-address",28),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("address",null==t.details||null==t.details.creditorBank?null:t.details.creditorBank.postalAddress)}}function ti(n,a){if(1&n&&(e.TgZ(0,"div",29)(1,"div",5)(2,"div",6),e._uU(3),e.qZA(),e.YNc(4,Xa,4,5,"div",30),e.YNc(5,ei,5,1,"div",9),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.hij(" ",null==t.beneficiaryDetailsTitles?null:t.beneficiaryDetailsTitles.bankTitle," "),e.xp6(1),e.Q6J("ngIf",(null==t.details||null==t.details.creditorBank?null:t.details.creditorBank.bankName)||(null==t.details||null==t.details.creditorBank?null:t.details.creditorBank.bic)),e.xp6(1),e.Q6J("ngIf",t.hasPostalAddress(null==t.details||null==t.details.creditorBank?null:t.details.creditorBank.postalAddress))}}function ni(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"div",13),e._UZ(2,"bb-payord-dynamic-label",45),e.qZA(),e.TgZ(3,"div",46),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.config),e.xp6(2),e.hij(" ",null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.bankName," ")}}function _i(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"div",13),e._UZ(2,"bb-payord-dynamic-label",47),e.qZA(),e.TgZ(3,"div",48),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.config),e.xp6(2),e.hij(" ",null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.bankBranchCode," ")}}function ai(n,a){if(1&n&&(e.TgZ(0,"div",51),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.bic," ")}}function ii(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"div",13),e._UZ(2,"bb-payord-dynamic-label",49),e.qZA(),e.YNc(3,ai,2,1,"div",50),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.config),e.xp6(1),e.Q6J("ngIf",null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.bic)}}function oi(n,a){if(1&n&&(e.TgZ(0,"div",31)(1,"div",32),e.YNc(2,ni,5,2,"div",34),e.YNc(3,_i,5,2,"div",34),e.YNc(4,ii,4,2,"div",34),e.qZA()()),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,ye,t.hasPostalAddress(null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.postalAddress))),e.xp6(2),e.Q6J("ngIf",null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.bankName),e.xp6(1),e.Q6J("ngIf",null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.bankBranchCode),e.xp6(1),e.Q6J("ngIf",null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.bic)}}function li(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",13),e.SDv(2,52),e.qZA(),e.TgZ(3,"div",53),e._UZ(4,"bb-full-address",28),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("address",null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.postalAddress)}}function ri(n,a){if(1&n&&(e.TgZ(0,"div",43)(1,"div",5)(2,"div",6),e.SDv(3,44),e.qZA(),e.YNc(4,oi,5,6,"div",30),e.YNc(5,li,5,1,"div",9),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",(null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.bankName)||(null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.bankBranchCode)||(null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.bic)),e.xp6(1),e.Q6J("ngIf",t.hasPostalAddress(null==t.details||null==t.details.correspondentBank?null:t.details.correspondentBank.postalAddress))}}function si(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"div",13),e._UZ(2,"bb-payord-dynamic-label",56),e.qZA(),e.TgZ(3,"div",57),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.config),e.xp6(2),e.hij(" ",null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.bankName," ")}}function ci(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"div",13),e._UZ(2,"bb-payord-dynamic-label",58),e.qZA(),e.TgZ(3,"div",59),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.config),e.xp6(2),e.hij(" ",null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.bankBranchCode," ")}}function di(n,a){if(1&n&&(e.TgZ(0,"div",62),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.bic," ")}}function ui(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"div",13),e._UZ(2,"bb-payord-dynamic-label",60),e.qZA(),e.YNc(3,di,2,1,"div",61),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("config",t.config),e.xp6(1),e.Q6J("ngIf",null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.bic)}}function Ei(n,a){if(1&n&&(e.TgZ(0,"div",31)(1,"div",32),e.YNc(2,si,5,2,"div",34),e.YNc(3,ci,5,2,"div",34),e.YNc(4,ui,4,2,"div",34),e.qZA()()),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,ye,t.hasPostalAddress(null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.postalAddress))),e.xp6(2),e.Q6J("ngIf",null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.bankName),e.xp6(1),e.Q6J("ngIf",null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.bankBranchCode),e.xp6(1),e.Q6J("ngIf",null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.bic)}}function mi(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",13),e.SDv(2,63),e.qZA(),e.TgZ(3,"div",64),e._UZ(4,"bb-full-address",28),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("address",null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.postalAddress)}}function pi(n,a){if(1&n&&(e.TgZ(0,"div",54)(1,"div",5)(2,"div",6),e.SDv(3,55),e.qZA(),e.YNc(4,Ei,5,6,"div",30),e.YNc(5,mi,5,1,"div",9),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",(null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.bankName)||(null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.bankBranchCode)||(null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.bic)),e.xp6(1),e.Q6J("ngIf",t.hasPostalAddress(null==t.details||null==t.details.intermediaryBank?null:t.details.intermediaryBank.postalAddress))}}function Si(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"header",5),e._UZ(1,"bb-icon-ui",6),e.TgZ(2,"span",7),e._uU(3," Limits breach "),e.qZA(),e.TgZ(4,"div",8)(5,"button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().print()}),e.TgZ(6,"span",10),e._uU(7," Print breach limit report "),e.qZA(),e._UZ(8,"bb-icon-ui",11),e.qZA(),e.TgZ(9,"button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().onClose()}),e.TgZ(10,"span",12),e._uU(11," Close breach limit report dialog "),e.qZA(),e._UZ(12,"bb-icon-ui",13),e.qZA()()()}}function Ai(n,a){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("(",t.breachReportCurrency,")")}}function gi(n,a){1&n&&(e.TgZ(0,"span",36),e.SDv(1,37),e.qZA())}function bi(n,a){if(1&n&&(e.ynx(0),e.SDv(1,41),e.ALo(2,"date"),e.BQk()),2&n){const t=e.oxw(3).$implicit;e.xp6(2),e.pQV(e.xi3(2,1,t.timeframe.endTime,"mediumDate")),e.QtT(1)}}function fi(n,a){if(1&n&&(e.ynx(0),e.SDv(1,42),e.ALo(2,"date"),e.BQk()),2&n){const t=e.oxw(3).$implicit;e.xp6(2),e.pQV(e.xi3(2,1,t.timeframe.endTime,"mediumDate")),e.QtT(1)}}function yi(n,a){if(1&n&&(e.ynx(0),e.SDv(1,43),e.ALo(2,"date"),e.ALo(3,"date"),e.BQk()),2&n){const t=e.oxw(3).$implicit;e.xp6(3),e.pQV(e.xi3(2,2,t.timeframe.startTime,"mediumDate"))(e.xi3(3,5,t.timeframe.endTime,"mediumDate")),e.QtT(1)}}function Ci(n,a){if(1&n&&(e.ynx(0),e.SDv(1,44),e.ALo(2,"date"),e.ALo(3,"date"),e.BQk()),2&n){const t=e.oxw(3).$implicit;e.xp6(3),e.pQV(e.xi3(2,2,t.timeframe.startTime,"mediumDate"))(e.xi3(3,5,t.timeframe.endTime,"mediumDate")),e.QtT(1)}}function Ri(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",39),e.YNc(2,bi,3,4,"ng-container",40),e.YNc(3,fi,3,4,"ng-container",40),e.YNc(4,yi,4,8,"ng-container",40),e.YNc(5,Ci,4,8,"ng-container",40),e.qZA(),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngSwitch",t.timeframe.period),e.xp6(1),e.Q6J("ngSwitchCase","WEEKLY"),e.xp6(1),e.Q6J("ngSwitchCase","MONTHLY"),e.xp6(1),e.Q6J("ngSwitchCase","QUARTERLY"),e.xp6(1),e.Q6J("ngSwitchCase","YEARLY")}}function Ii(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"span",36),e.SDv(2,38),e.ALo(3,"titlecase"),e.qZA(),e.YNc(4,Ri,6,5,"ng-container",22),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.pQV(t.timeframe.period)(e.lcZ(3,3,t.timeframe.period)),e.QtT(2),e.xp6(1),e.Q6J("ngIf","DAILY"!==t.timeframe.period)}}function Bi(n,a){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.hij("(",t.breachReportCurrency,")")}}function Mi(n,a){1&n&&(e.ynx(0),e._uU(1," \u2014 "),e.BQk())}function Di(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-amount-ui",33),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("amount",t.currentConsumption)}}function Pi(n,a){if(1&n&&(e.TgZ(0,"tr",27)(1,"td",28),e.YNc(2,gi,2,0,"span",29),e.YNc(3,Ii,5,5,"ng-container",22),e.qZA(),e.TgZ(4,"td",30)(5,"span",31),e.ynx(6),e.SDv(7,32),e.BQk(),e.YNc(8,Bi,2,1,"ng-container",22),e._uU(9,"\xa0 "),e.qZA(),e._UZ(10,"bb-amount-ui",33),e.qZA(),e.TgZ(11,"td",34)(12,"span",31),e.SDv(13,35),e.qZA(),e.YNc(14,Mi,2,0,"ng-container",22),e.YNc(15,Di,2,1,"ng-container",22),e.qZA()()),2&n){const t=a.$implicit,_=e.oxw(2);e.xp6(2),e.Q6J("ngIf","TRANSACTIONAL"===t.breachedLimitType),e.xp6(1),e.Q6J("ngIf","TRANSACTIONAL"!==t.breachedLimitType),e.xp6(5),e.Q6J("ngIf",_.breachReportCurrency),e.xp6(2),e.Q6J("amount",t.currentThreshold),e.xp6(4),e.Q6J("ngIf","TRANSACTIONAL"===t.breachedLimitType),e.xp6(1),e.Q6J("ngIf","TRANSACTIONAL"!==t.breachedLimitType)}}function Oi(n,a){if(1&n&&(e.TgZ(0,"div",45)(1,"div",46)(2,"div",47)(3,"div",48)(4,"div",49),e.SDv(5,50),e.qZA(),e.TgZ(6,"div")(7,"div",51),e._uU(8),e.qZA(),e.TgZ(9,"div",52),e._uU(10),e.qZA()()(),e.TgZ(11,"div",48)(12,"div",49),e.SDv(13,53),e.qZA(),e.TgZ(14,"div")(15,"div",54),e._uU(16),e.qZA(),e.TgZ(17,"div",55),e._uU(18),e.qZA()()(),e.TgZ(19,"div",48)(20,"div",49),e.SDv(21,56),e.qZA(),e.TgZ(22,"div"),e._uU(23),e.ALo(24,"date"),e.qZA()(),e.TgZ(25,"div",57)(26,"div",49),e.SDv(27,58),e.qZA(),e.TgZ(28,"div",36),e._UZ(29,"bb-amount-ui",59),e.qZA()()()()()),2&n){const t=e.oxw(2);e.xp6(8),e.hij(" ",(null==t.paymentDetails.initiator?null:t.paymentDetails.initiator.alias)||(null==t.paymentDetails.initiator?null:t.paymentDetails.initiator.name)," "),e.xp6(2),e.hij(" ",(null==t.paymentDetails.initiator?null:t.paymentDetails.initiator.accountNumber)||(null==t.paymentDetails.initiator?null:t.paymentDetails.initiator.IBAN)," "),e.xp6(6),e.hij(" ",(null==t.paymentDetails.counterparty?null:t.paymentDetails.counterparty.alias)||(null==t.paymentDetails.counterparty?null:t.paymentDetails.counterparty.name)," "),e.xp6(2),e.hij(" ",(null==t.paymentDetails.counterparty?null:t.paymentDetails.counterparty.accountNumber)||(null==t.paymentDetails.counterparty?null:t.paymentDetails.counterparty.IBAN)," "),e.xp6(5),e.hij(" ",e.xi3(24,8,null==t.paymentDetails.schedule?null:t.paymentDetails.schedule.startDate,"mediumDate")," "),e.xp6(6),e.Q6J("amount",t.paymentDetails.remittanceInfo.amountGroup.amount)("currency",t.paymentDetails.remittanceInfo.amountGroup.currency)("mapCurrency",!1)}}function Ti(n,a){if(1&n&&(e.TgZ(0,"div",14),e.SDv(1,15),e.qZA(),e.TgZ(2,"div",16)(3,"table",17)(4,"thead",18)(5,"tr"),e._UZ(6,"th",19),e.TgZ(7,"th",20),e.ynx(8),e.SDv(9,21),e.BQk(),e.YNc(10,Ai,2,1,"ng-container",22),e.qZA(),e.TgZ(11,"th",23),e.SDv(12,24),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,Pi,16,6,"tr",25),e.qZA()()(),e.YNc(15,Oi,30,11,"div",26)),2&n){const t=e.oxw();e.xp6(10),e.Q6J("ngIf",t.breachReportCurrency),e.xp6(4),e.Q6J("ngForOf",t.sortedBreaches),e.xp6(1),e.Q6J("ngIf",t.paymentDetails)}}function vi(n,a){1&n&&(e.TgZ(0,"div",4),e._UZ(1,"bb-icon-ui",5)(2,"bb-header-ui",6),e.qZA()),2&n&&(e.xp6(2),e.uIk("data-role","payment-template-header"))}function hi(n,a){1&n&&(e.TgZ(0,"span",21),e.SDv(1,22),e.qZA())}function Ui(n,a){if(1&n&&(e.ynx(0),e.YNc(1,hi,2,0,"span",20),e.BQk()),2&n){const t=a.ngIf,_=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.errors&&t.errors.required&&_.isSubmitted)}}function Ni(n,a){if(1&n&&(e.TgZ(0,"div",7),e.SDv(1,8),e.qZA(),e.TgZ(2,"form",9)(3,"label",10)(4,"span",11),e.SDv(5,12),e.qZA()(),e.TgZ(6,"span",13),e.SDv(7,14),e.qZA(),e.TgZ(8,"div",15),e._UZ(9,"bb-input-text-ui",16,17),e.TgZ(11,"bb-input-validation-message-ui",18),e.YNc(12,Ui,2,1,"ng-container",19),e.qZA()()()),2&n){const t=e.MAs(10),_=e.oxw();let i;e.xp6(2),e.Q6J("formGroup",_.paymentTemplateForm),e.xp6(1),e.Q6J("for",t.id),e.xp6(6),e.Q6J("aria-labelledby","name")("maxLength",50)("showCharCounter",!0),e.xp6(2),e.Q6J("showErrors",!(null==_.paymentTemplateForm||null==(i=_.paymentTemplateForm.get("templateName"))||!i.invalid)),e.xp6(1),e.Q6J("ngIf",null==_.paymentTemplateForm?null:_.paymentTemplateForm.get("templateName"))}}function xi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"bb-load-button-ui",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().onSubmit()}),e.ynx(2),e.SDv(3,25),e.BQk(),e.qZA(),e.TgZ(4,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().onClose()}),e.ynx(5),e.SDv(6,27),e.BQk(),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("isLoading",t.isSavingTemplate)}}function Ki(n,a){1&n&&e.GkF(0)}function Li(n,a){if(1&n&&e.GkF(0,7),2&n){const t=e.oxw(),i=t.additionalDetailsContext;e.Q6J("componentType",t.additionsDetails)("context",i)}}function Fi(n,a){if(1&n&&(e.TgZ(0,"bb-adapted-review-container",5),e.YNc(1,Li,1,2,"ng-container",6),e.qZA()),2&n){const t=a.$implicit,_=a.paymentConfig,i=a.status,o=a.methods,l=a.additionsDetails,s=e.oxw();e.Q6J("payment",t)("paymentConfig",_)("status",i)("methods",o)("breachError",s.breachError)("executionInBankTimezoneMessage",s.getExecutionInBankTimezoneMessage()),e.xp6(1),e.Q6J("ngIf",l)}}function ki(n,a){if(1&n&&e._UZ(0,"bb-header-ui",25),2&n){const t=e.oxw(2);e.Q6J("heading",t.header)}}function wi(n,a){if(1&n&&e._UZ(0,"bb-duplicate-payment-warning",28),2&n){const t=e.oxw().ngIf,_=e.oxw().paymentConfig,i=e.oxw();e.Q6J("paymentId",null==t[0]||null==t[0].context?null:t[0].context.paymentId)("paymentConfig",_)("isDebitPayment",i.widgetOptions.isDebitPayment)}}function Zi(n,a){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,wi,1,3,"bb-duplicate-payment-warning",27),e.qZA()),2&n){const t=a.ngIf,_=e.oxw().status;e.xp6(1),e.Q6J("ngIf",0!==t.length&&"SUCCESS"!==_)}}function Ji(n,a){if(1&n&&e._UZ(0,"bb-status-card",50),2&n){const t=e.oxw(3).methods,_=e.oxw();e.Q6J("status",t.getPaymentStatusType())("isDebitPayment",_.widgetOptions.isDebitPayment)}}function $i(n,a){1&n&&(e.ynx(0),e.SDv(1,56),e.BQk())}function Hi(n,a){1&n&&(e.ynx(0),e.SDv(1,57),e.BQk())}function Gi(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"span"),e.YNc(2,$i,2,0,"ng-container",12),e.YNc(3,Hi,2,0,"ng-container",12),e.qZA(),e._uU(4,"\xa0 "),e.BQk()),2&n){const t=e.oxw(8);e.xp6(2),e.Q6J("ngIf",!t.widgetOptions.isDebitPayment),e.xp6(1),e.Q6J("ngIf",t.widgetOptions.isDebitPayment)}}function Wi(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"bb-alert-ui",54),e.NdJ("close",function(){return!1}),e.TgZ(2,"div",55),e.YNc(3,Gi,5,2,"ng-container",12),e.TgZ(4,"span"),e._uU(5),e.qZA()()(),e.BQk()),2&n){const t=e.oxw().$implicit,_=e.oxw(6);let i;e.xp6(3),e.Q6J("ngIf",_.isErrorTitleDisplayed),e.xp6(2),e.Oqu(null==(i=t)?null:i.message)}}function Qi(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Wi,6,2,"ng-container",13),e.BQk()),2&n){const t=a.$implicit;e.oxw(2);const _=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.message)("ngIfElse",_)}}function Yi(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Qi,2,2,"ng-container",53),e.BQk()),2&n){const t=e.oxw(5);e.xp6(1),e.Q6J("ngForOf",t.errors)}}function qi(n,a){1&n&&(e.ynx(0),e.SDv(1,60),e.BQk())}function zi(n,a){1&n&&(e.ynx(0),e.SDv(1,61),e.BQk())}function ji(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"span"),e.YNc(2,qi,2,0,"ng-container",12),e.YNc(3,zi,2,0,"ng-container",12),e.qZA(),e.BQk()),2&n){const t=e.oxw(7);e.xp6(2),e.Q6J("ngIf",!t.widgetOptions.isDebitPayment),e.xp6(1),e.Q6J("ngIf",t.widgetOptions.isDebitPayment)}}function Vi(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"bb-alert-ui",58)(2,"div",59),e.YNc(3,ji,4,2,"ng-container",12),e.TgZ(4,"span"),e._uU(5),e.qZA()()(),e.BQk()),2&n){const t=e.oxw(6);e.xp6(3),e.Q6J("ngIf",t.isErrorTitleDisplayed),e.xp6(2),e.Oqu(t.genericError)}}function Xi(n,a){if(1&n&&e.YNc(0,Vi,6,2,"ng-container",13),2&n){e.oxw();const t=e.MAs(5),_=e.oxw(4);e.Q6J("ngIf",_.genericError)("ngIfElse",t)}}function eo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",67)(1,"div",68),e.SDv(2,69),e.qZA(),e.TgZ(3,"button",70),e.NdJ("click",function(){return e.CHM(t),e.oxw(5).methods.showBreachModal()}),e.SDv(4,71),e.qZA()()}}function to(n,a){1&n&&(e.TgZ(0,"div",72)(1,"div",73),e.SDv(2,74),e.qZA(),e.TgZ(3,"div",75),e.SDv(4,76),e.qZA()())}function no(n,a){1&n&&(e.TgZ(0,"div",72)(1,"div",73),e.SDv(2,77),e.qZA(),e.TgZ(3,"div",75),e.SDv(4,78),e.qZA()())}function _o(n,a){1&n&&(e.TgZ(0,"div")(1,"div",73),e.SDv(2,79),e.qZA()())}function ao(n,a){1&n&&(e.ynx(0),e.TgZ(1,"div",73),e.SDv(2,80),e.qZA(),e.BQk())}function io(n,a){if(1&n&&(e.TgZ(0,"bb-alert-ui",62),e.NdJ("close",function(){return!1}),e.YNc(1,eo,5,0,"div",63),e.YNc(2,to,5,0,"div",64),e.YNc(3,no,5,0,"div",64),e.YNc(4,_o,3,0,"div",65),e.YNc(5,ao,3,0,"ng-container",66),e.qZA()),2&n){const t=e.oxw(4).status;e.Q6J("ngSwitch",t),e.xp6(1),e.Q6J("ngSwitchCase","LIMIT_BREACH"),e.xp6(1),e.Q6J("ngSwitchCase","USER_DECLINED"),e.xp6(1),e.Q6J("ngSwitchCase","COED"),e.xp6(1),e.Q6J("ngSwitchCase","REJECTED")}}function oo(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Yi,2,1,"ng-container",13),e.YNc(2,Xi,1,2,"ng-template",null,51,e.W1O),e.YNc(4,io,6,5,"ng-template",null,52,e.W1O),e.BQk()),2&n){const t=e.MAs(3),_=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==_.errors?null:_.errors.length)("ngIfElse",t)}}function lo(n,a){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,Ji,1,2,"bb-status-card",49),e.YNc(2,oo,6,2,"ng-container",12),e.qZA()),2&n){const t=e.oxw(2).status;e.xp6(1),e.Q6J("ngIf","SUCCESS"===t),e.xp6(1),e.Q6J("ngIf",!!t&&"SUCCESS"!==t)}}function ro(n,a){1&n&&(e.TgZ(0,"div",83),e._UZ(1,"bb-icon-ui",84)(2,"div",85),e.TgZ(3,"div",86),e.SDv(4,87),e.qZA()())}function so(n,a){1&n&&(e.TgZ(0,"div",83),e._UZ(1,"bb-icon-ui",88)(2,"div",85),e.TgZ(3,"div",89),e.SDv(4,90),e.qZA()())}function co(n,a){if(1&n&&(e.TgZ(0,"div",81),e.YNc(1,ro,5,0,"div",82),e.YNc(2,so,5,0,"div",82),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",null==t?null:t.isIntraLegalEntity),e.xp6(1),e.Q6J("ngIf",null==t||null==t.remittanceInfo?null:t.remittanceInfo.urgent)}}function uo(n,a){1&n&&e.GkF(0)}function Eo(n,a){1&n&&e.GkF(0)}function mo(n,a){1&n&&e.GkF(0)}function po(n,a){1&n&&e.GkF(0)}function So(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-payord-dynamic-label",91),e.BQk()),2&n){const t=e.oxw(3).paymentConfig;e.xp6(1),e.Q6J("config",t)}}function Ao(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-payord-dynamic-label",92),e.BQk()),2&n){const t=e.oxw(3).paymentConfig;e.xp6(1),e.Q6J("config",t)}}function go(n,a){if(1&n&&(e.YNc(0,So,2,1,"ng-container",12),e.YNc(1,Ao,2,1,"ng-container",12)),2&n){const t=e.oxw(3);e.Q6J("ngIf",t.widgetOptions.isDebitPayment),e.xp6(1),e.Q6J("ngIf",!t.widgetOptions.isDebitPayment)}}function bo(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-payord-dynamic-label",93),e.BQk()),2&n){const t=e.oxw(3).paymentConfig;e.xp6(1),e.Q6J("config",t)}}function fo(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"bb-payord-dynamic-label",94),e.BQk()),2&n){const t=e.oxw(3).paymentConfig;e.xp6(1),e.Q6J("config",t)}}function yo(n,a){if(1&n&&(e.YNc(0,bo,2,1,"ng-container",12),e.YNc(1,fo,2,1,"ng-container",12)),2&n){const t=e.oxw(3);e.Q6J("ngIf",t.widgetOptions.isDebitPayment),e.xp6(1),e.Q6J("ngIf",!t.widgetOptions.isDebitPayment)}}function Co(n,a){if(1&n&&(e.TgZ(0,"div",48)(1,"div",96),e._UZ(2,"bb-payord-dynamic-label",97),e.qZA(),e.TgZ(3,"div",98),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3),_=t.paymentConfig,i=t.$implicit;e.xp6(2),e.Q6J("config",_),e.xp6(2),e.hij(" ",null==i||null==i.counterparty?null:i.counterparty.mandateIdentifier," ")}}function Ro(n,a){if(1&n&&(e.TgZ(0,"div",48)(1,"div",99),e._UZ(2,"bb-payord-dynamic-label",100),e.qZA(),e.TgZ(3,"div",101),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3),_=t.paymentConfig,i=t.$implicit;e.xp6(2),e.Q6J("config",_),e.xp6(2),e.hij(" ",null==i||null==i.remittanceInfo?null:i.remittanceInfo.paymentReference," ")}}function Io(n,a){if(1&n&&(e.TgZ(0,"div",48)(1,"div",102),e._UZ(2,"bb-payord-dynamic-label",103),e.qZA(),e.TgZ(3,"div",104),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3),_=t.paymentConfig,i=t.$implicit;e.xp6(2),e.Q6J("config",_),e.xp6(2),e.hij(" ",null==i||null==i.remittanceInfo?null:i.remittanceInfo.description," ")}}function Bo(n,a){if(1&n&&e._UZ(0,"bb-payord-dynamic-label",109),2&n){const t=e.oxw(4).paymentConfig;e.Q6J("config",t)}}function Mo(n,a){if(1&n&&e._UZ(0,"bb-payord-dynamic-label",110),2&n){const t=e.oxw(4).paymentConfig;e.Q6J("config",t)}}function Do(n,a){if(1&n&&(e.TgZ(0,"div",48)(1,"div",105),e.YNc(2,Bo,1,1,"bb-payord-dynamic-label",106),e.YNc(3,Mo,1,1,"ng-template",null,107,e.W1O),e.qZA(),e.TgZ(5,"div",108),e._uU(6),e.qZA()()),2&n){const t=e.MAs(4),_=e.oxw(3).$implicit;e.xp6(2),e.Q6J("ngIf",_.isDebitPayment)("ngIfElse",t),e.xp6(4),e.hij(" ",null==_||null==_.counterparty?null:_.counterparty.remittanceInformation," ")}}function Po(n,a){if(1&n&&e._UZ(0,"bb-purpose-of-payment",111),2&n){const t=e.oxw(3),i=t.$implicit;e.Q6J("paymentConfig",t.paymentConfig)("purposeOfPayment",null==i||null==i.remittanceInfo?null:i.remittanceInfo.purposeOfPayment)("avialablePurposesOfPayment",null==i||null==i.inputFormFromSettings?null:i.inputFormFromSettings.purposesOfPayment)}}function Oo(n,a){if(1&n&&e._UZ(0,"bb-payord-dynamic-label",115),2&n){const t=e.oxw(4).paymentConfig;e.Q6J("config",t)}}function To(n,a){if(1&n&&e._UZ(0,"bb-payord-dynamic-label",116),2&n){const t=e.oxw(4).paymentConfig;e.Q6J("config",t)}}function vo(n,a){if(1&n&&(e.TgZ(0,"div",48)(1,"div",105),e.YNc(2,Oo,1,1,"bb-payord-dynamic-label",112),e.YNc(3,To,1,1,"bb-payord-dynamic-label",113),e.qZA(),e.TgZ(4,"div",114),e._uU(5),e.qZA()()),2&n){const t=e.oxw(3).$implicit;e.xp6(2),e.Q6J("ngIf",!t.isDebitPayment),e.xp6(1),e.Q6J("ngIf",t.isDebitPayment),e.xp6(2),e.hij(" ",(null==t||null==t.counterparty?null:t.counterparty.messageToBank)||(null==t?null:t.messageToBank)," ")}}function ho(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"hr"),e.YNc(2,Co,5,2,"div",29),e.YNc(3,Ro,5,2,"div",29),e.YNc(4,Io,5,2,"div",29),e.YNc(5,Do,7,3,"div",29),e.YNc(6,Po,1,3,"bb-purpose-of-payment",95),e.YNc(7,vo,6,3,"div",29),e._UZ(8,"hr"),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngIf",null==t||null==t.counterparty?null:t.counterparty.mandateIdentifier),e.xp6(1),e.Q6J("ngIf",null==t||null==t.remittanceInfo?null:t.remittanceInfo.paymentReference),e.xp6(1),e.Q6J("ngIf",null==t||null==t.remittanceInfo?null:t.remittanceInfo.description),e.xp6(1),e.Q6J("ngIf",null==t?null:t.counterparty.remittanceInformation),e.xp6(1),e.Q6J("ngIf",null==t||null==t.remittanceInfo?null:t.remittanceInfo.purposeOfPayment),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.messageToBank)||(null==t||null==t.counterparty?null:t.counterparty.messageToBank))}}function Uo(n,a){if(1&n&&e.GkF(0,7),2&n){const t=e.oxw(2),i=t.additionalDetailsContext;e.Q6J("componentType",t.additionsDetails)("context",i)}}function No(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",117),e._uU(2),e.qZA(),e.BQk()),2&n){const t=a.ngIf;e.xp6(2),e.Oqu(t)}}const xo=function(n){return{"flex-column-reverse flex-md-row-reverse":n}};function Ko(n,a){if(1&n&&(e.ynx(0),e.YNc(1,lo,3,2,"div",29),e.YNc(2,co,3,2,"div",30),e.TgZ(3,"div",31)(4,"div",32),e.YNc(5,uo,1,0,"ng-container",33),e.qZA(),e.TgZ(6,"div",34),e._uU(7,"\xa0"),e.qZA(),e.TgZ(8,"div",32),e.YNc(9,Eo,1,0,"ng-container",33),e.qZA()(),e.TgZ(10,"div",35)(11,"div",36)(12,"div",37),e.YNc(13,mo,1,0,"ng-container",33),e.qZA(),e._UZ(14,"bb-debitor-details-card",38),e.qZA(),e.TgZ(15,"div",39),e._UZ(16,"bb-icon-ui",40),e.qZA(),e.TgZ(17,"div",41),e._uU(18,"\xa0"),e.qZA(),e.TgZ(19,"div",36)(20,"div",37),e.YNc(21,po,1,0,"ng-container",33),e.qZA(),e._UZ(22,"bb-creditor-details-card",42),e.qZA()(),e.YNc(23,go,2,2,"ng-template",null,43,e.W1O),e.YNc(25,yo,2,2,"ng-template",null,44,e.W1O),e._UZ(27,"bb-payord-amount-details",45)(28,"bb-counterparty-details",46),e.YNc(29,ho,9,6,"div",12),e._UZ(30,"bb-payord-schedule-details",47),e.YNc(31,Uo,1,2,"ng-container",6),e.YNc(32,No,3,1,"ng-container",12),e.BQk()),2&n){const t=e.MAs(24),_=e.MAs(26),i=e.oxw(),o=i.status,l=i.$implicit,s=i.paymentConfig,d=i.additionsDetails,p=e.oxw();e.xp6(1),e.Q6J("ngIf",o),e.xp6(1),e.Q6J("ngIf",(null==l?null:l.isIntraLegalEntity)||(null==l||null==l.remittanceInfo?null:l.remittanceInfo.urgent)),e.xp6(3),e.Q6J("ngTemplateOutlet",t),e.xp6(4),e.Q6J("ngTemplateOutlet",_),e.xp6(1),e.Q6J("ngClass",e.VKq(32,xo,p.widgetOptions.isDebitPayment)),e.xp6(3),e.Q6J("ngTemplateOutlet",p.widgetOptions.isDebitPayment?_:t),e.xp6(1),e.Q6J("balance",null==l?null:l.initiator.balance)("currency",null==l?null:l.initiator.currency)("name",(null==l?null:l.initiator.alias)||(null==l?null:l.initiator.name))("accountNumber",(null==l?null:l.initiator.accountNumber)||(null==l?null:l.initiator.IBAN)),e.xp6(7),e.Q6J("ngTemplateOutlet",p.widgetOptions.isDebitPayment?t:_),e.xp6(1),e.Q6J("name",(null==l||null==l.counterparty?null:l.counterparty.alias)||(null==l?null:l.counterparty.name))("country",null==l||null==l.counterparty||null==l.counterparty.postalAddress?null:l.counterparty.postalAddress.country)("bankBranchCode",null==l||null==l.counterparty?null:l.counterparty.bankBranchCode)("IBAN",null==l||null==l.counterparty?null:l.counterparty.IBAN)("accountNumber",null==l||null==l.counterparty?null:l.counterparty.accountNumber)("schemeName",null==l||null==l.counterparty?null:l.counterparty.schemeName),e.xp6(5),e.Q6J("config",s)("amount",null==l?null:l.remittanceInfo.amountGroup.amount)("transactionCurrency",null==l?null:l.remittanceInfo.amountGroup.currency)("originatorCurrency",null==l?null:l.initiator.currency)("transferFee",null==l?null:l.transferFee)("chargeBearer",null==l?null:l.chargeBearer)("exchangeRate",null==l?null:l.exchangeRate),e.xp6(1),e.Q6J("details",null==l?null:l.counterparty)("config",s)("isDebitPayment",null==l?null:l.isDebitPayment),e.xp6(1),e.Q6J("ngIf",(null==l?null:l.messageToBank)||(null==l||null==l.remittanceInfo?null:l.remittanceInfo.description)||(null==l||null==l.remittanceInfo?null:l.remittanceInfo.paymentReference)||(null==l?null:l.counterparty.messageToBank)||(null==l?null:l.counterparty.remittanceInformation)||(null==l||null==l.remittanceInfo?null:l.remittanceInfo.purposeOfPayment)||(null==l||null==l.counterparty?null:l.counterparty.mandateIdentifier)),e.xp6(1),e.Q6J("paymentConfig",s)("data",null==l?null:l.schedule),e.xp6(1),e.Q6J("ngIf",d),e.xp6(1),e.Q6J("ngIf",p.getExecutionInBankTimezoneMessage())}}function Lo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",125),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).methods.submit()}),e.SDv(1,126),e.qZA()}if(2&n){const t=e.oxw(2).isSubmitting;e.Q6J("disabled",t)}}function Fo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",132),e.NdJ("bbKeyboardClick",function(){return e.CHM(t),e.oxw(3).methods.submit(!0)}),e.SDv(1,133),e.qZA()}if(2&n){const t=e.oxw(3).isSubmitting;e.Q6J("disabled",t)}}function ko(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",127)(1,"bb-load-button-ui",128),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).methods.submit()}),e.SDv(2,129),e.qZA(),e.TgZ(3,"bb-dropdown-menu-ui",130),e.YNc(4,Fo,2,1,"ng-template",131),e.qZA()()}if(2&n){const t=e.oxw(2).isSubmitting;e.xp6(1),e.Q6J("isLoading",t)}}function wo(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",118),e.YNc(2,Lo,2,1,"button",119),e.YNc(3,ko,5,1,"div",120),e.TgZ(4,"button",121),e.NdJ("click",function(){return e.CHM(t),e.oxw().methods.edit()}),e.SDv(5,122),e.qZA(),e.TgZ(6,"button",123),e.NdJ("click",function(){return e.CHM(t),e.oxw().methods.toggleDiscardDialog()}),e.SDv(7,124),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(),_=t.methods,i=t.isSubmitting,o=e.oxw();e.xp6(1),e.ekj("bb-button-bar--reverse",!(null!=o.widgetOptions&&o.widgetOptions.isModalView)),e.xp6(1),e.Q6J("ngIf",!_.isApprovalEnabled()),e.xp6(1),e.Q6J("ngIf",_.isApprovalEnabled()),e.xp6(1),e.Q6J("disabled",i),e.xp6(2),e.Q6J("disabled",i)}}function Zo(n,a){1&n&&(e.TgZ(0,"div",134),e._UZ(1,"bb-loading-indicator-ui",135),e.qZA()),2&n&&e.Udp("opacity",.6)}function Jo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",138),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).methods.doneEditing()}),e.SDv(1,139),e.qZA()}}function $o(n,a){if(1&n&&(e.TgZ(0,"button",140),e._UZ(1,"bb-icon-ui",141),e.TgZ(2,"span"),e.SDv(3,142),e.qZA()()),2&n){const t=e.oxw(3).methods;let _;e.Q6J("bbExportPdf",null==(_=t.getPaymentResponse())?null:_.id)}}function Ho(n,a){1&n&&e.GkF(0)}function Go(n,a){1&n&&e.GkF(0)}const rt=function(){return{color:"secondary"}},Wo=function(){return{color:"link"}};function Qo(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Ho,1,0,"ng-container",1),e.TgZ(2,"div",143),e.YNc(3,Go,1,0,"ng-container",1),e.qZA(),e.BQk()),2&n){e.oxw(3);const t=e.MAs(14),_=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.DdM(4,rt)),e.xp6(2),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(5,Wo))}}function Yo(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",118),e.YNc(2,Jo,2,0,"button",136),e.YNc(3,$o,4,1,"button",137),e.YNc(4,Qo,4,6,"ng-container",12),e.qZA(),e.BQk()),2&n){const t=e.oxw(2),_=t.status,i=t.methods,o=e.oxw();e.xp6(2),e.Q6J("ngIf",_),e.xp6(1),e.Q6J("ngIf",i.isExportPDFBtnVisible()),e.xp6(1),e.Q6J("ngIf",(null==o.widgetOptions?null:o.widgetOptions.paymentMode)!==o.paymentMode.EDIT_PAYMENT)}}function qo(n,a){if(1&n&&e.YNc(0,Yo,5,3,"ng-container",13),2&n){e.oxw();const t=e.MAs(12),_=e.oxw();e.Q6J("ngIf",null==_.widgetOptions?null:_.widgetOptions.isModalView)("ngIfElse",t)}}function zo(n,a){1&n&&e.GkF(0)}function jo(n,a){1&n&&e.GkF(0)}const Vo=function(){return{color:"primary"}};function Xo(n,a){if(1&n&&(e.TgZ(0,"div",144),e.YNc(1,zo,1,0,"ng-container",1),e.YNc(2,jo,1,0,"ng-container",1),e.qZA()),2&n){e.oxw();const t=e.MAs(14),_=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.DdM(4,Vo)),e.xp6(1),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.DdM(5,rt))}}function el(n,a){1&n&&(e.ynx(0),e.SDv(1,147),e.BQk())}function tl(n,a){1&n&&(e.ynx(0),e.SDv(1,148),e.BQk())}function nl(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",146),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).methods.reset()}),e.ALo(1,"async"),e.YNc(2,el,2,0,"ng-container",12),e.YNc(3,tl,2,0,"ng-container",12),e.qZA()}if(2&n){const t=e.oxw().color,_=e.oxw().methods,i=e.oxw();e.Q6J("color",t)("disabled",e.lcZ(1,4,_.isSavingTemplate$())),e.xp6(2),e.Q6J("ngIf",!i.widgetOptions.isDebitPayment),e.xp6(1),e.Q6J("ngIf",i.widgetOptions.isDebitPayment)}}function _l(n,a){if(1&n&&e.YNc(0,nl,4,6,"button",145),2&n){const t=e.oxw(),i=t.methods;e.Q6J("ngIf",t.status&&i.isNewPaymentEnabled())}}function al(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",150),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).methods.openTemplateModal()}),e.SDv(1,151),e.qZA()}if(2&n){const t=e.oxw().color,_=e.oxw().methods;e.Q6J("color",t)("disabled",_.isTemplateSaved())}}function il(n,a){if(1&n&&(e.YNc(0,al,2,2,"button",149),e.ALo(1,"async")),2&n){const t=e.oxw(),_=t.status,i=t.methods,o=e.oxw();e.Q6J("ngIf","SUCCESS"===_&&i.isPaymentTemplateEnabled()&&e.lcZ(1,1,o.createTemplatePermission$))}}function ol(n,a){if(1&n&&(e.TgZ(0,"div",152)(1,"h2",153),e.SDv(2,154),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.pQV((null==t.widgetOptions?null:t.widgetOptions.paymentMode)===t.paymentMode.EDIT_PAYMENT),e.QtT(2)}}function ll(n,a){if(1&n&&(e.ynx(0),e.SDv(1,155),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.pQV((null==t.widgetOptions?null:t.widgetOptions.paymentMode)===t.paymentMode.EDIT_PAYMENT),e.QtT(1)}}function rl(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",118)(1,"button",156),e.NdJ("click",function(){return e.CHM(t),e.oxw().methods.discard()}),e.SDv(2,157),e.qZA(),e.TgZ(3,"button",158),e.NdJ("click",function(){return e.CHM(t),e.oxw().methods.toggleDiscardDialog()}),e.SDv(4,159),e.qZA()()}}function sl(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"fieldset",8),e.YNc(1,ki,1,1,"bb-header-ui",9),e._UZ(2,"div",null,10),e.YNc(4,Zi,2,1,"div",11),e.ALo(5,"async"),e.YNc(6,Ko,33,34,"ng-container",12),e.qZA(),e.YNc(7,wo,8,6,"ng-container",13),e.YNc(8,Zo,2,2,"div",14),e.YNc(9,qo,1,2,"ng-template",null,15,e.W1O),e.YNc(11,Xo,3,6,"ng-template",null,16,e.W1O),e.YNc(13,_l,1,1,"ng-template",null,17,e.W1O),e.YNc(15,il,2,3,"ng-template",null,18,e.W1O),e.TgZ(17,"bb-modal-ui",19),e.NdJ("cancel",function(){return e.CHM(t).methods.toggleDiscardDialog()})("confirm",function(){return e.CHM(t).methods.discard()}),e.TgZ(18,"bb-modal-header-ui"),e.YNc(19,ol,3,1,"ng-template",20),e.qZA(),e.TgZ(20,"bb-modal-body-ui"),e.YNc(21,ll,2,1,"ng-template",21),e.qZA(),e.TgZ(22,"bb-modal-footer-ui",null,22),e.YNc(24,rl,5,0,"ng-template",23),e.qZA()(),e.TgZ(25,"bb-breach-limit-details",24),e.NdJ("close",function(){return e.CHM(t),e.oxw().hideBreachModal()}),e.qZA()}if(2&n){const t=a.$implicit,_=a.status,i=a.methods,o=a.isSubmitting,l=a.breachError,s=e.MAs(10),d=e.oxw();e.xp6(1),e.Q6J("ngIf",d.header),e.xp6(3),e.Q6J("ngIf",e.lcZ(5,10,d.validationWarnings$)),e.xp6(2),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("ngIf","SUCCESS"!==_)("ngIfElse",s),e.xp6(1),e.Q6J("ngIf",o),e.xp6(9),e.Q6J("isOpen",i.showDiscardDialog()),e.xp6(8),e.Q6J("paymentDetails",d.paymentItem)("error",l)("isOpen",d.showBreachDetails)}}const cl=function(n,a,t,_,i,o,l,s){return{$implicit:n,status:a,isSubmitting:t,methods:_,paymentConfig:i,breachError:o,additionsDetails:l,additionalDetailsContext:s}};var X=(()=>{return(n=X||(X={})).MIN_TRANSFER="PL01",n.MAX_TRANSFER="PL02",n.DAILY="PL03",n.MONTHLY="PL04",X;var n})(),h=(()=>{return(n=h||(h={})).MIN_TRANSFER="PL11",n.MAX_INCOMING_TRANSFER="PL12",n.MAX_OUTGOING_TRANSFER="PL13",n.MAX_INCOMING_DAILY_TRANSFER="PL14",n.MAX_OUTGOING_DAILY_TRANSFER="PL15",n.MAX_COMBINED_DAILY_TRANSFER="PL16",n.MAX_INCOMING_MONTHLY_TRANSFER="PL17",n.MAX_OUTGOING_MONTHLY_TRANSFER="PL18",n.MAX_COMBINED_MONTHLY_TRANSFER="PL19",h;var n})(),ee=(()=>{return(n=ee||(ee={})).FORM="form",n.REVIEW="review",ee;var n})();const dl={name:r.x2z.counterparty,fields:[{name:r.fUi.beneficiaryGroupHeader,type:r.fUi.beneficiaryGroupHeader,options:{label:"To",hasDynamicTitle:!0}},{name:r.IW3.name,type:r.fUi.beneficiarySelector,options:{label:"Beneficiary's name",placeholder:"Select a beneficiary",saveNewContactLabel:"Save as a new contact",isWizardMode:!0,retainBankCountry:!0,cssClasses:["col-12"],dependants:[r.IW3.country,r.IW3.bankBranchCode,r.IW3.accountNumber],validationMessages:[{message:"Beneficiary is same as selected Debit account",name:"sameDebitCreditAccountsSelected"}]}},{name:r.IW3.country,type:r.fUi.sanctionedCountrySelector,options:{validators:[v.kI.required],label:"Country",placeholder:"- select a country -",cssClasses:["d-inline-block","col-md-6","align-top"],mapToField:`${r.x2z.counterparty}.${r.IW3.creditorBank}.${r.IW3.postalAddress}`}},{name:r.IW3.accountNumber,type:r.fUi.text,options:{validators:[v.kI.required,v.kI.minLength(6)],maxLength:36,label:"Account number or IBAN",validationMessages:[{name:"minlength",message:"Account number should have minimum 6 characters"},{message:"Invalid IBAN",name:"invalidIbanCountry"}],cssClasses:["d-inline-block","col-md-6"]}},{name:r.IW3.bankBranchCode,type:r.fUi.text,options:{label:"Sort code",maxLength:20,cssClasses:["d-inline-block","col-md-6","align-top"],mapToField:`${r.x2z.counterparty}.${r.IW3.creditorBank}`}}]},ul=[r.sR3,{name:r.x2z.remittanceInfo,title:"Payment details",fields:[{type:r.fUi.sanctionedCurrencyAmount,name:r.IHR.amountCurrencyGroup,options:{cssClasses:["col-12"],label:"Amount",validationMessages:[{message:"Enter amount",name:"invalidAmount"},{message:"Selected country does not allow payments in this currency",name:"invalidCurrency"}]}}]},dl],Ue=new e.OlP("BB_PAYORD_PAYMENT_ERROR_MESSAGES_TOKEN"),El=[{provide:Ue,useValue:{errorData:[{key:"arrangements.api.invalid.iban",message:"Entered IBAN is invalid"}]}}],st=new e.OlP("BB_PAYORD_OMNI_PAYMENT_CONFIG_TOKEN"),ml=[{provide:st,useValue:{businessConfig:{functionName:"Payment Templates",resourceName:"Payments"}}}];let ie=(()=>{class n{constructor(){this.configsSub$=new B.X([]),this.optionsSub$=new B.X({}),this.baseFieldsSub$=new B.X([]),this.fetchPaymentOptionsListenerSub$=new B.X(void 0),this.hooksSub$=new B.X({}),this.reviewTemplateSub$=new B.X(void 0),this.configs$=this.configsSub$.asObservable(),this.options$=this.optionsSub$.asObservable(),this.baseFields$=this.baseFieldsSub$.asObservable(),this.fetchPaymentOptionsListener$=this.fetchPaymentOptionsListenerSub$.asObservable(),this.reviewTemplate$=this.reviewTemplateSub$.asObservable()}get hooks(){return this.hooksSub$.value}get options(){return this.optionsSub$.value}get configs(){return this.configsSub$.value}setHooks(t={}){this.hooksSub$.next(t)}setConfigs(t){this.configsSub$.next(t)}setOptions(t){this.optionsSub$.next(t)}setBaseFields(t=ul){this.baseFieldsSub$.next(t)}setFetchPaymentOptionsListener(t){this.fetchPaymentOptionsListenerSub$.next(t)}setReviewTemplate(t){this.reviewTemplateSub$.next(t)}getHeader(t,_){var i,o,l;const p={paymentMode:null===(i=this.options)||void 0===i?void 0:i.paymentMode,state:t,paymentType:_||(1===this.configs.length?this.configs[0].paymentType:""),isDebit:this.options.isDebitPayment};return null===(l=(o=this.options).header)||void 0===l?void 0:l.call(o,p)}getProductKindNames(t){if(1===this.configs.length)return this.extractProductKinds(this.configs[0],t);const _=this.configs.map(o=>this.extractProductKinds(o,t));return _.every(o=>0!==o.length)?this.removeDuplicates(_):[]}removeDuplicates(t){return Array.from(new Set([].concat(...t)))}extractProductKinds(t,_){var i,o,l;return(null!==(l=null===(o=null===(i=t.options)||void 0===i?void 0:i.productKindsByAccountType)||void 0===o?void 0:o.get(_))&&void 0!==l?l:[]).map(d=>d.name)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(t,_,i){this.router=t,this.route=_,this.paymentConfigSetupService=i,this.routingExtras={queryParamsHandling:"merge",relativeTo:this.route,skipLocationChange:!!this.paymentConfigSetupService.options.isModalView}}form(){return this.router.navigate([ee.FORM],this.routingExtras)}review(){return this.router.navigate([ee.REVIEW],this.routingExtras)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(se.F0),e.LFG(se.gz),e.LFG(ie))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const Ce=new e.OlP("bb-initiate-payment-journey-communicator"),Al={pageSize:50,isModalView:!0,pollInterval:1e3,defaultCountry:"US",enableApprovals:!0,defaultScheme:r.g1M.BBAN,isTemplateMode:!1,isDebitPayment:!1,isErrorTitleDisplayed:!0,enableNewPaymentButton:!1,checkClosedPaymentsAccess:!1,enableSavePaymentAsTemplate:!0,isOneOffToRecurrentAllowed:!1,isRecurrentToOneOffAllowed:!1,enablePaymentTemplateSelector:!0,accessContextScope:r.zlV.SA,successEventName:"bb.success.create.payment",header:function Sl({paymentType:n,paymentMode:a,state:t,isDebit:_}){const i=_?" Debit":"";let o=`${function pl(n){switch((0,r.Ake)(n)){case"SEPA_CREDIT_TRANSFER":case"SEPA_CT":case"SEPA":return "SEPA";case"ACH_DEBIT":case"ACH_CREDIT":case"US_ACH_CREDIT":case"CUSTOM_ACH_CREDIT":return "ACH";case"US_DOMESTIC_WIRE":return "Wire";case"INTERNAL_TRANSFER":case"INTERNAL_TRANSFER_BUSINESS":case"INTRABANK_TRANSFER":return "Internal";case"INTERNATIONAL_TRANSFER":return "International Wire";case"P2P_TRANSFER":return "P2P"}return ""}(n)}${i}`;return o=(null==a?void 0:a.includes("EDIT"))?"Edit " + o + "":"New " + o + "",(null==a?void 0:a.includes("TEMPLATE"))?o="" + o + " Template":_||(o="" + o + " Payment"),t===r.WN5.REVIEW?o="" + o + " - Review":t===r.WN5.SUBMITTED&&(o="" + o + " - Submitted"),o},paymentExecutionInBankTimeZoneMessage:"Transfer dates are based on your bank\u2019s timezone"},ct=new e.OlP("INITIATE_PAYMENT_CONFIG"),dt="Payments";function Et(n){return{id:n.id,name:n.displayName||n.bankAlias||n.name||"",alias:(n.userPreferences||{}).alias||n.bankAlias,balance:n.bookedBalance||n.availableBalance,bookedBalance:n.bookedBalance,availableBalance:n.availableBalance,creditLimit:n.creditLimit,currency:n.currency||"",bankBranchCode:n.bankBranchCode||"",BIC:n.BIC,IBAN:n.IBAN||n.number,BBAN:n.BBAN,externalTransferAllowed:n.externalTransferAllowed,urgentTransferAllowed:n.urgentTransferAllowed,additions:n.additions,productKindName:n.productKindName,isArrangement:!0,defaultRecord:n}}function fl({bankBranchCode:n,bic:a,bankName:t,postalAddress:_={}}){return{bankCode:n,BIC:a,bankName:t,bankAddressLine1:_.addressLine1,bankAddressLine2:_.addressLine2,bankStreetName:_.streetName,bankPostCode:_.postCode,bankTown:_.town,bankCountrySubDivision:_.countrySubDivision,bankCountry:_.country}}const mt={from:0,size:20,intendedAction:r.SyI.CREATE};let Ee=(()=>{class n{constructor(t,_,i,o,l,s,d,p){this.paymentOrderData=t,this.paymentTemplateData=_,this.contactsData=i,this.productSummaryData=o,this.accessgroupData=l,this.notificationService=s,this.settings=d,this.paymentOrdersA2ADataHttpService=p,this.paymentResponseSubject$$=new O.x,this.contactsGetParams$$=new B.X({from:0,size:r._hS}),this.creditAccountsParams$$=new B.X({from:0,creditAccount:!0,size:100}),this.debitAccountsParams$$=new B.X({from:0,debitAccount:!0,size:100}),this.paymentTemplateParams$$=new B.X(mt),this.creditAccountsParameters$=this.creditAccountsParams$$.pipe((0,b.U)(this.buildArrangementsContextParameters.bind(this))),this.dataItemParams$=new O.x,this.loading$=new B.X(!0),this.arrangementUserPermissions$=this.dataItemParams$.pipe((0,Se.w)(c=>this.getArrangementUserPermission(c))),this.createPermission$=this.settings?this.getUserPermission():ce.E,this.paymentResponse=this.paymentResponseSubject$$.asObservable(),this.debitAccounts=this.debitAccountsParams$$.pipe((0,b.U)(this.buildArrangementsContextParameters.bind(this)),(0,De.z)(c=>this.fetchArrangementList(c)),(0,G.d)(1),(0,Pe.R)((c,u)=>{const{merge:f,from:g}=this.debitAccountsParams$$.value;return this.mergeArrangementList(c,u,g>0&&!!f)})),this.contacts=this.contactsGetParams$$.pipe((0,De.z)(c=>{var{isLoadMore:u}=c,f=(0,ke._T)(c,["isLoadMore"]);return this.contactsData.getContacts(f,"response").pipe((0,b.U)(g=>function bl(n,a=!1){const t=(0,r.DDE)(n);return{items:t.reduce((i,o)=>(i.push(...function gl(n){return n.accounts.map(a=>Object.assign(Object.assign({name:n.name},n.accounts.length>1?{accountName:a.name}:null),{addressLine1:n.addressLine1,addressLine2:n.addressLine2,streetName:n.streetName,town:n.town,postCode:n.postCode,countrySubDivision:n.countrySubDivision,country:n.country,accounts:[Object.assign(Object.assign({},a),{accountNumber:a.accountNumber||a.IBAN||"",email:a.email||n.emailId,phoneNumber:a.phoneNumber||n.phoneNumber})],id:n.id}))}(o)),i),[]),itemsCount:t.length,count:parseInt(n.headers.get("x-total-count"),10),isLoadMore:a}}(g,u)),(0,T.K)(g=>(0,U.of)(g)))}),(0,G.d)(1)),this.creditAccounts=this.creditAccountsParameters$.pipe((0,De.z)(c=>this.fetchArrangementList(c)),(0,G.d)(1),(0,Pe.R)((c,u)=>{const{merge:f,from:g}=this.creditAccountsParams$$.value;return this.mergeArrangementList(c,u,g>0&&!!f)}),(0,T.K)(c=>(0,U.of)(c))),this.connectedAccounts$=this.paymentOrdersA2ADataHttpService.getAll("response").pipe((0,b.U)(r.DDE),(0,b.U)(c=>c.accounts&&c.accounts.filter(u=>"Active"===u.status)),(0,G.d)(1)),this.paymentTemplates$=this.paymentTemplateParams$$.pipe((0,J.b)(()=>this.loading$.next(!0)),function Xt(n){return(0,zt.e)((a,t)=>{let _=!1,i=null,o=null;const l=()=>{if(null==o||o.unsubscribe(),o=null,_){_=!1;const s=i;i=null,t.next(s)}};a.subscribe(new Le.Q(t,s=>{null==o||o.unsubscribe(),_=!0,i=s,o=new Le.Q(t,l,jt.Z),(0,Vt.Xf)(n(s)).subscribe(o)},()=>{l(),t.complete()},void 0,()=>{i=o=null}))})}(c=>c&&(0,en.H)(1e3)),(0,Se.w)(c=>this.loadPaymentTemplates(Object.assign(Object.assign({},c),{paymentType:this.paymentType}))),(0,Pe.R)((c,u)=>this.mergeResults(c,u)),(0,J.b)(()=>this.loading$.next(!1))),this.templatesList$=c=>this.paymentTemplateData.getPaymentTemplates(Object.assign(Object.assign({},mt),{paymentType:c}),"response").pipe((0,b.U)(u=>u.body))}buildArrangementsContextParameters(t){var _;return Object.assign({resourceName:this.resourceName||dt,businessFunction:null!==(_=this.arrangementBusFunctions)&&void 0!==_?_:this.businessFunction,privilege:this.privilege||"create"},t)}fetchArrangementList(t){return this.productSummaryData.getArrangementsByBusinessFunction(t,"response").pipe((0,b.U)(({headers:_,body:i})=>{const o=_.get("x-total-count")||"0",l=i||[];return{count:parseInt(o,10)||l.length,items:l.map(Et)}}))}getUserPermission(){return this.accessgroupData.getCheckUserPermission(Object.assign(Object.assign({},this.settings.businessConfig),{privileges:"create"}),"response").pipe((0,G.d)(1))}getArrangementUserPermission(t){return this.accessgroupData.getArrangementUserPermissionCheck({id:t,resource:r.StK.resourceName,function:this.businessFunction,privilege:r.StK.privilege}).pipe((0,T.K)(_=>(0,U.of)(_)))}loadDataItemPermissions(t){this.dataItemParams$.next(t)}ngOnDestroy(){this.paymentResponseSubject$$.complete(),this.contactsGetParams$$.complete(),this.creditAccountsParams$$.complete()}loadMoreContacts(t=0,_){this.contactsGetParams$$.next(Object.assign({from:t,isLoadMore:!0,size:r._hS},_))}loadMoreCreditAccounts(t=0,_){this.creditAccountsParams$$.next(Object.assign(Object.assign(Object.assign({from:t,creditAccount:!0},(null==_?void 0:_.query)&&{searchTerm:_.query}),{isLoadMore:!0,size:100}),_))}fetchCreditAccounts(t="",_){this.contactsGetParams$$.next(Object.assign(Object.assign(Object.assign({},t&&{query:t}),{from:0}),_)),this.creditAccountsParams$$.next(Object.assign(Object.assign(Object.assign({},t&&{searchTerm:t}),{from:0,creditAccount:!0}),_))}loadMoreDebitAccounts(t){this.debitAccountsParams$$.next(Object.assign(Object.assign({},this.debitAccountsParams$$.value),t))}validatePayment(t){return this.paymentOrderData.postValidate({paymentOrdersValidatePost:t},"response").pipe((0,b.U)(r.DDE))}postPaymentTemplate(t){return this.paymentTemplateData.postPaymentTemplates({paymentTemplatesPostRequest:t}).pipe((0,J.b)(()=>this.loadMore(0)))}editPaymentTemplate(t,_){return this.paymentTemplateData.putPaymentTemplateById({paymentTemplateId:t,paymentTemplatesPutRequest:_})}getCurrencyExchangeRate(t,_){return this.paymentOrderData.getRate({currencyFrom:t,currencyTo:_},"response").pipe((0,b.U)(i=>i&&i.body),(0,T.K)(()=>(0,U.of)(null)))}getAccountByAccountId(t,_){return this.productSummaryData.getArrangementsByBusinessFunction({resourceName:this.resourceName||dt,businessFunction:this.businessFunction,privilege:this.privilege||"create",searchTerm:_},"response").pipe((0,b.U)(r.DDE),(0,b.U)(i=>i.find(o=>o.id===t)),(0,b.U)(i=>{if(i)return Et(i);throw new Error("No account found...")}))}loadPaymentTemplates(t){return this.paymentTemplateData.getPaymentTemplates(t,"response").pipe((0,b.U)(_=>{const i=_.body||[];return{items:i,totalCount:parseInt(_.headers.get("x-total-count")||"0",10)||i.length,params:t}}))}mergeResults(t,_){return{totalCount:_.totalCount||_.items.length,items:0===_.params.from?_.items:[...t.items,..._.items],params:_.params}}mergeArrangementList(t,_,i){return{count:_.count||_.items.length,items:i?[...t.items,..._.items]:_.items}}loadMore(t){const _=this.paymentTemplateParams$$.value.from||0;this.paymentTemplateParams$$.next(Object.assign(Object.assign({},this.paymentTemplateParams$$.value),{from:_+t}))}search(t){this.paymentTemplateParams$$.next(Object.assign(Object.assign(Object.assign({},this.paymentTemplateParams$$.value),{from:0}),{query:t}))}showNotification(t,_){this.notificationService.showNotification(Object.assign({dismissible:!0,ttl:5e3,modifier:t?"success":"error",header:"",message:""},_))}getContacts(t){return this.contactsGetParams$$.next(Object.assign(Object.assign({},this.contactsGetParams$$.value),t)),this.contacts}getCreditAccounts(t){return this.creditAccountsParams$$.next(Object.assign(Object.assign(Object.assign({},this.creditAccountsParams$$.value),(null==t?void 0:t.query)&&{searchTerm:t.query}),t)),this.creditAccounts}getDebitAccounts(t){return this.debitAccountsParams$$.next(Object.assign(Object.assign({},this.debitAccountsParams$$.value),t)),this.debitAccounts.pipe((0,G.d)(1))}fetchBeneficiaries(t,_){const{from:i,size:o,query:l}=t;switch(_){case r.AZU.ACCOUNTS:this.loadMoreCreditAccounts(i,{size:o,query:l});break;case r.AZU.CONTACTS:this.loadMoreContacts(i,{size:o,query:l});break;default:this.fetchCreditAccounts(l,{size:o})}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Q.k4),e.LFG(we.Kl),e.LFG(ge.Eq),e.LFG(Ze.IK),e.LFG(Je.Ud),e.LFG(de.gq),e.LFG(st,8),e.LFG($e.Px))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),pt=(()=>{class n{constructor(t,_,i,o,l){this.stateService=t,this.componentsFactory=_,this.paymentOrderHttpService=i,this.createPaymentSetup=o,this.initiatePaymentConfig=l}setup(t){this.applyConfig(),t&&this.applyData(t)}applyConfig(){const{paymentTypes:t,hooks:_,options:i,businessFunctions:o,baseFields:l,fetchPaymentOptionsListener:s,customFields:d}=this.initiatePaymentConfig;this.createPaymentSetup.setHooks(_),this.createPaymentSetup.setConfigs(t),this.createPaymentSetup.setOptions(Object.assign(Object.assign({},Al),i||{})),this.createPaymentSetup.setBaseFields(l),this.createPaymentSetup.setFetchPaymentOptionsListener(s),this.paymentOrderHttpService.businessFunction=o.join(","),this.componentsFactory.registerCustomFields(d),this.componentsFactory.registerCustomFieldsForPaymentConfigs(t)}applyData(t){t.template?this.stateService.setPaymentTemplate(t.template):this.stateService.setEditPayment(t.payment),this.createPaymentSetup.setOptions(Object.assign(Object.assign({},this.createPaymentSetup.options),t.options||{}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(r.b2t),e.LFG(x.nA),e.LFG(Ee),e.LFG(ie),e.LFG(ct))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Cl=(()=>{class n{constructor(t,_){this.configService=t,this.communicator=_,_?_.init({setupData(i){t.setup(i)}}):t.setup()}ngOnDestroy(){var t;null===(t=this.communicator)||void 0===t||t.reset()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(pt),e.Y36(Ce,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-initiate-payment-journey"]],features:[e._Bn([r.b2t,pt,ie,Ne])],decls:1,vars:0,template:function(t,_){1&t&&e._UZ(0,"router-outlet")},directives:[se.lC],encapsulation:2}),n})();function St(n){let t,a=null==n?void 0:n.details.paymentType;return("SEPA_CT_CLOSED"===a||"SEPA_CT_ILE"===a)&&(a=a.replace("SEPA_CT","SEPA_CREDIT_TRANSFER")),a&&(t=a.endsWith("_ILE")?a.replace("_ILE",""):a.endsWith("_CLOSED")?a.replace("_CLOSED",""):a),t}function At(n){return Object.assign(Object.assign({},n),{details:Object.assign(Object.assign({},n.details),{paymentType:St(n)})})}function gt(n,a,t){const _=(0,r.iEs)(n,a),i=t.get([r.x2z.counterparty,r.IW3.creditorBank,n]);!_&&(null==i?void 0:i.value)&&i.reset()}const bt=(n=r.g1M.BBAN)=>a=>a.pipe((0,b.U)(t=>Ke(t,n))),Ke=(n,a=r.g1M.BBAN)=>n.items.map(t=>({id:t.id,BIC:t.BIC,name:t.name,alias:t.alias,currency:t.currency,balance:t.bookedBalance,creditLimit:t.creditLimit,displayName:t.displayName,bookedBalance:t.bookedBalance,defaultRecord:t.defaultRecord,bankBranchCode:t.bankBranchCode,productKindName:t.productKindName,availableBalance:t.availableBalance,urgentTransferAllowed:t.urgentTransferAllowed,externalTransferAllowed:t.externalTransferAllowed,isArrangement:!0,accountType:a,additions:t.additions||{},schemeName:t.IBAN?r.g1M.IBAN:r.g1M.BBAN,number:t[a]||t.BBAN||t.IBAN||"",accountNumber:t[a]||t.BBAN||t.IBAN||""})),Ml=n=>({id:n.externalAccountId,name:n.accountNickName||n.bankName,accountNumber:n.accountNumber,productKindName:r.T8N.connectedAccounts,accountType:n.accountType}),ft=(n,a=r.g1M.BBAN)=>({items:Ke(n,a),count:n.count});let Re=(()=>{class n{constructor(t,_,i){this.paymentOptionsData=t,this.sanctionedCountriesService=_,this.sanctionedCurrenciesService=i,this.paymentOptions$$=new B.X(void 0)}get paymentOptions$(){return this.paymentOptions$$.asObservable()}fetchPaymentOptions(t){return this.paymentOptionsData.postPaymentOptions({paymentOptionsRequest:t}).pipe((0,J.b)(_=>{this.paymentOptions$$.next(_.options||[])}))}getPaymentOptionsRecordByPaymentType(t){return this.paymentOptionsData.getPaymentOptionsByPaymentType({paymentType:t}).pipe((0,b.U)(_=>_&&[_]||[]),(0,G.d)(1))}getSanctionedCurrencies(t){return this.sanctionedCurrenciesService.getSanctionedCurrencies({countryIso:t}).pipe((0,b.U)(_=>_||{}))}getSanctionedCountries(t){return this.sanctionedCountriesService.getSanctionedCountries({countryIso:t}).pipe((0,b.U)(_=>(null==_?void 0:_.countries)||[]))}resetPaymentOptions(){this.paymentOptions$$.next([])}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y._l),e.LFG(Y.I6),e.LFG(Y.LY))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),yt=(()=>{class n{constructor(t,_,i){this.createPaymentSetup=t,this.paymentOptionsService=_,this.paymentOrderHttpService=i,this.destroyed$$=new O.x,this.fetchDebitItemPermissions$$=new O.x,this.fetchBeneficiaries$$=new O.x,this.paymentOptionsSub$$=new B.X([]),this.paymentOptionsErrorSub$$=new B.X(!1),this.exchangeRate$$=new O.x,this.getExchangeRate$$=new O.x,this.exchangeRateError$$=new O.x,this.frequencyFieldSub$$=new O.x,this.countries$=this.loadSanctionedCountries(),this.currencies$=this.loadSanctionedCurrencies(),this.fetchDebitAccounts$$=new O.x,this.fetchCreditAccounts$$=new O.x,this.connectedAccounts$$=this.paymentOrderHttpService.connectedAccounts$.pipe((0,b.U)(o=>null==o?void 0:o.map(Ml))),this.totalContacts=0,this.totalCreditAccounts=0,this.totalContactsItemsCount=0,this.checkClosedPaymentsAccess=!1,this.paymentOptions$=this.paymentOptionsSub$$.asObservable(),this.paymentOptionsError$=this.paymentOptionsErrorSub$$.asObservable(),this.frequencyField$=this.frequencyFieldSub$$.asObservable(),this.fetchDebitItemPermissions$$.pipe((0,D.R)(this.destroyed$$)).subscribe(o=>{this.paymentOrderHttpService.loadDataItemPermissions(o)}),this.fetchBeneficiaries$$.pipe((0,D.R)(this.destroyed$$)).subscribe(({params:o,type:l})=>{this.paymentOrderHttpService.fetchBeneficiaries(Object.assign(Object.assign({},o),{size:this.options.pageSize}),l)}),this.getExchangeRate$$.pipe((0,Ae.h)(({fromCurrency:o,toCurrency:l})=>{const s=o!==l;return s||this.exchangeRate$$.next(0),s}),(0,Se.w)(({fromCurrency:o,toCurrency:l})=>this.paymentOrderHttpService.getCurrencyExchangeRate(o,l)),(0,J.b)(o=>{this.exchangeRateError$$.next(!o),this.exchangeRate$$.next((null==o?void 0:o.rate)||0)}),(0,D.R)(this.destroyed$$)).subscribe(),this.fetchDebitAccounts$$.pipe((0,D.R)(this.destroyed$$)).subscribe(o=>{this.paymentOrderHttpService.loadMoreDebitAccounts(Object.assign(Object.assign({},o),{merge:!0,size:this.options.pageSize,productKindNames:this.createPaymentSetup.getProductKindNames(r.Qmj.debit)}))}),this.fetchCreditAccounts$$.pipe((0,D.R)(this.destroyed$$)).subscribe(o=>{var{from:l}=o,s=(0,ke._T)(o,["from"]);this.paymentOrderHttpService.loadMoreCreditAccounts(l,Object.assign(Object.assign({},s),{merge:!0,size:this.options.pageSize,productKindNames:this.createPaymentSetup.getProductKindNames(r.Qmj.credit)}))})}get options(){return this.createPaymentSetup.options}get configs(){return this.createPaymentSetup.configs}get debitAccounts$(){return this.getDebitAccounts().pipe(bt(this.options.defaultScheme))}get debitAccountList$(){return this.getDebitAccounts({searchTerm:""}).pipe((0,b.U)(t=>ft(t,this.options.defaultScheme)))}get creditAccountList$(){return this.getCreditAccounts().pipe((0,b.U)(t=>ft(t,this.options.defaultScheme)))}get creditAccounts$(){return this.getCreditAccounts({searchTerm:""}).pipe((0,J.b)(t=>{this.totalCreditAccounts=t instanceof be.UA?0:t.count}),(0,b.U)(t=>t instanceof be.UA?t:Ke(t,this.options.defaultScheme)))}ngOnDestroy(){this.destroyed$$.next()}getCreditAccounts(t){const _=Object.assign(Object.assign({},t),{size:this.options.pageSize,productKindNames:this.createPaymentSetup.getProductKindNames(r.Qmj.credit)});return this.paymentOrderHttpService.getCreditAccounts(_)}getDebitAccounts(t){const _=Object.assign(Object.assign({},t),{size:this.options.pageSize,productKindNames:this.createPaymentSetup.getProductKindNames(r.Qmj.debit)});return this.paymentOrderHttpService.getDebitAccounts(_)}loadSanctionedCountries(){var t;return this.paymentOptionsService.getSanctionedCountries(null===(t=this.options)||void 0===t?void 0:t.defaultCountry).pipe((0,G.d)(1),(0,T.K)(_=>(this.paymentOrderHttpService.showNotification(!1,{header:"Failed to load countries list. Please try again later."}),(0,U.of)([]))))}loadSanctionedCurrencies(){var t;return this.paymentOptionsService.getSanctionedCurrencies(null===(t=this.options)||void 0===t?void 0:t.defaultCountry).pipe((0,b.U)(_=>{const i={};if("labeled"in _){const{currencies:o,dividerIndex:l}=(0,r.qPk)(_);i.currencies=o,i.dividerIndex=l}return i}),(0,G.d)(1),(0,T.K)(_=>(this.paymentOrderHttpService.showNotification(!1,{header:"Failed to load currencies list. Please try again later."}),(0,U.of)(_))))}loadAccountByAccountId(t,_){return this.paymentOrderHttpService.getAccountByAccountId(t,_).pipe((0,b.U)(i=>({count:1,items:[i]})),bt(this.options.defaultScheme),(0,b.U)(i=>i[0]),(0,T.K)(()=>(0,U.of)(void 0)))}getContacts(){return this.paymentOrderHttpService.getContacts({size:this.options.pageSize,query:""}).pipe((0,J.b)(t=>{t instanceof be.UA?this.totalContacts=0:(this.totalContacts=t.count,this.totalContactsItemsCount=t.itemsCount&&t.isLoadMore?this.totalContactsItemsCount+t.itemsCount:t.itemsCount||0)}),(0,b.U)(t=>t instanceof be.UA?t:t.items))}loadCreditorDetails(t){const _=(0,r.h8O)(r.AZU.CONTACTS,t)?this.getContacts():(0,U.of)([]),i=(0,r.h8O)(r.AZU.ACCOUNTS,t)?this.creditAccounts$:(0,U.of)([]);return(0,Fe.a)([i,_]).pipe((0,b.U)(([o,l])=>({accounts:o,contacts:l,totalCreditAccounts:this.totalCreditAccounts,totalContacts:this.totalContacts,totalContactsItemsCount:this.totalContactsItemsCount})))}setPaymentOptions(t){this.paymentOptionsSub$$.next(t)}setPaymentOptionsError(t){this.paymentOptionsErrorSub$$.next(t)}clearPaymentOptions(){this.paymentOptionsService.resetPaymentOptions(),this.setPaymentOptionsError(!1)}injectData(t,_){t.forEach(i=>{var o,l,s;if(i.options=i.options||{},i.options.isTemplateMode=this.options.isTemplateMode,i.options.templateModeType=this.options.templateModeType,i.options.isModalView=this.options.isModalView,i.options.checkClosedPaymentsAccess=null!==(o=this.options.checkClosedPaymentsAccess)&&void 0!==o?o:this.checkClosedPaymentsAccess,i.options.isWizardMode=(null===(l=this.configs)||void 0===l?void 0:l.length)>1,i.fields instanceof Array)this.injectData(i.fields,_);else switch(i.type){case r.fUi.debitAccountSelector:i.options.items$=this.debitAccountList$,i.options.fetchItems$=this.fetchDebitAccounts$$,i.options.loadAccountByAccountId=this.loadAccountByAccountId.bind(this),i.options.fetchArrangementPermissions$=this.fetchDebitItemPermissions$$,i.options.arrangementPermissions$=this.paymentOrderHttpService.arrangementUserPermissions$,i.options.checkClosedPaymentsAccess=this.options.checkClosedPaymentsAccess;break;case r.fUi.beneficiarySelector:i.options.items$=this.loadCreditorDetails(i.options),i.options.fetchItems$=this.fetchBeneficiaries$$;break;case r.fUi.internalAccountSelector:i.options.paymentTypeOptions=_,i.options.connectedItems$=this.connectedAccounts$$,i.options.items$=i.name===r.dCm.initiatorAccountGroup?this.debitAccounts$:this.creditAccounts$;break;case r.fUi.accountSelector:i.options.paymentTypeOptions=_,i.options.connectedItems$=this.connectedAccounts$$,i.name===r.IW3.counterPartyAccountGroup||this.options.isDebitPayment?(i.options.fetchItems$=this.fetchCreditAccounts$$,i.options.items$=this.creditAccountList$):(i.options.items$=this.debitAccountList$,i.options.fetchItems$=this.fetchDebitAccounts$$);break;case r.fUi.contactSelector:i.options.items$=this.getContacts(),i.options.fetchItems$=this.fetchBeneficiaries$$;break;case r.fUi.selectPaymentOption:i.options.items$=this.paymentOptions$;break;case r.fUi.sanctionedCountrySelector:case r.fUi.address:i.options.items$=this.countries$;break;case r.fUi.sanctionedCurrencyAmount:i.options.items$=this.currencies$,i.options.getExchangeRate$=this.getExchangeRate$$,i.options.exchangeRate$=this.exchangeRate$$,i.options.exchangeRateError$=this.exchangeRateError$$;break;case r.fUi.select:i.name===r.YMR.frequency&&(null===(s=this.options)||void 0===s?void 0:s.paymentMode)===r.x66.EDIT_PAYMENT&&this.frequencyFieldSub$$.next(i)}})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ie),e.LFG(Re),e.LFG(Ee))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();"Server error","Unknown error occured.","Payment data error";const Ie={templateSaveFailed:"Failed to save the template. Please try again.",templateSaveSuccess:n=>"Template \"" + n + "\" has been saved"},H={defaultPayment:{submitSuccess:"Payment submitted successfully",submitSuccessPendingApproval:"Payment is submitted successfully,   and pending further approval(s)",editSubmitSuccess:"Edited payment submitted successfully"},debitPayment:{submitSuccess:"Debit request submitted successfully",submitSuccessPendingApproval:"Debit request is submitted successfully, and pending further approval(s)",editSubmitSuccess:"Edited debit request submitted successfully"},paymentSubmitSuccess:"Payment submitted successfully",editPaymentSubmitSuccess:"Edited payment submitted successfully",paymentSubmitSuccessPendingApproval:"Payment is submitted successfully,   and pending further approval(s)",newContactSubmitSuccess:"Contact saved successfully",newContactSubmitFailure:"Failed to save contact. Please try again later.",newContactSubmitSuccessPendingApproval:"Contact submitted successfully,   and pending further approval(s)",submitPaymentFailure:"Payment data error",debitSubmitSuccess:"Debit request submitted successfully",editdebitSubmitSuccess:"Edited debit request submitted successfully",debitSubmitSuccessPendingApproval:"Debit request is submitted successfully, and pending further approval(s)",submitDebitFailure:"Debit request data error",submitPaymentFailureUnknownError:"Unknown error occurred.",submitPaymentFailureUnknownErrorHeader:"Server error",submitPaymentApprovalFailureCOED:{header:"Payment not submitted",message:"Payment is already edited by another user"}};let me=(()=>{class n{constructor(t){this.paymentOptionsService=t,this.selectedPaymentOptionSub$=new B.X(void 0),this.selectedPaymentConfigSub$=new B.X(void 0),this.selectedPaymentOption$=this.selectedPaymentOptionSub$.asObservable().pipe((0,Oe.x)()),this.selectedPaymentConfig$=this.selectedPaymentConfigSub$.asObservable().pipe((0,Oe.x)())}get selectedPaymentConfigValue(){return this.selectedPaymentConfigSub$.value}static getCriticalFieldValues(t){var _,i;const{initiator:o,counterparty:l,remittanceInfo:s}=t||{};return{debitAccountNumber:null==o?void 0:o.accountNumber,creditAccountNumber:null==l?void 0:l.accountNumber,amount:null==s?void 0:s.amountGroup,country:null===(i=null===(_=null==l?void 0:l.creditorBank)||void 0===_?void 0:_.postalAddress)||void 0===i?void 0:i.country}}selectPaymentConfig(t){this.selectedPaymentConfigSub$.next(t)}selectPaymentOption(t){this.selectedPaymentOptionSub$.next(t)}getPaymentOptionsRequest(t){let _;if(1===t.length){const i=t[0];if("INTERNATIONAL_TRANSFER"!==i.paymentType)return ce.E;_=this.paymentOptionsService.getPaymentOptionsRecordByPaymentType(i.paymentType).pipe((0,b.U)(o=>(0,r.tPp)(o,{[i.paymentType]:i.name})))}else _=this.paymentOptionsService.paymentOptions$.pipe((0,Ae.h)(i=>!!i),(0,b.U)(i=>(0,r.tPp)(i||[])));return _}resetRedundantFields(t,_){(function Il(n,a){const t=(0,r.iEs)(r.x2z.counterparty,n),_=(0,r.iEs)(r.IW3.postalAddress,t),i=a.get([r.x2z.counterparty,r.IW3.postalAddress]);!_&&i&&(0,r.Fvy)(i.value)&&i.reset()})(t,_),function Bl(n,a){const t=(0,r.iEs)(r.x2z.counterparty,n),_=(0,r.iEs)(r.IW3.creditorBank,t),i=_?(0,r.iEs)(r.IW3.postalAddress,_):null,o=a.get([r.x2z.counterparty,r.IW3.creditorBank,r.IW3.postalAddress]);if(gt(r.IW3.bic,t,a),gt(r.IW3.bankName,t,a),!i&&o&&(0,r.Fvy)(o.value))for(const l in o.controls)"country"!==l&&o.controls[l].reset()}(t,_)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Re))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Dl=(()=>{class n{constructor(t,_,i,o,l,s,d,p,c,u,f){var g,A;this.paymentOrderHttpService=t,this.paymentOptionsService=_,this.createPaymentService=i,this.navigationService=o,this.stateService=l,this.cdRef=s,this.createPaymentSetup=d,this.fieldSetupService=p,this.formEl=c,this.communicator=u,this.paymentErrors=f,this.destroyed$=new O.x,this.paymentTemplate=null,this.shouldResetPaymentOptions=!1,this.formValue=null===(g=this.stateService.formInstance)||void 0===g?void 0:g.value,this.paymentTemplateSearch=new v.NI,this.fetchOptions$=new O.x,this.submitting$=new B.X(!1),this.paymentState$=this.stateService.paymentState$,this.paymentTemplates$=this.paymentOrderHttpService.paymentTemplates$,this.loadingTemplates$=this.paymentOrderHttpService.loading$,this.fetchingPaymentOptions$=new B.X(!1),this.paymentOptions$=this.fieldSetupService.paymentOptions$,this.paymentOptionsError$=this.fieldSetupService.paymentOptionsError$,this.selectedPaymentConfig$=this.createPaymentService.selectedPaymentConfig$,this.selectedPaymentOption$=this.createPaymentService.selectedPaymentOption$,this.fetchPaymentOptionsListener$=this.createPaymentSetup.fetchPaymentOptionsListener$,this.baseFields$=this.createPaymentSetup.baseFields$.pipe((0,b.U)(y=>(this.fieldSetupService.injectData(y),y))),this.options={},this.configs=[],this.templateNameControl=null===(A=this.stateService.formInstance)||void 0===A?void 0:A.get("templateName"),this.errors=[],this.isEditPaymentConfirmationDialogOpen=!1,this.enablePaymentTemplateSelector=!0,this.editPaymentHasNoChanges=!1,this.isErrorTitleDisplayed=!0,this.shouldApplyTemplate=!1,this.showApiError=!1,this.paymentMode=r.x66}ngOnInit(){(0,Fe.a)([this.createPaymentSetup.configs$,this.createPaymentSetup.options$,this.stateService.paymentEditState$]).pipe((0,Oe.x)(),(0,D.R)(this.destroyed$)).subscribe(([t,_,i])=>{var o,l,s;this.options=_,this.editedPaymentDetails=i,this.isErrorTitleDisplayed=null!==(o=_.isErrorTitleDisplayed)&&void 0!==o?o:this.isErrorTitleDisplayed,this.enablePaymentTemplateSelector=null!==(l=_.enablePaymentTemplateSelector)&&void 0!==l?l:this.enablePaymentTemplateSelector,1===t.length&&(this.setArrangementBusFunctions(null===(s=t[0].options)||void 0===s?void 0:s.closedPaymentBusFns,t[0].businessFunction),this.onSelectConfig(t[0]));const{isOneOffToRecurrentAllowed:d,isRecurrentToOneOffAllowed:p}=_;this.configs=t.map(c=>{let u=_.isTemplateMode?(0,r.nO0)(c):c;return i&&(u=(0,r.s8M)(c,!!i.schedule,{isOneOffToRecurrentAllowed:d,isRecurrentToOneOffAllowed:p})),this.fieldSetupService.injectData(u.fields,u.options),u}),this.setupPaymentTypes(this.configs),this.header=this.createPaymentSetup.getHeader(r.WN5.FORM)}),this.listen(),this.stateService.currentState!==r.KyD.EDIT&&(this.fieldSetupService.clearPaymentOptions(),this.shouldResetPaymentOptions=!0),this.createPaymentService.getPaymentOptionsRequest(this.configs).pipe((0,J.b)(t=>{!this.shouldResetPaymentOptions&&!(null==t?void 0:t.length)&&this.fieldSetupService.setPaymentOptionsError(!0),this.shouldResetPaymentOptions=!1,this.onPaymentTypeChange(t)},(0,T.K)(()=>(this.fieldSetupService.setPaymentOptionsError(!0),(0,U.of)([])))),(0,D.R)(this.destroyed$)).subscribe(),(0,r.cNf)(this.createPaymentSetup.hooks,r.w_v.onInit)}ngAfterViewInit(){this.stateService.paymentTemplateState$.pipe((0,D.R)(this.destroyed$)).subscribe(t=>{t&&this.onSelectPaymentTemplate(t)}),this.editedPaymentDetails&&(this.setEditFormValues(this.editedPaymentDetails),this.stateService.setEditPayment(void 0))}ngAfterContentInit(){this.renderView()}ngOnDestroy(){this.destroyed$.next(),(0,r.cNf)(this.createPaymentSetup.hooks,r.w_v.onDestroy)}setArrangementBusFunctions(t,_){if((null==t?void 0:t.length)&&_){const i=new Set([...t,_]);t=Array.from(i),this.paymentOrderHttpService.arrangementBusFunctions=t.toString()}}setEditFormValues(t){const _=this.stateService.formInstance,i=_.get(r.x2z.counterparty);(0,x._V)(i,r.IW3.schemeName,[],[],"BBAN"),(0,x._V)(_,"paymentOrderId",[],[],t.id),this.isPaymentCopyControl=(0,x._V)(_,r.X7M.isPaymentCopy),this.isPaymentCopyControl.patchValue(this.options.paymentMode===this.paymentMode.COPY_PAYMENT);const o=(0,r.unb)(_,t);this.stateService.initialEditFormValue=o.value,this.setForm(o)}setupPaymentTypes(t){this.paymentTypes=t.map(_=>_.paymentType).join(","),this.paymentOrderHttpService.paymentType=this.paymentTypes}renderView(){this.outletRef.clear(),this.outletRef.createEmbeddedView(this.contentRef)}setTemplateValues(t,_){this.setFormValues(At(_),t),this.paymentTemplate=null,this.stateService.setPaymentTemplate(void 0)}prepareForTemplateApply(){const t=new v.cw({});this.formValue=null,this.fieldSetupService.setPaymentOptions([]),this.templateNameControl=(0,x._V)(t,"templateName"),this.stateService.saveForm(t)}getPaymentConfig(t){if(t)return this.configs.filter(_=>t===_.paymentType)[0]}setFormValues({details:t,name:_,id:i},o){var l;const s=o||this.stateService.formInstance,d=(0,r.gxK)(s,t,{name:_,id:i});this.templateSelectorName=_,null===(l=this.templateNameControl)||void 0===l||l.setValue(_),this.setForm(d),s.markAllAsTouched()}listen(){this.fetchOptions$.pipe((0,Ae.h)(t=>JSON.stringify(me.getCriticalFieldValues(this.formValue))!==JSON.stringify(me.getCriticalFieldValues(t.getRawValue()))),(0,Se.w)(t=>(this.formValue=t.getRawValue(),this.fetchPaymentOptions(t))),(0,D.R)(this.destroyed$)).subscribe()}setForm(t){this.stateService.setPaymentState(r.KyD.EDIT),this.stateService.saveForm(t),this.renderView(),this.cdRef.detectChanges()}onPaymentTypeChange(t=[]){t&&t.length&&this.fieldSetupService.setPaymentOptionsError(!1),this.fieldSetupService.setPaymentOptions(t),this.fetchingPaymentOptions$.next(!1)}validatePayment(t){this.paymentOrderHttpService.validatePayment((0,r.SwY)(t.getRawValue())).pipe((0,tn.q)(1),(0,T.K)(({error:_})=>(this.submitting$.next(!1),this.errors=_.errors,this.isLimitBreachError(this.errors)?(this.showApiError=!1,this.handleLimitBreachError(this.errors[0])):(this.genericError=_.message,this.showApiError=!0,this.scrollIntoAlertView()),ce.E))).subscribe(_=>{this.stateService.saveValidationWarnings(null==_?void 0:_.warnings);const i=t.get("isIntraLegalEntity")||(0,x._V)(t,"isIntraLegalEntity");this.templateNameControl=this.templateNameControl||(0,x._V)(t,"templateName"),i.setValue(null==_?void 0:_.isIntraLegalEntityPaymentOrder),this.templateNameControl.setValue(this.templateSelectorName),this.submitting$.next(!1),this.navigationService.review(),this.stateService.canApprove=null==_?void 0:_.canApprove})}handleLimitBreachError(t){var _,i,o,l,s,d;if(null==t?void 0:t.key){const p=(0,r.iEs)(r.IHR.amountCurrencyGroup,this.configs[0]),c=null===(i=null===(_=null==p?void 0:p.options)||void 0===_?void 0:_.validationMessages)||void 0===i?void 0:i.find(u=>u.name===t.key);if(null==c?void 0:c.message){c.message=c.message.replace("#amount#",null===(o=t.context)||void 0===o?void 0:o.limit);const u=null===(l=this.stateService.formInstance.get(r.x2z.remittanceInfo))||void 0===l?void 0:l.get(r.IHR.amountCurrencyGroup);null==u||u.setErrors({[t.key]:!0}),null===(s=null==u?void 0:u.get(r.IHR.amount))||void 0===s||s.setErrors({invalid:!0}),(0,r.$ZS)(null===(d=this.formEl)||void 0===d?void 0:d.nativeElement,"small.bb-input-validation-message")}}}scrollIntoAlertView(){var t;null===(t=this.alertContainer)||void 0===t||t.nativeElement.scrollIntoView(!1,{behavior:"smooth",block:"start"})}isLimitBreachError(t){if(!Array.isArray(t)||!t.length)return!1;const _=t[0].key;return this.doesKeyExistInObject(_,r.x6u)||this.doesKeyExistInObject(_,r.CjG)}doesKeyExistInObject(t,_){return Object.values(_).includes(t)}saveTemplate(t){this.options.paymentMode===r.x66.EDIT_TEMPLATE?this.editPaymentTemplate(t):this.createPaymentTemplate(t)}editPaymentTemplate(t){var _,i;const o=null===(_=t.get(r.ZDt.templateName))||void 0===_?void 0:_.value,l=null===(i=t.get(r.ZDt.paymentTemplateId))||void 0===i?void 0:i.value;l&&this.paymentOrderHttpService.editPaymentTemplate(l,(0,r.enM)(t.getRawValue())).pipe((0,D.R)(this.destroyed$)).subscribe(this.saveTemplateSuccessCallback.bind(this,o),this.saveTemplateErrorCallback.bind(this))}createPaymentTemplate(t){var _;const i=null===(_=t.get(r.ZDt.templateName))||void 0===_?void 0:_.value;this.paymentOrderHttpService.postPaymentTemplate((0,r.enM)(t.getRawValue())).pipe((0,D.R)(this.destroyed$)).subscribe(this.saveTemplateSuccessCallback.bind(this,i),this.saveTemplateErrorCallback.bind(this))}saveTemplateSuccessCallback(t){var _;this.paymentOrderHttpService.showNotification(!0,{header:Ie.templateSaveSuccess(t),headerContext:{name:t}}),this.submitting$.next(!1),this.options.isModalView?null===(_=this.communicator)||void 0===_||_.closeEvent():(this.stateService.resetForm(),this.renderView())}saveTemplateErrorCallback(t){const{error:_}=t;this.genericError=_.message||Ie.templateSaveFailed,this.showApiError=!0,this.scrollIntoAlertView(),this.submitting$.next(!1)}onHooksDone(t,_=!0){_?this.options.isTemplateMode?this.saveTemplate(t):this.validatePayment(t):this.submitting$.next(!1)}isEditFormNotChanged(t){return!(0,x.kR)(t.value,this.stateService.initialEditFormValue)}onSelectPaymentTemplate(t){const _=this.getPaymentConfig(St(t));this.configs.length>1&&_?(this.prepareForTemplateApply(),this.paymentTemplate=At(t),this.shouldApplyTemplate=!0,this.stateService.setPaymentState(r.KyD.EDIT),this.onSelectConfig(_),this.renderView()):this.setFormValues(t)}clearTemplateName(){this.templateSelectorName="",this.templateNameControl&&this.templateNameControl.setValue("")}onLoadingMoreTemplates(t){this.paymentOrderHttpService.loadMore(t)}search(t){this.paymentOrderHttpService.search(t)}onSelectConfig(t){this.createPaymentService.selectPaymentConfig(t)}onPaymentOptionSelect(t){this.createPaymentService.selectPaymentOption(t)}onApplyTemplate(t){this.shouldApplyTemplate=!1,this.paymentTemplate?this.setTemplateValues(t,this.paymentTemplate):this.stateService.paymentTemplateState$.pipe((0,D.R)(this.destroyed$)).subscribe(_=>{_&&this.setTemplateValues(t,_)})}fetchPaymentOptions(t){return this.fetchingPaymentOptions$.next(!0),this.paymentOptionsService.fetchPaymentOptions(((n,a="",t="")=>{const{creditorBank:_}=n.counterparty,i=_&&_.postalAddress&&_.postalAddress.country,o=_&&_.bankBranchCode,l=(0,r.JN_)(n);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a?{clientServiceAgreementID:a}:null),t?{clientJurisdiction:t}:null),{originatorAccount:{identification:n.initiator.id,schemeName:Y.sT.ID},counterpartyAccount:Object.assign(Object.assign({},o?{bankBranchCode:o}:null),{identification:(0,r.u2M)(l===Y.sT.ID?n.counterparty.id:n.counterparty.accountNumber),schemeName:l}),requestedExecutionDate:(new Date).toISOString().substring(0,10),instructedAmount:{amount:n.remittanceInfo.amountGroup.amount,currencyCode:n.remittanceInfo.amountGroup.currency}}),i?{counterpartyCountry:i}:null),{additions:n.additions})})(t.getRawValue()))}discardPayment(){var t;null===(t=this.communicator)||void 0===t||t.closeEvent()}discardEditPaymentChanges(){var t;null===(t=this.communicator)||void 0===t||t.closeEvent()}cancelEditPaymentConfirmationDialog(){this.isEditPaymentConfirmationDialogOpen=!1}onSubmit(t){var _;const i=this.createPaymentService.selectedPaymentConfigValue;i&&this.createPaymentService.resetRedundantFields(i,t),this.stateService.saveForm(t),this.submitting$.next(!0),(null===(_=this.createPaymentSetup.hooks)||void 0===_?void 0:_[r.w_v.onSave])?(0,r.cNf)(this.createPaymentSetup.hooks,r.w_v.onSave,this.onHooksDone.bind(this,t),t):this.onHooksDone(t)}onClear(){this.fieldSetupService.clearPaymentOptions(),this.stateService.setPaymentState(r.KyD.INITIAL),this.stateService.resetForm(),this.clearTemplateName(),this.formValue=null,this.searchValue="",this.showApiError=!1,this.renderView()}onEditCancel(t){var _;this.isEditFormNotChanged(t)?null===(_=this.communicator)||void 0===_||_.closeEvent():this.isEditPaymentConfirmationDialogOpen=!0}onEditSubmit(t){this.isEditFormNotChanged(t)?(this.editPaymentHasNoChanges=!0,this.scrollIntoAlertView()):(this.editPaymentHasNoChanges=!1,this.onSubmit(t))}getForm(t){return t===r.KyD.REVIEW&&(this.stateService.resetForm(),this.stateService.setPaymentState(r.KyD.INITIAL)),this.stateService.form$}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ee),e.Y36(Re),e.Y36(me),e.Y36(Ne),e.Y36(r.b2t),e.Y36(e.sBO),e.Y36(ie),e.Y36(yt),e.Y36(e.SBq),e.Y36(Ce,8),e.Y36(Ue,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-create-payment-form"]],viewQuery:function(t,_){if(1&t&&(e.Gf(t_,7,e.s_b),e.Gf(n_,7,e.Rgc),e.Gf(lt,5)),2&t){let i;e.iGM(i=e.CRH())&&(_.outletRef=i.first),e.iGM(i=e.CRH())&&(_.contentRef=i.first),e.iGM(i=e.CRH())&&(_.alertContainer=i.first)}},features:[e._Bn([yt])],decls:14,vars:5,consts:function(){let a,t,_,i,o,l,s,d;return a="Please make changes to continue.",t=" Payment data error: ",_=" Payment data error: ",i="Server error: Unknown error occurred",o="Discard edited data?",l=" Are you sure you want to exit and discard all changes? Edited data will be lost. ",s="Discard",d="Not now",[["headingClasses","bb-block bb-block--lg","headingType","h2",3,"heading",4,"ngIf"],["alertContainer",""],[4,"ngIf","ngIfElse"],["noSpecificError",""],["unknownError",""],["title",a,"modifier","warning",4,"ngIf"],[4,"ngIf"],["outlet",""],["content",""],["headingClasses","bb-block bb-block--lg","headingType","h2",3,"heading"],[4,"ngFor","ngForOf"],["title","","modifier","error",4,"ngIf"],["title","","modifier","error"],[1,"bb-text-bold","bb-text-default","d-inline-flex"],t,[1,"bb-text-bold","bb-text-default"],_,["title",i,"modifier","error",4,"ngIf"],["title",i,"modifier","error"],["title",a,"modifier","warning"],[3,"paymentTemplateSearch","items","loading","templateName","searchValue","setValues","loadMoreTemplates","searchTemplates","clear"],["adaptiveFormTmpl",""],[3,"config","formItem","submitting","isModalView","isTemplateMode","isDebitPayment","paymentMode","templateModeType","clear","discard","submitted","editPaymentCancel","editPaymentSubmit"],["data-role","discard-payment-edit-confirmation-dialog","confirmButtonColor","danger",3,"isOpen","confirm","cancel"],["title",""],o,["body",""],l,["confirmActionName",""],s,["cancelActionName",""],d,[3,"formItem","paymentState","paymentTypes","baseFields","fetchOptions$","fetchingOptions","paymentOptions$","paymentOptionsError","selectedPaymentConfig","selectedPaymentOption","fetchPaymentOptionsListener","shouldApplyTemplate","checkClosedPaymentsAccess","submitting","isModalView","isDebitPayment","selectConfig","discard","submitted","selectPaymentOption","clear","applyPaymentTemplate"]]},template:function(t,_){if(1&t&&(e.YNc(0,__,1,1,"bb-header-ui",0),e.TgZ(1,"div",null,1),e.YNc(3,r_,2,1,"ng-container",2),e.YNc(4,E_,1,2,"ng-template",null,3,e.W1O),e.YNc(6,p_,2,1,"ng-template",null,4,e.W1O),e.YNc(8,S_,1,0,"bb-alert-ui",5),e.qZA(),e.YNc(9,A_,3,7,"ng-container",6),e.GkF(10,null,7),e.YNc(12,y_,2,3,"ng-template",null,8,e.W1O)),2&t){const i=e.MAs(5);e.Q6J("ngIf",_.header),e.xp6(3),e.Q6J("ngIf",null==_.errors?null:_.errors.length)("ngIfElse",i),e.xp6(5),e.Q6J("ngIf",_.editPaymentHasNoChanges),e.xp6(1),e.Q6J("ngIf",_.enablePaymentTemplateSelector&&!(null!=_.options&&_.options.isTemplateMode)&&(null==_.options?null:_.options.paymentMode)!==_.paymentMode.EDIT_PAYMENT&&(null==_.options?null:_.options.paymentMode)!==_.paymentMode.COPY_PAYMENT)}},directives:[K.G,W.w,r.bJM,x.Bb,r.fDO,x.P0,E.O5,E.sg],pipes:[E.Ov],encapsulation:2}),n})();const Ct=new e.OlP("INITIATE_PAYMENT_EXTENSIONS_CONFIG");var _e=(()=>{return(n=_e||(_e={})).SUCCESS="success",n.ERROR="error",n.PENDING="pending",n.PENDING_EDITED="pending_edited",_e;var n})();let Rt=(()=>{class n{constructor(t,_,i,o){this.contactsData=t,this.paymentOrderHttpService=_,this.paymentOrderService=i,this.paymentApiService=o}postPaymentOrder(t){return this.paymentOrderHttpService.postPaymentOrders({paymentOrdersPost:t})}putPaymentOrder(t,_){return this.paymentOrderHttpService.putPaymentOrderById({paymentOrderId:_,paymentOrderPut:t})}saveNewContact(t){return this.contactsData.postContacts({contactsPostRequestBody:t}).pipe((0,T.K)(()=>(0,U.of)(null)))}getPayment(t){return this.paymentApiService.getPaymentById(t)}getPaymentProgressStatus(t){return this.paymentOrderHttpService.getProgressStatusByPaymentOrderId({paymentOrderId:t})}createPermissions(){return this.paymentOrderService.createPermission$.pipe((0,b.U)(()=>!0),(0,T.K)(t=>(0,U.of)(!1)))}showNotification(t,_){this.paymentOrderService.showNotification(t,_)}postPaymentTemplate(t){return this.paymentOrderService.postPaymentTemplate(t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ge.Eq),e.LFG(Q.k4),e.LFG(Ee),e.LFG(Te))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),It=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-initiator-details"]],inputs:{data:"data",paymentConfig:"paymentConfig"},decls:3,vars:2,consts:function(){let a;return a="From",[[1,"bb-text-bold","bb-block","bb-block--sm"],["name","debitorAccount","parentName","initiator","defaultLabel",a,3,"config"],[4,"ngIf"],["data-role","debit-account-name",1,"break-word","bb-text-bold","bb-block","bb-block--xs"],["data-role","debit-account-number",1,"bb-text-support","break-word","contextual-alternates-off"]]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-payord-dynamic-label",1),e.qZA(),e.YNc(2,C_,5,2,"div",2)),2&t&&(e.xp6(1),e.Q6J("config",_.paymentConfig),e.xp6(1),e.Q6J("ngIf",null==_.data?null:_.data.accountNumber))},directives:[N,E.O5],encapsulation:2}),n})(),Bt=(()=>{class n{constructor(t){this.maskPipe=t}get accountNumber(){var t;const _=null===(t=this.data)||void 0===t?void 0:t.accountNumber;return"IBAN"===this.data.schemeName?this.maskPipe.transform(_,r.a$):_}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ae.Iq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-creditor-account"]],inputs:{data:"data",paymentConfig:"paymentConfig"},decls:3,vars:2,consts:function(){let a;return a="To",[[1,"bb-text-bold","bb-block","bb-block--sm"],["name","creditorAccount","parentName","counterparty","defaultLabel",a,3,"config"],[4,"ngIf"],["data-role","beneficiary-account-name",1,"bb-text-bold","bb-block","bb-block--xs"],[1,"bb-text-support","break-word","contextual-alternates-off"],["data-role","beneficiary-account-number"]]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-payord-dynamic-label",1),e.qZA(),e.YNc(2,R_,6,2,"div",2)),2&t&&(e.xp6(1),e.Q6J("config",_.paymentConfig),e.xp6(1),e.Q6J("ngIf",_.accountNumber||(null==_.data||null==_.data.creditorBank?null:_.data.creditorBank.bankBranchCode)))},directives:[N,E.O5],encapsulation:2}),n})(),Mt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-remittance-details"]],inputs:{data:"data",paymentConfig:"paymentConfig",forexDetails:"forexDetails",transferFee:"transferFee",chargeBearer:"chargeBearer"},decls:6,vars:6,consts:function(){let a,t;return a="Amount",t="Urgent Payment",[[1,"bb-text-bold","bb-block","bb-block--sm"],["name","amountGroup","defaultLabel",a,3,"config"],["data-role","transfer-amount",1,"bb-highlight","break-word"],[1,"bb-heading-1",3,"amount","currency","mapCurrency"],["data-role","payment-is-urgent","class","bb-stack",4,"ngIf"],["class","bb-stack bb-text-support",4,"ngIf"],["data-role","payment-is-urgent",1,"bb-stack"],["color","secondary","name","info","size","md"],t,[1,"bb-stack","bb-text-support"]]},template:function(t,_){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-payord-dynamic-label",1),e.qZA(),e.TgZ(2,"div",2),e._UZ(3,"bb-amount-ui",3),e.qZA(),e.YNc(4,I_,5,0,"div",4),e.YNc(5,B_,3,1,"div",5)),2&t&&(e.xp6(1),e.Q6J("config",_.paymentConfig),e.xp6(2),e.Q6J("amount",null==_.data||null==_.data.amountGroup?null:_.data.amountGroup.amount)("currency",null==_.data||null==_.data.amountGroup?null:_.data.amountGroup.currency)("mapCurrency",!1),e.xp6(1),e.Q6J("ngIf",null==_.data?null:_.data.urgent),e.xp6(1),e.Q6J("ngIf",null==_.data?null:_.data.amountOptionLabel))},directives:[N,L.G4,P.o,E.O5],encapsulation:2}),n})(),Dt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-creditor-details"]],inputs:{data:"data",paymentConfig:"paymentConfig"},decls:1,vars:1,consts:function(){let a,t,_,i,o,l,s,d,p;return a=" Beneficiary Details ",t="Account type",_=" Savings ",i=" Checking ",o="Standard entry class (SEC Type)",l=" Personal (PPD) ",s=" Business (CCD) ",d="Recipient ID",p="Beneficiary Address",[[4,"ngIf"],[1,"card","card-sm","card--highlight","card--shadowless","bb-block","bb-block--md"],[1,"card-body"],[1,"bb-text-bold","bb-block","bb-block--md"],a,["class","row bb-block bb-block--md",4,"ngIf"],[1,"row","bb-block","bb-block--md"],["class","col-md-6 bb-block bb-block--md",4,"ngIf"],[1,"col-md-6","bb-block","bb-block--md"],[1,"bb-text-bold"],["name","accountType","parentName","counterparty","defaultLabel",t,3,"config"],["data-role","beneficiary-account-type",3,"ngSwitch"],[4,"ngSwitchCase"],_,i,["name","entryClass","parentName","counterparty","defaultLabel",o,3,"config"],["data-role","beneficiary-standard-entry-class",3,"ngSwitch"],l,s,["data-role","payment-counterparty-recipient-id-label",1,"bb-text-bold","break-word"],["name","recipientId","parentName","counterparty","defaultLabel",d,3,"config"],["data-role","payment-counterparty-recipient-id"],p,[1,"break-word"],[3,"address"]]},template:function(t,_){1&t&&e.YNc(0,x_,8,3,"ng-container",0),2&t&&e.Q6J("ngIf",(null==_.data?null:_.data.entryClass)||(null==_.data?null:_.data.accountType)||(null==_.data?null:_.data.recipientId)||(null==_.data||null==_.data.postalAddress?null:_.data.postalAddress.addressLine1)||(null==_.data||null==_.data.postalAddress?null:_.data.postalAddress.addressLine2)||(null==_.data||null==_.data.postalAddress?null:_.data.postalAddress.streetName))},directives:[N,r.poS,E.O5,E.RF,E.n9],encapsulation:2}),n})(),Pt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-counterparty-details"]],inputs:{data:"data",paymentConfig:"paymentConfig"},decls:4,vars:4,consts:function(){let a,t,_,i,o,l,s,d,p,c,u,f,g,A;return a=" Beneficiary Bank Details ",t="SWIFT/BIC Code",_="Bank Name",i="Bank Address",o=" Correspondent Bank Details ",l="Routing Transit Number (ABA)",s="SWIFT/BIC Code",d="Bank Name",p="Bank address",c=" Intermediary Bank Details ",u="Routing transit number (ABA)",f="SWIFT/BIC Code",g="Bank Name",A="Bank Address",[["class","card card-sm card--highlight card--shadowless bb-block bb-block--md",4,"ngIf"],[4,"ngIf"],[1,"card","card-sm","card--highlight","card--shadowless","bb-block","bb-block--md"],[1,"card-body"],[1,"bb-text-bold","bb-block","bb-block--md"],a,["class","bb-block bb-block--md",4,"ngIf"],[1,"bb-block","bb-block--md"],[1,"row"],["class","col-6",4,"ngIf"],[1,"col-6"],[1,"bb-text-bold"],["name","bic","defaultLabel",t,3,"config"],["class","break-word","data-role","counterparty-bic-code",4,"ngIf"],["data-role","counterparty-bic-code",1,"break-word"],["name","bankName","parentName","creditorBank","defaultLabel",_,3,"config"],[1,"break-word"],i,[3,"address"],o,["name","bankBranchCode","parentName","correspondentBank","defaultLabel",l,3,"config"],[1,"bb-text-support"],["name","bic","parentName","correspondentBank","defaultLabel",s,3,"config"],["class","break-word","data-role","correspondent-bic-code",4,"ngIf"],["data-role","correspondent-bic-code",1,"break-word"],["name","bankName","parentName","correspondentBank","defaultLabel",d,3,"config"],p,c,["class","bb-text-bold",4,"ngIf"],["name","bankBranchCode","parentName","intermediaryBank","defaultLabel",u,3,"config"],["name","bic","parentName","intermediaryBank","defaultLabel",f,3,"config"],["name","bankName","parentName","intermediaryBank","defaultLabel",g,3,"config"],A]},template:function(t,_){1&t&&(e.YNc(0,Z_,6,2,"div",0),e.YNc(1,Y_,6,2,"div",0),e.YNc(2,ta,6,2,"div",0),e.YNc(3,na,1,0,"hr",1)),2&t&&(e.Q6J("ngIf",(null==_.data||null==_.data.creditorBank?null:_.data.creditorBank.bankName)||(null==_.data||null==_.data.creditorBank?null:_.data.creditorBank.bic)||(null==_.data||null==_.data.creditorBank||null==_.data.creditorBank.postalAddress?null:_.data.creditorBank.postalAddress.addressLine1)||(null==_.data||null==_.data.creditorBank||null==_.data.creditorBank.postalAddress?null:_.data.creditorBank.postalAddress.addressLine2)||(null==_.data||null==_.data.creditorBank||null==_.data.creditorBank.postalAddress?null:_.data.creditorBank.postalAddress.streetName)),e.xp6(1),e.Q6J("ngIf",(null==_.data||null==_.data.correspondentBank?null:_.data.correspondentBank.bankName)||(null==_.data||null==_.data.correspondentBank?null:_.data.correspondentBank.bic)||(null==_.data||null==_.data.correspondentBank?null:_.data.correspondentBank.bankBranchCode)||(null==_.data||null==_.data.correspondentBank||null==_.data.correspondentBank.postalAddress?null:_.data.correspondentBank.postalAddress.addressLine1)||(null==_.data||null==_.data.correspondentBank||null==_.data.correspondentBank.postalAddress?null:_.data.correspondentBank.postalAddress.addressLine2)||(null==_.data||null==_.data.correspondentBank||null==_.data.correspondentBank.postalAddress?null:_.data.correspondentBank.postalAddress.streetName)),e.xp6(1),e.Q6J("ngIf",(null==_.data||null==_.data.intermediaryBank?null:_.data.intermediaryBank.bankName)||(null==_.data||null==_.data.intermediaryBank?null:_.data.intermediaryBank.bic)||(null==_.data||null==_.data.intermediaryBank?null:_.data.intermediaryBank.bankBranchCode)||(null==_.data||null==_.data.intermediaryBank||null==_.data.intermediaryBank.postalAddress?null:_.data.intermediaryBank.postalAddress.addressLine1)||(null==_.data||null==_.data.intermediaryBank||null==_.data.intermediaryBank.postalAddress?null:_.data.intermediaryBank.postalAddress.addressLine2)||(null==_.data||null==_.data.intermediaryBank||null==_.data.intermediaryBank.postalAddress?null:_.data.intermediaryBank.postalAddress.streetName)),e.xp6(1),e.Q6J("ngIf",(null==_.data||null==_.data.creditorBank?null:_.data.creditorBank.bankName)||(null==_.data||null==_.data.creditorBank?null:_.data.creditorBank.bic)||(null==_.data||null==_.data.creditorBank||null==_.data.creditorBank.postalAddress?null:_.data.creditorBank.postalAddress.addressLine1)||(null==_.data||null==_.data.creditorBank||null==_.data.creditorBank.postalAddress?null:_.data.creditorBank.postalAddress.addressLine2)||(null==_.data||null==_.data.creditorBank||null==_.data.creditorBank.postalAddress?null:_.data.creditorBank.postalAddress.streetName)||(null==_.data||null==_.data.correspondentBank?null:_.data.correspondentBank.bankName)||(null==_.data||null==_.data.correspondentBank?null:_.data.correspondentBank.bic)||(null==_.data||null==_.data.correspondentBank?null:_.data.correspondentBank.bankBranchCode)||(null==_.data||null==_.data.correspondentBank||null==_.data.correspondentBank.postalAddress?null:_.data.correspondentBank.postalAddress.addressLine1)||(null==_.data||null==_.data.correspondentBank||null==_.data.correspondentBank.postalAddress?null:_.data.correspondentBank.postalAddress.addressLine2)||(null==_.data||null==_.data.correspondentBank||null==_.data.correspondentBank.postalAddress?null:_.data.correspondentBank.postalAddress.streetName)||(null==_.data||null==_.data.intermediaryBank?null:_.data.intermediaryBank.bankName)||(null==_.data||null==_.data.intermediaryBank?null:_.data.intermediaryBank.bic)||(null==_.data||null==_.data.intermediaryBank?null:_.data.intermediaryBank.bankBranchCode)||(null==_.data||null==_.data.intermediaryBank||null==_.data.intermediaryBank.postalAddress?null:_.data.intermediaryBank.postalAddress.addressLine1)||(null==_.data||null==_.data.intermediaryBank||null==_.data.intermediaryBank.postalAddress?null:_.data.intermediaryBank.postalAddress.addressLine2)||(null==_.data||null==_.data.intermediaryBank||null==_.data.intermediaryBank.postalAddress?null:_.data.intermediaryBank.postalAddress.streetName)))},directives:[N,r.poS,E.O5],encapsulation:2}),n})(),Ot=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-payment-schedule-details"]],inputs:{data:"data",paymentConfig:"paymentConfig"},decls:3,vars:3,consts:function(){let a,t,_,i,o,l,s;return a="Transfer Date",t="Frequency",_="{VAR_SELECT, select, other {Once} DAILY {Daily} WEEKLY {Weekly} BIWEEKLY {Bi-Weekly} MONTHLY {Monthly} QUARTERLY {Quarterly} YEARLY {Annually}}",_=e.Zx4(_,{VAR_SELECT:"\ufffd0\ufffd"}),i=" " + _ + " ",o="End After",l="occurrences",s="End Date",[["class","bb-block bb-block--md bb-stack bb-stack--align-top",4,"ngIf"],[4,"ngIf"],[1,"bb-block","bb-block--md","bb-stack","bb-stack--align-top"],["name","today",1,"bb-stack__item","bb-stack__item--spacing-sm"],[1,"bb-stack__item"],[1,"bb-text-bold","bb-block","bb-block--xs"],["name","startDate","parentName","schedule","defaultLabel",a,3,"config"],["data-role","execution-date"],[1,"row"],[1,"bb-text-support","bb-subtitle","col-md-6"],["name","cached",1,"bb-stack__item","bb-stack__item--spacing-sm"],["name","frequency","parentName","schedule","defaultLabel",t,3,"config"],["data-role","frequency-value"],i,["data-role","end-after-label",1,"bb-text-bold","bb-block","bb-block--xs"],["name","repeat","parentName","schedule","defaultLabel",o,3,"config"],["data-role","end-after"],l,["data-role","end-date-label",1,"bb-text-bold","bb-block","bb-block--xs"],["name","endDate","parentName","schedule","defaultLabel",s,3,"config"],["data-role","end-date"]]},template:function(t,_){1&t&&(e.YNc(0,_a,11,6,"div",0),e.YNc(1,aa,7,2,"div",0),e.YNc(2,ra,2,1,"div",1)),2&t&&(e.Q6J("ngIf",null==_.data?null:_.data.startDate),e.xp6(1),e.Q6J("ngIf",(null==_.data||null==_.data.frequency?null:_.data.frequency.value)||(null==_.data?null:_.data.frequency)),e.xp6(1),e.Q6J("ngIf",(null==_.data||null==_.data.frequency?null:_.data.frequency.value)||(null==_.data?null:_.data.frequency)))},directives:[P.o,N,E.O5],pipes:[E.uU],encapsulation:2}),n})(),Tt=(()=>{class n{constructor(t){this.identityService=t,this.successImg="./assets/initiate-payment-journey-ang/succeed.svg",this.successImgNoMotion="./assets/initiate-payment-journey-ang/no-motion.svg",this.timestamp=(new Date).getTime()}ngOnInit(){var t,_;this.isLoading$=(0,nn.T)(null===(t=this.methods)||void 0===t?void 0:t.isSubmitting$(),null===(_=this.identityService)||void 0===_?void 0:_.requestSubject.pipe((0,b.U)(()=>!1)))}get errorText(){var t,_,i;const o=null===(_=null===(t=this.breachError)||void 0===t?void 0:t.reasonText)||void 0===_?void 0:_.split("|")[1];if(this.isUserDeclined)return "";switch(null===(i=this.breachError)||void 0===i?void 0:i.reasonCode){case X.DAILY:return "The amount exceeds the daily limit of " + o + "";case X.MONTHLY:return "The amount exceeds the monthly limit of " + o + "";case X.MAX_TRANSFER:return "This amount can't exceed " + o + "";case X.MIN_TRANSFER:return "This amount can't be lower than " + o + "";case h.MIN_TRANSFER:return "This amount can't be lower than " + o + ". Please enter a higher amount";case h.MAX_OUTGOING_TRANSFER:case h.MAX_INCOMING_TRANSFER:return "This amount can't be higher than " + o + ". Please enter a lower amount";case h.MAX_COMBINED_DAILY_TRANSFER:case h.MAX_OUTGOING_DAILY_TRANSFER:case h.MAX_INCOMING_DAILY_TRANSFER:return "The amount exceeds your daily limit of " + o + ". Please enter a lower amount or schedule this payment to a later date.";case h.MAX_COMBINED_MONTHLY_TRANSFER:case h.MAX_OUTGOING_MONTHLY_TRANSFER:case h.MAX_INCOMING_MONTHLY_TRANSFER:return "The amount exceeds your monthly limit of " + o + ". Please enter a lower amount or schedule this payment to a later date.";default:return "Failed to submit payment. Please try again later."}}get errorTitle(){var t;return Object.values(h).includes(null===(t=this.breachError)||void 0===t?void 0:t.reasonCode)?"Payment failed due to an exceeding limit for external transfer":this.breachError?"Payment Failed Due to an Exceeding Limit":this.isUserDeclined?"Your Transfer Has Been Cancelled.":""}get isScheduledTransfer(){var t;const _=(0,r.qwi)(),i=(0,r.qwi)(null===(t=this.payment)||void 0===t?void 0:t.schedule.startDate);return new Date(i)>new Date(_)}get isUserDeclined(){return this.status===ue.mN.USER_DECLINED}get isErrorResponse(){return this.status===ue.mN.USER_DECLINED||"ERROR"===this.status||!!this.breachError||this.status===ue.mN.REJECTED}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ue.ov,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-adapted-review-container"]],inputs:{payment:"payment",status:"status",paymentConfig:"paymentConfig",methods:"methods",breachError:"breachError",executionInBankTimezoneMessage:"executionInBankTimezoneMessage"},ngContentSelectors:xa,decls:11,vars:2,consts:function(){let a,t,_,i,o,l,s,d,p,c,u,f,g,A,y,F,k,w,Z,R,M,le,pe,re;return a="Discard entered data?",t=" Review Your Transfer ",_=" Edit ",i=" Cancel ",o=" Intracompany payment ",l="Memo",s="Payment reference",d="Message to beneficiary",p="Message to beneficiary bank",c=" Confirm Transfer ",u=" Submit ",f=" Submit and Approve ",g="Success!",A="Success!",y=" You\u2019ve just transferred " + "\ufffd0\ufffd" + " " + "\ufffd1\ufffd" + " to " + "\ufffd2\ufffd" + ". ",F=" You\u2019ve just scheduled transfer to " + "\ufffd0\ufffd" + ". ",k=" You\u2019ve just edited the scheduled transfer to " + "\ufffd0\ufffd" + ". ",w="" + "\ufffd0\ufffd" + " is saved to your contacts",Z="Can\u2019t save " + "\ufffd0\ufffd" + " to your contacts. Please try again later.",R=" Make another transfer ",M=" View scheduled transfers ",le=" Are you sure to exit and discard all changes? Entered data will be lost. ",pe=" Discard ",re=" Cancel ",[[4,"ngTemplateOutlet"],["reviewTemplate",""],["successScreen",""],[3,"isOpen","cancel","confirm"],["title",a],["bbCustomModalBody",""],["bbCustomModalFooter",""],["data-role","adapted-review-loader","class","bb-loading-indicator-wrapper bb-loading-indicator-wrapper--overlay",4,"ngIf"],[1,"bb-fieldset","omni-payment-adapted-review"],[1,"bb-label","bb-block","bb-block--lg"],t,[4,"ngIf"],[1,"bb-button-bar","bb-button-bar--reverse"],["bbButton","","class","bb-button-bar__button","data-role","submit-button",3,"disabled","click",4,"ngIf"],["class","btn-group bb-button-bar__button","data-role","button-group",4,"ngIf"],["bbButton","","color","secondary","data-role","edit-button",1,"bb-button-bar__button",3,"disabled","click"],_,["bbButton","","color","link","data-role","cancel-button",1,"bb-button-bar__button","bb-button-bar__button--across",3,"disabled","click"],i,["data-role","adapted-review-loader",1,"bb-loading-indicator-wrapper","bb-loading-indicator-wrapper--overlay"],["loaderSize","lg"],["modifier","error",3,"title","close",4,"ngIf"],["class","bb-block bb-block--sm bb-inline-stack bb-text-support",4,"ngIf"],[1,"bb-item-log","bb-block","bb-block--lg"],[1,"bb-item-log__record","item-log__record--has-bullet"],[1,"bb-stack","bb-stack--align-top"],[1,"bb-item-log-record__bullet-icon","bb-item-log-record__bullet-icon--filled","bb-stack__item","bb-stack__item--spacing-md"],[1,"bb-item-log-record__details"],[3,"data","paymentConfig"],[1,"bb-item-log-record__bullet-icon","bb-stack__item","bb-stack__item--spacing-md"],[1,"bb-block","bb-block--lg"],[3,"data","transferFee","chargeBearer","forexDetails","paymentConfig"],["modifier","error",3,"title","close"],["data-role","failure-message"],[1,"bb-block","bb-block--sm","bb-inline-stack","bb-text-support"],[1,"bb-inline-stack__item"],["name","domain"],[1,"bb-inline-stack__item","bb-text-bold"],o,["class","bb-block bb-block--md",4,"ngIf"],[1,"bb-block","bb-block--md","bb-inline-stack","bb-stack--align-top"],["name","subject",1,"bb-stack__item","bb-stack__item--spacing-sm"],[1,"bb-stack__item"],["data-role","payment-description-label",1,"bb-text-bold"],["name","description","parentName","remittanceInfo","defaultLabel",l,3,"config"],["data-role","payment-description",1,"break-word"],[1,"bb-block","bb-block--md"],["data-role","payment-reference-label",1,"bb-text-bold"],["name","paymentReference","parentName","remittanceInfo","defaultLabel",s,3,"config"],["data-role","payment-reference",1,"break-word"],[1,"bb-text-bold"],["name","remittanceInformation","defaultLabel",d,3,"config"],[1,"break-word"],["name","messageToBank","defaultLabel",p,3,"config"],[1,"bb-text-support"],["bbButton","","data-role","submit-button",1,"bb-button-bar__button",3,"disabled","click"],c,["data-role","button-group",1,"btn-group","bb-button-bar__button"],["color","primary",3,"isLoading","click"],u,["btnColor","primary","icon","caret-down","data-role","dropdown-menu","container","body","position","top-right",1,"btn-group"],["bbDropdownMenuItem",""],["role","menuitem","type","button","data-role","bus-submit-and-approve-button",1,"dropdown-item",3,"disabled","bbKeyboardClick"],f,[1,"bb-text-align-center","bb-block--xl"],["media","(prefers-reduced-motion: reduce)",3,"srcset"],["alt",g,"data-role","transfer-success-anim",1,"img-fluid",3,"srcset"],["headingClasses","bb-text-semi-bold","headingType","h2","heading",A],["data-role","adapted-success-message",4,"ngIf","ngIfElse"],["editPaymentMessageTemplate",""],["class","bb-text-align-center bb-block bb-block--xl",4,"ngIf"],[1,"bb-text-align-center"],["bbButton","","color","primary",3,"click",4,"ngIf"],["data-role","adapted-success-message"],["class","bb-text-support",4,"ngIf"],y,F,["data-role","adapted-success-edit-message",1,"bb-text-support"],k,[1,"bb-text-align-center","bb-block","bb-block--xl"],[1,"bb-payment-account-details-card","bb-inline-stack"],[1,"bb-inline-stack"],[4,"ngIf","ngIfElse"],["saveContactFail",""],["name","success","color","success",1,"bb-stack__item","bb-stack__item--spacing-sm"],w,["name","error-outline","color","danger",1,"bb-stack__item","bb-stack__item--spacing-sm"],Z,["bbButton","","color","primary",3,"click"],R,M,le,[1,"bb-button-bar"],["bbButton","","color","danger","data-role","discard-action-btn",1,"bb-button-bar__button",3,"click"],pe,["bbButton","","color","link","data-role","cancel-action-btn",1,"bb-button-bar__button",3,"click"],re]},template:function(t,_){if(1&t&&(e.F$t(),e.YNc(0,sa,1,0,"ng-container",0),e.YNc(1,Ca,15,12,"ng-template",null,1,e.W1O),e.YNc(3,ha,14,7,"ng-template",null,2,e.W1O),e.TgZ(5,"bb-modal-ui",3),e.NdJ("cancel",function(){return null==_.methods?null:_.methods.toggleDiscardDialog()})("confirm",function(){return null==_.methods?null:_.methods.reset()}),e._UZ(6,"bb-modal-header-ui",4),e.TgZ(7,"bb-modal-body-ui"),e.YNc(8,Ua,2,0,"ng-template",5),e.qZA(),e.TgZ(9,"bb-modal-footer-ui"),e.YNc(10,Na,5,0,"ng-template",6),e.qZA()()),2&t){const i=e.MAs(2),o=e.MAs(4);e.Q6J("ngTemplateOutlet","SUCCESS"===_.status?o:i),e.xp6(5),e.Q6J("isOpen",null==_.methods?null:_.methods.showDiscardDialog())}},directives:[q.Q,W.w,P.o,It,Bt,Mt,Dt,Pt,Ot,N,ne.K,z.N9,K.G,C.zS,C.Rb,C.KF,C.YI,E.tP,E.O5,j.Hq,z.i4,V.w,C.Qd,C.yk],pipes:[E.Ov],encapsulation:2,changeDetection:0}),n})(),Pl=(()=>{class n{constructor(){this.status=_e.SUCCESS,this.message="",this.isDebitPayment=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-status-card"]],inputs:{status:"status",message:"message",isDebitPayment:"isDebitPayment"},decls:6,vars:5,consts:function(){let a,t,_,i;return a="{VAR_SELECT, select, error {Failed to submit debit request. Please try again later} pending {Debit request is\n        submitted successfully, and pending further approval(s)} pending_edited {Edited debit request submitted\n        successfully} other {Debit request submitted successfully}}",a=e.Zx4(a,{VAR_SELECT:"\ufffd0\ufffd"}),t=" " + a + " ",_="{VAR_SELECT, select, error {Failed to submit payment. Please try again later} pending {Payment is submitted\n          successfully, and pending further approval(s)} pending_edited {Edited payment submitted successfully} other {Payment submitted successfully}}",_=e.Zx4(_,{VAR_SELECT:"\ufffd0\ufffd"}),i=" " + _ + " ",[["data-role","payment-status-card__wrapper",1,"bb-payment-status-card",3,"ngClass"],["size","xxl",1,"bb-payment-status-card__icon",3,"color","name"],["data-role","payment-status-msg",1,"break-word","col-12","bb-text-align-center"],[4,"ngIf","ngIfElse"],["defaultPaymentStatusText",""],["paymentStatusForNonDebitPayment",""],t,i]},template:function(t,_){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"bb-icon-ui",1),e.TgZ(2,"div",2),e.YNc(3,Ka,2,1,"ng-container",3),e.YNc(4,ka,3,2,"ng-template",null,4,e.W1O),e.qZA()()),2&t){const i=e.MAs(5);e.Q6J("ngClass","error"===_.status?"bb-payment-status-card--danger":"bb-payment-status-card--success"),e.xp6(1),e.Q6J("color","error"===_.status?"danger":"success")("name","error"===_.status?"error-outline":"success"),e.xp6(2),e.Q6J("ngIf",_.message)("ngIfElse",i)}},directives:[P.o,E.mk,E.O5],encapsulation:2,changeDetection:0}),n})();const oe={beneficiaryTitle:"Beneficiary details",beneficiaryDebitTitle:"Client details",beneficiaryBankTitle:"Beneficiary bank details",beneficiaryBankDebitTitle:"Client bank details",beneficiaryAddressTitle:"Beneficiary address",beneficiaryAddressDebitTitle:"Client addresss"};let Ol=(()=>{class n{set isDebitPayment(t){this._beneficiaryDetailsTitles=null!=t&&t?{beneficiaryTitle:oe.beneficiaryDebitTitle,bankTitle:oe.beneficiaryBankDebitTitle,addressTitle:oe.beneficiaryAddressDebitTitle}:{beneficiaryTitle:oe.beneficiaryTitle,bankTitle:oe.beneficiaryBankTitle,addressTitle:oe.beneficiaryAddressTitle}}get beneficiaryDetailsTitles(){return this._beneficiaryDetailsTitles}hasPostalAddress(t){return(0,r.Fvy)(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-counterparty-details"]],inputs:{config:"config",details:"details",isDebitPayment:"isDebitPayment"},decls:5,vars:4,consts:function(){let a,t,_,i,o,l,s,d,p,c,u,f,g,A,y,F,k,w,Z,R;return a="Account type",t=" Savings ",_=" Checking ",i="Standard entry class (SEC Type)",o=" Personal (PPD) ",l=" Business (CCD) ",s="Recipient ID",d="Bank name",p="SWIFT/BIC code",c="Bank address",u=" Correspondent bank details ",f="Bank name",g="Routing transit number (ABA)",A="SWIFT/BIC code",y="Bank address",F=" Intermediary bank details ",k="Bank name",w="Routing transit number (ABA)",Z="SWIFT/BIC code",R="Bank address",[["class","card card-sm card--highlight card--shadowless bb-block bb-block--md",4,"ngIf"],["class","card card-sm card--highlight card--shadowless bb-block bb-block--md","data-role","beneficiary-bank-details",4,"ngIf"],["class","card card-sm card--highlight card--shadowless bb-block bb-block--md","data-role","correspondant-bank-details",4,"ngIf"],["class","card card-sm card--highlight card--shadowless bb-block bb-block--md","data-role","intermediary-bank-details",4,"ngIf"],[1,"card","card-sm","card--highlight","card--shadowless","bb-block","bb-block--md"],[1,"card-body"],[1,"bb-text-bold","bb-block","bb-block--md"],["class","row bb-block bb-block--md",4,"ngIf"],["class","row",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"row","bb-block","bb-block--md"],["class","col-md-6 bb-block bb-block--md",4,"ngIf"],[1,"col-md-6","bb-block","bb-block--md"],[1,"bb-text-bold"],["name","accountType","parentName","counterparty","defaultLabel",a,3,"config"],["data-role","beneficiary-account-type",3,"ngSwitch"],[4,"ngSwitchCase"],t,_,["name","entryClass","parentName","counterparty","defaultLabel",i,3,"config"],["data-role","beneficiary-standard-entry-class",3,"ngSwitch"],o,l,[1,"row",3,"ngClass"],["data-role","payment-counterparty-recipient-id-label",1,"bb-text-bold","break-word"],["name","recipientId","parentName","counterparty","defaultLabel",s,3,"config"],["data-role","payment-counterparty-recipient-id"],[1,"break-word"],[3,"address"],["data-role","beneficiary-bank-details",1,"card","card-sm","card--highlight","card--shadowless","bb-block","bb-block--md"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"row"],["class","col-6",3,"col-12",4,"ngIf"],["class","col-6",4,"ngIf"],[1,"col-6"],["name","bankName","parentName","creditorBank","defaultLabel",d,3,"config"],["data-role","beneficiary-bank-name",1,"break-word"],["name","bic","defaultLabel",p,3,"config"],["class","break-word","data-role","counterparty-bic-code",4,"ngIf"],["data-role","counterparty-bic-code",1,"break-word"],c,["data-role","beneficiary-bank-address",1,"break-word"],["data-role","correspondant-bank-details",1,"card","card-sm","card--highlight","card--shadowless","bb-block","bb-block--md"],u,["name","bankName","parentName","correspondentBank","defaultLabel",f,3,"config"],["data-role","correspondant-bank-name",1,"break-word"],["name","bankBranchCode","parentName","correspondentBank","defaultLabel",g,3,"config"],["data-role","correspondant-bank-code",1,"bb-text-support"],["name","bic","parentName","correspondentBank","defaultLabel",A,3,"config"],["class","break-word","data-role","correspondent-bic-code",4,"ngIf"],["data-role","correspondent-bic-code",1,"break-word"],y,["data-role","correspondant-bank-address",1,"break-word"],["data-role","intermediary-bank-details",1,"card","card-sm","card--highlight","card--shadowless","bb-block","bb-block--md"],F,["name","bankName","parentName","intermediaryBank","defaultLabel",k,3,"config"],["data-role","intermediary-bank-name",1,"break-word"],["name","bankBranchCode","parentName","intermediaryBank","defaultLabel",w,3,"config"],["data-role","intermediary-bank-code",1,"bb-text-support"],["name","bic","parentName","intermediaryBank","defaultLabel",Z,3,"config"],["class","break-word","data-role","intermediaryBank-bic-code",4,"ngIf"],["data-role","intermediaryBank-bic-code",1,"break-word"],R,["data-role","intermediary-bank-address",1,"break-word"]]},template:function(t,_){1&t&&(e.YNc(0,qa,7,4,"div",0),e.TgZ(1,"div"),e.YNc(2,ti,6,3,"div",1),e.YNc(3,ri,6,2,"div",2),e.YNc(4,pi,6,2,"div",3),e.qZA()),2&t&&(e.Q6J("ngIf",(null==_.details?null:_.details.entryClass)||(null==_.details?null:_.details.accountType)||(null==_.details?null:_.details.recipientId)||_.hasPostalAddress(null==_.details?null:_.details.postalAddress)),e.xp6(2),e.Q6J("ngIf",(null==_.details||null==_.details.creditorBank?null:_.details.creditorBank.bankName)||(null==_.details||null==_.details.creditorBank?null:_.details.creditorBank.bic)||_.hasPostalAddress(null==_.details||null==_.details.creditorBank?null:_.details.creditorBank.postalAddress)),e.xp6(1),e.Q6J("ngIf",(null==_.details||null==_.details.correspondentBank?null:_.details.correspondentBank.bankName)||(null==_.details||null==_.details.correspondentBank?null:_.details.correspondentBank.bankBranchCode)||(null==_.details||null==_.details.correspondentBank?null:_.details.correspondentBank.bic)||_.hasPostalAddress(null==_.details||null==_.details.correspondentBank?null:_.details.correspondentBank.postalAddress)),e.xp6(1),e.Q6J("ngIf",(null==_.details||null==_.details.intermediaryBank?null:_.details.intermediaryBank.bankName)||(null==_.details||null==_.details.intermediaryBank?null:_.details.intermediaryBank.bankBranchCode)||(null==_.details||null==_.details.intermediaryBank?null:_.details.intermediaryBank.bic)||_.hasPostalAddress(null==_.details||null==_.details.intermediaryBank?null:_.details.intermediaryBank.postalAddress)))},directives:[N,r.poS,E.O5,E.RF,E.n9,E.mk],encapsulation:2}),n})(),Tl=(()=>{class n{constructor(){this.isOpen=!1,this.close=new e.vpe}get breachReportCurrency(){var t,_,i;return null===(i=null===(_=null===(t=this.error)||void 0===t?void 0:t.breachReport)||void 0===_?void 0:_[0])||void 0===i?void 0:i.currency}normalizeBreachReportPeriod(t){return t.timeframe?Object.assign(Object.assign({},t),{timeframe:Object.assign(Object.assign({},t.timeframe),{period:t.timeframe.period.toUpperCase()})}):t}flattenBreachReports(){return this.error&&this.error.breachReport?this.error.breachReport.map(t=>t.breachInfo).reduce((t,_)=>t.concat(..._.map(this.normalizeBreachReportPeriod)),[]):[]}compareByPeriod(t,_){var i,o;const l=null===(i=t.timeframe)||void 0===i?void 0:i.period,s=null===(o=_.timeframe)||void 0===o?void 0:o.period;return r.pHY[l]-r.pHY[s]}get sortedBreaches(){const t=this.flattenBreachReports();return[...t.filter((i,o)=>{const l=i.breachedLimitType===r.KI9.TRANSACTIONAL;return(l||i.breachType===r.d2T.THRESHOLD&&i.breachedLimitType===r.KI9.PERIODIC)&&t.splice(o,1),l}),...t.sort(this.compareByPeriod)]}onClose(){this.close.emit()}print(){window.print()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-breach-limit-details"]],inputs:{paymentDetails:"paymentDetails",error:"error",isOpen:"isOpen"},outputs:{close:"close"},decls:5,vars:1,consts:function(){let a,t,_,i,o,l,s,d,p,c,u,f,g,A,y,F,k,w,Z;return a="Limits breach",t="Print breach limit report",_="Close breach limit report dialog",i=" Payment could not be submitted due to a limit breach. See details below: ",o="Limit",l=" Consumed ",s=" Limit ",d=" Consumed\xA0 ",p=" Per transaction ",c="{VAR_SELECT, select, DAILY {Daily} WEEKLY {Weekly} MONTHLY {Monthly} QUARTERLY {Quarterly} YEARLY {Yearly} other {{INTERPOLATION}}}",c=e.Zx4(c,{VAR_SELECT:"\ufffd0\ufffd",INTERPOLATION:"\ufffd1\ufffd"}),u=" " + c + " ",f=" Till " + "\ufffd0\ufffd" + " ",g=" Till " + "\ufffd0\ufffd" + " ",A=" " + "\ufffd0\ufffd" + " - " + "\ufffd1\ufffd" + " ",y=" " + "\ufffd0\ufffd" + " - " + "\ufffd1\ufffd" + " ",F="From",k="To",w=" Execution date ",Z="Amount",[[3,"isOpen","cancel","confirm"],["role","heading"],["bbCustomModalHeader",""],["role","main"],["bbCustomModalBody",""],["aria-labelledby","headerTitle",1,"bb-stack","bb-stack__item--fill"],["color","danger","name","error-outline",1,"bb-stack__item","bb-stack__item--spacing-sm"],["id","headerTitle","data-role","limit-breach-modal-title","aria-label",a,1,"bb-stack__item","highlight","text-large"],[1,"bb-stack__item","bb-stack__item--push-right"],["type","button",1,"bb-stack__item","btn","border-0","btn-circle",3,"click"],["aria-label",t,1,"sr-only",2,"min-width","10px","min-height","10px"],["name","print"],["aria-label",_,1,"sr-only",2,"min-width","10px","min-height","10px"],["name","clear"],["data-role","limit-breach-modal-message",1,"bb-block","bb-block--lg"],i,[1,"table-responsive"],[1,"table","table-hover"],[1,"bb-table__head--highlight"],["scope","col",1,"bb-table--text-start"],["scope","col","data-role","breach-currency",1,"bb-table--text-end"],o,[4,"ngIf"],["scope","col",1,"bb-table--text-end"],l,["data-role","limit-breach",4,"ngFor","ngForOf"],["class","card card-sm card--highlight card--shadowless",4,"ngIf"],["data-role","limit-breach"],["data-role","limit-type",1,"bb-table--text-start"],["class","highlight",4,"ngIf"],["data-role","limit-amount",1,"bb-table--text-end"],[1,"d-md-none","bb-text-bold"],s,[3,"amount"],["data-role","limit-consumed",1,"bb-table--text-end"],d,[1,"highlight"],p,u,["data-role","period",1,"text-muted",3,"ngSwitch"],[4,"ngSwitchCase"],f,g,A,y,[1,"card","card-sm","card--highlight","card--shadowless"],[1,"card-body"],[1,"row"],[1,"col-md-6","bb-block","bb-block--md"],[1,"bb-text-bold"],F,["data-role","debit-account-name",1,"break-word"],["data-role","debit-account-number",1,"bb-text-support","bb-subtitle"],k,["data-role","credit-account-name",1,"break-word"],["data-role","credit-account-number",1,"bb-text-support","bb-subtitle"],w,[1,"col-md-6"],Z,["data-role","total-amount",1,"bb-amount--currency-space",3,"amount","currency","mapCurrency"]]},template:function(t,_){1&t&&(e.TgZ(0,"bb-modal-ui",0),e.NdJ("cancel",function(){return _.onClose()})("confirm",function(){return _.onClose()}),e.TgZ(1,"bb-modal-header-ui",1),e.YNc(2,Si,13,0,"ng-template",2),e.qZA(),e.TgZ(3,"bb-modal-body-ui",3),e.YNc(4,Ti,16,3,"ng-template",4),e.qZA()()),2&t&&e.Q6J("isOpen",_.isOpen)},directives:[C.zS,C.Rb,P.o,C.KF,L.G4,C.cA,C.Qd,E.O5,E.sg,E.RF,E.n9],pipes:[E.rS,E.uU],encapsulation:2,changeDetection:0}),n})(),vt=(()=>{class n{constructor(){this.modalOptions={backdrop:"static",keyboard:!1},this.isSavingTemplate=!1,this.closeModal=new e.vpe,this.openModal=new e.vpe,this.submitForm=new e.vpe,this.states=r.XK3,this.isSubmitted=!1}onOpen(){this.openModal.emit()}onClose(){this.closeModal.emit(),this.isSubmitted=!1}onSubmit(){this.submitForm.emit(),this.isSubmitted=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-save-as-template-form-modal"]],inputs:{modalState:"modalState",paymentTemplateForm:"paymentTemplateForm",isSavingTemplate:"isSavingTemplate"},outputs:{closeModal:"closeModal",openModal:"openModal",submitForm:"submitForm"},decls:8,vars:4,consts:function(){let a,t,_,i,o,l,s;return a="Save as a template",t=" Type a name to the template in order to re-use it and manage it when needed. ",_="Name of the template",i=" (required) ",o=" Template name is required ",l=" Save ",s=" Cancel ",[[3,"isOpen","modalOptions"],["bbCustomModalHeader",""],["bbCustomModalBody",""],["bbCustomModalFooter",""],[1,"bb-stack"],["name","insert-drive-file",1,"bb-text-disabled","bb-stack__item","bb-stack__item--spacing-sm","bb-text-support","d-inline-block"],["headingType","h2","heading",a,1,"bb-stack__item"],["data-role","payment-template-modal-text",1,"bb-block","bb-block--lg"],t,[1,"form-group",3,"formGroup"],[1,"bb-label",3,"for"],["id","name"],_,[1,"bb-text-support"],i,[1,"bb-payment-template__form-container"],["formControlName","templateName","data-role","template-name-field",3,"aria-labelledby","maxLength","showCharCounter"],["TemplateName",""],["data-role","initiate-payment-template-name-input-error","role","alert",3,"showErrors"],[4,"ngIf"],["data-role","required-template-name-error",4,"ngIf"],["data-role","required-template-name-error"],o,[1,"bb-button-bar"],["color","primary","data-role","save-template-button",1,"bb-button-bar__button",3,"isLoading","click"],l,["bbButton","","color","link","data-role","cancel-template-button",1,"bb-button-bar__button",3,"click"],s]},template:function(t,_){1&t&&(e.TgZ(0,"bb-modal-ui",0),e.ALo(1,"async"),e.TgZ(2,"bb-modal-header-ui"),e.YNc(3,vi,3,1,"ng-template",1),e.qZA(),e.TgZ(4,"bb-modal-body-ui"),e.YNc(5,Ni,13,7,"ng-template",2),e.qZA(),e.TgZ(6,"bb-modal-footer-ui"),e.YNc(7,xi,7,1,"ng-template",3),e.qZA()()),2&t&&e.Q6J("isOpen",_.states.Preview===e.lcZ(1,2,_.modalState))("modalOptions",_.modalOptions)},directives:[C.zS,C.Rb,P.o,K.G,C.KF,ve.m,he.d,C.YI,ne.K,C.cA,C.Qd,v._Y,v.JL,v.sg,v.JJ,v.u,E.O5,C.yk,j.Hq],pipes:[E.Ov],encapsulation:2,changeDetection:0}),n})(),ht=(()=>{class n{constructor(t,_,i,o,l,s,d,p,c,u,f){this.formBuilder=t,this.stateService=_,this.navigationService=i,this.createPaymentService=o,this.reviewPaymentService=l,this.createPaymentSetup=s,this.communicator=d,this.transactionSigningHelper=p,this.paymentErrors=c,this.extensionsConfig=u,this.dateTimezoneTransformationService=f,this.showConfirmation=!1,this.gc$=new O.x,this.saveContactResponse$=new B.X(null),this.paymentOrderId="",this.approvalPending=!1,this.enablePaymentTemplate=!0,this.saveTemplate=!1,this.canApprove=!1,this.additionalDetailsContext$$=new B.X(void 0),this.showBreachDetails=!1,this.paymentMode=r.x66,this.isErrorTitleDisplayed=!0,this.reviewScreens=r.gwo,this.widgetOptions={},this.errors=[],this.submitting$=new B.X(!1),this.savingTemplate$=new B.X(!1),this.paymentStatus$=new B.X(void 0),this.selectedPaymentConfig$=this.createPaymentService.selectedPaymentConfig$,this.paymentTemplateModalState=new B.X(void 0),this.additionsDetails=this.extensionsConfig.reviewPaymentAdditionalDetails,this.additionalDetailsContext$=this.additionalDetailsContext$$.asObservable(),this.methods={edit:this.onEdit.bind(this),submit:this.submitPayment.bind(this),reset:this.resetPayment.bind(this),discard:this.discardPayment.bind(this),toggleDiscardDialog:this.toggleConfirmationDialog.bind(this),showDiscardDialog:this.showDiscardDialog.bind(this),isApprovalEnabled:this.isApprovalEnabled.bind(this),isPaymentTemplateEnabled:this.isPaymentTemplateEnabled.bind(this),isNewPaymentEnabled:this.isNewPaymentEnabled.bind(this),isSavingTemplate$:this.isSavingTemplate$.bind(this),getPaymentMessage:this.getPaymentMessage.bind(this),getPurposeDescription:this.getPurposeDescription.bind(this),isSubmitting$:this.isSubmitting$.bind(this),getLabelText:r.kv,getForexDetails:this.getForexDetails.bind(this),showBreachModal:this.showBreachModal.bind(this),isTemplateSaved:this.isTemplateSaved.bind(this),openTemplateModal:this.openTemplateModal.bind(this),doneEditing:this.doneEditing.bind(this),navigateToAfterSuccessPage:this.navigateToAfterSuccessPage.bind(this),getPaymentResponse:this.getPaymentResponse.bind(this),getSaveContactResponse$:this.saveContactResponse$,getPaymentStatusType:this.getPaymentStatusType.bind(this),isExportPDFBtnVisible:this.isExportPDFBtnVisible.bind(this)},this.createTemplatePermission$=this.reviewPaymentService.createPermissions(),this.validationWarnings$=this.stateService.validationWarnings$}onEdit(){this.stateService.setPaymentState(r.KyD.EDIT),this.navigationService.form()}ngOnInit(){this.stateService.setPaymentState(r.KyD.REVIEW),this.canApprove=this.stateService.canApprove,this.createPaymentSetup.reviewTemplate$.pipe((0,D.R)(this.gc$),(0,Ae.h)(t=>!!t)).subscribe(t=>this.reviewTemplate=t),this.createPaymentSetup.options$.pipe((0,_n.M)(this.stateService.form$),(0,D.R)(this.gc$)).subscribe(([t,_])=>{var i;this.isErrorTitleDisplayed=Boolean(t.isErrorTitleDisplayed),this.widgetOptions=t,this.header=this.createPaymentSetup.getHeader(r.WN5.REVIEW,null===(i=_.value)||void 0===i?void 0:i.paymentType)}),this.stateService.form$.pipe((0,D.R)(this.gc$),(0,J.b)(t=>this.paymentForm=t),(0,b.U)(t=>(null==t?void 0:t.getRawValue())||{})).subscribe(t=>{t&&(0,r.Nu3)(t)?(this.paymentItem=t,this.additionalDetailsContext$$.next({additions:t.additions})):(this.stateService.setPaymentState(r.KyD.INITIAL),this.navigationService.form())}),this.paymentTemplateForm=this.buildPaymentTemplateForm()}isSavingTemplate$(){return this.savingTemplate$}getExecutionInBankTimezoneMessage(){return this.dateTimezoneTransformationService.configuredTimeZone?this.widgetOptions.paymentExecutionInBankTimeZoneMessage:void 0}onSubmit(t=!1){this.submitting$.next(!0),this.paymentItem.counterparty.saveNewContact&&this.saveNewContact(),this.postPaymentOrder(t)}saveNewContact(){this.reviewPaymentService.saveNewContact(Object.assign(Object.assign({},function yl(n){const{name:a,accountNumber:t,schemeName:_,creditorBank:i={},postalAddress:o={}}=n;let l;switch(_){case Q.B7.EMAIL:l={email:(0,r.u2M)(t)};break;case Q.B7.MOBILE:l={phoneNumber:(0,r.u2M)(t)};break;case Q.B7.IBAN:l={IBAN:(0,r.u2M)(t)};break;default:l={accountNumber:(0,r.u2M)(t)}}return{name:a,addressLine1:o.addressLine1,addressLine2:o.addressLine2,streetName:o.streetName,town:o.town,postCode:o.postCode,countrySubDivision:o.countrySubDivision,country:o.country,accounts:[Object.assign(Object.assign({},fl(i)),l)]}}(this.paymentItem.counterparty)),{accessContextScope:this.widgetOptions.accessContextScope})).pipe((0,D.R)(this.gc$)).subscribe(t=>{const{id:_,status:i}=t||{};this.saveContactResponse$.next(t);const o=!!_;this.reviewPaymentService.showNotification(o,{header:o?i===ge.q_.PENDINGAPPROVAL?H.newContactSubmitSuccessPendingApproval:H.newContactSubmitSuccess:H.newContactSubmitFailure})})}handlePaymentError(t){var _,i;let l;this.genericError=null===(_=null==t?void 0:t.error)||void 0===_?void 0:_.message,this.errors=null===(i=null==t?void 0:t.error)||void 0===i?void 0:i.errors,l="rejected_by_user"===(null==t?void 0:t.statusText)?r.mNU.USER_DECLINED:"ERROR",this.paymentStatus$.next(l),this.submitting$.next(!1)}putOrPostPaymentOrder(t){var _;const i=(null===(_=this.widgetOptions)||void 0===_?void 0:_.paymentMode)===r.x66.COPY_PAYMENT,o=this.paymentItem.paymentOrderId;return o&&!i?this.reviewPaymentService.putPaymentOrder(Object.assign(Object.assign({},t),{id:o}),o):this.reviewPaymentService.postPaymentOrder(t)}postPaymentOrder(t){const _=t?{approved:t}:null;this.putOrPostPaymentOrder((0,r.SwY)(Object.assign(Object.assign({},this.paymentItem),_))).pipe((0,D.R)(this.gc$),(0,J.b)(i=>{if(this.hasLimitBreach(i))throw i}),(0,T.K)(i=>{var o;return null===(o=this.alertContainer)||void 0===o||o.nativeElement.scrollIntoView(!1),this.hasLimitBreach(i)?this.handleLimitBreachError(i):this.handlePaymentError(i),ce.E})).subscribe(i=>{var o;(null===(o=this.transactionSigningHelper)||void 0===o?void 0:o.isTransactionSigningResponse(i))?this.handleTransactionSigning(i):this.handlePaymentSubmit(i)})}handleLimitBreachError(t){this.paymentStatus$.next("LIMIT_BREACH"),this.breachError=t.error||t,this.submitting$.next(!1)}handlePaymentSubmit(t){var _,i,o,l;const s=null==t?void 0:t.status,d=s===r.Kbb.REJECTED,p=(null==t?void 0:t.id)&&!d?"SUCCESS":s||"ERROR";if(this.paymentOrderId=null!==(_=null==t?void 0:t.id)&&void 0!==_?_:"",this.approvalPending=s===r.qbd.ENTERED||s===r.mNU.PENDING_APPROVAL,(null==t?void 0:t.id)&&!d){const c=(null===(i=this.widgetOptions)||void 0===i?void 0:i.paymentMode)===r.x66.EDIT_PAYMENT,{submitSuccess:u,submitSuccessPendingApproval:f,editSubmitSuccess:g}=this.widgetOptions.isDebitPayment?H.debitPayment:H.defaultPayment;this.reviewPaymentService.showNotification(!0,{header:c?g:this.approvalPending?f:u}),null===(l=null===(o=this.communicator)||void 0===o?void 0:o.afterSuccess)||void 0===l||l.call(o),this.header=this.createPaymentSetup.getHeader(r.WN5.SUBMITTED)}this.paymentResponse=t,this.paymentStatus$.next(p),this.submitting$.next(!1)}handleTransactionSigning(t){if(!this.transactionSigningHelper)return;const _=t["payment-order-id"];_&&this.transactionSigningHelper.getTransactionInfo({data:t,asyncPollingOptions:{pollInterval:this.widgetOptions.pollInterval,maxRetries:3,pollUntilFn:this.isPaymentConfirmed,complete$:this.gc$},fetchFn:this.getPaymentProgressStatus.bind(this),onSuccess:this.onTransactionSigningSuccess.bind(this,_),onRejected:this.onTransactionSigningReject.bind(this,_),onDeclined:this.onTransactionSigningDecline.bind(this),onError:this.onTransactionSigningError.bind(this)})}onTransactionSigningSuccess(t){this.reviewPaymentService.getPayment(t).pipe((0,D.R)(this.gc$)).subscribe(this.handlePaymentSubmit.bind(this))}onTransactionSigningReject(t,_){this.handleRejectedPayment(t)}onTransactionSigningDecline({status:t}){const _=this.widgetOptions.isDebitPayment?H.submitDebitFailure:H.submitPaymentFailure;this.paymentStatus$.next(t),this.submitting$.next(!1),this.reviewPaymentService.showNotification(!1,{header:_})}onTransactionSigningError({status:t}){const i="COED"===t?H.submitPaymentApprovalFailureCOED:{header:this.widgetOptions.isDebitPayment?H.submitDebitFailure:H.submitPaymentFailure};this.submitting$.next(!1),this.paymentStatus$.next("COED"===t?"COED":"ERROR"),this.reviewPaymentService.showNotification(!1,Object.assign({},i))}handleRejectedPayment(t){this.reviewPaymentService.getPayment(t).pipe((0,D.R)(this.gc$)).subscribe(_=>{"LTBR"===(null==_?void 0:_.reasonCode)?(this.paymentStatus$.next("LIMIT_BREACH"),this.breachError={message:"",breachReport:_.breachReports}):this.hasLimitBreach(_)?this.handleLimitBreachError(_):this.paymentStatus$.next("ERROR"),this.submitting$.next(!1)})}getPaymentProgressStatus(t){return this.reviewPaymentService.getPaymentProgressStatus((null==t?void 0:t["payment-order-id"])||"").pipe((0,b.U)(_=>((null==_?void 0:_.progressStatus)===Q.p4.ProgressStatusEnum.REJECTED&&"COED"===_.reasonCode&&(_=Object.assign(Object.assign({},_),{progressStatus:_.reasonCode})),null==_?void 0:_.progressStatus)))}isPaymentConfirmed(t){return!!t&&t!==r.mNU.CONFIRMATION_PENDING&&t!==r.mNU.SENDING}onHooksDone(t,_=!0){_?this.onSubmit(t):this.submitting$.next(!1)}hasLimitBreach(t){var _;return!!(null==t?void 0:t.breachReport)||!!(null===(_=null==t?void 0:t.error)||void 0===_?void 0:_.breachReport)||this.isLimitBreachedByCode(t,X)||this.isLimitBreachedByCode(t,h)}isLimitBreachedByCode(t,_){return Object.values(_).includes(t.reasonCode)}showBreachModal(){this.showBreachDetails=!0}getPaymentResponse(){return this.paymentResponse}hideBreachModal(){this.showBreachDetails=!1}isTemplateSaved(){return this.saveTemplate}buildPaymentTemplateForm(){return this.formBuilder.group({templateName:["",[v.kI.required,r.Fdm]]})}openTemplateModal(){this.paymentTemplateModalState.next(r.XK3.Preview)}closeTemplateModal(){this.paymentTemplateModalState.next(r.XK3.Hidden),this.paymentTemplateForm.reset()}submitPaymentTemplate(t=""){if(this.paymentOrderId){const i=t||this.paymentTemplateForm.controls.templateName.value,o={paymentOrderId:this.paymentOrderId,name:i};if(this.paymentTemplateForm.invalid)return;this.savingTemplate$.next(!0),this.reviewPaymentService.postPaymentTemplate(o).pipe((0,D.R)(this.gc$),(0,T.K)(()=>(this.reviewPaymentService.showNotification(!1,{header:Ie.templateSaveFailed}),this.savingTemplate$.next(!1),ce.E))).subscribe(()=>{var l,s;this.saveTemplate=!0,this.savingTemplate$.next(!1),this.reviewPaymentService.showNotification(!0,{header:Ie.templateSaveSuccess(i),headerContext:{name:i}}),this.paymentTemplateForm.reset(),this.paymentTemplateModalState.next(r.XK3.Hidden),null===(s=null===(l=this.communicator)||void 0===l?void 0:l.afterSuccess)||void 0===s||s.call(l)})}}submitPayment(t=!1){const _=this.createPaymentSetup.hooks&&this.createPaymentSetup.hooks[r.w_v.onSubmit];this.submitting$.next(!0),_?(0,r.cNf)(this.createPaymentSetup.hooks,r.w_v.onSubmit,this.onHooksDone.bind(this,t),this.paymentForm):this.onSubmit(t)}getForexDetails(t){return(0,r.viC)(t)}isApprovalEnabled(){return!!this.widgetOptions.enableApprovals&&this.canApprove}isPaymentTemplateEnabled(){return!!this.widgetOptions.enableSavePaymentAsTemplate&&this.enablePaymentTemplate}isNewPaymentEnabled(){return!1!==this.widgetOptions.enableNewPaymentButton}discardPayment(){var t,_;(null===(t=this.widgetOptions)||void 0===t?void 0:t.isModalView)?null===(_=this.communicator)||void 0===_||_.closeEvent():this.resetPayment()}resetPayment(){this.showConfirmation=!1,this.widgetOptions.paymentMode=r.x66.CREATE_PAYMENT,this.stateService.resetForm(),this.stateService.setPaymentState(r.KyD.INITIAL),this.navigationService.form()}toggleConfirmationDialog(){this.showConfirmation=!this.showConfirmation}showDiscardDialog(){return this.showConfirmation}isApprovalPending(){return this.approvalPending}isSubmitting$(){return this.submitting$}getPaymentStatusType(){var t;return(null===(t=this.widgetOptions)||void 0===t?void 0:t.paymentMode)===r.x66.EDIT_PAYMENT?_e.PENDING_EDITED:this.isApprovalPending()?_e.PENDING:_e.SUCCESS}getPaymentMessage(){return this.paymentMessage}getPurposeDescription(t){var _,i;const o=null===(_=this.paymentItem.inputFormFromSettings)||void 0===_?void 0:_.purposesOfPayment;return(null==o?void 0:o.length)?null===(i=o.find(l=>l.code===t))||void 0===i?void 0:i.description:""}doneEditing(){var t;null===(t=this.communicator)||void 0===t||t.closeEvent()}navigateToAfterSuccessPage(){var t;null===(t=this.communicator)||void 0===t||t.closeEvent()}isExportPDFBtnVisible(){var t,_,i;return void 0!==this.paymentResponse&&("permissibleActions"in this.paymentResponse?null!==(_=null===(t=this.paymentResponse.permissibleActions)||void 0===t?void 0:t.export)&&void 0!==_&&_:"exportAllowed"in this.paymentResponse&&null!==(i=this.paymentResponse.exportAllowed)&&void 0!==i&&i)}ngOnDestroy(){this.gc$.next(),this.gc$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.qu),e.Y36(r.b2t),e.Y36(Ne),e.Y36(me),e.Y36(Rt),e.Y36(ie),e.Y36(Ce,8),e.Y36(ue.YA,8),e.Y36(Ue,8),e.Y36(Ct),e.Y36(on.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["bb-review-payment"]],viewQuery:function(t,_){if(1&t&&e.Gf(lt,5),2&t){let i;e.iGM(i=e.CRH())&&(_.alertContainer=i.first)}},decls:12,vars:24,consts:function(){let a,t,_,i,o,l,s,d,p,c,u,f,g,A,y,F,k,w,Z,R,M,le,pe,re,I,xt,Kt,Lt,Ft,kt,wt,Zt,Jt,$t,Ht,Be,Gt,Me,Wt,Qt,Yt;return a="Payment data error:",t="Debit data error:",_="Payment data error:",i="Debit data error:",o=" Payment cannot be submitted because your limits have been breached ",l=" See details ",s=" Payment not submitted ",d=" The transaction signing request was cancelled ",p=" Payment not submitted ",c=" Payment is already edited by another user ",u=" Server error: Payment is rejected. ",f=" Server error: Unknown error occurred. ",g=" Intracompany payment ",A=" Urgent payment ",y="Collect from",F="From",k="Transfer to",w="To",Z="Mandate identifier",R="Payment reference",M="Description",le="Message to client",pe="Message to beneficiary",re="Message to beneficiary bank",I="Message to client bank",xt=" Edit ",Kt=" Discard ",Lt=" Submit ",Ft=" Submit ",kt=" Submit and Approve ",wt=" Done ",Zt=" Export PDF ",Jt="New Payment",$t="New debit request",Ht=" Save as a template ",Be="{VAR_SELECT, select, true {edited} other {entered}}",Be=e.Zx4(Be,{VAR_SELECT:"\ufffd0\ufffd"}),Gt=" Discard " + Be + " data? ",Me="{VAR_SELECT, select, true {Edited} other {Entered}}",Me=e.Zx4(Me,{VAR_SELECT:"\ufffd0\ufffd"}),Wt=" Are you sure you want to exit and discard all changes? " + Me + " data will be lost. ",Qt=" Discard ",Yt=" Not now ",[[1,"position-relative"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["adaptedReviewTmpl",""],["defaultTmpl",""],[3,"paymentTemplateForm","isSavingTemplate","modalState","closeModal","openModal","submitForm"],[3,"payment","paymentConfig","status","methods","breachError","executionInBankTimezoneMessage"],["bbReviewPaymentAdditonalDetailsDirective","",3,"componentType","context",4,"ngIf"],["bbReviewPaymentAdditonalDetailsDirective","",3,"componentType","context"],[1,"bb-fieldset","bb-fieldset__no-outline"],["data-role","page-title","headingClasses","bb-block bb-block--lg","headingType","h2",3,"heading",4,"ngIf"],["alertContainer",""],["data-role","test",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["class","position-absolute w-100 h-100 top-0 fixed-top bg-white",3,"opacity",4,"ngIf"],["closureSwitch",""],["newPayment",""],["newPaymentButton",""],["saveTemplateButton",""],[3,"isOpen","cancel","confirm"],["bbCustomModalHeader",""],["bbCustomModalBody",""],["modalFooterRef",""],["bbCustomModalFooter",""],[3,"paymentDetails","error","isOpen","close"],["data-role","page-title","headingClasses","bb-block bb-block--lg","headingType","h2",3,"heading"],["data-role","test"],["data-role","review-payment__duplicate-payment-warning",3,"paymentId","paymentConfig","isDebitPayment",4,"ngIf"],["data-role","review-payment__duplicate-payment-warning",3,"paymentId","paymentConfig","isDebitPayment"],["class","bb-block bb-block--md",4,"ngIf"],["class","bb-block bb-block--md bb-inline-stack bb-text-support",4,"ngIf"],[1,"bb-payment-account-details-card__container","d-none","d-md-flex"],[1,"bb-text-bold","w-md-50"],[4,"ngTemplateOutlet"],[1,"mr-3"],[1,"bb-payment-account-details-card__container","bb-block","bb-block--md","break-word",3,"ngClass"],[1,"w-md-50"],[1,"bb-text-bold","d-md-none"],["data-role","debitor-details-card",3,"balance","currency","name","accountNumber"],[1,"justify-content-center","align-items-center","d-md-flex","d-none"],["name","arrow-forward",1,"bb-account-transfer-icon"],[1,"d-md-none"],[3,"name","country","bankBranchCode","IBAN","accountNumber","schemeName"],["dynamicLabelInitiator",""],["dynamicLabelCounterparty",""],[3,"config","amount","transactionCurrency","originatorCurrency","transferFee","chargeBearer","exchangeRate"],[3,"details","config","isDebitPayment"],[3,"paymentConfig","data"],[1,"bb-block","bb-block--md"],[3,"status","isDebitPayment",4,"ngIf"],[3,"status","isDebitPayment"],["noSpecificError",""],["errorMessages",""],[4,"ngFor","ngForOf"],["title","","modifier","error",3,"close"],["data-role","failure-message",1,"bb-text-bold","bb-text-default","d-inline-flex"],a,t,["title","","modifier","error"],[1,"bb-text-bold","bb-text-default"],_,i,["title","","modifier","error",3,"ngSwitch","close"],["class","bb-stack bb-text-default",4,"ngSwitchCase"],["data-role","failure-message",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"bb-stack","bb-text-default"],["data-role","failure-message",1,"bb-stack__item","bb-text-bold"],o,["bbButton","","color","unstyled","buttonSize","sm","data-role","failure-see-details",1,"bb-stack__item","bb-stack__item--push-right","alert-link",3,"click"],l,["data-role","failure-message"],["data-role","payment-error-alert-title",1,"bb-text-bold","bb-text-default"],s,["data-role","payment-error-alert-description",1,"bb-text-default"],d,p,c,u,f,[1,"bb-block","bb-block--md","bb-inline-stack","bb-text-support"],["class","bb-inline-stack bb-inline-stack__item",4,"ngIf"],[1,"bb-inline-stack","bb-inline-stack__item"],["name","domain"],[1,"bb-inline-stack__item"],[1,"bb-inline-stack__item","bb-text-bold","bb-inline-stack__item--spacing-sm"],g,["name","priority-high"],["data-role","payment-is-urgent",1,"bb-inline-stack__item","bb-text-bold"],A,["name","counterparty","defaultLabel",y,"data-role","initiator-label",3,"config"],["name","initiator","defaultLabel",F,"data-role","initiator-label",3,"config"],["data-role","payee-label","name","initiator","defaultLabel",k,3,"config"],["data-role","payee-label","name","counterparty","defaultLabel",w,3,"config"],["data-role","purpose-of-payment",3,"paymentConfig","purposeOfPayment","avialablePurposesOfPayment",4,"ngIf"],["data-role","mandate-identifier-label",1,"bb-text-bold"],["name","mandateIdentifier","parentName","counterparty","defaultLabel",Z,3,"config"],["data-role","mandate-identifier",1,"break-word"],["data-role","payment-reference-label",1,"bb-text-bold"],["name","paymentReference","parentName","remittanceInfo","defaultLabel",R,3,"config"],["data-role","payment-reference",1,"break-word"],["data-role","payment-description-label",1,"bb-text-bold"],["name","description","parentName","remittanceInfo","defaultLabel",M,3,"config"],["data-role","payment-description",1,"break-word"],[1,"bb-text-bold"],["name","remittanceInformation","defaultLabel",le,3,"config",4,"ngIf","ngIfElse"],["remittanceInformationLableForNonDebit",""],["data-role","description",1,"break-word"],["name","remittanceInformation","defaultLabel",le,3,"config"],["name","remittanceInformation","defaultLabel",pe,3,"config"],["data-role","purpose-of-payment",3,"paymentConfig","purposeOfPayment","avialablePurposesOfPayment"],["name","messageToBank","defaultLabel",re,3,"config",4,"ngIf"],["name","messageToBank","defaultLabel",I,3,"config",4,"ngIf"],["data-role","message-to-bank",1,"break-word"],["name","messageToBank","defaultLabel",re,3,"config"],["name","messageToBank","defaultLabel",I,3,"config"],[1,"bb-text-support"],[1,"bb-button-bar"],["bbButton","","class","bb-button-bar__button","data-role","submit-button",3,"disabled","click",4,"ngIf"],["class","btn-group bb-button-bar__button","data-role","button-group",4,"ngIf"],["bbButton","","color","secondary","data-role","edit-button",1,"bb-button-bar__button",3,"disabled","click"],xt,["bbButton","","color","link","data-role","cancel-button",1,"bb-button-bar__button","bb-button-bar__button--across",3,"disabled","click"],Kt,["bbButton","","data-role","submit-button",1,"bb-button-bar__button",3,"disabled","click"],Lt,["data-role","button-group",1,"btn-group","bb-button-bar__button"],["color","primary","data-role","submit-button",1,"bb-button-bar__button",3,"isLoading","click"],Ft,["btnColor","primary","icon","caret-down","data-role","dropdown-menu","position","top-right",1,"btn-group"],["bbDropdownMenuItem",""],["role","menuitem","type","button","data-role","bus-submit-and-approve-button",1,"dropdown-item",3,"disabled","bbKeyboardClick"],kt,[1,"position-absolute","w-100","h-100","top-0","fixed-top","bg-white"],["loaderSize","lg",1,"absolute-center"],["bbButton","","class","bb-button-bar__button","data-role","done-payment-edit-button",3,"click",4,"ngIf"],["bbButton","","color","secondary","class","bb-button-bar__button","data-role","export-payment-button",3,"bbExportPdf",4,"ngIf"],["bbButton","","data-role","done-payment-edit-button",1,"bb-button-bar__button",3,"click"],wt,["bbButton","","color","secondary","data-role","export-payment-button",1,"bb-button-bar__button",3,"bbExportPdf"],["name","file-download",1,"mr-2"],Zt,[1,"bb-button-bar__button","bb-button-bar__button--across"],[1,"bb-button-bar","bb-button-bar--reverse"],["bbButton","","class","bb-button-bar__button","data-role","new-payment-button",3,"color","disabled","click",4,"ngIf"],["bbButton","","data-role","new-payment-button",1,"bb-button-bar__button",3,"color","disabled","click"],Jt,$t,["bbButton","","class","bb-button-bar__button","data-role","save-as-template-button",3,"color","disabled","click",4,"ngIf"],["bbButton","","data-role","save-as-template-button",1,"bb-button-bar__button",3,"color","disabled","click"],Ht,["data-role","modal-header"],[1,"modal-title"],Gt,Wt,["bbButton","","color","danger","data-role","discard-action-btn",1,"bb-button-bar__button",3,"click"],Qt,["bbButton","","color","link","data-role","cancel-action-btn",1,"bb-button-bar__button",3,"click"],Yt]},template:function(t,_){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Ki,1,0,"ng-container",1),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async"),e.ALo(5,"async"),e.qZA(),e.YNc(6,Fi,2,7,"ng-template",null,2,e.W1O),e.YNc(8,sl,26,12,"ng-template",null,3,e.W1O),e.TgZ(10,"bb-save-as-template-form-modal",4),e.NdJ("closeModal",function(){return _.closeTemplateModal()})("openModal",function(){return _.openTemplateModal()})("submitForm",function(){return _.submitPaymentTemplate()}),e.ALo(11,"async"),e.qZA()),2&t){const i=e.MAs(7),o=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",_.reviewTemplate||(_.widgetOptions.reviewScreenType===_.reviewScreens.ADAPTED?i:o))("ngTemplateOutletContext",e.qlk(15,cl,_.paymentItem,e.lcZ(2,5,_.paymentStatus$),e.lcZ(3,7,_.submitting$),_.methods,e.lcZ(4,9,_.selectedPaymentConfig$),_.breachError,_.additionsDetails,e.lcZ(5,11,_.additionalDetailsContext$))),e.xp6(9),e.Q6J("paymentTemplateForm",_.paymentTemplateForm)("isSavingTemplate",e.lcZ(11,13,_.savingTemplate$))("modalState",_.paymentTemplateModalState)}},directives:function(){return[Tt,K.G,zn,Pl,W.w,P.o,ze,Xe,N,Ye,Ol,tt,_t,ne.K,z.N9,q.Q,C.zS,C.Rb,C.KF,C.YI,Tl,vt,E.tP,E.O5,Ut,E.sg,E.RF,E.n9,j.Hq,E.ED,E.mk,z.i4,V.w,r.lFr,C.cA,C.Qd,C.yk]},pipes:function(){return[E.Ov]},encapsulation:2}),n})(),Ut=(()=>{class n extends an{}return n.\u0275fac=function(){let a;return function(_){return(a||(a=e.n5z(n)))(_||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","bbReviewPaymentAdditonalDetailsDirective",""]],features:[e.qOj]}),n})();const vl=[C.zk,P.Q,j.hJ,L.i7];let hl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez,...vl]]}),n})(),Ul=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez,te,r.ILA]]}),n})(),Nl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez,P.Q]]}),n})();const xl=[te,ae.yI.forChild()],Kl=[ne.C,W.n,P.Q,K.O,de.PQ,j.hJ,L.i7,q.p,V.O,C.zk,r.ILA,z.CK],Fl=[Nl,je,et,at,qe,Ul,hl,r.hYi,nt,te,(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[ae.Iq],imports:[[E.ez,v.UX,...xl,...Kl],ne.C,W.n,P.Q,K.O,de.PQ,j.hJ,L.i7,q.p,V.O,C.zk,r.ILA,z.CK]}),n})()],kl=[e_],wl=[C.zk,z.CK,V.O,de.PQ,W.n,K.O,ot.J,ne.C,he.w,ve.j,q.p,L.i7,r.ILA,P.Q,j.hJ];let Zl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[Rt,Te],imports:[[E.ez,v.UX,...Fl,...wl,...kl],C.zk,z.CK,V.O,de.PQ,W.n,K.O,ot.J,ne.C,he.w,ve.j,q.p,L.i7,r.ILA,P.Q,j.hJ]}),n})();const Jl=[K.O];let $l=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez,x.Ot,...Jl]]}),n})();const Nt={path:"",component:Cl,children:[{path:"",redirectTo:ee.FORM,pathMatch:"full"},{path:ee.FORM,component:Dl},{path:ee.REVIEW,component:ht}]};let Hl=(()=>{class n{static forRoot(t={}){var _,i;return{ngModule:n,providers:[(0,se.co)([null!==(_=t.route)&&void 0!==_?_:Nt]),{provide:Ct,useValue:null!==(i=t.extensionSlots)&&void 0!==i?i:{}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[me,Re,Ee,El,Q.k4,Ze.IK,Y._l,Y.I6,Y.LY,ge.Eq,$e.Px,Je.Ud,we.Kl],imports:[[E.ez,se.Bz,Zl,$l,x.Ot]]}),n})()}}]);